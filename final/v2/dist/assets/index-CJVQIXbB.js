var xm=Object.defineProperty;var wm=(Ve,We,ue)=>We in Ve?xm(Ve,We,{enumerable:!0,configurable:!0,writable:!0,value:ue}):Ve[We]=ue;var Ht=(Ve,We,ue)=>wm(Ve,typeof We!="symbol"?We+"":We,ue);(function(){const We=document.createElement("link").relList;if(We&&We.supports&&We.supports("modulepreload"))return;for(const H of document.querySelectorAll('link[rel="modulepreload"]'))t(H);new MutationObserver(H=>{for(const A of H)if(A.type==="childList")for(const m of A.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&t(m)}).observe(document,{childList:!0,subtree:!0});function ue(H){const A={};return H.integrity&&(A.integrity=H.integrity),H.referrerPolicy&&(A.referrerPolicy=H.referrerPolicy),H.crossOrigin==="use-credentials"?A.credentials="include":H.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function t(H){if(H.ep)return;H.ep=!0;const A=ue(H);fetch(H.href,A)}})();var Vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function du(Ve){return Ve&&Ve.__esModule&&Object.prototype.hasOwnProperty.call(Ve,"default")?Ve.default:Ve}function ii(Ve){throw new Error('Could not dynamically require "'+Ve+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ca={exports:{}};/*! p5.js v1.11.11 October 20, 2025 */var nu;function jm(){return nu||(nu=1,(function(Ve,We){(function(ue){Ve.exports=ue()})(function(){var ue;return(function t(H,A,m){function g(b,y){if(!A[b]){if(!H[b]){var r=typeof ii=="function"&&ii;if(!y&&r)return r(b,!0);if(c)return c(b,!0);throw(y=new Error("Cannot find module '"+b+"'")).code="MODULE_NOT_FOUND",y}r=A[b]={exports:{}},H[b][0].call(r.exports,function(o){return g(H[b][1][o]||o)},r,r.exports,t,H,A,m)}return A[b].exports}for(var c=typeof ii=="function"&&ii,d=0;d<m.length;d++)g(m[d]);return g})({1:[function(t,H,A){A.byteLength=function(l){var l=r(l),i=l[0],l=l[1];return 3*(i+l)/4-l},A.toByteArray=function(o){var i,l,s=r(o),u=s[0],s=s[1],n=new c((function(_,T){return 3*(_+T)/4-T})(u,s)),p=0,h=0<s?u-4:u;for(l=0;l<h;l+=4)i=g[o.charCodeAt(l)]<<18|g[o.charCodeAt(l+1)]<<12|g[o.charCodeAt(l+2)]<<6|g[o.charCodeAt(l+3)],n[p++]=i>>16&255,n[p++]=i>>8&255,n[p++]=255&i;return s===2&&(i=g[o.charCodeAt(l)]<<2|g[o.charCodeAt(l+1)]>>4,n[p++]=255&i),s===1&&(i=g[o.charCodeAt(l)]<<10|g[o.charCodeAt(l+1)]<<4|g[o.charCodeAt(l+2)]>>2,n[p++]=i>>8&255,n[p++]=255&i),n},A.fromByteArray=function(o){for(var i,l=o.length,u=l%3,s=[],n=0,p=l-u;n<p;n+=16383)s.push((function(h,_,T){for(var j,S=[],C=_;C<T;C+=3)j=(h[C]<<16&16711680)+(h[C+1]<<8&65280)+(255&h[C+2]),S.push((function(L){return m[L>>18&63]+m[L>>12&63]+m[L>>6&63]+m[63&L]})(j));return S.join("")})(o,n,p<n+16383?p:n+16383));return u==1?(i=o[l-1],s.push(m[i>>2]+m[i<<4&63]+"==")):u==2&&(i=(o[l-2]<<8)+o[l-1],s.push(m[i>>10]+m[i>>4&63]+m[i<<2&63]+"=")),s.join("")};for(var m=[],g=[],c=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,y=d.length;b<y;++b)m[b]=d[b],g[d.charCodeAt(b)]=b;function r(o){var i=o.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");return o=o.indexOf("="),i=(o=o===-1?i:o)===i?0:4-o%4,[o,i]}g[45]=62,g[95]=63},{}],2:[function(t,H,A){},{}],3:[function(t,H,A){},{}],4:[function(t,H,A){(function(r){var g=t("base64-js"),c=t("ieee754"),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,b=(A.Buffer=r,A.SlowBuffer=function(w){return+w!=w&&(w=0),r.alloc(+w)},A.INSPECT_MAX_BYTES=50,2147483647);function y(w){if(b<w)throw new RangeError('The value "'+w+'" is invalid for option "size"');return w=new Uint8Array(w),Object.setPrototypeOf(w,r.prototype),w}function r(w,R,N){if(typeof w!="number")return o(w,R,N);if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(w)}function o(w,R,N){if(typeof w=="string"){var q=w,J=R;if(r.isEncoding(J=typeof J=="string"&&J!==""?J:"utf8"))return re=0|n(q,J),ce=y(re),ce=(q=ce.write(q,J))!==re?ce.slice(0,q):ce;throw new TypeError("Unknown encoding: "+J)}if(ArrayBuffer.isView(w))return u(w);if(w!=null){if(Z(w,ArrayBuffer)||w&&Z(w.buffer,ArrayBuffer)){var re=w,q=R,ce=N;if(q<0||re.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<q+(ce||0))throw new RangeError('"length" is outside of buffer bounds');return re=q===void 0&&ce===void 0?new Uint8Array(re):ce===void 0?new Uint8Array(re,q):new Uint8Array(re,q,ce),Object.setPrototypeOf(re,r.prototype),re}if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(J=w.valueOf&&w.valueOf(),J!=null&&J!==w)return r.from(J,R,N);var ge=(function(se){{var pe,ye;if(r.isBuffer(se))return pe=0|s(se.length),(ye=y(pe)).length!==0&&se.copy(ye,0,0,pe),ye}if(se.length!==void 0)return typeof se.length!="number"||Q(se.length)?y(0):u(se);if(se.type==="Buffer"&&Array.isArray(se.data))return u(se.data)})(w);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return r.from(w[Symbol.toPrimitive]("string"),R,N)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}function i(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function l(w){return i(w),y(w<0?0:0|s(w))}function u(w){for(var R=w.length<0?0:0|s(w.length),N=y(R),q=0;q<R;q+=1)N[q]=255&w[q];return N}function s(w){if(b<=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|w}function n(w,R){if(r.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||Z(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);var N=w.length,q=2<arguments.length&&arguments[2]===!0;if(!q&&N===0)return 0;for(var J=!1;;)switch(R){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return X(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*N;case"hex":return N>>>1;case"base64":return W(w).length;default:if(J)return q?-1:X(w).length;R=(""+R).toLowerCase(),J=!0}}function p(w,R,N){var q,J=!1;if((R=R===void 0||R<0?0:R)>this.length||(N=N===void 0||N>this.length?this.length:N)<=0||(N>>>=0)<=(R>>>=0))return"";for(w=w||"utf8";;)switch(w){case"hex":var re=this,xe=R,ce=N,ye=re.length;(!ce||ce<0||ye<ce)&&(ce=ye);for(var ge="",se=xe=!xe||xe<0?0:xe;se<ce;++se)ge+=le[re[se]];return ge;case"utf8":case"utf-8":return C(this,R,N);case"ascii":var pe=this,ye=R,te=N,me="";te=Math.min(pe.length,te);for(var we=ye;we<te;++we)me+=String.fromCharCode(127&pe[we]);return me;case"latin1":case"binary":var Ee=this,xe=R,Te=N,Pe="";Te=Math.min(Ee.length,Te);for(var qe=xe;qe<Te;++qe)Pe+=String.fromCharCode(Ee[qe]);return Pe;case"base64":return Re=this,q=N,(ft=R)===0&&q===Re.length?g.fromByteArray(Re):g.fromByteArray(Re.slice(ft,q));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Re=R,ft=N,st=this.slice(Re,ft),nt="",ut=0;ut<st.length;ut+=2)nt+=String.fromCharCode(st[ut]+256*st[ut+1]);return nt;default:if(J)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),J=!0}}function h(w,R,N){var q=w[R];w[R]=w[N],w[N]=q}function _(w,R,N,q,J){if(w.length===0)return-1;if(typeof N=="string"?(q=N,N=0):2147483647<N?N=2147483647:N<-2147483648&&(N=-2147483648),(N=(N=Q(N=+N)?J?0:w.length-1:N)<0?w.length+N:N)>=w.length){if(J)return-1;N=w.length-1}else if(N<0){if(!J)return-1;N=0}if(typeof R=="string"&&(R=r.from(R,q)),r.isBuffer(R))return R.length===0?-1:T(w,R,N,q,J);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?(J?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(w,R,N):T(w,[R],N,q,J);throw new TypeError("val must be string, number or Buffer")}function T(w,R,N,q,J){var re=1,ce=w.length,ge=R.length;if(q!==void 0&&((q=String(q).toLowerCase())==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(w.length<2||R.length<2)return-1;ce/=re=2,ge/=2,N/=2}function se(we,Ee){return re===1?we[Ee]:we.readUInt16BE(Ee*re)}if(J)for(var pe=-1,ye=N;ye<ce;ye++)if(se(w,ye)===se(R,pe===-1?0:ye-pe)){if(ye-(pe=pe===-1?ye:pe)+1===ge)return pe*re}else pe!==-1&&(ye-=ye-pe),pe=-1;else for(ye=N=ce<N+ge?ce-ge:N;0<=ye;ye--){for(var te=!0,me=0;me<ge;me++)if(se(w,ye+me)!==se(R,me)){te=!1;break}if(te)return ye}return-1}function j(w,R,N,q){return G((function(J){for(var re=[],ce=0;ce<J.length;++ce)re.push(255&J.charCodeAt(ce));return re})(R),w,N,q)}function S(w,R,N,q){return G((function(J,re){for(var ce,ge,se=[],pe=0;pe<J.length&&!((re-=2)<0);++pe)ge=J.charCodeAt(pe),ce=ge>>8,ge=ge%256,se.push(ge),se.push(ce);return se})(R,w.length-N),w,N,q)}function C(w,R,N){N=Math.min(w.length,N);for(var q=[],J=R;J<N;){var re,ce,ge,se,pe=w[J],ye=null,te=239<pe?4:223<pe?3:191<pe?2:1;if(J+te<=N)switch(te){case 1:pe<128&&(ye=pe);break;case 2:(192&(re=w[J+1]))==128&&127<(se=(31&pe)<<6|63&re)&&(ye=se);break;case 3:re=w[J+1],ce=w[J+2],(192&re)==128&&(192&ce)==128&&2047<(se=(15&pe)<<12|(63&re)<<6|63&ce)&&(se<55296||57343<se)&&(ye=se);break;case 4:re=w[J+1],ce=w[J+2],ge=w[J+3],(192&re)==128&&(192&ce)==128&&(192&ge)==128&&65535<(se=(15&pe)<<18|(63&re)<<12|(63&ce)<<6|63&ge)&&se<1114112&&(ye=se)}ye===null?(ye=65533,te=1):65535<ye&&(ye-=65536,q.push(ye>>>10&1023|55296),ye=56320|1023&ye),q.push(ye),J+=te}var me=q,we=me.length;if(we<=L)return String.fromCharCode.apply(String,me);for(var Ee="",xe=0;xe<we;)Ee+=String.fromCharCode.apply(String,me.slice(xe,xe+=L));return Ee}A.kMaxLength=b,(r.TYPED_ARRAY_SUPPORT=(function(){try{var w=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(w,R),w.foo()===42}catch{return!1}})())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=o,Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(w,R,N){return R=R,N=N,i(w=w),!(w<=0)&&R!==void 0?typeof N=="string"?y(w).fill(R,N):y(w).fill(R):y(w)},r.allocUnsafe=l,r.allocUnsafeSlow=l,r.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==r.prototype},r.compare=function(w,R){if(Z(w,Uint8Array)&&(w=r.from(w,w.offset,w.byteLength)),Z(R,Uint8Array)&&(R=r.from(R,R.offset,R.byteLength)),!r.isBuffer(w)||!r.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===R)return 0;for(var N=w.length,q=R.length,J=0,re=Math.min(N,q);J<re;++J)if(w[J]!==R[J]){N=w[J],q=R[J];break}return N<q?-1:q<N?1:0},r.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(w,R){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return r.alloc(0);if(R===void 0)for(J=R=0;J<w.length;++J)R+=w[J].length;for(var N=r.allocUnsafe(R),q=0,J=0;J<w.length;++J){var re=w[J];if(Z(re,Uint8Array)&&(re=r.from(re)),!r.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(N,q),q+=re.length}return N},r.byteLength=n,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<w;R+=2)h(this,R,R+1);return this},r.prototype.swap32=function(){var w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<w;R+=4)h(this,R,R+3),h(this,R+1,R+2);return this},r.prototype.swap64=function(){var w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<w;R+=8)h(this,R,R+7),h(this,R+1,R+6),h(this,R+2,R+5),h(this,R+3,R+4);return this},r.prototype.toLocaleString=r.prototype.toString=function(){var w=this.length;return w===0?"":arguments.length===0?C(this,0,w):p.apply(this,arguments)},r.prototype.equals=function(w){if(r.isBuffer(w))return this===w||r.compare(this,w)===0;throw new TypeError("Argument must be a Buffer")},r.prototype.inspect=function(){var R="",w=A.INSPECT_MAX_BYTES,R=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim();return this.length>w&&(R+=" ... "),"<Buffer "+R+">"},d&&(r.prototype[d]=r.prototype.inspect),r.prototype.compare=function(w,R,N,q,J){if(Z(w,Uint8Array)&&(w=r.from(w,w.offset,w.byteLength)),!r.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(N===void 0&&(N=w?w.length:0),q===void 0&&(q=0),J===void 0&&(J=this.length),(R=R===void 0?0:R)<0||N>w.length||q<0||J>this.length)throw new RangeError("out of range index");if(J<=q&&N<=R)return 0;if(J<=q)return-1;if(N<=R)return 1;if(this===w)return 0;for(var re=(J>>>=0)-(q>>>=0),ce=(N>>>=0)-(R>>>=0),ge=Math.min(re,ce),se=this.slice(q,J),pe=w.slice(R,N),ye=0;ye<ge;++ye)if(se[ye]!==pe[ye]){re=se[ye],ce=pe[ye];break}return re<ce?-1:ce<re?1:0},r.prototype.includes=function(w,R,N){return this.indexOf(w,R,N)!==-1},r.prototype.indexOf=function(w,R,N){return _(this,w,R,N,!0)},r.prototype.lastIndexOf=function(w,R,N){return _(this,w,R,N,!1)},r.prototype.write=function(w,R,N,q){if(R===void 0)q="utf8",N=this.length,R=0;else if(N===void 0&&typeof R=="string")q=R,N=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(N)?(N>>>=0,q===void 0&&(q="utf8")):(q=N,N=void 0)}var J=this.length-R;if((N===void 0||J<N)&&(N=J),0<w.length&&(N<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");q=q||"utf8";for(var re,ce,ge,se=!1;;)switch(q){case"hex":var pe=this,ye=w,te=R,me=N,we=(te=Number(te)||0,pe.length-te);(!me||we<(me=Number(me)))&&(me=we),(we=ye.length)/2<me&&(me=we/2);for(var Ee=0;Ee<me;++Ee){var xe=parseInt(ye.substr(2*Ee,2),16);if(Q(xe))return Ee;pe[te+Ee]=xe}return Ee;case"utf8":case"utf-8":return we=R,ge=N,G(X(w,(ce=this).length-we),ce,we,ge);case"ascii":return j(this,w,R,N);case"latin1":case"binary":return j(this,w,R,N);case"base64":return ce=this,ge=R,re=N,G(W(w),ce,ge,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,w,R,N);default:if(se)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),se=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function E(w,R,N){if(w%1!=0||w<0)throw new RangeError("offset is not uint");if(N<w+R)throw new RangeError("Trying to access beyond buffer length")}function I(w,R,N,q,J,re){if(!r.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(J<R||R<re)throw new RangeError('"value" argument is out of bounds');if(N+q>w.length)throw new RangeError("Index out of range")}function O(w,R,N,q){if(N+q>w.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function U(w,R,N,q,J){return R=+R,N>>>=0,J||O(w,0,N,4),c.write(w,R,N,q,23,4),N+4}function D(w,R,N,q,J){return R=+R,N>>>=0,J||O(w,0,N,8),c.write(w,R,N,q,52,8),N+8}r.prototype.slice=function(w,R){var N=this.length,N=((w=~~w)<0?(w+=N)<0&&(w=0):N<w&&(w=N),(R=R===void 0?N:~~R)<0?(R+=N)<0&&(R=0):N<R&&(R=N),R<w&&(R=w),this.subarray(w,R));return Object.setPrototypeOf(N,r.prototype),N},r.prototype.readUIntLE=function(w,R,N){w>>>=0,R>>>=0,N||E(w,R,this.length);for(var q=this[w],J=1,re=0;++re<R&&(J*=256);)q+=this[w+re]*J;return q},r.prototype.readUIntBE=function(w,R,N){w>>>=0,R>>>=0,N||E(w,R,this.length);for(var q=this[w+--R],J=1;0<R&&(J*=256);)q+=this[w+--R]*J;return q},r.prototype.readUInt8=function(w,R){return w>>>=0,R||E(w,1,this.length),this[w]},r.prototype.readUInt16LE=function(w,R){return w>>>=0,R||E(w,2,this.length),this[w]|this[w+1]<<8},r.prototype.readUInt16BE=function(w,R){return w>>>=0,R||E(w,2,this.length),this[w]<<8|this[w+1]},r.prototype.readUInt32LE=function(w,R){return w>>>=0,R||E(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},r.prototype.readUInt32BE=function(w,R){return w>>>=0,R||E(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},r.prototype.readIntLE=function(w,R,N){w>>>=0,R>>>=0,N||E(w,R,this.length);for(var q=this[w],J=1,re=0;++re<R&&(J*=256);)q+=this[w+re]*J;return(J*=128)<=q&&(q-=Math.pow(2,8*R)),q},r.prototype.readIntBE=function(w,R,N){w>>>=0,R>>>=0,N||E(w,R,this.length);for(var q=R,J=1,re=this[w+--q];0<q&&(J*=256);)re+=this[w+--q]*J;return(J*=128)<=re&&(re-=Math.pow(2,8*R)),re},r.prototype.readInt8=function(w,R){return w>>>=0,R||E(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},r.prototype.readInt16LE=function(w,R){return w>>>=0,R||E(w,2,this.length),R=this[w]|this[w+1]<<8,32768&R?4294901760|R:R},r.prototype.readInt16BE=function(w,R){return w>>>=0,R||E(w,2,this.length),R=this[w+1]|this[w]<<8,32768&R?4294901760|R:R},r.prototype.readInt32LE=function(w,R){return w>>>=0,R||E(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},r.prototype.readInt32BE=function(w,R){return w>>>=0,R||E(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},r.prototype.readFloatLE=function(w,R){return w>>>=0,R||E(w,4,this.length),c.read(this,w,!0,23,4)},r.prototype.readFloatBE=function(w,R){return w>>>=0,R||E(w,4,this.length),c.read(this,w,!1,23,4)},r.prototype.readDoubleLE=function(w,R){return w>>>=0,R||E(w,8,this.length),c.read(this,w,!0,52,8)},r.prototype.readDoubleBE=function(w,R){return w>>>=0,R||E(w,8,this.length),c.read(this,w,!1,52,8)},r.prototype.writeUIntLE=function(w,R,N,q){w=+w,R>>>=0,N>>>=0,q||I(this,w,R,N,Math.pow(2,8*N)-1,0);var J=1,re=0;for(this[R]=255&w;++re<N&&(J*=256);)this[R+re]=w/J&255;return R+N},r.prototype.writeUIntBE=function(w,R,N,q){w=+w,R>>>=0,N>>>=0,q||I(this,w,R,N,Math.pow(2,8*N)-1,0);var J=N-1,re=1;for(this[R+J]=255&w;0<=--J&&(re*=256);)this[R+J]=w/re&255;return R+N},r.prototype.writeUInt8=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,1,255,0),this[R]=255&w,R+1},r.prototype.writeUInt16LE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,2,65535,0),this[R]=255&w,this[R+1]=w>>>8,R+2},r.prototype.writeUInt16BE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,2,65535,0),this[R]=w>>>8,this[R+1]=255&w,R+2},r.prototype.writeUInt32LE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,4,4294967295,0),this[R+3]=w>>>24,this[R+2]=w>>>16,this[R+1]=w>>>8,this[R]=255&w,R+4},r.prototype.writeUInt32BE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,4,4294967295,0),this[R]=w>>>24,this[R+1]=w>>>16,this[R+2]=w>>>8,this[R+3]=255&w,R+4},r.prototype.writeIntLE=function(w,R,N,q){w=+w,R>>>=0,q||I(this,w,R,N,(q=Math.pow(2,8*N-1))-1,-q);var J=0,re=1,ce=0;for(this[R]=255&w;++J<N&&(re*=256);)w<0&&ce===0&&this[R+J-1]!==0&&(ce=1),this[R+J]=(w/re>>0)-ce&255;return R+N},r.prototype.writeIntBE=function(w,R,N,q){w=+w,R>>>=0,q||I(this,w,R,N,(q=Math.pow(2,8*N-1))-1,-q);var J=N-1,re=1,ce=0;for(this[R+J]=255&w;0<=--J&&(re*=256);)w<0&&ce===0&&this[R+J+1]!==0&&(ce=1),this[R+J]=(w/re>>0)-ce&255;return R+N},r.prototype.writeInt8=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,1,127,-128),this[R]=255&(w=w<0?255+w+1:w),R+1},r.prototype.writeInt16LE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,2,32767,-32768),this[R]=255&w,this[R+1]=w>>>8,R+2},r.prototype.writeInt16BE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,2,32767,-32768),this[R]=w>>>8,this[R+1]=255&w,R+2},r.prototype.writeInt32LE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,4,2147483647,-2147483648),this[R]=255&w,this[R+1]=w>>>8,this[R+2]=w>>>16,this[R+3]=w>>>24,R+4},r.prototype.writeInt32BE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,4,2147483647,-2147483648),this[R]=(w=w<0?4294967295+w+1:w)>>>24,this[R+1]=w>>>16,this[R+2]=w>>>8,this[R+3]=255&w,R+4},r.prototype.writeFloatLE=function(w,R,N){return U(this,w,R,!0,N)},r.prototype.writeFloatBE=function(w,R,N){return U(this,w,R,!1,N)},r.prototype.writeDoubleLE=function(w,R,N){return D(this,w,R,!0,N)},r.prototype.writeDoubleBE=function(w,R,N){return D(this,w,R,!1,N)},r.prototype.copy=function(w,R,N,q){if(!r.isBuffer(w))throw new TypeError("argument should be a Buffer");if(N=N||0,q||q===0||(q=this.length),R>=w.length&&(R=w.length),(q=0<q&&q<N?N:q)===N||w.length===0||this.length===0)return 0;if((R=R||0)<0)throw new RangeError("targetStart out of bounds");if(N<0||N>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length);var J=(q=w.length-R<q-N?w.length-R+N:q)-N;if(this===w&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(R,N,q);else if(this===w&&N<R&&R<q)for(var re=J-1;0<=re;--re)w[re+R]=this[re+N];else Uint8Array.prototype.set.call(w,this.subarray(N,q),R);return J},r.prototype.fill=function(w,R,N,q){if(typeof w=="string"){if(typeof R=="string"?(q=R,R=0,N=this.length):typeof N=="string"&&(q=N,N=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!r.isEncoding(q))throw new TypeError("Unknown encoding: "+q);var J;w.length===1&&(J=w.charCodeAt(0),(q==="utf8"&&J<128||q==="latin1")&&(w=J))}else typeof w=="number"?w&=255:typeof w=="boolean"&&(w=Number(w));if(R<0||this.length<R||this.length<N)throw new RangeError("Out of range index");var re;if(!(N<=R))if(R>>>=0,N=N===void 0?this.length:N>>>0,typeof(w=w||0)=="number")for(re=R;re<N;++re)this[re]=w;else{var ce=r.isBuffer(w)?w:r.from(w,q),ge=ce.length;if(ge===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(re=0;re<N-R;++re)this[re+R]=ce[re%ge]}return this};var B=/[^+/0-9A-Za-z-_]/g;function X(w,R){R=R||1/0;for(var N,q=w.length,J=null,re=[],ce=0;ce<q;++ce){if(55295<(N=w.charCodeAt(ce))&&N<57344){if(!J){if(56319<N){-1<(R-=3)&&re.push(239,191,189);continue}if(ce+1===q){-1<(R-=3)&&re.push(239,191,189);continue}J=N;continue}if(N<56320){-1<(R-=3)&&re.push(239,191,189),J=N;continue}N=65536+(J-55296<<10|N-56320)}else J&&-1<(R-=3)&&re.push(239,191,189);if(J=null,N<128){if(--R<0)break;re.push(N)}else if(N<2048){if((R-=2)<0)break;re.push(N>>6|192,63&N|128)}else if(N<65536){if((R-=3)<0)break;re.push(N>>12|224,N>>6&63|128,63&N|128)}else{if(!(N<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;re.push(N>>18|240,N>>12&63|128,N>>6&63|128,63&N|128)}}return re}function W(w){return g.toByteArray((function(R){if((R=(R=R.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R})(w))}function G(w,R,N,q){for(var J=0;J<q&&!(J+N>=R.length||J>=w.length);++J)R[J+N]=w[J];return J}function Z(w,R){return w instanceof R||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===R.name}function Q(w){return w!=w}var le=(function(){for(var w="0123456789abcdef",R=new Array(256),N=0;N<16;++N)for(var q=16*N,J=0;J<16;++J)R[q+J]=w[N]+w[J];return R})()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,H,A){H.exports=function(m){if(typeof m!="function")throw TypeError(String(m)+" is not a function");return m}},{}],6:[function(t,H,A){var m=t("../internals/is-object");H.exports=function(g){if(m(g)||g===null)return g;throw TypeError("Can't set "+String(g)+" as a prototype")}},{"../internals/is-object":75}],7:[function(c,H,A){var m=c("../internals/well-known-symbol"),g=c("../internals/object-create"),c=c("../internals/object-define-property"),d=m("unscopables"),b=Array.prototype;b[d]==null&&c.f(b,d,{configurable:!0,value:g(null)}),H.exports=function(y){b[d][y]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,H,A){var m=t("../internals/string-multibyte").charAt;H.exports=function(g,c,d){return c+(d?m(g,c).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,H,A){H.exports=function(m,g,c){if(m instanceof g)return m;throw TypeError("Incorrect "+(c?c+" ":"")+"invocation")}},{}],10:[function(t,H,A){var m=t("../internals/is-object");H.exports=function(g){if(m(g))return g;throw TypeError(String(g)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,H,A){H.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(O,H,A){function m(D){return y(D)&&r(U,o(D))}var g,c=O("../internals/array-buffer-native"),d=O("../internals/descriptors"),b=O("../internals/global"),y=O("../internals/is-object"),r=O("../internals/has"),o=O("../internals/classof"),i=O("../internals/create-non-enumerable-property"),l=O("../internals/redefine"),u=O("../internals/object-define-property").f,s=O("../internals/object-get-prototype-of"),n=O("../internals/object-set-prototype-of"),L=O("../internals/well-known-symbol"),O=O("../internals/uid"),p=b.Int8Array,h=p&&p.prototype,_=b.Uint8ClampedArray,_=_&&_.prototype,T=p&&s(p),j=h&&s(h),S=Object.prototype,C=S.isPrototypeOf,L=L("toStringTag"),E=O("TYPED_ARRAY_TAG"),I=c&&!!n&&o(b.opera)!=="Opera",O=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(g in U)b[g]||(I=!1);if((!I||typeof T!="function"||T===Function.prototype)&&(T=function(){throw TypeError("Incorrect invocation")},I))for(g in U)b[g]&&n(b[g],T);if((!I||!j||j===S)&&(j=T.prototype,I))for(g in U)b[g]&&n(b[g].prototype,j);if(I&&s(_)!==j&&n(_,j),d&&!r(j,L))for(g in O=!0,u(j,L,{get:function(){return y(this)?this[E]:void 0}}),U)b[g]&&i(b[g],E,g);H.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:O&&E,aTypedArray:function(D){if(m(D))return D;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(D){if(n){if(C.call(T,D))return D}else for(var B in U)if(r(U,g)&&(B=b[B],B&&(D===B||C.call(B,D))))return D;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(D,B,X){if(d){if(X)for(var W in U)W=b[W],W&&r(W.prototype,D)&&delete W.prototype[D];j[D]&&!X||l(j,D,!X&&I&&h[D]||B)}},exportTypedArrayStaticMethod:function(D,B,X){var W,G;if(d){if(n){if(X)for(W in U)(G=b[W])&&r(G,D)&&delete G[D];if(T[D]&&!X)return;try{return l(T,D,!X&&I&&p[D]||B)}catch{}}for(W in U)!(G=b[W])||G[D]&&!X||l(G,D,B)}},isView:function(D){return D=o(D),D==="DataView"||r(U,D)},isTypedArray:m,TypedArray:T,TypedArrayPrototype:j}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(N,H,A){function m(te){return[255&te]}function g(te){return[255&te,te>>8&255]}function c(te){return[255&te,te>>8&255,te>>16&255,te>>24&255]}function d(te){return te[3]<<24|te[2]<<16|te[1]<<8|te[0]}function b(te){return re(te,23,4)}function y(te){return re(te,52,8)}function r(te,me){O(te[Z],me,{get:function(){return B(this)[me]}})}function o(Pe,me,Te,Ee){if(Te=S(Te),Pe=B(Pe),Te+me>Pe.byteLength)throw J(Q);var xe=B(Pe.buffer).bytes,Te=Te+Pe.byteOffset,Pe=xe.slice(Te,Te+me);return Ee?Pe:Pe.reverse()}function i(te,me,we,Ee,xe,Te){if(we=S(we),te=B(te),we+me>te.byteLength)throw J(Q);for(var Pe=B(te.buffer).bytes,qe=we+te.byteOffset,Re=Ee(+xe),ft=0;ft<me;ft++)Pe[qe+ft]=Re[Te?ft:me-ft-1]}var l=N("../internals/global"),u=N("../internals/descriptors"),s=N("../internals/array-buffer-native"),n=N("../internals/create-non-enumerable-property"),p=N("../internals/redefine-all"),h=N("../internals/fails"),_=N("../internals/an-instance"),T=N("../internals/to-integer"),j=N("../internals/to-length"),S=N("../internals/to-index"),C=N("../internals/ieee754"),L=N("../internals/object-get-prototype-of"),E=N("../internals/object-set-prototype-of"),I=N("../internals/object-get-own-property-names").f,O=N("../internals/object-define-property").f,U=N("../internals/array-fill"),D=N("../internals/set-to-string-tag"),N=N("../internals/internal-state"),B=N.get,X=N.set,W="ArrayBuffer",G="DataView",Z="prototype",Q="Wrong index",le=l[W],w=le,R=l[G],N=R&&R[Z],q=Object.prototype,J=l.RangeError,re=C.pack,ce=C.unpack;if(s){if(!h(function(){le(1)})||!h(function(){new le(-1)})||h(function(){return new le,new le(1.5),new le(NaN),le.name!=W})){for(var ge,l=(w=function(we){return _(this,w),new le(S(we))})[Z]=le[Z],se=I(le),pe=0;se.length>pe;)(ge=se[pe++])in w||n(w,ge,le[ge]);l.constructor=w}E&&L(N)!==q&&E(N,q);var C=new R(new w(2)),ye=N.setInt8;C.setInt8(0,2147483648),C.setInt8(1,2147483649),!C.getInt8(0)&&C.getInt8(1)||p(N,{setInt8:function(me,we){ye.call(this,me,we<<24>>24)},setUint8:function(me,we){ye.call(this,me,we<<24>>24)}},{unsafe:!0})}else w=function(te){_(this,w,W),te=S(te),X(this,{bytes:U.call(new Array(te),0),byteLength:te}),u||(this.byteLength=te)},R=function(te,xe,we){_(this,R,G),_(te,w,G);var Ee=B(te).byteLength,xe=T(xe);if(xe<0||Ee<xe)throw J("Wrong offset");if(Ee<xe+(we=we===void 0?Ee-xe:j(we)))throw J("Wrong length");X(this,{buffer:te,byteLength:we,byteOffset:xe}),u||(this.buffer=te,this.byteLength=we,this.byteOffset=xe)},u&&(r(w,"byteLength"),r(R,"buffer"),r(R,"byteLength"),r(R,"byteOffset")),p(R[Z],{getInt8:function(te){return o(this,1,te)[0]<<24>>24},getUint8:function(te){return o(this,1,te)[0]},getInt16:function(te){return te=o(this,2,te,1<arguments.length?arguments[1]:void 0),(te[1]<<8|te[0])<<16>>16},getUint16:function(te){return te=o(this,2,te,1<arguments.length?arguments[1]:void 0),te[1]<<8|te[0]},getInt32:function(te){return d(o(this,4,te,1<arguments.length?arguments[1]:void 0))},getUint32:function(te){return d(o(this,4,te,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(te){return ce(o(this,4,te,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(te){return ce(o(this,8,te,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(te,me){i(this,1,te,m,me)},setUint8:function(te,me){i(this,1,te,m,me)},setInt16:function(te,me){i(this,2,te,g,me,2<arguments.length?arguments[2]:void 0)},setUint16:function(te,me){i(this,2,te,g,me,2<arguments.length?arguments[2]:void 0)},setInt32:function(te,me){i(this,4,te,c,me,2<arguments.length?arguments[2]:void 0)},setUint32:function(te,me){i(this,4,te,c,me,2<arguments.length?arguments[2]:void 0)},setFloat32:function(te,me){i(this,4,te,b,me,2<arguments.length?arguments[2]:void 0)},setFloat64:function(te,me){i(this,8,te,y,me,2<arguments.length?arguments[2]:void 0)}});D(w,W),D(R,G),H.exports={ArrayBuffer:w,DataView:R}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,H,A){var m=t("../internals/to-object"),g=t("../internals/to-absolute-index"),c=t("../internals/to-length"),d=Math.min;H.exports=[].copyWithin||function(u,y){var r=m(this),o=c(r.length),i=g(u,o),l=g(y,o),u=2<arguments.length?arguments[2]:void 0,s=d((u===void 0?o:g(u,o))-l,o-i),n=1;for(l<i&&i<l+s&&(n=-1,l+=s-1,i+=s-1);0<s--;)l in r?r[i]=r[l]:delete r[i],i+=n,l+=n;return r}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,H,A){var m=t("../internals/to-object"),g=t("../internals/to-absolute-index"),c=t("../internals/to-length");H.exports=function(d){for(var b=m(this),y=c(b.length),o=arguments.length,r=g(1<o?arguments[1]:void 0,y),o=2<o?arguments[2]:void 0,i=o===void 0?y:g(o,y);r<i;)b[r++]=d;return b}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(c,H,A){var m=c("../internals/array-iteration").forEach,g=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),g=g("forEach"),c=c("forEach");H.exports=g&&c?[].forEach:function(d){return m(this,d,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,H,A){var m=t("../internals/function-bind-context"),g=t("../internals/to-object"),c=t("../internals/call-with-safe-iteration-closing"),d=t("../internals/is-array-iterator-method"),b=t("../internals/to-length"),y=t("../internals/create-property"),r=t("../internals/get-iterator-method");H.exports=function(_){var i,l,u,s,n,p,h=g(_),_=typeof this=="function"?this:Array,T=arguments.length,j=1<T?arguments[1]:void 0,S=j!==void 0,C=r(h),L=0;if(S&&(j=m(j,2<T?arguments[2]:void 0,2)),C==null||_==Array&&d(C))for(l=new _(i=b(h.length));L<i;L++)p=S?j(h[L],L):h[L],y(l,L,p);else for(n=(s=C.call(h)).next,l=new _;!(u=n.call(s)).done;L++)p=S?c(s,j,[u.value,L],!0):u.value,y(l,L,p);return l.length=L,l}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,H,A){function m(b){return function(y,r,o){var i,l=g(y),u=c(l.length),s=d(o,u);if(b&&r!=r){for(;s<u;)if((i=l[s++])!=i)return!0}else for(;s<u;s++)if((b||s in l)&&l[s]===r)return b||s||0;return!b&&-1}}var g=t("../internals/to-indexed-object"),c=t("../internals/to-length"),d=t("../internals/to-absolute-index");H.exports={includes:m(!0),indexOf:m(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,H,A){function m(o){var i=o==1,l=o==2,u=o==3,s=o==4,n=o==6,p=o==5||n;return function(h,_,T,j){for(var S,C,L=d(h),E=c(L),I=g(_,T,3),O=b(E.length),U=0,_=j||y,D=i?_(h,O):l?_(h,0):void 0;U<O;U++)if((p||U in E)&&(C=I(S=E[U],U,L),o)){if(i)D[U]=C;else if(C)switch(o){case 3:return!0;case 5:return S;case 6:return U;case 2:r.call(D,S)}else if(s)return!1}return n?-1:u||s?s:D}}var g=t("../internals/function-bind-context"),c=t("../internals/indexed-object"),d=t("../internals/to-object"),b=t("../internals/to-length"),y=t("../internals/array-species-create"),r=[].push;H.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(o,H,A){var m=o("../internals/to-indexed-object"),g=o("../internals/to-integer"),c=o("../internals/to-length"),r=o("../internals/array-method-is-strict"),o=o("../internals/array-method-uses-to-length"),d=Math.min,b=[].lastIndexOf,y=!!b&&1/[1].lastIndexOf(1,-0)<0,r=r("lastIndexOf"),o=o("indexOf",{ACCESSORS:!0,1:0});H.exports=y||!r||!o?function(i){if(y)return b.apply(this,arguments)||0;var l=m(this),u=c(l.length),s=u-1;for((s=1<arguments.length?d(s,g(arguments[1])):s)<0&&(s=u+s);0<=s;s--)if(s in l&&l[s]===i)return s||0;return-1}:b},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,H,A){var m=t("../internals/fails"),g=t("../internals/well-known-symbol"),c=t("../internals/engine-v8-version"),d=g("species");H.exports=function(b){return 51<=c||!m(function(){var y=[];return(y.constructor={})[d]=function(){return{foo:1}},y[b](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,H,A){var m=t("../internals/fails");H.exports=function(g,c){var d=[][g];return!!d&&m(function(){d.call(null,c||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,H,A){function m(r){throw r}var g=t("../internals/descriptors"),c=t("../internals/fails"),d=t("../internals/has"),b=Object.defineProperty,y={};H.exports=function(r,o){var i,l,u,s;return d(y,r)?y[r]:(i=[][r],l=!!d(o=o||{},"ACCESSORS")&&o.ACCESSORS,u=d(o,0)?o[0]:m,s=d(o,1)?o[1]:void 0,y[r]=!!i&&!c(function(){if(l&&!g)return!0;var n={length:-1};l?b(n,1,{enumerable:!0,get:m}):n[1]=1,i.call(n,u,s)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,H,A){function m(y){return function(r,o,i,l){g(o);var u=c(r),s=d(u),n=b(u.length),p=y?n-1:0,h=y?-1:1;if(i<2)for(;;){if(p in s){l=s[p],p+=h;break}if(p+=h,y?p<0:n<=p)throw TypeError("Reduce of empty array with no initial value")}for(;y?0<=p:p<n;p+=h)p in s&&(l=o(l,s[p],p,u));return l}}var g=t("../internals/a-function"),c=t("../internals/to-object"),d=t("../internals/indexed-object"),b=t("../internals/to-length");H.exports={left:m(!1),right:m(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,H,A){var m=t("../internals/is-object"),g=t("../internals/is-array"),c=t("../internals/well-known-symbol")("species");H.exports=function(d,b){var y;return new((y=g(d)&&(typeof(y=d.constructor)=="function"&&(y===Array||g(y.prototype))||m(y)&&(y=y[c])===null)?void 0:y)===void 0?Array:y)(b===0?0:b)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,H,A){var m=t("../internals/an-object");H.exports=function(g,c,d,b){try{return b?c(m(d)[0],d[1]):c(d)}catch(y){throw b=g.return,b!==void 0&&m(b.call(g)),y}}},{"../internals/an-object":10}],27:[function(t,H,A){var m=t("../internals/well-known-symbol")("iterator"),g=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){g=!0}};d[m]=function(){return this},Array.from(d,function(){throw 2})}catch{}H.exports=function(b,y){if(!y&&!g)return!1;var r=!1;try{var o={};o[m]=function(){return{next:function(){return{done:r=!0}}}},b(o)}catch{}return r}},{"../internals/well-known-symbol":150}],28:[function(t,H,A){var m={}.toString;H.exports=function(g){return m.call(g).slice(8,-1)}},{}],29:[function(t,H,A){var m=t("../internals/to-string-tag-support"),g=t("../internals/classof-raw"),c=t("../internals/well-known-symbol")("toStringTag"),d=g((function(){return arguments})())=="Arguments";H.exports=m?g:function(b){var y;return b===void 0?"Undefined":b===null?"Null":typeof(y=(function(r,o){try{return r[o]}catch{}})(b=Object(b),c))=="string"?y:d?g(b):(y=g(b))=="Object"&&typeof b.callee=="function"?"Arguments":y}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(u,H,A){var m=u("../internals/object-define-property").f,g=u("../internals/object-create"),c=u("../internals/redefine-all"),d=u("../internals/function-bind-context"),b=u("../internals/an-instance"),y=u("../internals/iterate"),r=u("../internals/define-iterator"),o=u("../internals/set-species"),i=u("../internals/descriptors"),l=u("../internals/internal-metadata").fastKey,u=u("../internals/internal-state"),s=u.set,n=u.getterFor;H.exports={getConstructor:function(p,h,_,T){function j(E,I,O){var U,D=L(E),B=S(E,I);return B?B.value=O:(D.last=B={index:U=l(I,!0),key:I,value:O,previous:I=D.last,next:void 0,removed:!1},D.first||(D.first=B),I&&(I.next=B),i?D.size++:E.size++,U!=="F"&&(D.index[U]=B)),E}function S(U,I){var O,U=L(U),D=l(I);if(D!=="F")return U.index[D];for(O=U.first;O;O=O.next)if(O.key==I)return O}var C=p(function(E,I){b(E,C,h),s(E,{type:h,index:g(null),first:void 0,last:void 0,size:0}),i||(E.size=0),I!=null&&y(I,E[T],E,_)}),L=n(h);return c(C.prototype,{clear:function(){for(var E=L(this),I=E.index,O=E.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete I[O.index],O=O.next;E.first=E.last=void 0,i?E.size=0:this.size=0},delete:function(D){var I,O,U=L(this),D=S(this,D);return D&&(I=D.next,O=D.previous,delete U.index[D.index],D.removed=!0,O&&(O.next=I),I&&(I.previous=O),U.first==D&&(U.first=I),U.last==D&&(U.last=O),i?U.size--:this.size--),!!D},forEach:function(E){for(var I,O=L(this),U=d(E,1<arguments.length?arguments[1]:void 0,3);I=I?I.next:O.first;)for(U(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(E){return!!S(this,E)}}),c(C.prototype,_?{get:function(E){return E=S(this,E),E&&E.value},set:function(E,I){return j(this,E===0?0:E,I)}}:{add:function(E){return j(this,E=E===0?0:E,E)}}),i&&m(C.prototype,"size",{get:function(){return L(this).size}}),C},setStrong:function(p,h,_){var T=h+" Iterator",j=n(h),S=n(T);r(p,h,function(C,L){s(this,{type:T,target:C,state:j(C),kind:L,last:void 0})},function(){for(var C=S(this),L=C.kind,E=C.last;E&&E.removed;)E=E.previous;return C.target&&(C.last=E=E?E.next:C.state.first)?L=="keys"?{value:E.key,done:!1}:L=="values"?{value:E.value,done:!1}:{value:[E.key,E.value],done:!1}:{value:C.target=void 0,done:!0}},_?"entries":"values",!_,!0),o(h)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(s,H,A){function m(j){return j.frozen||(j.frozen=new g)}function g(){this.entries=[]}function c(j,S){return h(j.entries,function(C){return C[0]===S})}var d=s("../internals/redefine-all"),b=s("../internals/internal-metadata").getWeakData,y=s("../internals/an-object"),r=s("../internals/is-object"),o=s("../internals/an-instance"),i=s("../internals/iterate"),l=s("../internals/array-iteration"),u=s("../internals/has"),s=s("../internals/internal-state"),n=s.set,p=s.getterFor,h=l.find,_=l.findIndex,T=0;g.prototype={get:function(j){if(j=c(this,j),j)return j[1]},has:function(j){return!!c(this,j)},set:function(j,S){var C=c(this,j);C?C[1]=S:this.entries.push([j,S])},delete:function(j){var S=_(this.entries,function(C){return C[0]===j});return~S&&this.entries.splice(S,1),!!~S}},H.exports={getConstructor:function(j,S,C,L){function E(U,D,B){var X=O(U),W=b(y(D),!0);return W===!0?m(X).set(D,B):W[X.id]=B,U}var I=j(function(U,D){o(U,I,S),n(U,{type:S,id:T++,frozen:void 0}),D!=null&&i(D,U[L],U,C)}),O=p(S);return d(I.prototype,{delete:function(U){var D,B=O(this);return!!r(U)&&((D=b(U))===!0?m(B).delete(U):D&&u(D,B.id)&&delete D[B.id])},has:function(U){var D,B=O(this);return!!r(U)&&((D=b(U))===!0?m(B).has(U):D&&u(D,B.id))}}),d(I.prototype,C?{get:function(U){var D,B=O(this);if(r(U))return(D=b(U))===!0?m(B).get(U):D?D[B.id]:void 0},set:function(U,D){return E(this,U,D)}}:{add:function(U){return E(this,U,!0)}}),I}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/global"),c=t("../internals/is-forced"),d=t("../internals/redefine"),b=t("../internals/internal-metadata"),y=t("../internals/iterate"),r=t("../internals/an-instance"),o=t("../internals/is-object"),i=t("../internals/fails"),l=t("../internals/check-correctness-of-iteration"),u=t("../internals/set-to-string-tag"),s=t("../internals/inherit-if-required");H.exports=function(n,p,h){function _(W){var G=D[W];d(D,W,W=="add"?function(Z){return G.call(this,Z===0?0:Z),this}:W=="delete"?function(Z){return!(I&&!o(Z))&&G.call(this,Z===0?0:Z)}:W=="get"?function(Z){return I&&!o(Z)?void 0:G.call(this,Z===0?0:Z)}:W=="has"?function(Z){return!(I&&!o(Z))&&G.call(this,Z===0?0:Z)}:function(Z,Q){return G.call(this,Z===0?0:Z,Q),this})}var T,j,S,C,L,E=n.indexOf("Map")!==-1,I=n.indexOf("Weak")!==-1,O=E?"set":"add",U=g[n],D=U&&U.prototype,B=U,X={};return c(n,typeof U!="function"||!(I||D.forEach&&!i(function(){new U().entries().next()})))?(B=h.getConstructor(p,n,E,O),b.REQUIRED=!0):c(n,!0)&&(j=(T=new B)[O](I?{}:-0,1)!=T,S=i(function(){T.has(1)}),C=l(function(W){new U(W)}),L=!I&&i(function(){for(var W=new U,G=5;G--;)W[O](G,G);return!W.has(-0)}),C||(((B=p(function(W,G){return r(W,B,n),W=s(new U,W,B),G!=null&&y(G,W[O],W,E),W})).prototype=D).constructor=B),(S||L)&&(_("delete"),_("has"),E&&_("get")),(L||j)&&_(O),I&&D.clear&&delete D.clear),X[n]=B,m({global:!0,forced:B!=U},X),u(B,n),I||h.setStrong(B,n,E),B}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,H,A){var m=t("../internals/has"),g=t("../internals/own-keys"),c=t("../internals/object-get-own-property-descriptor"),d=t("../internals/object-define-property");H.exports=function(b,y){for(var r=g(y),o=d.f,i=c.f,l=0;l<r.length;l++){var u=r[l];m(b,u)||o(b,u,i(y,u))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,H,A){var m=t("../internals/well-known-symbol")("match");H.exports=function(g){var c=/./;try{"/./"[g](c)}catch{try{return c[m]=!1,"/./"[g](c)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,H,A){t=t("../internals/fails"),H.exports=!t(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})},{"../internals/fails":51}],36:[function(t,H,A){var m=t("../internals/require-object-coercible"),g=/"/g;H.exports=function(r,d,b,y){var r=String(m(r)),o="<"+d;return b!==""&&(o+=" "+b+'="'+String(y).replace(g,"&quot;")+'"'),o+">"+r+"</"+d+">"}},{"../internals/require-object-coercible":115}],37:[function(t,H,A){function m(){return this}var g=t("../internals/iterators-core").IteratorPrototype,c=t("../internals/object-create"),d=t("../internals/create-property-descriptor"),b=t("../internals/set-to-string-tag"),y=t("../internals/iterators");H.exports=function(r,o,i){return o+=" Iterator",r.prototype=c(g,{next:d(1,i)}),b(r,o,!1,!0),y[o]=m,r}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,H,A){var m=t("../internals/descriptors"),g=t("../internals/object-define-property"),c=t("../internals/create-property-descriptor");H.exports=m?function(d,b,y){return g.f(d,b,c(1,y))}:function(d,b,y){return d[b]=y,d}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,H,A){H.exports=function(m,g){return{enumerable:!(1&m),configurable:!(2&m),writable:!(4&m),value:g}}},{}],40:[function(t,H,A){var m=t("../internals/to-primitive"),g=t("../internals/object-define-property"),c=t("../internals/create-property-descriptor");H.exports=function(d,b,y){b=m(b),b in d?g.f(d,b,c(0,y)):d[b]=y}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(s,H,A){function m(){return this}var g=s("../internals/export"),c=s("../internals/create-iterator-constructor"),d=s("../internals/object-get-prototype-of"),b=s("../internals/object-set-prototype-of"),y=s("../internals/set-to-string-tag"),r=s("../internals/create-non-enumerable-property"),o=s("../internals/redefine"),i=s("../internals/well-known-symbol"),l=s("../internals/is-pure"),u=s("../internals/iterators"),s=s("../internals/iterators-core"),n=s.IteratorPrototype,p=s.BUGGY_SAFARI_ITERATORS,h=i("iterator"),_="values",T="entries";H.exports=function(j,S,C,X,E,I,O){c(C,S,X);function U(w){if(w===E&&Q)return Q;if(!p&&w in G)return G[w];switch(w){case"keys":case _:case T:return function(){return new C(this,w)}}return function(){return new C(this)}}var D,B,X=S+" Iterator",W=!1,G=j.prototype,Z=G[h]||G["@@iterator"]||E&&G[E],Q=!p&&Z||U(E),le=S=="Array"&&G.entries||Z;if(le&&(le=d(le.call(new j)),n!==Object.prototype&&le.next&&(l||d(le)===n||(b?b(le,n):typeof le[h]!="function"&&r(le,h,m)),y(le,X,!0,!0),l&&(u[X]=m))),E==_&&Z&&Z.name!==_&&(W=!0,Q=function(){return Z.call(this)}),l&&!O||G[h]===Q||r(G,h,Q),u[S]=Q,E)if(D={values:U(_),keys:I?Q:U("keys"),entries:U(T)},O)for(B in D)!p&&!W&&B in G||o(G,B,D[B]);else g({target:S,proto:!0,forced:p||W},D);return D}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,H,A){var m=t("../internals/path"),g=t("../internals/has"),c=t("../internals/well-known-symbol-wrapped"),d=t("../internals/object-define-property").f;H.exports=function(b){var y=m.Symbol||(m.Symbol={});g(y,b)||d(y,b,{value:c.f(b)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,H,A){t=t("../internals/fails"),H.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(g,H,A){var m=g("../internals/global"),g=g("../internals/is-object"),c=m.document,d=g(c)&&g(c.createElement);H.exports=function(b){return d?c.createElement(b):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,H,A){H.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,H,A){t=t("../internals/engine-user-agent"),H.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,H,A){t=t("../internals/get-built-in"),H.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(c,H,A){var m,g,d=c("../internals/global"),c=c("../internals/engine-user-agent"),d=d.process,d=d&&d.versions,d=d&&d.v8;d?g=(m=d.split("."))[0]+m[1]:c&&(!(m=c.match(/Edge\/(\d+)/))||74<=m[1])&&(m=c.match(/Chrome\/(\d+)/))&&(g=m[1]),H.exports=g&&+g},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,H,A){H.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,H,A){var m=t("../internals/global"),g=t("../internals/object-get-own-property-descriptor").f,c=t("../internals/create-non-enumerable-property"),d=t("../internals/redefine"),b=t("../internals/set-global"),y=t("../internals/copy-constructor-properties"),r=t("../internals/is-forced");H.exports=function(o,i){var l,u,s,n=o.target,p=o.global,h=o.stat,_=p?m:h?m[n]||b(n,{}):(m[n]||{}).prototype;if(_)for(l in i){if(u=i[l],s=o.noTargetGet?(s=g(_,l))&&s.value:_[l],!r(p?l:n+(h?".":"#")+l,o.forced)&&s!==void 0){if(typeof u==typeof s)continue;y(u,s)}(o.sham||s&&s.sham)&&c(u,"sham",!0),d(_,l,u,o)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,H,A){H.exports=function(m){try{return!!m()}catch{return!0}}},{}],52:[function(i,H,A){i("../modules/es.regexp.exec");var m=i("../internals/redefine"),g=i("../internals/fails"),c=i("../internals/well-known-symbol"),d=i("../internals/regexp-exec"),b=i("../internals/create-non-enumerable-property"),y=c("species"),r=!g(function(){var s=/./;return s.exec=function(){var n=[];return n.groups={a:"7"},n},"".replace(s,"$<a>")!=="7"}),o="a".replace(/./,"$0")==="$0",i=c("replace"),l=!!/./[i]&&/./[i]("a","$0")==="",u=!g(function(){var n=/(?:)/,s=n.exec,n=(n.exec=function(){return s.apply(this,arguments)},"ab".split(n));return n.length!==2||n[0]!=="a"||n[1]!=="b"});H.exports=function(s,n,p,h){var _,T,j=c(s),S=!g(function(){var L={};return L[j]=function(){return 7},""[s](L)!=7}),C=S&&!g(function(){var L=!1,E=/a/;return s==="split"&&((E={constructor:{}}).constructor[y]=function(){return E},E.flags="",E[j]=/./[j]),E.exec=function(){return L=!0,null},E[j](""),!L});S&&C&&(s!=="replace"||r&&o&&!l)&&(s!=="split"||u)||(_=/./[j],p=(C=p(j,""[s],function(L,E,I,O,U){return E.exec===d?S&&!U?{done:!0,value:_.call(E,I,O)}:{done:!0,value:L.call(I,E,O)}:{done:!1}},{REPLACE_KEEPS_$0:o,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}))[0],T=C[1],m(String.prototype,s,p),m(RegExp.prototype,j,n==2?function(L,E){return T.call(L,this,E)}:function(L){return T.call(L,this)})),h&&b(RegExp.prototype[j],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,H,A){function m(b,y,r,o,i,l,u,s){for(var n,p=i,h=0,_=!!u&&d(u,s,3);h<o;){if(h in r){if(n=_?_(r[h],h,y):r[h],0<l&&g(n))p=m(b,y,n,c(n.length),p,l-1)-1;else{if(9007199254740991<=p)throw TypeError("Exceed the acceptable array length");b[p]=n}p++}h++}return p}var g=t("../internals/is-array"),c=t("../internals/to-length"),d=t("../internals/function-bind-context");H.exports=m},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,H,A){t=t("../internals/fails"),H.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,H,A){var m=t("../internals/a-function");H.exports=function(g,c,d){if(m(g),c===void 0)return g;switch(d){case 0:return function(){return g.call(c)};case 1:return function(b){return g.call(c,b)};case 2:return function(b,y){return g.call(c,b,y)};case 3:return function(b,y,r){return g.call(c,b,y,r)}}return function(){return g.apply(c,arguments)}}},{"../internals/a-function":5}],56:[function(t,H,A){var m=t("../internals/a-function"),g=t("../internals/is-object"),c=[].slice,d={};H.exports=Function.bind||function(b){var y=m(this),r=c.call(arguments,1),o=function(){var i=r.concat(c.call(arguments));if(this instanceof o){var l=y,u=i.length,s=i;if(!(u in d)){for(var n=[],p=0;p<u;p++)n[p]="a["+p+"]";d[u]=Function("C,a","return new C("+n.join(",")+")")}return d[u](l,s)}return y.apply(b,i)};return g(y.prototype)&&(o.prototype=y.prototype),o}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,H,A){function m(d){return typeof d=="function"?d:void 0}var g=t("../internals/path"),c=t("../internals/global");H.exports=function(d,b){return arguments.length<2?m(g[d])||m(c[d]):g[d]&&g[d][b]||c[d]&&c[d][b]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,H,A){var m=t("../internals/classof"),g=t("../internals/iterators"),c=t("../internals/well-known-symbol")("iterator");H.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||g[m(d)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,H,A){var m=t("../internals/an-object"),g=t("../internals/get-iterator-method");H.exports=function(c){var d=g(c);if(typeof d!="function")throw TypeError(String(c)+" is not iterable");return m(d.call(c))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,H,A){(function(m){function g(c){return c&&c.Math==Math&&c}H.exports=g(typeof globalThis=="object"&&globalThis)||g(typeof window=="object"&&window)||g(typeof self=="object"&&self)||g(typeof m=="object"&&m)||Function("return this")()}).call(this,typeof Vn<"u"?Vn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,H,A){var m={}.hasOwnProperty;H.exports=function(g,c){return m.call(g,c)}},{}],62:[function(t,H,A){H.exports={}},{}],63:[function(t,H,A){var m=t("../internals/global");H.exports=function(g,c){var d=m.console;d&&d.error&&(arguments.length===1?d.error(g):d.error(g,c))}},{"../internals/global":60}],64:[function(t,H,A){t=t("../internals/get-built-in"),H.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,H,A){var m=t("../internals/descriptors"),g=t("../internals/fails"),c=t("../internals/document-create-element");H.exports=!m&&!g(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,H,A){var m=Math.abs,g=Math.pow,c=Math.floor,d=Math.log,b=Math.LN2;H.exports={pack:function(y,r,p){var i,l,u,s=new Array(p),n=8*p-r-1,p=(1<<n)-1,h=p>>1,_=r===23?g(2,-24)-g(2,-77):0,T=y<0||y===0&&1/y<0?1:0,j=0;for((y=m(y))!=y||y===1/0?(l=y!=y?1:0,i=p):(i=c(d(y)/b),y*(u=g(2,-i))<1&&(i--,u*=2),2<=(y+=1<=i+h?_/u:_*g(2,1-h))*u&&(i++,u/=2),p<=i+h?(l=0,i=p):1<=i+h?(l=(y*u-1)*g(2,r),i+=h):(l=y*g(2,h-1)*g(2,r),i=0));8<=r;s[j++]=255&l,l/=256,r-=8);for(i=i<<r|l,n+=r;0<n;s[j++]=255&i,i/=256,n-=8);return s[--j]|=128*T,s},unpack:function(y,r){var o,i=y.length,p=8*i-r-1,l=(1<<p)-1,u=l>>1,s=p-7,n=i-1,p=y[n--],h=127&p;for(p>>=7;0<s;h=256*h+y[n],n--,s-=8);for(o=h&(1<<-s)-1,h>>=-s,s+=r;0<s;o=256*o+y[n],n--,s-=8);if(h===0)h=1-u;else{if(h===l)return o?NaN:p?-1/0:1/0;o+=g(2,r),h-=u}return(p?-1:1)*o*g(2,h-r)}}},{}],67:[function(t,H,A){var m=t("../internals/fails"),g=t("../internals/classof-raw"),c="".split;H.exports=m(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return g(d)=="String"?c.call(d,""):Object(d)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,H,A){var m=t("../internals/is-object"),g=t("../internals/object-set-prototype-of");H.exports=function(c,d,b){return g&&typeof(d=d.constructor)=="function"&&d!==b&&m(d=d.prototype)&&d!==b.prototype&&g(c,d),c}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(m,H,A){var m=m("../internals/shared-store"),g=Function.toString;typeof m.inspectSource!="function"&&(m.inspectSource=function(c){return g.call(c)}),H.exports=m.inspectSource},{"../internals/shared-store":121}],70:[function(t,H,A){function m(s){b(s,o,{value:{objectID:"O"+ ++i,weakData:{}}})}var g=t("../internals/hidden-keys"),c=t("../internals/is-object"),d=t("../internals/has"),b=t("../internals/object-define-property").f,y=t("../internals/uid"),r=t("../internals/freezing"),o=y("meta"),i=0,l=Object.isExtensible||function(){return!0},u=H.exports={REQUIRED:!1,fastKey:function(s,n){if(!c(s))return typeof s=="symbol"?s:(typeof s=="string"?"S":"P")+s;if(!d(s,o)){if(!l(s))return"F";if(!n)return"E";m(s)}return s[o].objectID},getWeakData:function(s,n){if(!d(s,o)){if(!l(s))return!0;if(!n)return!1;m(s)}return s[o].weakData},onFreeze:function(s){return r&&u.REQUIRED&&l(s)&&!d(s,o)&&m(s),s}};g[o]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(p,H,A){var m,g,c,d,b,y,r,o,i=p("../internals/native-weak-map"),h=p("../internals/global"),l=p("../internals/is-object"),u=p("../internals/create-non-enumerable-property"),s=p("../internals/has"),n=p("../internals/shared-key"),p=p("../internals/hidden-keys"),h=h.WeakMap;r=i?(m=new h,g=m.get,c=m.has,d=m.set,b=function(_,T){return d.call(m,_,T),T},y=function(_){return g.call(m,_)||{}},function(_){return c.call(m,_)}):(p[o=n("state")]=!0,b=function(_,T){return u(_,o,T),T},y=function(_){return s(_,o)?_[o]:{}},function(_){return s(_,o)}),H.exports={set:b,get:y,has:r,enforce:function(_){return r(_)?y(_):b(_,{})},getterFor:function(_){return function(T){if(l(T)&&(T=y(T)).type===_)return T;throw TypeError("Incompatible receiver, "+_+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,H,A){var m=t("../internals/well-known-symbol"),g=t("../internals/iterators"),c=m("iterator"),d=Array.prototype;H.exports=function(b){return b!==void 0&&(g.Array===b||d[c]===b)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,H,A){var m=t("../internals/classof-raw");H.exports=Array.isArray||function(g){return m(g)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,H,A){function m(o,i){return(o=b[d(o)])==r||o!=y&&(typeof i=="function"?g(i):!!i)}var g=t("../internals/fails"),c=/#|\.prototype\./,d=m.normalize=function(o){return String(o).replace(c,".").toLowerCase()},b=m.data={},y=m.NATIVE="N",r=m.POLYFILL="P";H.exports=m},{"../internals/fails":51}],75:[function(t,H,A){H.exports=function(m){return typeof m=="object"?m!==null:typeof m=="function"}},{}],76:[function(t,H,A){H.exports=!1},{}],77:[function(t,H,A){var m=t("../internals/is-object"),g=t("../internals/classof-raw"),c=t("../internals/well-known-symbol")("match");H.exports=function(d){var b;return m(d)&&((b=d[c])!==void 0?!!b:g(d)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,H,A){function m(o,i){this.stopped=o,this.result=i}var g=t("../internals/an-object"),c=t("../internals/is-array-iterator-method"),d=t("../internals/to-length"),b=t("../internals/function-bind-context"),y=t("../internals/get-iterator-method"),r=t("../internals/call-with-safe-iteration-closing");(H.exports=function(o,i,l,u,s){var n,p,h,_,T,j,S=b(i,l,u?2:1);if(s)n=o;else{if(typeof(i=y(o))!="function")throw TypeError("Target is not iterable");if(c(i)){for(p=0,h=d(o.length);p<h;p++)if((_=u?S(g(j=o[p])[0],j[1]):S(o[p]))&&_ instanceof m)return _;return new m(!1)}n=i.call(o)}for(T=n.next;!(j=T.call(n)).done;)if(typeof(_=r(n,S,j.value,u))=="object"&&_&&_ instanceof m)return _;return new m(!1)}).stop=function(o){return new m(!0,o)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(y,H,A){var m,g,c=y("../internals/object-get-prototype-of"),d=y("../internals/create-non-enumerable-property"),b=y("../internals/has"),r=y("../internals/well-known-symbol"),y=y("../internals/is-pure"),r=r("iterator"),o=!1;[].keys&&("next"in(g=[].keys())?(c=c(c(g)))!==Object.prototype&&(m=c):o=!0),m==null&&(m={}),y||b(m,r)||d(m,r,function(){return this}),H.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:o}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,H,A){H.exports={}},{}],81:[function(t,H,A){H.exports=Math.sign||function(m){return(m=+m)==0||m!=m?m:m<0?-1:1}},{}],82:[function(u,H,A){var m,g,c,d,b,y,r,o,i=u("../internals/global"),T=u("../internals/object-get-own-property-descriptor").f,_=u("../internals/classof-raw"),l=u("../internals/task").set,u=u("../internals/engine-is-ios"),s=i.MutationObserver||i.WebKitMutationObserver,n=i.process,p=i.Promise,h=_(n)=="process",_=T(i,"queueMicrotask"),T=_&&_.value;T||(m=function(){var j,S;for(h&&(j=n.domain)&&j.exit();g;){S=g.fn,g=g.next;try{S()}catch(C){throw g?d():c=void 0,C}}c=void 0,j&&j.enter()},d=h?function(){n.nextTick(m)}:s&&!u?(b=!0,y=document.createTextNode(""),new s(m).observe(y,{characterData:!0}),function(){y.data=b=!b}):p&&p.resolve?(r=p.resolve(void 0),o=r.then,function(){o.call(r,m)}):function(){l.call(i,m)}),H.exports=T||function(j){j={fn:j,next:void 0},c&&(c.next=j),g||(g=j,d()),c=j}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,H,A){t=t("../internals/global"),H.exports=t.Promise},{"../internals/global":60}],84:[function(t,H,A){t=t("../internals/fails"),H.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,H,A){var m=t("../internals/fails"),g=t("../internals/well-known-symbol"),c=t("../internals/is-pure"),d=g("iterator");H.exports=!m(function(){var b=new URL("b?a=1&b=2&c=3","http://a"),y=b.searchParams,r="";return b.pathname="c%20d",y.forEach(function(o,i){y.delete("b"),r+=i+o}),c&&!b.toJSON||!y.sort||b.href!=="http://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[d]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(m,H,A){var g=m("../internals/global"),m=m("../internals/inspect-source"),g=g.WeakMap;H.exports=typeof g=="function"&&/native code/.test(m(g))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,H,A){function m(c){var d,b;this.promise=new c(function(y,r){if(d!==void 0||b!==void 0)throw TypeError("Bad Promise constructor");d=y,b=r}),this.resolve=g(d),this.reject=g(b)}var g=t("../internals/a-function");H.exports.f=function(c){return new m(c)}},{"../internals/a-function":5}],88:[function(t,H,A){var m=t("../internals/is-regexp");H.exports=function(g){if(m(g))throw TypeError("The method doesn't accept regular expressions");return g}},{"../internals/is-regexp":77}],89:[function(t,H,A){var m=t("../internals/global").isFinite;H.exports=Number.isFinite||function(g){return typeof g=="number"&&m(g)}},{"../internals/global":60}],90:[function(t,H,A){var m=t("../internals/descriptors"),g=t("../internals/fails"),c=t("../internals/object-keys"),d=t("../internals/object-get-own-property-symbols"),b=t("../internals/object-property-is-enumerable"),y=t("../internals/to-object"),r=t("../internals/indexed-object"),o=Object.assign,i=Object.defineProperty;H.exports=!o||g(function(){var l,u,s,n;return!(!m||o({b:1},o(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(u={},n="abcdefghijklmnopqrst",(l={})[s=Symbol()]=7,n.split("").forEach(function(p){u[p]=p}),o({},l)[s]!=7||c(o({},u)).join("")!=n)})?function(l,u){for(var s=y(l),n=arguments.length,p=1,h=d.f,_=b.f;p<n;)for(var T,j=r(arguments[p++]),S=h?c(j).concat(h(j)):c(j),C=S.length,L=0;L<C;)T=S[L++],m&&!_.call(j,T)||(s[T]=j[T]);return s}:o},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(i,H,A){function m(){}var g,c=i("../internals/an-object"),d=i("../internals/object-define-properties"),b=i("../internals/enum-bug-keys"),y=i("../internals/hidden-keys"),r=i("../internals/html"),o=i("../internals/document-create-element"),i=i("../internals/shared-key"),l="prototype",u="script",s=i("IE_PROTO"),n=function(h){return"<"+u+">"+h+"</"+u+">"},p=function(){try{g=document.domain&&new ActiveXObject("htmlfile")}catch{}p=g?((h=g).write(n("")),h.close(),_=h.parentWindow.Object,h=null,_):(h=o("iframe"),_="java"+u+":",h.style.display="none",r.appendChild(h),h.src=String(_),(_=h.contentWindow.document).open(),_.write(n("document.F=Object")),_.close(),_.F);for(var h,_,T=b.length;T--;)delete p[l][b[T]];return p()};y[s]=!0,H.exports=Object.create||function(h,_){var T;return h!==null?(m[l]=c(h),T=new m,m[l]=null,T[s]=h):T=p(),_===void 0?T:d(T,_)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,H,A){var m=t("../internals/descriptors"),g=t("../internals/object-define-property"),c=t("../internals/an-object"),d=t("../internals/object-keys");H.exports=m?Object.defineProperties:function(b,y){c(b);for(var r,o=d(y),i=o.length,l=0;l<i;)g.f(b,r=o[l++],y[r]);return b}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,H,A){var m=t("../internals/descriptors"),g=t("../internals/ie8-dom-define"),c=t("../internals/an-object"),d=t("../internals/to-primitive"),b=Object.defineProperty;A.f=m?b:function(y,r,o){if(c(y),r=d(r,!0),c(o),g)try{return b(y,r,o)}catch{}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(y[r]=o.value),y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,H,A){var m=t("../internals/descriptors"),g=t("../internals/object-property-is-enumerable"),c=t("../internals/create-property-descriptor"),d=t("../internals/to-indexed-object"),b=t("../internals/to-primitive"),y=t("../internals/has"),r=t("../internals/ie8-dom-define"),o=Object.getOwnPropertyDescriptor;A.f=m?o:function(i,l){if(i=d(i),l=b(l,!0),r)try{return o(i,l)}catch{}if(y(i,l))return c(!g.f.call(i,l),i[l])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,H,A){var m=t("../internals/to-indexed-object"),g=t("../internals/object-get-own-property-names").f,c={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];H.exports.f=function(b){if(!d||c.call(b)!="[object Window]")return g(m(b));try{return g(b)}catch{return d.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,H,A){var m=t("../internals/object-keys-internal"),g=t("../internals/enum-bug-keys").concat("length","prototype");A.f=Object.getOwnPropertyNames||function(c){return m(c,g)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,H,A){A.f=Object.getOwnPropertySymbols},{}],98:[function(d,H,A){var m=d("../internals/has"),g=d("../internals/to-object"),c=d("../internals/shared-key"),d=d("../internals/correct-prototype-getter"),b=c("IE_PROTO"),y=Object.prototype;H.exports=d?Object.getPrototypeOf:function(r){return r=g(r),m(r,b)?r[b]:typeof r.constructor=="function"&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,H,A){var m=t("../internals/has"),g=t("../internals/to-indexed-object"),c=t("../internals/array-includes").indexOf,d=t("../internals/hidden-keys");H.exports=function(b,y){var r,o=g(b),i=0,l=[];for(r in o)!m(d,r)&&m(o,r)&&l.push(r);for(;y.length>i;)!m(o,r=y[i++])||~c(l,r)||l.push(r);return l}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,H,A){var m=t("../internals/object-keys-internal"),g=t("../internals/enum-bug-keys");H.exports=Object.keys||function(c){return m(c,g)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,H,A){var m={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,c=g&&!m.call({1:2},1);A.f=c?function(d){return d=g(this,d),!!d&&d.enumerable}:m},{}],102:[function(t,H,A){var m=t("../internals/an-object"),g=t("../internals/a-possible-prototype");H.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var c,d=!1,b={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(b,[]),d=b instanceof Array}catch{}return function(y,r){return m(y),g(r),d?c.call(y,r):y.__proto__=r,y}})():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,H,A){function m(y){return function(r){for(var o,i=d(r),l=c(i),u=l.length,s=0,n=[];s<u;)o=l[s++],g&&!b.call(i,o)||n.push(y?[o,i[o]]:i[o]);return n}}var g=t("../internals/descriptors"),c=t("../internals/object-keys"),d=t("../internals/to-indexed-object"),b=t("../internals/object-property-is-enumerable").f;H.exports={entries:m(!0),values:m(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,H,A){var m=t("../internals/to-string-tag-support"),g=t("../internals/classof");H.exports=m?{}.toString:function(){return"[object "+g(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,H,A){var m=t("../internals/get-built-in"),g=t("../internals/object-get-own-property-names"),c=t("../internals/object-get-own-property-symbols"),d=t("../internals/an-object");H.exports=m("Reflect","ownKeys")||function(b){var y=g.f(d(b)),r=c.f;return r?y.concat(r(b)):y}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,H,A){t=t("../internals/global"),H.exports=t},{"../internals/global":60}],107:[function(t,H,A){H.exports=function(m){try{return{error:!1,value:m()}}catch(g){return{error:!0,value:g}}}},{}],108:[function(t,H,A){var m=t("../internals/an-object"),g=t("../internals/is-object"),c=t("../internals/new-promise-capability");H.exports=function(d,b){return m(d),g(b)&&b.constructor===d?b:((0,(d=c.f(d)).resolve)(b),d.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,H,A){var m=t("../internals/redefine");H.exports=function(g,c,d){for(var b in c)m(g,b,c[b],d);return g}},{"../internals/redefine":110}],110:[function(y,H,A){var m=y("../internals/global"),g=y("../internals/create-non-enumerable-property"),c=y("../internals/has"),d=y("../internals/set-global"),b=y("../internals/inspect-source"),y=y("../internals/internal-state"),r=y.get,o=y.enforce,i=String(String).split("String");(H.exports=function(l,u,s,_){var p=!!_&&!!_.unsafe,h=!!_&&!!_.enumerable,_=!!_&&!!_.noTargetGet;typeof s=="function"&&(typeof u!="string"||c(s,"name")||g(s,"name",u),o(s).source=i.join(typeof u=="string"?u:"")),l===m?h?l[u]=s:d(u,s):(p?!_&&l[u]&&(h=!0):delete l[u],h?l[u]=s:g(l,u,s))})(Function.prototype,"toString",function(){return typeof this=="function"&&r(this).source||b(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,H,A){var m=t("./classof-raw"),g=t("./regexp-exec");H.exports=function(c,d){var b=c.exec;if(typeof b=="function"){if(b=b.call(c,d),typeof b!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return b}if(m(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return g.call(c,d)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(d,H,A){var m,g,c=d("./regexp-flags"),d=d("./regexp-sticky-helpers"),b=RegExp.prototype.exec,y=String.prototype.replace,r=b,o=(m=/a/,g=/b*/g,b.call(m,"a"),b.call(g,"a"),m.lastIndex!==0||g.lastIndex!==0),i=d.UNSUPPORTED_Y||d.BROKEN_CARET,l=/()??/.exec("")[1]!==void 0;H.exports=r=o||l||i?function(u){var s,n,p,h,_=this,T=i&&_.sticky,j=c.call(_),S=_.source,C=0,L=u;return T&&((j=j.replace("y","")).indexOf("g")===-1&&(j+="g"),L=String(u).slice(_.lastIndex),0<_.lastIndex&&(!_.multiline||_.multiline&&u[_.lastIndex-1]!==`
`)&&(S="(?: "+S+")",L=" "+L,C++),n=new RegExp("^(?:"+S+")",j)),l&&(n=new RegExp("^"+S+"$(?!\\s)",j)),o&&(s=_.lastIndex),p=b.call(T?n:_,L),T?p?(p.input=p.input.slice(C),p[0]=p[0].slice(C),p.index=_.lastIndex,_.lastIndex+=p[0].length):_.lastIndex=0:o&&p&&(_.lastIndex=_.global?p.index+p[0].length:s),l&&p&&1<p.length&&y.call(p[0],n,function(){for(h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(p[h]=void 0)}),p}:r},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,H,A){var m=t("../internals/an-object");H.exports=function(){var g=m(this),c="";return g.global&&(c+="g"),g.ignoreCase&&(c+="i"),g.multiline&&(c+="m"),g.dotAll&&(c+="s"),g.unicode&&(c+="u"),g.sticky&&(c+="y"),c}},{"../internals/an-object":10}],114:[function(t,H,A){t=t("./fails");function m(g,c){return RegExp(g,c)}A.UNSUPPORTED_Y=t(function(){var g=m("a","y");return g.lastIndex=2,g.exec("abcd")!=null}),A.BROKEN_CARET=t(function(){var g=m("^r","gy");return g.lastIndex=2,g.exec("str")!=null})},{"./fails":51}],115:[function(t,H,A){H.exports=function(m){if(m==null)throw TypeError("Can't call method on "+m);return m}},{}],116:[function(t,H,A){H.exports=Object.is||function(m,g){return m===g?m!==0||1/m==1/g:m!=m&&g!=g}},{}],117:[function(t,H,A){var m=t("../internals/global"),g=t("../internals/create-non-enumerable-property");H.exports=function(c,d){try{g(m,c,d)}catch{m[c]=d}return d}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,H,A){var m=t("../internals/get-built-in"),g=t("../internals/object-define-property"),c=t("../internals/well-known-symbol"),d=t("../internals/descriptors"),b=c("species");H.exports=function(r){var r=m(r),o=g.f;d&&r&&!r[b]&&o(r,b,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,H,A){var m=t("../internals/object-define-property").f,g=t("../internals/has"),c=t("../internals/well-known-symbol")("toStringTag");H.exports=function(d,b,y){d&&!g(d=y?d:d.prototype,c)&&m(d,c,{configurable:!0,value:b})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,H,A){var m=t("../internals/shared"),g=t("../internals/uid"),c=m("keys");H.exports=function(d){return c[d]||(c[d]=g(d))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(m,H,A){var c=m("../internals/global"),m=m("../internals/set-global"),g="__core-js_shared__",c=c[g]||m(g,{});H.exports=c},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,H,A){var m=t("../internals/is-pure"),g=t("../internals/shared-store");(H.exports=function(c,d){return g[c]||(g[c]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:m?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,H,A){var m=t("../internals/an-object"),g=t("../internals/a-function"),c=t("../internals/well-known-symbol")("species");H.exports=function(y,b){var y=m(y).constructor;return y===void 0||(y=m(y)[c])==null?b:g(y)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,H,A){var m=t("../internals/fails");H.exports=function(g){return m(function(){var c=""[g]('"');return c!==c.toLowerCase()||3<c.split('"').length})}},{"../internals/fails":51}],125:[function(t,H,A){function m(d){return function(o,i){var r,o=String(c(o)),i=g(i),l=o.length;return i<0||l<=i?d?"":void 0:(r=o.charCodeAt(i))<55296||56319<r||i+1===l||(l=o.charCodeAt(i+1))<56320||57343<l?d?o.charAt(i):r:d?o.slice(i,i+2):l-56320+(r-55296<<10)+65536}}var g=t("../internals/to-integer"),c=t("../internals/require-object-coercible");H.exports={codeAt:m(!1),charAt:m(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,H,A){t=t("../internals/engine-user-agent"),H.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,H,A){function m(y){return function(l,n,s){var l=String(d(l)),u=l.length,s=s===void 0?" ":String(s),n=g(n);return n<=u||s==""?l:((u=c.call(s,b((n=n-u)/s.length))).length>n&&(u=u.slice(0,n)),y?l+u:u+l)}}var g=t("../internals/to-length"),c=t("../internals/string-repeat"),d=t("../internals/require-object-coercible"),b=Math.ceil;H.exports={start:m(!1),end:m(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,H,A){function m(p){return p+22+75*(p<26)}function g(p){var h,_=[],T=(p=(function(Z){for(var Q=[],le=0,w=Z.length;le<w;){var R,N=Z.charCodeAt(le++);55296<=N&&N<=56319&&le<w?(64512&(R=Z.charCodeAt(le++)))==56320?Q.push(((1023&N)<<10)+(1023&R)+65536):(Q.push(N),le--):Q.push(N)}return Q})(p)).length,j=128,S=0,C=72;for(O=0;O<p.length;O++)(h=p[O])<128&&_.push(n(h));var L=_.length,E=L;for(L&&_.push("-");E<T;){for(var I=c,O=0;O<p.length;O++)j<=(h=p[O])&&h<I&&(I=h);var U=E+1;if(I-j>s((c-S)/U))throw RangeError(l);for(S+=(I-j)*U,j=I,O=0;O<p.length;O++){if((h=p[O])<j&&++S>c)throw RangeError(l);if(h==j){for(var D=S,B=d;;B+=d){var X=B<=C?1:C+b<=B?b:B-C;if(D<X)break;var W=D-X,G=d-X;_.push(n(m(X+W%G))),D=s(W/G)}_.push(n(m(D))),C=(function(Z,Q,le){var w=0;for(Z=le?s(Z/r):Z>>1,Z+=s(Z/Q);u*b>>1<Z;w+=d)Z=s(Z/u);return s(w+(u+1)*Z/(Z+y))})(S,U,E==L),S=0,++E}}++S,++j}return _.join("")}var c=2147483647,d=36,b=26,y=38,r=700,o=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,l="Overflow: input needs wider integers to process",u=d-1,s=Math.floor,n=String.fromCharCode;H.exports=function(p){for(var h,_=[],T=p.toLowerCase().replace(i,".").split("."),j=0;j<T.length;j++)h=T[j],_.push(o.test(h)?"xn--"+g(h):h);return _.join(".")}},{}],129:[function(t,H,A){var m=t("../internals/to-integer"),g=t("../internals/require-object-coercible");H.exports="".repeat||function(c){var d=String(g(this)),b="",y=m(c);if(y<0||y==1/0)throw RangeError("Wrong number of repetitions");for(;0<y;(y>>>=1)&&(d+=d))1&y&&(b+=d);return b}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,H,A){var m=t("../internals/fails"),g=t("../internals/whitespaces");H.exports=function(c){return m(function(){return!!g[c]()||""[c]()!=""||g[c].name!==c})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(c,H,A){function m(y){return function(r){return r=String(g(r)),1&y&&(r=r.replace(d,"")),r=2&y?r.replace(b,""):r}}var g=c("../internals/require-object-coercible"),c="["+c("../internals/whitespaces")+"]",d=RegExp("^"+c+c+"*"),b=RegExp(c+c+"*$");H.exports={start:m(1),end:m(2),trim:m(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(u,H,A){function m(E){return function(){L(E)}}function g(E){L(E.data)}function c(E){b.postMessage(E+"",s.protocol+"//"+s.host)}var d,b=u("../internals/global"),y=u("../internals/fails"),r=u("../internals/classof-raw"),o=u("../internals/function-bind-context"),i=u("../internals/html"),l=u("../internals/document-create-element"),u=u("../internals/engine-is-ios"),s=b.location,n=b.setImmediate,p=b.clearImmediate,h=b.process,_=b.MessageChannel,T=b.Dispatch,j=0,S={},C="onreadystatechange",L=function(E){var I;S.hasOwnProperty(E)&&(I=S[E],delete S[E],I())};n&&p||(n=function(E){for(var I=[],O=1;O<arguments.length;)I.push(arguments[O++]);return S[++j]=function(){(typeof E=="function"?E:Function(E)).apply(void 0,I)},d(j),j},p=function(E){delete S[E]},r(h)=="process"?d=function(E){h.nextTick(m(E))}:T&&T.now?d=function(E){T.now(m(E))}:_&&!u?(u=(r=new _).port2,r.port1.onmessage=g,d=o(u.postMessage,u,1)):!b.addEventListener||typeof postMessage!="function"||b.importScripts||y(c)||s.protocol==="file:"?d=C in l("script")?function(E){i.appendChild(l("script"))[C]=function(){i.removeChild(this),L(E)}}:function(E){setTimeout(m(E),0)}:(d=c,b.addEventListener("message",g,!1))),H.exports={set:n,clear:p}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,H,A){var m=t("../internals/classof-raw");H.exports=function(g){if(typeof g!="number"&&m(g)!="Number")throw TypeError("Incorrect invocation");return+g}},{"../internals/classof-raw":28}],134:[function(t,H,A){var m=t("../internals/to-integer"),g=Math.max,c=Math.min;H.exports=function(d,b){return d=m(d),d<0?g(d+b,0):c(d,b)}},{"../internals/to-integer":137}],135:[function(t,H,A){var m=t("../internals/to-integer"),g=t("../internals/to-length");H.exports=function(d){if(d===void 0)return 0;var d=m(d),b=g(d);if(d!==b)throw RangeError("Wrong length or index");return b}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,H,A){var m=t("../internals/indexed-object"),g=t("../internals/require-object-coercible");H.exports=function(c){return m(g(c))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,H,A){var m=Math.ceil,g=Math.floor;H.exports=function(c){return isNaN(c=+c)?0:(0<c?g:m)(c)}},{}],138:[function(t,H,A){var m=t("../internals/to-integer"),g=Math.min;H.exports=function(c){return 0<c?g(m(c),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,H,A){var m=t("../internals/require-object-coercible");H.exports=function(g){return Object(m(g))}},{"../internals/require-object-coercible":115}],140:[function(t,H,A){var m=t("../internals/to-positive-integer");H.exports=function(g,c){if(g=m(g),g%c)throw RangeError("Wrong offset");return g}},{"../internals/to-positive-integer":141}],141:[function(t,H,A){var m=t("../internals/to-integer");H.exports=function(g){if(g=m(g),g<0)throw RangeError("The argument can't be less than 0");return g}},{"../internals/to-integer":137}],142:[function(t,H,A){var m=t("../internals/is-object");H.exports=function(g,c){if(!m(g))return g;var d,b;if(c&&typeof(d=g.toString)=="function"&&!m(b=d.call(g))||typeof(d=g.valueOf)=="function"&&!m(b=d.call(g))||!c&&typeof(d=g.toString)=="function"&&!m(b=d.call(g)))return b;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,H,A){var m={};m[t("../internals/well-known-symbol")("toStringTag")]="z",H.exports=String(m)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,H,A){function m(xe,Te){for(var Pe=0,qe=Te.length,Re=new(te(xe))(qe);Pe<qe;)Re[Pe]=Te[Pe++];return Re}function g(xe,Te){R(xe,Te,{get:function(){return le(this)[Te]}})}function c(xe){return xe instanceof re||(xe=L(xe))=="ArrayBuffer"||xe=="SharedArrayBuffer"}function d(xe,Te){return me(xe)&&typeof Te!="symbol"&&Te in xe&&String(+Te)==String(Te)}function b(xe,Te){return d(xe,Te=S(Te,!0))?p(2,xe[Te]):N(xe,Te)}function y(xe,Te,Pe){return!(d(xe,Te=S(Te,!0))&&E(Pe)&&C(Pe,"value"))||C(Pe,"get")||C(Pe,"set")||Pe.configurable||C(Pe,"writable")&&!Pe.writable||C(Pe,"enumerable")&&!Pe.enumerable?R(xe,Te,Pe):(xe[Te]=Pe.value,xe)}var r=t("../internals/export"),o=t("../internals/global"),i=t("../internals/descriptors"),l=t("../internals/typed-array-constructors-require-wrappers"),u=t("../internals/array-buffer-view-core"),s=t("../internals/array-buffer"),n=t("../internals/an-instance"),p=t("../internals/create-property-descriptor"),h=t("../internals/create-non-enumerable-property"),_=t("../internals/to-length"),T=t("../internals/to-index"),j=t("../internals/to-offset"),S=t("../internals/to-primitive"),C=t("../internals/has"),L=t("../internals/classof"),E=t("../internals/is-object"),I=t("../internals/object-create"),O=t("../internals/object-set-prototype-of"),U=t("../internals/object-get-own-property-names").f,D=t("../internals/typed-array-from"),B=t("../internals/array-iteration").forEach,X=t("../internals/set-species"),W=t("../internals/object-define-property"),G=t("../internals/object-get-own-property-descriptor"),Z=t("../internals/internal-state"),Q=t("../internals/inherit-if-required"),le=Z.get,w=Z.set,R=W.f,N=G.f,q=Math.round,J=o.RangeError,re=s.ArrayBuffer,ce=s.DataView,ge=u.NATIVE_ARRAY_BUFFER_VIEWS,se=u.TYPED_ARRAY_TAG,pe=u.TypedArray,ye=u.TypedArrayPrototype,te=u.aTypedArrayConstructor,me=u.isTypedArray,we="BYTES_PER_ELEMENT",Ee="Wrong length";i?(ge||(G.f=b,W.f=y,g(ye,"buffer"),g(ye,"byteOffset"),g(ye,"byteLength"),g(ye,"length")),r({target:"Object",stat:!0,forced:!ge},{getOwnPropertyDescriptor:b,defineProperty:y}),H.exports=function(Oe,Te,Pe){function qe(Le,ee){R(Le,ee,{get:function(){var oe=this,K=ee;return(oe=le(oe)).view[st](K*Re+oe.byteOffset,!0)},set:function(oe){var K=this,ie=ee;K=le(K),Pe&&(oe=(oe=q(oe))<0?0:255<oe?255:255&oe),K.view[nt](ie*Re+K.byteOffset,oe,!0)},enumerable:!0})}var Re=Oe.match(/\d+$/)[0]/8,ft=Oe+(Pe?"Clamped":"")+"Array",st="get"+Oe,nt="set"+Oe,ut=o[ft],it=ut,Oe=it&&it.prototype,Xe={};ge?l&&(it=Te(function(Le,ee,oe,K){return n(Le,it,ft),Q(E(ee)?c(ee)?K!==void 0?new ut(ee,j(oe,Re),K):oe!==void 0?new ut(ee,j(oe,Re)):new ut(ee):me(ee)?m(it,ee):D.call(it,ee):new ut(T(ee)),Le,it)}),O&&O(it,pe),B(U(ut),function(Le){Le in it||h(it,Le,ut[Le])}),it.prototype=Oe):(it=Te(function(Le,ee,oe,K){n(Le,it,ft);var ie,je,Ae=0,Ge=0;if(E(ee)){if(!c(ee))return me(ee)?m(it,ee):D.call(it,ee);var $e=ee,Ge=j(oe,Re),oe=ee.byteLength;if(K===void 0){if(oe%Re||(ie=oe-Ge)<0)throw J(Ee)}else if(oe<(ie=_(K)*Re)+Ge)throw J(Ee);je=ie/Re}else je=T(ee),$e=new re(ie=je*Re);for(w(Le,{buffer:$e,byteOffset:Ge,byteLength:ie,length:je,view:new ce($e)});Ae<je;)qe(Le,Ae++)}),O&&O(it,pe),Oe=it.prototype=I(ye)),Oe.constructor!==it&&h(Oe,"constructor",it),se&&h(Oe,se,ft),Xe[ft]=it,r({global:!0,forced:it!=ut,sham:!ge},Xe),we in it||h(it,we,Re),we in Oe||h(Oe,we,Re),X(ft)}):H.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(d,H,A){var m=d("../internals/global"),g=d("../internals/fails"),c=d("../internals/check-correctness-of-iteration"),d=d("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,b=m.ArrayBuffer,y=m.Int8Array;H.exports=!d||!g(function(){y(1)})||!g(function(){new y(-1)})||!c(function(r){new y,new y(null),new y(1.5),new y(r)},!0)||g(function(){return new y(new b(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,H,A){var m=t("../internals/to-object"),g=t("../internals/to-length"),c=t("../internals/get-iterator-method"),d=t("../internals/is-array-iterator-method"),b=t("../internals/function-bind-context"),y=t("../internals/array-buffer-view-core").aTypedArrayConstructor;H.exports=function(r){var o,i,l,u,s,n,p=m(r),h=arguments.length,_=1<h?arguments[1]:void 0,T=_!==void 0,j=c(p);if(j!=null&&!d(j))for(n=(s=j.call(p)).next,p=[];!(u=n.call(s)).done;)p.push(u.value);for(T&&2<h&&(_=b(_,arguments[2],2)),i=g(p.length),l=new(y(this))(i),o=0;o<i;o++)l[o]=T?_(p[o],o):p[o];return l}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,H,A){var m=0,g=Math.random();H.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++m+g).toString(36)}},{}],148:[function(t,H,A){t=t("../internals/native-symbol"),H.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,H,A){t=t("../internals/well-known-symbol"),A.f=t},{"../internals/well-known-symbol":150}],150:[function(y,H,A){var m=y("../internals/global"),g=y("../internals/shared"),c=y("../internals/has"),d=y("../internals/uid"),b=y("../internals/native-symbol"),y=y("../internals/use-symbol-as-uid"),r=g("wks"),o=m.Symbol,i=y?o:o&&o.withoutSetter||d;H.exports=function(l){return c(r,l)||(b&&c(o,l)?r[l]=o[l]:r[l]=i("Symbol."+l)),r[l]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,H,A){H.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],152:[function(c,H,A){var m=c("../internals/export"),g=c("../internals/global"),b=c("../internals/array-buffer"),c=c("../internals/set-species"),d="ArrayBuffer",b=b[d];m({global:!0,forced:g[d]!==b},{ArrayBuffer:b}),c(d)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(p,H,A){var m=p("../internals/export"),g=p("../internals/fails"),c=p("../internals/is-array"),d=p("../internals/is-object"),b=p("../internals/to-object"),y=p("../internals/to-length"),r=p("../internals/create-property"),o=p("../internals/array-species-create"),i=p("../internals/array-method-has-species-support"),n=p("../internals/well-known-symbol"),p=p("../internals/engine-v8-version"),l=n("isConcatSpreadable"),u=9007199254740991,s="Maximum allowed index exceeded",n=51<=p||!g(function(){var h=[];return h[l]=!1,h.concat()[0]!==h}),p=i("concat");m({target:"Array",proto:!0,forced:!n||!p},{concat:function(h){for(var _,T,j,S,C,L=b(this),E=o(L,0),I=0,O=-1,U=arguments.length;O<U;O++)if(C=void 0,!d(S=j=O===-1?L:arguments[O])||((C=S[l])!==void 0?!C:!c(S))){if(u<=I)throw TypeError(s);r(E,I++,j)}else{if(T=y(j.length),u<I+T)throw TypeError(s);for(_=0;_<T;_++,I++)_ in j&&r(E,I,j[_])}return E.length=I,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(c,H,A){var m=c("../internals/export"),g=c("../internals/array-copy-within"),c=c("../internals/add-to-unscopables");m({target:"Array",proto:!0},{copyWithin:g}),c("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(d,H,A){var m=d("../internals/export"),g=d("../internals/array-iteration").every,c=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),c=c("every"),d=d("every");m({target:"Array",proto:!0,forced:!c||!d},{every:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(c,H,A){var m=c("../internals/export"),g=c("../internals/array-fill"),c=c("../internals/add-to-unscopables");m({target:"Array",proto:!0},{fill:g}),c("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(d,H,A){var m=d("../internals/export"),g=d("../internals/array-iteration").filter,c=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),c=c("filter"),d=d("filter");m({target:"Array",proto:!0,forced:!c||!d},{filter:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(y,H,A){var m=y("../internals/export"),g=y("../internals/array-iteration").findIndex,c=y("../internals/add-to-unscopables"),y=y("../internals/array-method-uses-to-length"),d="findIndex",b=!0,y=y(d);d in[]&&Array(1)[d](function(){b=!1}),m({target:"Array",proto:!0,forced:b||!y},{findIndex:function(r){return g(this,r,1<arguments.length?arguments[1]:void 0)}}),c(d)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/flatten-into-array"),c=t("../internals/to-object"),d=t("../internals/to-length"),b=t("../internals/a-function"),y=t("../internals/array-species-create");m({target:"Array",proto:!0},{flatMap:function(r){var o,i=c(this),l=d(i.length);return b(r),(o=y(i,0)).length=g(o,i,i,l,0,1,r,1<arguments.length?arguments[1]:void 0),o}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/flatten-into-array"),c=t("../internals/to-object"),d=t("../internals/to-length"),b=t("../internals/to-integer"),y=t("../internals/array-species-create");m({target:"Array",proto:!0},{flat:function(){var r=arguments.length?arguments[0]:void 0,o=c(this),i=d(o.length),l=y(o,0);return l.length=g(l,o,o,i,0,r===void 0?1:b(r)),l}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(g,H,A){var m=g("../internals/export"),g=g("../internals/array-for-each");m({target:"Array",proto:!0,forced:[].forEach!=g},{forEach:g})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/array-from");m({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(c){Array.from(c)})},{from:g})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/array-includes").includes,c=t("../internals/add-to-unscopables");m({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(d){return g(this,d,1<arguments.length?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(y,H,A){var m=y("../internals/export"),g=y("../internals/array-includes").indexOf,b=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),c=[].indexOf,d=!!c&&1/[1].indexOf(1,-0)<0,b=b("indexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});m({target:"Array",proto:!0,forced:d||!b||!y},{indexOf:function(r){return d?c.apply(this,arguments)||0:g(this,r,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(b,H,A){var m=b("../internals/to-indexed-object"),g=b("../internals/add-to-unscopables"),c=b("../internals/iterators"),d=b("../internals/internal-state"),b=b("../internals/define-iterator"),y="Array Iterator",r=d.set,o=d.getterFor(y);H.exports=b(Array,"Array",function(i,l){r(this,{type:y,target:m(i),index:0,kind:l})},function(){var i=o(this),l=i.target,u=i.kind,s=i.index++;return!l||s>=l.length?{value:i.target=void 0,done:!0}:u=="keys"?{value:s,done:!1}:u=="values"?{value:l[s],done:!1}:{value:[s,l[s]],done:!1}},"values"),c.Arguments=c.Array,g("keys"),g("values"),g("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(b,H,A){var m=b("../internals/export"),d=b("../internals/indexed-object"),g=b("../internals/to-indexed-object"),b=b("../internals/array-method-is-strict"),c=[].join,d=d!=Object,b=b("join",",");m({target:"Array",proto:!0,forced:d||!b},{join:function(y){return c.call(g(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(g,H,A){var m=g("../internals/export"),g=g("../internals/array-last-index-of");m({target:"Array",proto:!0,forced:g!==[].lastIndexOf},{lastIndexOf:g})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(d,H,A){var m=d("../internals/export"),g=d("../internals/array-iteration").map,c=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),c=c("map"),d=d("map");m({target:"Array",proto:!0,forced:!c||!d},{map:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(l,H,A){var m=l("../internals/export"),g=l("../internals/is-object"),c=l("../internals/is-array"),d=l("../internals/to-absolute-index"),b=l("../internals/to-length"),y=l("../internals/to-indexed-object"),r=l("../internals/create-property"),o=l("../internals/well-known-symbol"),i=l("../internals/array-method-has-species-support"),l=l("../internals/array-method-uses-to-length"),i=i("slice"),l=l("slice",{ACCESSORS:!0,0:0,1:2}),u=o("species"),s=[].slice,n=Math.max;m({target:"Array",proto:!0,forced:!i||!l},{slice:function(p,h){var _,T,j,S=y(this),C=b(S.length),L=d(p,C),E=d(h===void 0?C:h,C);if(c(S)&&((_=typeof(_=S.constructor)=="function"&&(_===Array||c(_.prototype))||g(_)&&(_=_[u])===null?void 0:_)===Array||_===void 0))return s.call(S,L,E);for(T=new(_===void 0?Array:_)(n(E-L,0)),j=0;L<E;L++,j++)L in S&&r(T,j,S[L]);return T.length=j,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(d,H,A){var m=d("../internals/export"),g=d("../internals/array-iteration").some,c=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),c=c("some"),d=d("some");m({target:"Array",proto:!0,forced:!c||!d},{some:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(i,H,A){var m=i("../internals/export"),g=i("../internals/to-absolute-index"),c=i("../internals/to-integer"),d=i("../internals/to-length"),b=i("../internals/to-object"),y=i("../internals/array-species-create"),r=i("../internals/create-property"),o=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),o=o("splice"),i=i("splice",{ACCESSORS:!0,0:0,1:2}),l=Math.max,u=Math.min;m({target:"Array",proto:!0,forced:!o||!i},{splice:function(I,n){var p,h,_,T,j,S,C=b(this),L=d(C.length),E=g(I,L),I=arguments.length;if(I===0?p=h=0:h=I===1?(p=0,L-E):(p=I-2,u(l(c(n),0),L-E)),9007199254740991<L+p-h)throw TypeError("Maximum allowed length exceeded");for(_=y(C,h),T=0;T<h;T++)(j=E+T)in C&&r(_,T,C[j]);if(p<(_.length=h)){for(T=E;T<L-h;T++)S=T+p,(j=T+h)in C?C[S]=C[j]:delete C[S];for(T=L;L-h+p<T;T--)delete C[T-1]}else if(h<p)for(T=L-h;E<T;T--)S=T+p-1,(j=T+h-1)in C?C[S]=C[j]:delete C[S];for(T=0;T<p;T++)C[T+E]=arguments[T+2];return C.length=L-h+p,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,H,A){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,H,A){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(g,H,A){var m=g("../internals/descriptors"),g=g("../internals/object-define-property").f,c=Function.prototype,d=c.toString,b=/^\s*function ([^ (]*)/;!m||"name"in c||g(c,"name",{configurable:!0,get:function(){try{return d.call(this).match(b)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(g,H,A){var m=g("../internals/collection"),g=g("../internals/collection-strong");H.exports=m("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(m,H,A){var m=m("../internals/export"),g=Math.hypot,c=Math.abs,d=Math.sqrt;m({target:"Math",stat:!0,forced:!!g&&g(1/0,NaN)!==1/0},{hypot:function(b,y){for(var r,o,i=0,l=0,u=arguments.length,s=0;l<u;)s<(r=c(arguments[l++]))?(i=i*(o=s/r)*o+1,s=r):i+=0<r?(o=r/s)*o:r;return s===1/0?1/0:s*d(i)}})},{"../internals/export":50}],177:[function(m,H,A){var m=m("../internals/export"),g=Math.log,c=Math.LN2;m({target:"Math",stat:!0},{log2:function(d){return g(d)/c}})},{"../internals/export":50}],178:[function(t,H,A){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,H,A){function m(O){var U,D,B,X,W,G,Z,Q=i(O,!1);if(typeof Q=="string"&&2<Q.length){if((O=(Q=h(Q)).charCodeAt(0))===43||O===45){if((U=Q.charCodeAt(2))===88||U===120)return NaN}else if(O===48){switch(Q.charCodeAt(1)){case 66:case 98:D=2,B=49;break;case 79:case 111:D=8,B=55;break;default:return+Q}for(W=(X=Q.slice(2)).length,G=0;G<W;G++)if((Z=X.charCodeAt(G))<48||B<Z)return NaN;return parseInt(X,D)}}return+Q}var g=t("../internals/descriptors"),c=t("../internals/global"),d=t("../internals/is-forced"),b=t("../internals/redefine"),y=t("../internals/has"),r=t("../internals/classof-raw"),o=t("../internals/inherit-if-required"),i=t("../internals/to-primitive"),l=t("../internals/fails"),u=t("../internals/object-create"),s=t("../internals/object-get-own-property-names").f,n=t("../internals/object-get-own-property-descriptor").f,p=t("../internals/object-define-property").f,h=t("../internals/string-trim").trim,_="Number",T=c[_],j=T.prototype,S=r(u(j))==_;if(d(_,!T(" 0o1")||!T("0b1")||T("+0x1"))){for(var C,L=function(U){var U=arguments.length<1?0:U,D=this;return D instanceof L&&(S?l(function(){j.valueOf.call(D)}):r(D)!=_)?o(new T(m(U)),D,L):m(U)},E=g?s(T):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;E.length>I;I++)y(T,C=E[I])&&!y(L,C)&&p(L,C,n(T,C));(L.prototype=j).constructor=L,b(c,_,L)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,H,A){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,H,A){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(y,H,A){function m(i,l,u){return l===0?u:l%2==1?m(i,l-1,u*i):m(i*i,l/2,u)}var g=y("../internals/export"),c=y("../internals/to-integer"),d=y("../internals/this-number-value"),b=y("../internals/string-repeat"),y=y("../internals/fails"),r=1 .toFixed,o=Math.floor;g({target:"Number",proto:!0,forced:r&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!y(function(){r.call({})})},{toFixed:function(_){function l(C,L){for(var E=-1,I=L;++E<6;)I+=C*T[E],T[E]=I%1e7,I=o(I/1e7)}function u(C){for(var L=6,E=0;0<=--L;)E+=T[L],T[L]=o(E/C),E=E%C*1e7}function s(){for(var C,L=6,E="";0<=--L;)E===""&&L!==0&&T[L]===0||(C=String(T[L]),E=E===""?C:E+b.call("0",7-C.length)+C);return E}var n,p,h=d(this),_=c(_),T=[0,0,0,0,0,0],j="",S="0";if(_<0||20<_)throw RangeError("Incorrect fraction digits");if(h!=h)return"NaN";if(h<=-1e21||1e21<=h)return String(h);if(h<0&&(j="-",h=-h),1e-21<h)if(h=(n=(function(C){for(var L=0,E=C;4096<=E;)L+=12,E/=4096;for(;2<=E;)L+=1,E/=2;return L})(h*m(2,69,1))-69)<0?h*m(2,-n,1):h/m(2,n,1),h*=4503599627370496,0<(n=52-n)){for(l(0,h),p=_;7<=p;)l(1e7,0),p-=7;for(l(m(10,p,1),0),p=n-1;23<=p;)u(1<<23),p-=23;u(1<<p),l(1,1),u(2),S=s()}else l(0,h),l(1<<-n,0),S=s()+b.call("0",_);return S=0<_?j+((h=S.length)<=_?"0."+b.call("0",_-h)+S:S.slice(0,h-_)+"."+S.slice(h-_)):j+S}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(g,H,A){var m=g("../internals/export"),g=g("../internals/object-assign");m({target:"Object",stat:!0,forced:Object.assign!==g},{assign:g})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/object-to-array").entries;m({target:"Object",stat:!0},{entries:function(c){return g(c)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/iterate"),c=t("../internals/create-property");m({target:"Object",stat:!0},{fromEntries:function(d){var b={};return g(d,function(y,r){c(b,y,r)},void 0,!0),b}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(d,H,A){var m=d("../internals/export"),b=d("../internals/fails"),g=d("../internals/to-indexed-object"),c=d("../internals/object-get-own-property-descriptor").f,d=d("../internals/descriptors"),b=b(function(){c(1)});m({target:"Object",stat:!0,forced:!d||b,sham:!d},{getOwnPropertyDescriptor:function(y,r){return c(g(y),r)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(c,H,A){var m=c("../internals/export"),g=c("../internals/fails"),c=c("../internals/object-get-own-property-names-external").f;m({target:"Object",stat:!0,forced:g(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:c})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(b,H,A){var m=b("../internals/export"),g=b("../internals/fails"),c=b("../internals/to-object"),d=b("../internals/object-get-prototype-of"),b=b("../internals/correct-prototype-getter");m({target:"Object",stat:!0,forced:g(function(){d(1)}),sham:!b},{getPrototypeOf:function(y){return d(c(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/to-object"),c=t("../internals/object-keys");m({target:"Object",stat:!0,forced:t("../internals/fails")(function(){c(1)})},{keys:function(d){return c(g(d))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(c,H,A){var m=c("../internals/to-string-tag-support"),g=c("../internals/redefine"),c=c("../internals/object-to-string");m||g(Object.prototype,"toString",c,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Pe,H,A){var m,g,c,d,b=Pe("../internals/export"),y=Pe("../internals/is-pure"),r=Pe("../internals/global"),o=Pe("../internals/get-built-in"),i=Pe("../internals/native-promise-constructor"),l=Pe("../internals/redefine"),u=Pe("../internals/redefine-all"),s=Pe("../internals/set-to-string-tag"),n=Pe("../internals/set-species"),p=Pe("../internals/is-object"),h=Pe("../internals/a-function"),_=Pe("../internals/an-instance"),T=Pe("../internals/classof-raw"),j=Pe("../internals/inspect-source"),S=Pe("../internals/iterate"),C=Pe("../internals/check-correctness-of-iteration"),L=Pe("../internals/species-constructor"),E=Pe("../internals/task").set,I=Pe("../internals/microtask"),O=Pe("../internals/promise-resolve"),U=Pe("../internals/host-report-errors"),D=Pe("../internals/new-promise-capability"),B=Pe("../internals/perform"),X=Pe("../internals/internal-state"),W=Pe("../internals/is-forced"),qe=Pe("../internals/well-known-symbol"),G=Pe("../internals/engine-v8-version"),Z=qe("species"),Q="Promise",le=X.get,w=X.set,R=X.getterFor(Q),N=i,q=r.TypeError,J=r.document,re=r.process,ce=o("fetch"),ge=D.f,se=ge,pe=T(re)=="process",ye=!!(J&&J.createEvent&&r.dispatchEvent),te="unhandledrejection",me="rejectionhandled",we=1,Ee=2,xe=1,Te=2,Pe=W(Q,function(){var Xe,Le;return j(N)===String(N)&&(G===66||!pe&&typeof PromiseRejectionEvent!="function")?!0:!(!y||N.prototype.finally)||!(51<=G&&/native code/.test(N))&&(Le=function(ee){ee(function(){},function(){})},((Xe=N.resolve(1)).constructor={})[Z]=Le,!(Xe.then(function(){})instanceof Le))}),qe=Pe||!C(function(Xe){N.all(Xe).catch(function(){})}),Re=function(Xe){var Le;return!(!p(Xe)||typeof(Le=Xe.then)!="function")&&Le},ft=function(Xe,Le,ee){var oe;Le.notified||(Le.notified=!0,oe=Le.reactions,I(function(){for(var K,ie,je=Le.value,Ae=Le.state==we,Ge=0;oe.length>Ge;){var $e,rt,ot,lt=oe[Ge++],Et=Ae?lt.ok:lt.fail,wt=lt.resolve,gt=lt.reject,jt=lt.domain;try{Et?(Ae||(Le.rejection===Te&&(function(xt,Jt){E.call(r,function(){pe?re.emit("rejectionHandled",xt):st(me,xt,Jt.value)})})(Xe,Le),Le.rejection=xe),Et===!0?$e=je:(jt&&jt.enter(),$e=Et(je),jt&&(jt.exit(),ot=!0)),$e===lt.promise?gt(q("Promise-chain cycle")):(rt=Re($e))?rt.call($e,wt,gt):wt($e)):gt(je)}catch(xt){jt&&!ot&&jt.exit(),gt(xt)}}Le.reactions=[],Le.notified=!1,ee&&!Le.rejection&&(K=Xe,ie=Le,E.call(r,function(){var xt=ie.value,Jt=nt(ie);if(Jt&&(Jt=B(function(){pe?re.emit("unhandledRejection",xt,K):st(te,K,xt)}),ie.rejection=pe||nt(ie)?Te:xe,Jt.error))throw Jt.value}))}))},st=function(Xe,Le,ee){var oe;ye?((oe=J.createEvent("Event")).promise=Le,oe.reason=ee,oe.initEvent(Xe,!1,!0),r.dispatchEvent(oe)):oe={promise:Le,reason:ee},(Le=r["on"+Xe])?Le(oe):Xe===te&&U("Unhandled promise rejection",ee)},nt=function(Xe){return Xe.rejection!==xe&&!Xe.parent},ut=function(Xe,Le,ee,oe){return function(K){Xe(Le,ee,K,oe)}},it=function(Xe,Le,ee,oe){Le.done||(Le.done=!0,(Le=oe||Le).value=ee,Le.state=Ee,ft(Xe,Le,!0))},Oe=function(Xe,Le,ee,oe){if(!Le.done){Le.done=!0,oe&&(Le=oe);try{if(Xe===ee)throw q("Promise can't be resolved itself");var K=Re(ee);K?I(function(){var ie={done:!1};try{K.call(ee,ut(Oe,Xe,ie,Le),ut(it,Xe,ie,Le))}catch(je){it(Xe,ie,je,Le)}}):(Le.value=ee,Le.state=we,ft(Xe,Le,!1))}catch(ie){it(Xe,{done:!1},ie,Le)}}};Pe&&(N=function(Xe){_(this,N,Q),h(Xe),m.call(this);var Le=le(this);try{Xe(ut(Oe,this,Le),ut(it,this,Le))}catch(ee){it(this,Le,ee)}},(m=function(Xe){w(this,{type:Q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(N.prototype,{then:function(Xe,Le){var ee=R(this),oe=ge(L(this,N));return oe.ok=typeof Xe!="function"||Xe,oe.fail=typeof Le=="function"&&Le,oe.domain=pe?re.domain:void 0,ee.parent=!0,ee.reactions.push(oe),ee.state!=0&&ft(this,ee,!1),oe.promise},catch:function(Xe){return this.then(void 0,Xe)}}),g=function(){var Xe=new m,Le=le(Xe);this.promise=Xe,this.resolve=ut(Oe,Xe,Le),this.reject=ut(it,Xe,Le)},D.f=ge=function(Xe){return Xe===N||Xe===c?new g:se(Xe)},y||typeof i!="function"||(d=i.prototype.then,l(i.prototype,"then",function(Xe,Le){var ee=this;return new N(function(oe,K){d.call(ee,oe,K)}).then(Xe,Le)},{unsafe:!0}),typeof ce=="function"&&b({global:!0,enumerable:!0,forced:!0},{fetch:function(Xe){return O(N,ce.apply(r,arguments))}}))),b({global:!0,wrap:!0,forced:Pe},{Promise:N}),s(N,Q,!1,!0),n(Q),c=o(Q),b({target:Q,stat:!0,forced:Pe},{reject:function(Xe){var Le=ge(this);return Le.reject.call(void 0,Xe),Le.promise}}),b({target:Q,stat:!0,forced:y||Pe},{resolve:function(Xe){return O(y&&this===c?N:this,Xe)}}),b({target:Q,stat:!0,forced:qe},{all:function(Xe){var Le=this,ee=ge(Le),oe=ee.resolve,K=ee.reject,ie=B(function(){var je=h(Le.resolve),Ae=[],Ge=0,$e=1;S(Xe,function(rt){var ot=Ge++,lt=!1;Ae.push(void 0),$e++,je.call(Le,rt).then(function(Et){lt||(lt=!0,Ae[ot]=Et,--$e||oe(Ae))},K)}),--$e||oe(Ae)});return ie.error&&K(ie.value),ee.promise},race:function(Xe){var Le=this,ee=ge(Le),oe=ee.reject,K=B(function(){var ie=h(Le.resolve);S(Xe,function(je){ie.call(Le,je).then(ee.resolve,oe)})});return K.error&&oe(K.value),ee.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(r,H,A){var m=r("../internals/export"),u=r("../internals/get-built-in"),g=r("../internals/a-function"),c=r("../internals/an-object"),d=r("../internals/is-object"),b=r("../internals/object-create"),y=r("../internals/function-bind"),r=r("../internals/fails"),o=u("Reflect","construct"),i=r(function(){function s(){}return!(o(function(){},[],s)instanceof s)}),l=!r(function(){o(function(){})}),u=i||l;m({target:"Reflect",stat:!0,forced:u,sham:u},{construct:function(s,n){g(s),c(n);var p=arguments.length<3?s:g(arguments[2]);if(l&&!i)return o(s,n,p);if(s==p){switch(n.length){case 0:return new s;case 1:return new s(n[0]);case 2:return new s(n[0],n[1]);case 3:return new s(n[0],n[1],n[2]);case 4:return new s(n[0],n[1],n[2],n[3])}var h=[null];return h.push.apply(h,n),new(y.apply(s,h))}return h=p.prototype,p=b(d(h)?h:Object.prototype),h=Function.apply.call(s,p,n),d(h)?h:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/is-object"),c=t("../internals/an-object"),d=t("../internals/has"),b=t("../internals/object-get-own-property-descriptor"),y=t("../internals/object-get-prototype-of");m({target:"Reflect",stat:!0},{get:function r(o,i){var l,u=arguments.length<3?o:arguments[2];return c(o)===u?o[i]:(l=b.f(o,i))?d(l,"value")?l.value:l.get===void 0?void 0:l.get.call(u):g(l=y(o))?r(l,i,u):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,H,A){var m=t("../internals/descriptors"),g=t("../internals/global"),c=t("../internals/is-forced"),d=t("../internals/inherit-if-required"),b=t("../internals/object-define-property").f,y=t("../internals/object-get-own-property-names").f,r=t("../internals/is-regexp"),o=t("../internals/regexp-flags"),i=t("../internals/regexp-sticky-helpers"),l=t("../internals/redefine"),u=t("../internals/fails"),s=t("../internals/internal-state").set,n=t("../internals/set-species"),p=t("../internals/well-known-symbol")("match"),h=g.RegExp,_=h.prototype,T=/a/g,j=/a/g,S=new h(T)!==T,C=i.UNSUPPORTED_Y;if(m&&c("RegExp",!S||C||u(function(){return j[p]=!1,h(T)!=T||h(j)==j||h(T,"i")!="/a/i"}))){for(var L=function(O,U){var D,B=this instanceof L,X=r(O),W=U===void 0;return!B&&X&&O.constructor===L&&W?O:(S?X&&!W&&(O=O.source):O instanceof L&&(W&&(U=o.call(O)),O=O.source),C&&(D=!!U&&-1<U.indexOf("y"))&&(U=U.replace(/y/g,"")),X=d(S?new h(O,U):h(O,U),B?this:_,L),C&&D&&s(X,{sticky:D}),X)},E=y(h),I=0;E.length>I;)(function(O){O in L||b(L,O,{configurable:!0,get:function(){return h[O]},set:function(U){h[O]=U}})})(E[I++]);(_.constructor=L).prototype=_,l(g,"RegExp",L)}n("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(g,H,A){var m=g("../internals/export"),g=g("../internals/regexp-exec");m({target:"RegExp",proto:!0,forced:/./.exec!==g},{exec:g})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(d,H,A){var m=d("../internals/redefine"),g=d("../internals/an-object"),r=d("../internals/fails"),c=d("../internals/regexp-flags"),d="toString",b=RegExp.prototype,y=b[d],r=r(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),o=y.name!=d;(r||o)&&m(RegExp.prototype,d,function(){var i=g(this),l=String(i.source),u=i.flags;return"/"+l+"/"+String(u===void 0&&i instanceof RegExp&&!("flags"in b)?c.call(i):u)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(g,H,A){var m=g("../internals/collection"),g=g("../internals/collection-strong");H.exports=m("Set",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(y,H,A){var m=y("../internals/export"),g=y("../internals/object-get-own-property-descriptor").f,c=y("../internals/to-length"),d=y("../internals/not-a-regexp"),b=y("../internals/require-object-coercible"),i=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),r="".endsWith,o=Math.min,i=i("endsWith");m({target:"String",proto:!0,forced:!!(y||i||!(m=g(String.prototype,"endsWith"))||m.writable)&&!i},{endsWith:function(l){var u=String(b(this)),s=(d(l),1<arguments.length?arguments[1]:void 0),n=c(u.length),s=s===void 0?n:o(c(s),n),n=String(l);return r?r.call(u,n,s):u.slice(s-n.length,s)===n}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/not-a-regexp"),c=t("../internals/require-object-coercible");m({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(d){return!!~String(c(this)).indexOf(g(d),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(c,H,A){var m=c("../internals/string-multibyte").charAt,g=c("../internals/internal-state"),c=c("../internals/define-iterator"),d="String Iterator",b=g.set,y=g.getterFor(d);c(String,"String",function(r){b(this,{type:d,string:String(r),index:0})},function(){var r=y(this),o=r.string,i=r.index;return i>=o.length?{value:void 0,done:!0}:(o=m(o,i),r.index+=o.length,{value:o,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,H,A){var m=t("../internals/fix-regexp-well-known-symbol-logic"),g=t("../internals/an-object"),c=t("../internals/to-length"),d=t("../internals/require-object-coercible"),b=t("../internals/advance-string-index"),y=t("../internals/regexp-exec-abstract");m("match",1,function(r,o,i){return[function(l){var u=d(this),s=l==null?void 0:l[r];return s!==void 0?s.call(l,u):new RegExp(l)[r](String(u))},function(l){var u=i(o,l,this);if(u.done)return u.value;var s=g(l),n=String(this);if(!s.global)return y(s,n);for(var p=s.unicode,h=[],_=s.lastIndex=0;(T=y(s,n))!==null;){var T=String(T[0]);(h[_]=T)===""&&(s.lastIndex=b(n,c(s.lastIndex),p)),_++}return _===0?null:h}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/string-pad").start;m({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(c){return g(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,H,A){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,H,A){var m=t("../internals/fix-regexp-well-known-symbol-logic"),g=t("../internals/an-object"),c=t("../internals/to-object"),d=t("../internals/to-length"),b=t("../internals/to-integer"),y=t("../internals/require-object-coercible"),r=t("../internals/advance-string-index"),o=t("../internals/regexp-exec-abstract"),i=Math.max,l=Math.min,u=Math.floor,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,n=/\$([$&'`]|\d\d?)/g;m("replace",2,function(p,h,_,T){var j=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=T.REPLACE_KEEPS_$0,C=j?"$":"$0";return[function(L,E){var I=y(this),O=L==null?void 0:L[p];return O!==void 0?O.call(L,I,E):h.call(String(I),L,E)},function(L,E){if(!j&&S||typeof E=="string"&&E.indexOf(C)===-1){var I=_(h,L,this,E);if(I.done)return I.value}for(var O,U=g(L),D=String(this),B=typeof E=="function",X=(B||(E=String(E)),U.global),W=(X&&(O=U.unicode,U.lastIndex=0),[]);(w=o(U,D))!==null&&(W.push(w),X);)String(w[0])===""&&(U.lastIndex=r(D,d(U.lastIndex),O));for(var G,Z="",Q=0,le=0;le<W.length;le++){for(var w=W[le],R=String(w[0]),N=i(l(b(w.index),D.length),0),q=[],J=1;J<w.length;J++)q.push((G=w[J])===void 0?G:String(G));var re=w.groups,ce=B?(ce=[R].concat(q,N,D),re!==void 0&&ce.push(re),String(E.apply(void 0,ce))):(function(ge,se,pe,ye,te,me){var we=pe+ge.length,Ee=ye.length,xe=n;return te!==void 0&&(te=c(te),xe=s),h.call(me,xe,function(Te,Pe){var qe;switch(Pe.charAt(0)){case"$":return"$";case"&":return ge;case"`":return se.slice(0,pe);case"'":return se.slice(we);case"<":qe=te[Pe.slice(1,-1)];break;default:var Re,ft=+Pe;if(ft==0)return Te;if(Ee<ft)return(Re=u(ft/10))!==0&&Re<=Ee?ye[Re-1]===void 0?Pe.charAt(1):ye[Re-1]+Pe.charAt(1):Te;qe=ye[ft-1]}return qe===void 0?"":qe})})(R,D,N,q,re,E);Q<=N&&(Z+=D.slice(Q,N)+ce,Q=N+R.length)}return Z+D.slice(Q)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,H,A){var m=t("../internals/fix-regexp-well-known-symbol-logic"),g=t("../internals/an-object"),c=t("../internals/require-object-coercible"),d=t("../internals/same-value"),b=t("../internals/regexp-exec-abstract");m("search",1,function(y,r,o){return[function(i){var l=c(this),u=i==null?void 0:i[y];return u!==void 0?u.call(i,l):new RegExp(i)[y](String(l))},function(i){var l,u=o(r,i,this);return u.done?u.value:(u=g(i),i=String(this),l=u.lastIndex,d(l,0)||(u.lastIndex=0),i=b(u,i),d(u.lastIndex,l)||(u.lastIndex=l),i===null?-1:i.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(l,H,A){var m=l("../internals/fix-regexp-well-known-symbol-logic"),g=l("../internals/is-regexp"),c=l("../internals/an-object"),d=l("../internals/require-object-coercible"),b=l("../internals/species-constructor"),y=l("../internals/advance-string-index"),r=l("../internals/to-length"),o=l("../internals/regexp-exec-abstract"),i=l("../internals/regexp-exec"),l=l("../internals/fails"),u=[].push,s=Math.min,n=4294967295,p=!l(function(){return!RegExp(n,"y")});m("split",2,function(h,_,T){var j="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(S,C){var L=String(d(this)),E=C===void 0?n:C>>>0;if(E==0)return[];if(S===void 0)return[L];if(!g(S))return _.call(L,S,E);for(var I,O,U,D=[],C=(S.ignoreCase?"i":"")+(S.multiline?"m":"")+(S.unicode?"u":"")+(S.sticky?"y":""),B=0,X=new RegExp(S.source,C+"g");(I=i.call(X,L))&&!(B<(O=X.lastIndex)&&(D.push(L.slice(B,I.index)),1<I.length&&I.index<L.length&&u.apply(D,I.slice(1)),U=I[0].length,B=O,D.length>=E));)X.lastIndex===I.index&&X.lastIndex++;return B===L.length?!U&&X.test("")||D.push(""):D.push(L.slice(B)),D.length>E?D.slice(0,E):D}:"0".split(void 0,0).length?function(S,C){return S===void 0&&C===0?[]:_.call(this,S,C)}:_;return[function(S,C){var L=d(this),E=S==null?void 0:S[h];return E!==void 0?E.call(S,L,C):j.call(String(L),S,C)},function(I,C){var L=T(j,I,this,C,j!==_);if(L.done)return L.value;var L=c(I),E=String(this),I=b(L,RegExp),O=L.unicode,U=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(p?"y":"g"),D=new I(p?L:"^(?:"+L.source+")",U),B=C===void 0?n:C>>>0;if(B==0)return[];if(E.length===0)return o(D,E)===null?[E]:[];for(var X=0,W=0,G=[];W<E.length;){D.lastIndex=p?W:0;var Z,Q=o(D,p?E:E.slice(W));if(Q===null||(Z=s(r(D.lastIndex+(p?0:W)),E.length))===X)W=y(E,W,O);else{if(G.push(E.slice(X,W)),G.length===B)return G;for(var le=1;le<=Q.length-1;le++)if(G.push(Q[le]),G.length===B)return G;W=X=Z}}return G.push(E.slice(X)),G}]},!p)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(y,H,A){var m=y("../internals/export"),g=y("../internals/object-get-own-property-descriptor").f,c=y("../internals/to-length"),d=y("../internals/not-a-regexp"),b=y("../internals/require-object-coercible"),i=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),r="".startsWith,o=Math.min,i=i("startsWith");m({target:"String",proto:!0,forced:!!(y||i||!(m=g(String.prototype,"startsWith"))||m.writable)&&!i},{startsWith:function(n){var u=String(b(this)),s=(d(n),c(o(1<arguments.length?arguments[1]:void 0,u.length))),n=String(n);return r?r.call(u,n,s):u.slice(s,s+n.length)===n}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/create-html");m({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return g(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,H,A){var m=t("../internals/export"),g=t("../internals/string-trim").trim;m({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return g(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(s,H,A){var m,g,c,d,b,y=s("../internals/export"),r=s("../internals/descriptors"),o=s("../internals/global"),i=s("../internals/has"),l=s("../internals/is-object"),u=s("../internals/object-define-property").f,s=s("../internals/copy-constructor-properties"),n=o.Symbol;!r||typeof n!="function"||"description"in n.prototype&&n().description===void 0||(m={},s(g=function(){var p=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),h=this instanceof g?new n(p):p===void 0?n():n(p);return p===""&&(m[h]=!0),h},n),(o=g.prototype=n.prototype).constructor=g,c=o.toString,d=String(n("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/,u(o,"description",{configurable:!0,get:function(){var p=l(this)?this.valueOf():this,h=c.call(p);return i(m,p)?"":(p=d?h.slice(7,-1):h.replace(b,"$1"))===""?void 0:p}}),y({global:!0,forced:!0},{Symbol:g}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,H,A){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(se,H,A){function m(K,ie){var je=qe[K]=L(me[ge]);return pe(je,{type:ce,tag:K,description:ie}),i||(je.description=ie),je}function g(K,Ae){_(K);var je=j(Ae),Ae=E(je).concat(oe(je));return J(Ae,function(Ge){i&&!ee.call(je,Ge)||Le(K,Ge,je[Ge])}),K}function c(Ae,Ge){var je,Ae=j(Ae),Ge=S(Ge,!0);if(Ae!==te||!n(qe,Ge)||n(Re,Ge))return!(je=Ee(Ae,Ge))||!n(qe,Ge)||n(Ae,re)&&Ae[re][Ge]||(je.enumerable=!0),je}function d(ie){var ie=Te(j(ie)),je=[];return J(ie,function(Ae){n(qe,Ae)||n(Q,Ae)||je.push(Ae)}),je}var b=se("../internals/export"),y=se("../internals/global"),r=se("../internals/get-built-in"),o=se("../internals/is-pure"),i=se("../internals/descriptors"),l=se("../internals/native-symbol"),u=se("../internals/use-symbol-as-uid"),s=se("../internals/fails"),n=se("../internals/has"),p=se("../internals/is-array"),h=se("../internals/is-object"),_=se("../internals/an-object"),T=se("../internals/to-object"),j=se("../internals/to-indexed-object"),S=se("../internals/to-primitive"),C=se("../internals/create-property-descriptor"),L=se("../internals/object-create"),E=se("../internals/object-keys"),I=se("../internals/object-get-own-property-names"),O=se("../internals/object-get-own-property-names-external"),U=se("../internals/object-get-own-property-symbols"),D=se("../internals/object-get-own-property-descriptor"),B=se("../internals/object-define-property"),X=se("../internals/object-property-is-enumerable"),W=se("../internals/create-non-enumerable-property"),G=se("../internals/redefine"),Z=se("../internals/shared"),nt=se("../internals/shared-key"),Q=se("../internals/hidden-keys"),le=se("../internals/uid"),w=se("../internals/well-known-symbol"),R=se("../internals/well-known-symbol-wrapped"),N=se("../internals/define-well-known-symbol"),q=se("../internals/set-to-string-tag"),ut=se("../internals/internal-state"),J=se("../internals/array-iteration").forEach,re=nt("hidden"),ce="Symbol",ge="prototype",se=w("toPrimitive"),pe=ut.set,ye=ut.getterFor(ce),te=Object[ge],me=y.Symbol,we=r("JSON","stringify"),Ee=D.f,xe=B.f,Te=O.f,Pe=X.f,qe=Z("symbols"),Re=Z("op-symbols"),ft=Z("string-to-symbol-registry"),st=Z("symbol-to-string-registry"),nt=Z("wks"),ut=y.QObject,it=!ut||!ut[ge]||!ut[ge].findChild,Oe=i&&s(function(){return L(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!=7})?function(K,ie,je){var Ae=Ee(te,ie);Ae&&delete te[ie],xe(K,ie,je),Ae&&K!==te&&xe(te,ie,Ae)}:xe,Xe=u?function(K){return typeof K=="symbol"}:function(K){return Object(K)instanceof me},Le=function(K,ie,je){return K===te&&Le(Re,ie,je),_(K),ie=S(ie,!0),_(je),(n(qe,ie)?(je.enumerable?(n(K,re)&&K[re][ie]&&(K[re][ie]=!1),je=L(je,{enumerable:C(0,!1)})):(n(K,re)||xe(K,re,C(1,{})),K[re][ie]=!0),Oe):xe)(K,ie,je)},ee=function(ie){var ie=S(ie,!0),je=Pe.call(this,ie);return!(this===te&&n(qe,ie)&&!n(Re,ie))&&(!(je||!n(this,ie)||!n(qe,ie)||n(this,re)&&this[re][ie])||je)},oe=function(je){var ie=je===te,je=Te(ie?Re:j(je)),Ae=[];return J(je,function(Ge){!n(qe,Ge)||ie&&!n(te,Ge)||Ae.push(qe[Ge])}),Ae};l||(G((me=function(){if(this instanceof me)throw TypeError("Symbol is not a constructor");var K=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ie=le(K),je=function(Ae){this===te&&je.call(Re,Ae),n(this,re)&&n(this[re],ie)&&(this[re][ie]=!1),Oe(this,ie,C(1,Ae))};return i&&it&&Oe(te,ie,{configurable:!0,set:je}),m(ie,K)})[ge],"toString",function(){return ye(this).tag}),G(me,"withoutSetter",function(K){return m(le(K),K)}),X.f=ee,B.f=Le,D.f=c,I.f=O.f=d,U.f=oe,R.f=function(K){return m(w(K),K)},i&&(xe(me[ge],"description",{configurable:!0,get:function(){return ye(this).description}}),o||G(te,"propertyIsEnumerable",ee,{unsafe:!0}))),b({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:me}),J(E(nt),function(K){N(K)}),b({target:ce,stat:!0,forced:!l},{for:function(je){var ie,je=String(je);return n(ft,je)?ft[je]:(ie=me(je),ft[je]=ie,st[ie]=je,ie)},keyFor:function(K){if(!Xe(K))throw TypeError(K+" is not a symbol");if(n(st,K))return st[K]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),b({target:"Object",stat:!0,forced:!l,sham:!i},{create:function(K,ie){return ie===void 0?L(K):g(L(K),ie)},defineProperty:Le,defineProperties:g,getOwnPropertyDescriptor:c}),b({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:d,getOwnPropertySymbols:oe}),b({target:"Object",stat:!0,forced:s(function(){U.f(1)})},{getOwnPropertySymbols:function(K){return U.f(T(K))}}),we&&b({target:"JSON",stat:!0,forced:!l||s(function(){var K=me();return we([K])!="[null]"||we({a:K})!="{}"||we(Object(K))!="{}"})},{stringify:function(K,ie,je){for(var Ae,Ge=[K],$e=1;$e<arguments.length;)Ge.push(arguments[$e++]);if((h(Ae=ie)||K!==void 0)&&!Xe(K))return p(ie)||(ie=function(rt,ot){if(typeof Ae=="function"&&(ot=Ae.call(this,rt,ot)),!Xe(ot))return ot}),Ge[1]=ie,we.apply(null,Ge)}}),me[ge][se]||W(me[ge],se,me[ge].valueOf),q(me,ce),Q[re]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-copy-within"),c=m.aTypedArray;(0,m.exportTypedArrayMethod)("copyWithin",function(d,b){return g.call(c(this),d,b,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").every,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("every",function(d){return g(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-fill"),c=m.aTypedArray;(0,m.exportTypedArrayMethod)("fill",function(d){return g.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").filter,c=t("../internals/species-constructor"),d=m.aTypedArray,b=m.aTypedArrayConstructor;(0,m.exportTypedArrayMethod)("filter",function(y){for(var r=g(d(this),y,1<arguments.length?arguments[1]:void 0),y=c(this,this.constructor),o=0,i=r.length,l=new(b(y))(i);o<i;)l[o]=r[o++];return l})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").findIndex,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("findIndex",function(d){return g(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").find,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("find",function(d){return g(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,H,A){t("../internals/typed-array-constructor")("Float32",function(m){return function(g,c,d){return m(this,g,c,d)}})},{"../internals/typed-array-constructor":144}],220:[function(t,H,A){t("../internals/typed-array-constructor")("Float64",function(m){return function(g,c,d){return m(this,g,c,d)}})},{"../internals/typed-array-constructor":144}],221:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").forEach,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("forEach",function(d){g(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-includes").includes,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("includes",function(d){return g(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-includes").indexOf,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("indexOf",function(d){return g(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,H,A){t("../internals/typed-array-constructor")("Int16",function(m){return function(g,c,d){return m(this,g,c,d)}})},{"../internals/typed-array-constructor":144}],225:[function(t,H,A){t("../internals/typed-array-constructor")("Int32",function(m){return function(g,c,d){return m(this,g,c,d)}})},{"../internals/typed-array-constructor":144}],226:[function(g,H,A){function m(){return c.call(y(this))}var i=g("../internals/global"),o=g("../internals/array-buffer-view-core"),r=g("../modules/es.array.iterator"),g=g("../internals/well-known-symbol")("iterator"),i=i.Uint8Array,c=r.values,d=r.keys,b=r.entries,y=o.aTypedArray,r=o.exportTypedArrayMethod,o=i&&i.prototype[g],i=!!o&&(o.name=="values"||o.name==null);r("entries",function(){return b.call(y(this))}),r("keys",function(){return d.call(y(this))}),r("values",m,!i),r(g,m,!i)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(g,H,A){var g=g("../internals/array-buffer-view-core"),m=g.aTypedArray,g=g.exportTypedArrayMethod,c=[].join;g("join",function(d){return c.apply(m(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-last-index-of"),c=m.aTypedArray;(0,m.exportTypedArrayMethod)("lastIndexOf",function(d){return g.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").map,c=t("../internals/species-constructor"),d=m.aTypedArray,b=m.aTypedArrayConstructor;(0,m.exportTypedArrayMethod)("map",function(y){return g(d(this),y,1<arguments.length?arguments[1]:void 0,function(r,o){return new(b(c(r,r.constructor)))(o)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-reduce").right,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("reduceRight",function(d){return g(c(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-reduce").left,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("reduce",function(d){return g(c(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(g,H,A){var g=g("../internals/array-buffer-view-core"),m=g.aTypedArray,g=g.exportTypedArrayMethod,c=Math.floor;g("reverse",function(){for(var d,b=m(this).length,y=c(b/2),r=0;r<y;)d=this[r],this[r++]=this[--b],this[b]=d;return this})},{"../internals/array-buffer-view-core":12}],233:[function(b,H,A){var m=b("../internals/array-buffer-view-core"),g=b("../internals/to-length"),c=b("../internals/to-offset"),d=b("../internals/to-object"),b=b("../internals/fails"),y=m.aTypedArray;(0,m.exportTypedArrayMethod)("set",function(r){y(this);var o=c(1<arguments.length?arguments[1]:void 0,1),i=this.length,l=d(r),u=g(l.length),s=0;if(i<u+o)throw RangeError("Wrong length");for(;s<u;)this[o+s]=l[s++]},b(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(g,H,A){var b=g("../internals/array-buffer-view-core"),m=g("../internals/species-constructor"),g=g("../internals/fails"),c=b.aTypedArray,d=b.aTypedArrayConstructor,b=b.exportTypedArrayMethod,y=[].slice;b("slice",function(r,o){for(var i=y.call(c(this),r,o),r=m(this,this.constructor),l=0,u=i.length,s=new(d(r))(u);l<u;)s[l]=i[l++];return s},g(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").some,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("some",function(d){return g(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(g,H,A){var g=g("../internals/array-buffer-view-core"),m=g.aTypedArray,g=g.exportTypedArrayMethod,c=[].sort;g("sort",function(d){return c.call(m(this),d)})},{"../internals/array-buffer-view-core":12}],237:[function(t,H,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/to-length"),c=t("../internals/to-absolute-index"),d=t("../internals/species-constructor"),b=m.aTypedArray;(0,m.exportTypedArrayMethod)("subarray",function(l,r){var o=b(this),i=o.length,l=c(l,i);return new(d(o,o.constructor))(o.buffer,o.byteOffset+l*o.BYTES_PER_ELEMENT,g((r===void 0?i:c(r,i))-l))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(g,H,A){var b=g("../internals/global"),m=g("../internals/array-buffer-view-core"),g=g("../internals/fails"),c=b.Int8Array,d=m.aTypedArray,b=m.exportTypedArrayMethod,y=[].toLocaleString,r=[].slice,o=!!c&&g(function(){y.call(new c(1))});b("toLocaleString",function(){return y.apply(o?r.call(d(this)):d(this),arguments)},g(function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()})||!g(function(){c.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(g,H,A){var m=g("../internals/array-buffer-view-core").exportTypedArrayMethod,b=g("../internals/fails"),g=g("../internals/global").Uint8Array,g=g&&g.prototype||{},c=[].toString,d=[].join,b=(b(function(){c.call({})})&&(c=function(){return d.call(this)}),g.toString!=c);m("toString",c,b)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,H,A){t("../internals/typed-array-constructor")("Uint16",function(m){return function(g,c,d){return m(this,g,c,d)}})},{"../internals/typed-array-constructor":144}],241:[function(t,H,A){t("../internals/typed-array-constructor")("Uint32",function(m){return function(g,c,d){return m(this,g,c,d)}})},{"../internals/typed-array-constructor":144}],242:[function(t,H,A){t("../internals/typed-array-constructor")("Uint8",function(m){return function(g,c,d){return m(this,g,c,d)}})},{"../internals/typed-array-constructor":144}],243:[function(t,H,A){t("../internals/typed-array-constructor")("Uint8",function(m){return function(g,c,d){return m(this,g,c,d)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(n,_,A){function m(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}}var g,c,d,b,y,p=n("../internals/global"),r=n("../internals/redefine-all"),o=n("../internals/internal-metadata"),i=n("../internals/collection"),l=n("../internals/collection-weak"),u=n("../internals/is-object"),s=n("../internals/internal-state").enforce,n=n("../internals/native-weak-map"),p=!p.ActiveXObject&&"ActiveXObject"in p,h=Object.isExtensible,_=_.exports=i("WeakMap",m,l);n&&p&&(g=l.getConstructor(m,"WeakMap",!0),o.REQUIRED=!0,i=_.prototype,c=i.delete,d=i.has,b=i.get,y=i.set,r(i,{delete:function(T){var j;return u(T)&&!h(T)?((j=s(this)).frozen||(j.frozen=new g),c.call(this,T)||j.frozen.delete(T)):c.call(this,T)},has:function(T){var j;return u(T)&&!h(T)?((j=s(this)).frozen||(j.frozen=new g),d.call(this,T)||j.frozen.has(T)):d.call(this,T)},get:function(T){var j;return!u(T)||h(T)||((j=s(this)).frozen||(j.frozen=new g),d.call(this,T))?b.call(this,T):j.frozen.get(T)},set:function(T,j){var S;return!u(T)||h(T)||((S=s(this)).frozen||(S.frozen=new g),d.call(this,T))?y.call(this,T,j):S.frozen.set(T,j),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,H,A){var m,g=t("../internals/global"),c=t("../internals/dom-iterables"),d=t("../internals/array-for-each"),b=t("../internals/create-non-enumerable-property");for(m in c){var y=g[m],y=y&&y.prototype;if(y&&y.forEach!==d)try{b(y,"forEach",d)}catch{y.forEach=d}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(y,H,A){var m,g=y("../internals/global"),c=y("../internals/dom-iterables"),d=y("../modules/es.array.iterator"),b=y("../internals/create-non-enumerable-property"),y=y("../internals/well-known-symbol"),r=y("iterator"),o=y("toStringTag"),i=d.values;for(m in c){var l=g[m],u=l&&l.prototype;if(u){if(u[r]!==i)try{b(u,r,i)}catch{u[r]=i}if(u[o]||b(u,o,m),c[m]){for(var s in d)if(u[s]!==d[s])try{b(u,s,d[s])}catch{u[s]=d[s]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(re,H,A){re("../modules/es.array.iterator");function m(ce){try{return decodeURIComponent(ce)}catch{return ce}}function g(ce){return N[ce]}function c(ce){return encodeURIComponent(ce).replace(R,g)}function d(ce){this.entries.length=0,q(this.entries,ce)}function b(ce,ge){if(ce<ge)throw TypeError("Not enough arguments")}function y(){p(this,y,B);var ce,ge,se,pe,ye,te,me,we,Ee=0<arguments.length?arguments[0]:void 0,xe=[];if(W(this,{type:B,entries:xe,updateURL:function(){},updateSearchParams:d}),Ee!==void 0)if(S(Ee))if(typeof(ce=I(Ee))=="function")for(se=(ge=ce.call(Ee)).next;!(pe=se.call(ge)).done;){if((te=(ye=(pe=E(j(pe.value))).next).call(pe)).done||(me=ye.call(pe)).done||!ye.call(pe).done)throw TypeError("Expected sequence with length 2");xe.push({key:te.value+"",value:me.value+""})}else for(we in Ee)h(Ee,we)&&xe.push({key:we,value:Ee[we]+""});else q(xe,typeof Ee=="string"?Ee.charAt(0)==="?"?Ee.slice(1):Ee:Ee+"")}var r=re("../internals/export"),D=re("../internals/get-built-in"),o=re("../internals/native-url"),i=re("../internals/redefine"),l=re("../internals/redefine-all"),u=re("../internals/set-to-string-tag"),s=re("../internals/create-iterator-constructor"),n=re("../internals/internal-state"),p=re("../internals/an-instance"),h=re("../internals/has"),_=re("../internals/function-bind-context"),T=re("../internals/classof"),j=re("../internals/an-object"),S=re("../internals/is-object"),C=re("../internals/object-create"),L=re("../internals/create-property-descriptor"),E=re("../internals/get-iterator"),I=re("../internals/get-iterator-method"),re=re("../internals/well-known-symbol"),O=D("fetch"),U=D("Headers"),D=re("iterator"),B="URLSearchParams",X=B+"Iterator",W=n.set,G=n.getterFor(B),Z=n.getterFor(X),Q=/\+/g,le=Array(4),w=function(ce){var ge,se=ce.replace(Q," "),pe=4;try{return decodeURIComponent(se)}catch{for(;pe;)se=se.replace((ge=pe--,le[ge-1]||(le[ge-1]=RegExp("((?:%[\\da-f]{2}){"+ge+"})","gi"))),m);return se}},R=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},q=function(ce,ge){if(ge)for(var se,pe=ge.split("&"),ye=0;ye<pe.length;)(se=pe[ye++]).length&&(se=se.split("="),ce.push({key:w(se.shift()),value:w(se.join("="))}))},J=s(function(ce,ge){W(this,{type:X,iterator:E(G(ce).entries),kind:ge})},"Iterator",function(){var ge=Z(this),ce=ge.kind,ge=ge.iterator.next(),se=ge.value;return ge.done||(ge.value=ce==="keys"?se.key:ce==="values"?se.value:[se.key,se.value]),ge}),re=y.prototype;l(re,{append:function(ce,ge){b(arguments.length,2);var se=G(this);se.entries.push({key:ce+"",value:ge+""}),se.updateURL()},delete:function(ce){b(arguments.length,1);for(var ge=G(this),se=ge.entries,pe=ce+"",ye=0;ye<se.length;)se[ye].key===pe?se.splice(ye,1):ye++;ge.updateURL()},get:function(ce){b(arguments.length,1);for(var ge=G(this).entries,se=ce+"",pe=0;pe<ge.length;pe++)if(ge[pe].key===se)return ge[pe].value;return null},getAll:function(ce){b(arguments.length,1);for(var ge=G(this).entries,se=ce+"",pe=[],ye=0;ye<ge.length;ye++)ge[ye].key===se&&pe.push(ge[ye].value);return pe},has:function(ce){b(arguments.length,1);for(var ge=G(this).entries,se=ce+"",pe=0;pe<ge.length;)if(ge[pe++].key===se)return!0;return!1},set:function(ce,ge){b(arguments.length,1);for(var se,pe=G(this),ye=pe.entries,te=!1,me=ce+"",we=ge+"",Ee=0;Ee<ye.length;Ee++)(se=ye[Ee]).key===me&&(te?ye.splice(Ee--,1):(te=!0,se.value=we));te||ye.push({key:me,value:we}),pe.updateURL()},sort:function(){for(var ce,ge,se=G(this),pe=se.entries,ye=pe.slice(),te=pe.length=0;te<ye.length;te++){for(ce=ye[te],ge=0;ge<te;ge++)if(pe[ge].key>ce.key){pe.splice(ge,0,ce);break}ge===te&&pe.push(ce)}se.updateURL()},forEach:function(ce){for(var ge,se=G(this).entries,pe=_(ce,1<arguments.length?arguments[1]:void 0,3),ye=0;ye<se.length;)pe((ge=se[ye++]).value,ge.key,this)},keys:function(){return new J(this,"keys")},values:function(){return new J(this,"values")},entries:function(){return new J(this,"entries")}},{enumerable:!0}),i(re,D,re.entries),i(re,"toString",function(){for(var ce,ge=G(this).entries,se=[],pe=0;pe<ge.length;)ce=ge[pe++],se.push(c(ce.key)+"="+c(ce.value));return se.join("&")},{enumerable:!0}),u(y,B),r({global:!0,forced:!o},{URLSearchParams:y}),o||typeof O!="function"||typeof U!="function"||r({global:!0,enumerable:!0,forced:!0},{fetch:function(ye){var ge,se,pe,ye=[ye];return 1<arguments.length&&(S(ge=arguments[1])&&(se=ge.body,T(se)===B&&((pe=ge.headers?new U(ge.headers):new U).has("content-type")||pe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ge=C(ge,{body:L(0,String(se)),headers:L(0,pe)}))),ye.push(ge)),O.apply(this,ye)}}),H.exports={URLSearchParams:y,getState:G}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(E,H,A){E("../modules/es.string.iterator");function m(be){var et,dt,Je,It;if(typeof be=="number"){for(et=[],dt=0;dt<4;dt++)et.unshift(be%256),be=X(be/256);return et.join(".")}if(typeof be!="object")return be;for(et="",Je=me(be),dt=0;dt<8;dt++)It&&be[dt]===0||(It=It&&!1,Je===dt?(et+=dt?":":"::",It=!0):(et+=be[dt].toString(16),dt<7&&(et+=":")));return"["+et+"]"}function g(be){return!be.host||be.cannotBeABaseURL||be.scheme=="file"}function c(be,et,dt,Je){var It,Ze,Ft,at=dt||Xe,Lt=0,ct="",dr=!1,yr=!1,lr=!1;for(dt||(be.scheme="",be.username="",be.password="",be.host=null,be.port=null,be.path=[],be.query=null,be.fragment=null,be.cannotBeABaseURL=!1,et=et.replace(pe,"")),et=et.replace(ye,""),It=T(et);Lt<=It.length;){switch(Ze=It[Lt],at){case Xe:if(!Ze||!w.test(Ze)){if(dt)return Z;at=ee;continue}ct+=Ze.toLowerCase(),at=Le;break;case Le:if(Ze&&(R.test(Ze)||Ze=="+"||Ze=="-"||Ze=="."))ct+=Ze.toLowerCase();else{if(Ze!=":"){if(dt)return Z;ct="",at=ee,Lt=0;continue}if(dt&&(Re(be)!=h(qe,ct)||ct=="file"&&(ft(be)||be.port!==null)||be.scheme=="file"&&!be.host))return;if(be.scheme=ct,dt)return void(Re(be)&&qe[be.scheme]==be.port&&(be.port=null));ct="",be.scheme=="file"?at=Et:Re(be)&&Je&&Je.scheme==be.scheme?at=oe:Re(be)?at=Ae:It[Lt+1]=="/"?(at=K,Lt++):(be.cannotBeABaseURL=!0,be.path.push(""),at=Jt)}break;case ee:if(!Je||Je.cannotBeABaseURL&&Ze!="#")return Z;if(Je.cannotBeABaseURL&&Ze=="#"){be.scheme=Je.scheme,be.path=Je.path.slice(),be.query=Je.query,be.fragment="",be.cannotBeABaseURL=!0,at=hr;break}at=Je.scheme=="file"?Et:ie;continue;case oe:if(Ze!="/"||It[Lt+1]!="/"){at=ie;continue}at=Ge,Lt++;break;case K:if(Ze=="/"){at=$e;break}at=xt;continue;case ie:if(be.scheme=Je.scheme,Ze==y)be.username=Je.username,be.password=Je.password,be.host=Je.host,be.port=Je.port,be.path=Je.path.slice(),be.query=Je.query;else if(Ze=="/"||Ze=="\\"&&Re(be))at=je;else if(Ze=="?")be.username=Je.username,be.password=Je.password,be.host=Je.host,be.port=Je.port,be.path=Je.path.slice(),be.query="",at=Mr;else{if(Ze!="#"){be.username=Je.username,be.password=Je.password,be.host=Je.host,be.port=Je.port,be.path=Je.path.slice(),be.path.pop(),at=xt;continue}be.username=Je.username,be.password=Je.password,be.host=Je.host,be.port=Je.port,be.path=Je.path.slice(),be.query=Je.query,be.fragment="",at=hr}break;case je:if(!Re(be)||Ze!="/"&&Ze!="\\"){if(Ze!="/"){be.username=Je.username,be.password=Je.password,be.host=Je.host,be.port=Je.port,at=xt;continue}at=$e}else at=Ge;break;case Ae:if(at=Ge,Ze!="/"||ct.charAt(Lt+1)!="/")continue;Lt++;break;case Ge:if(Ze=="/"||Ze=="\\")break;at=$e;continue;case $e:if(Ze=="@"){dr&&(ct="%40"+ct);for(var dr=!0,gr=T(ct),qr=0;qr<gr.length;qr++){var Ir=gr[qr];Ir!=":"||lr?(Ir=Pe(Ir,Te),lr?be.password+=Ir:be.username+=Ir):lr=!0}ct=""}else if(Ze==y||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&Re(be)){if(dr&&ct=="")return G;Lt-=T(ct).length+1,ct="",at=rt}else ct+=Ze;break;case rt:case ot:if(dt&&be.scheme=="file"){at=gt;continue}if(Ze!=":"||yr){if(Ze==y||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&Re(be)){if(Re(be)&&ct=="")return Q;if(dt&&ct==""&&(ft(be)||be.port!==null))return;if(Ft=te(be,ct))return Ft;if(ct="",at=jt,dt)return;continue}Ze=="["?yr=!0:Ze=="]"&&(yr=!1),ct+=Ze}else{if(ct=="")return Q;if(Ft=te(be,ct))return Ft;if(ct="",at=lt,dt==ot)return}break;case lt:if(!N.test(Ze)){if(Ze==y||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&Re(be)||dt){if(ct!=""){var $r=parseInt(ct,10);if(65535<$r)return le;be.port=Re(be)&&$r===qe[be.scheme]?null:$r,ct=""}if(dt)return;at=jt;continue}return le}ct+=Ze;break;case Et:if(be.scheme="file",Ze=="/"||Ze=="\\")at=wt;else{if(!Je||Je.scheme!="file"){at=xt;continue}if(Ze==y)be.host=Je.host,be.path=Je.path.slice(),be.query=Je.query;else if(Ze=="?")be.host=Je.host,be.path=Je.path.slice(),be.query="",at=Mr;else{if(Ze!="#"){nt(It.slice(Lt).join(""))||(be.host=Je.host,be.path=Je.path.slice(),ut(be)),at=xt;continue}be.host=Je.host,be.path=Je.path.slice(),be.query=Je.query,be.fragment="",at=hr}}break;case wt:if(Ze=="/"||Ze=="\\"){at=gt;break}Je&&Je.scheme=="file"&&!nt(It.slice(Lt).join(""))&&(st(Je.path[0],!0)?be.path.push(Je.path[0]):be.host=Je.host),at=xt;continue;case gt:if(Ze==y||Ze=="/"||Ze=="\\"||Ze=="?"||Ze=="#"){if(!dt&&st(ct))at=xt;else{if(ct==""){if(be.host="",dt)return}else{if(Ft=te(be,ct))return Ft;if(be.host=="localhost"&&(be.host=""),dt)return;ct=""}at=jt}continue}ct+=Ze;break;case jt:if(Re(be)){if(at=xt,Ze!="/"&&Ze!="\\")continue}else if(dt||Ze!="?")if(dt||Ze!="#"){if(Ze!=y&&(at=xt,Ze!="/"))continue}else be.fragment="",at=hr;else be.query="",at=Mr;break;case xt:if(Ze==y||Ze=="/"||Ze=="\\"&&Re(be)||!dt&&(Ze=="?"||Ze=="#")){if(Oe(ct)?(ut(be),Ze=="/"||Ze=="\\"&&Re(be)||be.path.push("")):it(ct)?Ze=="/"||Ze=="\\"&&Re(be)||be.path.push(""):(be.scheme=="file"&&!be.path.length&&st(ct)&&(be.host&&(be.host=""),ct=ct.charAt(0)+":"),be.path.push(ct)),ct="",be.scheme=="file"&&(Ze==y||Ze=="?"||Ze=="#"))for(;1<be.path.length&&be.path[0]==="";)be.path.shift();Ze=="?"?(be.query="",at=Mr):Ze=="#"&&(be.fragment="",at=hr)}else ct+=Pe(Ze,xe);break;case Jt:Ze=="?"?(be.query="",at=Mr):Ze=="#"?(be.fragment="",at=hr):Ze!=y&&(be.path[0]+=Pe(Ze,we));break;case Mr:dt||Ze!="#"?Ze!=y&&(Ze=="'"&&Re(be)?be.query+="%27":be.query+=Ze=="#"?"%23":Pe(Ze,we)):(be.fragment="",at=hr);break;case hr:Ze!=y&&(be.fragment+=Pe(Ze,Ee))}Lt++}}function d(Ze){var et,dt,Je=p(this,d,"URL"),It=1<arguments.length?arguments[1]:void 0,Ze=String(Ze),Ft=D(Je,{type:"URL"});if(It!==void 0){if(It instanceof d)et=B(It);else if(dt=c(et={},String(It)))throw TypeError(dt)}if(dt=c(Ft,Ze,null,et))throw TypeError(dt);var at=Ft.searchParams=new O;(It=U(at)).updateSearchParams(Ft.query),It.updateURL=function(){Ft.query=String(at)||null},l||(Je.href=$t.call(Je),Je.origin=Bt.call(Je),Je.protocol=mr.call(Je),Je.username=_r.call(Je),Je.password=Zt.call(Je),Je.host=jr.call(Je),Je.hostname=zn.call(Je),Je.port=Hn.call(Je),Je.pathname=Wn.call(Je),Je.search=ao.call(Je),Je.searchParams=qn.call(Je),Je.hash=Cn.call(Je))}function b(be,et){return{get:be,set:et,configurable:!0,enumerable:!0}}var y,r,o,i=E("../internals/export"),l=E("../internals/descriptors"),u=E("../internals/native-url"),Wt=E("../internals/global"),s=E("../internals/object-define-properties"),n=E("../internals/redefine"),p=E("../internals/an-instance"),h=E("../internals/has"),_=E("../internals/object-assign"),T=E("../internals/array-from"),j=E("../internals/string-multibyte").codeAt,S=E("../internals/string-punycode-to-ascii"),C=E("../internals/set-to-string-tag"),L=E("../modules/web.url-search-params"),E=E("../internals/internal-state"),I=Wt.URL,O=L.URLSearchParams,U=L.getState,D=E.set,B=E.getterFor("URL"),X=Math.floor,W=Math.pow,G="Invalid authority",Z="Invalid scheme",Q="Invalid host",le="Invalid port",w=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,N=/\d/,q=/^(0x|0X)/,J=/^[0-7]+$/,re=/^\d+$/,ce=/^[\dA-Fa-f]+$/,ge=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,se=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,pe=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ye=/[\u0009\u000A\u000D]/g,te=function(be,et){var dt,Je,It;if(et.charAt(0)=="[")return et.charAt(et.length-1)=="]"&&(dt=(function(Ze){var Ft=[0,0,0,0,0,0,0,0],at=0,Lt=null,ct=0,dr,yr,lr,gr,qr,Ir,$r,xr=function(){return Ze.charAt(ct)};if(xr()==":"){if(Ze.charAt(1)!=":")return;ct+=2,at++,Lt=at}for(;xr();){if(at==8)return;if(xr()==":"){if(Lt!==null)return;ct++,at++,Lt=at;continue}for(dr=yr=0;yr<4&&ce.test(xr());)dr=dr*16+parseInt(xr(),16),ct++,yr++;if(xr()=="."){if(yr==0||(ct-=yr,at>6))return;for(lr=0;xr();){if(gr=null,lr>0)if(xr()=="."&&lr<4)ct++;else return;if(!N.test(xr()))return;for(;N.test(xr());){if(qr=parseInt(xr(),10),gr===null)gr=qr;else{if(gr==0)return;gr=gr*10+qr}if(gr>255)return;ct++}Ft[at]=Ft[at]*256+gr,lr++,(lr==2||lr==4)&&at++}if(lr!=4)return;break}else if(xr()==":"){if(ct++,!xr())return}else if(xr())return;Ft[at++]=dr}if(Lt!==null)for(Ir=at-Lt,at=7;at!=0&&Ir>0;)$r=Ft[at],Ft[at--]=Ft[Lt+Ir-1],Ft[Lt+--Ir]=$r;else if(at!=8)return;return Ft})(et.slice(1,-1)))?void(be.host=dt):Q;if(Re(be))return et=S(et),ge.test(et)||(dt=(function(Ze){var Ft=Ze.split("."),at,Lt,ct,dr,yr,lr,gr;if(Ft.length&&Ft[Ft.length-1]==""&&Ft.pop(),(at=Ft.length)>4)return Ze;for(Lt=[],ct=0;ct<at;ct++){if(dr=Ft[ct],dr=="")return Ze;if(yr=10,dr.length>1&&dr.charAt(0)=="0"&&(yr=q.test(dr)?16:8,dr=dr.slice(yr==8?1:2)),dr==="")lr=0;else{if(!(yr==10?re:yr==8?J:ce).test(dr))return Ze;lr=parseInt(dr,yr)}Lt.push(lr)}for(ct=0;ct<at;ct++)if(lr=Lt[ct],ct==at-1){if(lr>=W(256,5-at))return null}else if(lr>255)return null;for(gr=Lt.pop(),ct=0;ct<Lt.length;ct++)gr+=Lt[ct]*W(256,3-ct);return gr})(et))===null?Q:void(be.host=dt);if(se.test(et))return Q;for(dt="",Je=T(et),It=0;It<Je.length;It++)dt+=Pe(Je[It],we);be.host=dt},me=function(be){for(var et=null,dt=1,Je=null,It=0,Ze=0;Ze<8;Ze++)be[Ze]!==0?(dt<It&&(et=Je,dt=It),Je=null,It=0):(Je===null&&(Je=Ze),++It);return dt<It&&(et=Je,dt=It),et},we={},Ee=_({},we,{" ":1,'"':1,"<":1,">":1,"`":1}),xe=_({},Ee,{"#":1,"?":1,"{":1,"}":1}),Te=_({},xe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pe=function(be,et){var dt=j(be,0);return 32<dt&&dt<127&&!h(et,be)?be:encodeURIComponent(be)},qe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Re=function(be){return h(qe,be.scheme)},ft=function(be){return be.username!=""||be.password!=""},st=function(be,et){return be.length==2&&w.test(be.charAt(0))&&((be=be.charAt(1))==":"||!et&&be=="|")},nt=function(be){return 1<be.length&&st(be.slice(0,2))&&(be.length==2||(be=be.charAt(2))==="/"||be==="\\"||be==="?"||be==="#")},ut=function(be){var et=be.path,dt=et.length;!dt||be.scheme=="file"&&dt==1&&st(et[0],!0)||et.pop()},it=function(be){return be==="."||be.toLowerCase()==="%2e"},Oe=function(be){return(be=be.toLowerCase())===".."||be==="%2e."||be===".%2e"||be==="%2e%2e"},Xe={},Le={},ee={},oe={},K={},ie={},je={},Ae={},Ge={},$e={},rt={},ot={},lt={},Et={},wt={},gt={},jt={},xt={},Jt={},Mr={},hr={},Wt=d.prototype,$t=function(){var be=B(this),et=be.scheme,dt=be.username,Je=be.password,It=be.host,Ze=be.port,Ft=be.path,at=be.query,Lt=be.fragment,ct=et+":";return It!==null?(ct+="//",ft(be)&&(ct+=dt+(Je?":"+Je:"")+"@"),ct+=m(It),Ze!==null&&(ct+=":"+Ze)):et=="file"&&(ct+="//"),ct+=be.cannotBeABaseURL?Ft[0]:Ft.length?"/"+Ft.join("/"):"",at!==null&&(ct+="?"+at),Lt!==null&&(ct+="#"+Lt),ct},Bt=function(){var be=B(this),et=be.scheme,dt=be.port;if(et=="blob")try{return new URL(et.path[0]).origin}catch{return"null"}return et!="file"&&Re(be)?et+"://"+m(be.host)+(dt!==null?":"+dt:""):"null"},mr=function(){return B(this).scheme+":"},_r=function(){return B(this).username},Zt=function(){return B(this).password},jr=function(){var et=B(this),be=et.host,et=et.port;return be===null?"":et===null?m(be):m(be)+":"+et},zn=function(){var be=B(this).host;return be===null?"":m(be)},Hn=function(){var be=B(this).port;return be===null?"":String(be)},Wn=function(){var be=B(this),et=be.path;return be.cannotBeABaseURL?et[0]:et.length?"/"+et.join("/"):""},ao=function(){var be=B(this).query;return be?"?"+be:""},qn=function(){return B(this).searchParams},Cn=function(){var be=B(this).fragment;return be?"#"+be:""};l&&s(Wt,{href:b($t,function(dt){var et=B(this),dt=String(dt),dt=c(et,dt);if(dt)throw TypeError(dt);U(et.searchParams).updateSearchParams(et.query)}),origin:b(Bt),protocol:b(mr,function(be){var et=B(this);c(et,String(be)+":",Xe)}),username:b(_r,function(be){var et=B(this),dt=T(String(be));if(!g(et)){et.username="";for(var Je=0;Je<dt.length;Je++)et.username+=Pe(dt[Je],Te)}}),password:b(Zt,function(be){var et=B(this),dt=T(String(be));if(!g(et)){et.password="";for(var Je=0;Je<dt.length;Je++)et.password+=Pe(dt[Je],Te)}}),host:b(jr,function(be){var et=B(this);et.cannotBeABaseURL||c(et,String(be),rt)}),hostname:b(zn,function(be){var et=B(this);et.cannotBeABaseURL||c(et,String(be),ot)}),port:b(Hn,function(be){var et=B(this);g(et)||((be=String(be))==""?et.port=null:c(et,be,lt))}),pathname:b(Wn,function(be){var et=B(this);et.cannotBeABaseURL||(et.path=[],c(et,be+"",jt))}),search:b(ao,function(be){var et=B(this);(be=String(be))==""?et.query=null:(be.charAt(0)=="?"&&(be=be.slice(1)),et.query="",c(et,be,Mr)),U(et.searchParams).updateSearchParams(et.query)}),searchParams:b(qn),hash:b(Cn,function(be){var et=B(this);(be=String(be))==""?et.fragment=null:(be.charAt(0)=="#"&&(be=be.slice(1)),et.fragment="",c(et,be,hr))})}),n(Wt,"toJSON",function(){return $t.call(this)},{enumerable:!0}),n(Wt,"toString",function(){return $t.call(this)},{enumerable:!0}),I&&(r=I.createObjectURL,o=I.revokeObjectURL,r&&n(d,"createObjectURL",function(be){return r.apply(I,arguments)}),o&&n(d,"revokeObjectURL",function(be){return o.apply(I,arguments)})),C(d,"URL"),i({global:!0,forced:!u,sham:!l},{URL:d})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,H,A){H.exports=t("./").polyfill()},{"./":250}],250:[function(t,H,A){(function(m,g){var c,d;c=this,d=function(){function b(te){return typeof te=="function"}var y=Array.isArray||function(te){return Object.prototype.toString.call(te)==="[object Array]"},r=0,o=void 0,i=void 0,l=function(te,me){_[r]=te,_[r+1]=me,(r+=2)===2&&(i?i(T):O())},u=typeof window<"u"?window:void 0,s=u||{},s=s.MutationObserver||s.WebKitMutationObserver,n=typeof self>"u"&&m!==void 0&&{}.toString.call(m)==="[object process]",p=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function h(){var te=setTimeout;return function(){return te(T,1)}}var _=new Array(1e3);function T(){for(var te=0;te<r;te+=2)(0,_[te])(_[te+1]),_[te]=void 0,_[te+1]=void 0;r=0}function j(){try{var te=Function("return this")().require("vertx");return(o=te.runOnLoop||te.runOnContext)!==void 0?function(){o(T)}:h()}catch{return h()}}var S,C,L,O=void 0;function E(te,me){var we,Ee=this,xe=new this.constructor(D),Te=(xe[U]===void 0&&ce(xe),Ee._state);return Te?(we=arguments[Te-1],l(function(){return J(Te,xe,we,Ee._result)})):N(Ee,xe,te,me),xe}function I(te){var me;return te&&typeof te=="object"&&te.constructor===this?te:(Q(me=new this(D),te),me)}var O=n?function(){return m.nextTick(T)}:s?(C=0,n=new s(T),L=document.createTextNode(""),n.observe(L,{characterData:!0}),function(){L.data=C=++C%2}):p?((S=new MessageChannel).port1.onmessage=T,function(){return S.port2.postMessage(0)}):(u===void 0&&typeof t=="function"?j:h)(),U=Math.random().toString(36).substring(2);function D(){}var B=void 0,X=1,W=2;function G(te,me,we){l(function(Ee){var xe=!1,Te=(function(Pe,qe,Re,ft){try{Pe.call(qe,Re,ft)}catch(st){return st}})(we,me,function(Pe){xe||(xe=!0,(me!==Pe?Q:w)(Ee,Pe))},function(Pe){xe||(xe=!0,R(Ee,Pe))},Ee._label);!xe&&Te&&(xe=!0,R(Ee,Te))},te)}function Z(te,me,we){var Ee,xe;me.constructor===te.constructor&&we===E&&me.constructor.resolve===I?(Ee=te,(xe=me)._state===X?w(Ee,xe._result):xe._state===W?R(Ee,xe._result):N(xe,void 0,function(Te){return Q(Ee,Te)},function(Te){return R(Ee,Te)})):we!==void 0&&b(we)?G(te,me,we):w(te,me)}function Q(te,me){if(te===me)R(te,new TypeError("You cannot resolve a promise with itself"));else if(we=typeof me,me===null||we!="object"&&we!="function")w(te,me);else{we=void 0;try{we=me.then}catch(Ee){return void R(te,Ee)}Z(te,me,we)}var we}function le(te){te._onerror&&te._onerror(te._result),q(te)}function w(te,me){te._state===B&&(te._result=me,te._state=X,te._subscribers.length!==0&&l(q,te))}function R(te,me){te._state===B&&(te._state=W,te._result=me,l(le,te))}function N(te,me,we,Ee){var xe=te._subscribers,Te=xe.length;te._onerror=null,xe[Te]=me,xe[Te+X]=we,xe[Te+W]=Ee,Te===0&&te._state&&l(q,te)}function q(te){var me=te._subscribers,we=te._state;if(me.length!==0){for(var Ee,xe=void 0,Te=te._result,Pe=0;Pe<me.length;Pe+=3)Ee=me[Pe],xe=me[Pe+we],Ee?J(we,Ee,xe,Te):xe(Te);te._subscribers.length=0}}function J(te,me,we,Ee){var xe=b(we),Te=void 0,Pe=void 0,qe=!0;if(xe){try{Te=we(Ee)}catch(Re){qe=!1,Pe=Re}if(me===Te)return void R(me,new TypeError("A promises callback cannot return that same promise."))}else Te=Ee;me._state===B&&(xe&&qe?Q(me,Te):qe===!1?R(me,Pe):te===X?w(me,Te):te===W&&R(me,Te))}var re=0;function ce(te){te[U]=re++,te._state=void 0,te._result=void 0,te._subscribers=[]}se.prototype._enumerate=function(te){for(var me=0;this._state===B&&me<te.length;me++)this._eachEntry(te[me],me)},se.prototype._eachEntry=function(te,me){var we=this._instanceConstructor,Ee=we.resolve;if(Ee===I){var xe,Te=void 0,Pe=void 0,qe=!1;try{Te=te.then}catch(Re){qe=!0,Pe=Re}Te===E&&te._state!==B?this._settledAt(te._state,me,te._result):typeof Te!="function"?(this._remaining--,this._result[me]=te):we===pe?(xe=new we(D),qe?R(xe,Pe):Z(xe,te,Te),this._willSettleAt(xe,me)):this._willSettleAt(new we(function(Re){return Re(te)}),me)}else this._willSettleAt(Ee(te),me)},se.prototype._settledAt=function(te,me,we){var Ee=this.promise;Ee._state===B&&(this._remaining--,te===W?R(Ee,we):this._result[me]=we),this._remaining===0&&w(Ee,this._result)},se.prototype._willSettleAt=function(te,me){var we=this;N(te,void 0,function(Ee){return we._settledAt(X,me,Ee)},function(Ee){return we._settledAt(W,me,Ee)})};var ge=se;function se(te,me){this._instanceConstructor=te,this.promise=new te(D),this.promise[U]||ce(this.promise),y(me)?(this.length=me.length,this._remaining=me.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(me),this._remaining!==0)||w(this.promise,this._result)):R(this.promise,new Error("Array Methods must be provided an Array"))}ye.prototype.catch=function(te){return this.then(null,te)},ye.prototype.finally=function(te){var me=this.constructor;return b(te)?this.then(function(we){return me.resolve(te()).then(function(){return we})},function(we){return me.resolve(te()).then(function(){throw we})}):this.then(te,te)};var pe=ye;function ye(te){if(this[U]=re++,this._result=this._state=void 0,this._subscribers=[],D!==te){if(typeof te!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ye))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var me=this;try{te(function(we){Q(me,we)},function(we){R(me,we)})}catch(we){R(me,we)}}}return pe.prototype.then=E,pe.all=function(te){return new ge(this,te).promise},pe.race=function(te){var me=this;return y(te)?new me(function(we,Ee){for(var xe=te.length,Te=0;Te<xe;Te++)me.resolve(te[Te]).then(we,Ee)}):new me(function(we,Ee){return Ee(new TypeError("You must pass an array to race."))})},pe.resolve=I,pe.reject=function(te){var me=new this(D);return R(me,te),me},pe._setScheduler=function(te){i=te},pe._setAsap=function(te){l=te},pe._asap=l,pe.polyfill=function(){var te=void 0;if(g!==void 0)te=g;else if(typeof self<"u")te=self;else try{te=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var me=te.Promise;if(me){var we=null;try{we=Object.prototype.toString.call(me.resolve())}catch{}if(we==="[object Promise]"&&!me.cast)return}te.Promise=pe},pe.Promise=pe},typeof A=="object"&&H!==void 0?H.exports=d():c.ES6Promise=d()}).call(this,t("_process"),typeof Vn<"u"?Vn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,H,A){var m,g;m=this,g=function(c,d){var b=5e3,y="callback";function r(i){try{delete window[i]}catch{window[i]=void 0}}function o(i){i=document.getElementById(i),i&&document.getElementsByTagName("head")[0].removeChild(i)}d.exports=function(i){var l=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],u=i,s=l.timeout||b,n=l.jsonpCallback||y,p=void 0;return new Promise(function(h,_){var T=l.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),j=n+"_"+T,S=(window[T]=function(C){h({ok:!0,json:function(){return Promise.resolve(C)}}),p&&clearTimeout(p),o(j),r(T)},u+=u.indexOf("?")===-1?"?":"&",document.createElement("script"));S.setAttribute("src",""+u+n+"="+T),l.charset&&S.setAttribute("charset",l.charset),S.id=j,document.getElementsByTagName("head")[0].appendChild(S),p=setTimeout(function(){_(new Error("JSONP request to "+i+" timed out")),r(T),o(j),window[T]=function(){r(T)}},s),S.onerror=function(){_(new Error("JSONP request to "+i+" failed")),r(T),o(j),p&&clearTimeout(p)}})}},A!==void 0&&H!==void 0?g(0,H):(g(g={exports:{}},g),m.fetchJsonp=g.exports)},{}],252:[function(t,H,A){var m=(function(g){var c,d,b,y,r,o,i,l,u,s,n;if(!(g===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return n=g.document,c=function(){return g.URL||g.webkitURL||g},d=n.createElementNS("http://www.w3.org/1999/xhtml","a"),b="download"in d,y=/constructor/i.test(g.HTMLElement)||g.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(p){(g.setImmediate||g.setTimeout)(function(){throw p},0)},i=4e4,l=function(p){setTimeout(function(){typeof p=="string"?c().revokeObjectURL(p):p.remove()},i)},u=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p},n=(s=function(p,h,C){C||(p=u(p));var T,j,S=this,C=p.type==="application/octet-stream",L=function(){for(var E=S,I="writestart progress write writeend".split(" "),O=void 0,U=(I=[].concat(I)).length;U--;){var D=E["on"+I[U]];if(typeof D=="function")try{D.call(E,O||E)}catch(B){o(B)}}};S.readyState=S.INIT,b?(T=c().createObjectURL(p),setTimeout(function(){var E,I;d.href=T,d.download=h,E=d,I=new MouseEvent("click"),E.dispatchEvent(I),L(),l(T),S.readyState=S.DONE})):(r||C&&y)&&g.FileReader?((j=new FileReader).onloadend=function(){var E=r?j.result:j.result.replace(/^data:[^;]*;/,"data:attachment/file;");g.open(E,"_blank")||(g.location.href=E),E=void 0,S.readyState=S.DONE,L()},j.readAsDataURL(p),S.readyState=S.INIT):(T=T||c().createObjectURL(p),!C&&g.open(T,"_blank")||(g.location.href=T),S.readyState=S.DONE,L(),l(T))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(p,h,_){return h=h||p.name||"download",_||(p=u(p)),navigator.msSaveOrOpenBlob(p,h)}:(n.abort=function(){},n.readyState=n.INIT=0,n.WRITING=1,n.DONE=2,n.error=n.onwritestart=n.onprogress=n.onwrite=n.onabort=n.onerror=n.onwriteend=null,function(p,h,_){return new s(p,h||p.name||"download",_)})})(typeof self<"u"&&self||typeof window<"u"&&window||this.content);H!==void 0&&H.exports?H.exports.saveAs=m:ue!=null},{}],253:[function(t,H,A){var m,g=Object.defineProperty,c=(g(A,"__esModule",{value:!0}),A),d={GIFEncoder:()=>L,applyPalette:()=>function(B,X,W="rgb565"){if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<X.length)throw new Error("applyPalette() only works with 256 colors or less");const G=new Uint32Array(B.buffer),Z=G.length,Q=W==="rgb444"?4096:65536,le=new Uint8Array(Z),w=new Array(Q);if(W==="rgba4444")for(let ye=0;ye<Z;ye++){var J=G[ye],R=J>>24&255,N=J>>16&255,q=J>>8&255,J=255&J,re=l(J,q,N,R),re=re in w?w[re]:w[re]=(function(te,me,we,Ee,xe){let Te=0,Pe=1e100;for(let st=0;st<xe.length;st++){var qe,Re=xe[st],ft=j(Re[3]-Ee);ft>Pe||(qe=Re[0],(ft+=j(qe-te))>Pe||(qe=Re[1],(ft+=j(qe-me))>Pe||(qe=Re[2],(ft+=j(qe-we))>Pe||(Pe=ft,Te=st))))}return Te})(J,q,N,R,X);le[ye]=re}else{const ye=W==="rgb444"?u:i;for(let te=0;te<Z;te++){var se=G[te],ce=se>>16&255,ge=se>>8&255,se=255&se,pe=ye(se,ge,ce),pe=pe in w?w[pe]:w[pe]=(function(me,we,Ee,xe){let Te=0,Pe=1e100;for(let st=0;st<xe.length;st++){var qe,Re=xe[st],ft=j(Re[0]-me);ft>Pe||(qe=Re[1],(ft+=j(qe-we))>Pe||(qe=Re[2],(ft+=j(qe-Ee))>Pe||(Pe=ft,Te=st)))}return Te})(se,ge,ce,X);le[te]=pe}}return le},default:()=>D,nearestColor:()=>function(B,X,W=_){return B[S(B,X,W)]},nearestColorIndex:()=>S,nearestColorIndexWithDistance:()=>C,prequantize:()=>function(B,{roundRGB:X=5,roundAlpha:W=10,oneBitAlpha:G=null}={}){const Z=new Uint32Array(B.buffer);for(let N=0;N<Z.length;N++){var R=Z[N];let q=R>>24&255;var Q,le=R>>16&255,w=R>>8&255,R=255&R;q=T(q,W),G&&(Q=typeof G=="number"?G:127,q=q<=Q?0:255),R=T(R,X),w=T(w,X),le=T(le,X),Z[N]=q<<24|le<<16|w<<8|R<<0}},quantize:()=>function(B,X,W={}){var{format:G="rgb565",clearAlpha:Z=!0,clearAlphaColor:Q=0,clearAlphaThreshold:le=0,oneBitAlpha:w=!1}=W;if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");B=new Uint32Array(B.buffer);let R=W.useSqrt!==!1;const N=G==="rgba4444",q=(function(nt,ut){const it=ut==="rgb444"?4096:65536,Oe=new Array(it),Xe=nt.length;if(ut==="rgba4444")for(let wt=0;wt<Xe;++wt){var K=nt[wt],Le=K>>24&255,ee=K>>16&255,oe=K>>8&255,K=255&K,ie=l(K,oe,ee,Le);let gt=ie in Oe?Oe[ie]:Oe[ie]=h();gt.rc+=K,gt.gc+=oe,gt.bc+=ee,gt.ac+=Le,gt.cnt++}else if(ut==="rgb444")for(let wt=0;wt<Xe;++wt){var Ge=nt[wt],je=Ge>>16&255,Ae=Ge>>8&255,Ge=255&Ge,$e=u(Ge,Ae,je);let gt=$e in Oe?Oe[$e]:Oe[$e]=h();gt.rc+=Ge,gt.gc+=Ae,gt.bc+=je,gt.cnt++}else for(let wt=0;wt<Xe;++wt){var lt=nt[wt],rt=lt>>16&255,ot=lt>>8&255,lt=255&lt,Et=i(lt,ot,rt);let gt=Et in Oe?Oe[Et]:Oe[Et]=h();gt.rc+=lt,gt.gc+=ot,gt.bc+=rt,gt.cnt++}return Oe})(B,G),J=q.length,re=J-1,ce=new Uint32Array(J+1);for(var ge=0,se=0;se<J;++se){const nt=q[se];nt!=null&&(Re=1/nt.cnt,N&&(nt.ac*=Re),nt.rc*=Re,nt.gc*=Re,nt.bc*=Re,q[ge++]=nt)}n(X)/ge<.022&&(R=!1);for(var pe,ye,te,se=0;se<ge-1;++se)q[se].fw=se+1,q[se+1].bk=se,R&&(q[se].cnt=Math.sqrt(q[se].cnt));for(R&&(q[se].cnt=Math.sqrt(q[se].cnt)),se=0;se<ge;++se){p(q,se);var me=q[se].err;for(ye=++ce[0];1<ye&&(te=ye>>1,!(q[pe=ce[te]].err<=me));ye=te)ce[ye]=pe;ce[ye]=se}var we,Ee=ge-X;for(se=0;se<Ee;){for(;;){var xe=ce[1];if((we=q[xe]).tm>=we.mtm&&q[we.nn].mtm<=we.tm)break;for(we.mtm==re?xe=ce[1]=ce[ce[0]--]:(p(q,xe),we.tm=se),me=q[xe].err,ye=1;(te=ye+ye)<=ce[0]&&(te<ce[0]&&q[ce[te]].err>q[ce[te+1]].err&&te++,!(me<=q[pe=ce[te]].err));ye=te)ce[ye]=pe;ce[ye]=xe}var Te=q[we.nn],Pe=we.cnt,qe=Te.cnt,Re=1/(Pe+qe);N&&(we.ac=Re*(Pe*we.ac+qe*Te.ac)),we.rc=Re*(Pe*we.rc+qe*Te.rc),we.gc=Re*(Pe*we.gc+qe*Te.gc),we.bc=Re*(Pe*we.bc+qe*Te.bc),we.cnt+=Te.cnt,we.mtm=++se,q[Te.bk].fw=Te.fw,q[Te.fw].bk=Te.bk,Te.mtm=re}let ft=[];for(se=0;;0){let nt=s(Math.round(q[se].rc),0,255),ut=s(Math.round(q[se].gc),0,255),it=s(Math.round(q[se].bc),0,255),Oe=255;N&&(Oe=s(Math.round(q[se].ac),0,255),w&&(st=typeof w=="number"?w:127,Oe=Oe<=st?0:255),Z&&Oe<=le&&(nt=ut=it=Q,Oe=0));var st=N?[nt,ut,it,Oe]:[nt,ut,it];if((function(Xe,Le){for(let K=0;K<Xe.length;K++){var oe=Xe[K],ee=oe[0]===Le[0]&&oe[1]===Le[1]&&oe[2]===Le[2],oe=!(4<=oe.length&&4<=Le.length)||oe[3]===Le[3];if(ee&&oe)return!0}return!1})(ft,st)||ft.push(st),(se=q[se].fw)==0)break}return ft},snapColorsToPalette:()=>function(B,X,W=5){if(B.length&&X.length){var G=B.map(R=>R.slice(0,3)),Z=W*W,Q=B[0].length;for(let R=0;R<X.length;R++){let N=X[R];N=N.length<Q?[N[0],N[1],N[2],255]:N.length>Q?N.slice(0,3):N.slice();var w=C(G,N.slice(0,3),_),le=w[0],w=w[1];0<w&&w<=Z&&(B[le]=N)}}}};for(m in d)g(c,m,{get:d[m],enumerable:!0});var b={trailer:59};function y(B=256){let X=0,W=new Uint8Array(B);return{get buffer(){return W.buffer},reset(){X=0},bytesView(){return W.subarray(0,X)},bytes(){return W.slice(0,X)},writeByte(Z){G(X+1),W[X]=Z,X++},writeBytes(Z,Q=0,le=Z.length){G(X+le);for(let w=0;w<le;w++)W[X++]=Z[w+Q]},writeBytesView(Z,Q=0,le=Z.byteLength){G(X+le),W.set(Z.subarray(Q,Q+le),X),X+=le}};function G(Z){var Q=W.length;if(!(Z<=Q)){Z=Math.max(Z,Q*(Q<1048576?2:1.125)>>>0),Q!=0&&(Z=Math.max(Z,256));const le=W;W=new Uint8Array(Z),0<X&&W.set(le.subarray(0,X),0)}}}var r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],o=function(B,X,W,N,Z=y(512),Q=new Uint8Array(256),le=new Int32Array(5003),w=new Int32Array(5003)){var R=le.length,N=Math.max(2,N);Q.fill(0),w.fill(0),le.fill(-1);let q=0,J=0;var re=N+1;const ce=re;let ge=!1,se=ce,pe=(1<<se)-1;var ye=1<<re-1;const te=1+ye;let me=2+ye,we=0,Ee=W[0],xe=0;for(let st=R;st<65536;st*=2)++xe;xe=8-xe,Z.writeByte(N),ft(ye);var Te=W.length;for(let st=1;st<Te;st++)e:{var Pe=W[st],qe=(Pe<<12)+Ee;let nt=Pe<<xe^Ee;if(le[nt]===qe)Ee=w[nt];else{for(var Re=nt===0?1:R-nt;0<=le[nt];)if((nt-=Re)<0&&(nt+=R),le[nt]===qe){Ee=w[nt];break e}ft(Ee),Ee=Pe,me<4096?(w[nt]=me++,le[nt]=qe):(le.fill(-1),me=2+ye,ge=!0,ft(ye))}}return ft(Ee),ft(te),Z.writeByte(0),Z.bytesView();function ft(st){for(q&=r[J],0<J?q|=st<<J:q=st,J+=se;8<=J;)Q[we++]=255&q,254<=we&&(Z.writeByte(we),Z.writeBytesView(Q,0,we),we=0),q>>=8,J-=8;if((me>pe||ge)&&(ge?(se=ce,pe=(1<<se)-1,ge=!1):(++se,pe=se===12?1<<se:(1<<se)-1)),st==te){for(;0<J;)Q[we++]=255&q,254<=we&&(Z.writeByte(we),Z.writeBytesView(Q,0,we),we=0),q>>=8,J-=8;0<we&&(Z.writeByte(we),Z.writeBytesView(Q,0,we),we=0)}}};function i(B,X,W){return B<<8&63488|X<<2&992|W>>3}function l(B,X,W,G){return B>>4|240&X|(240&W)<<4|(240&G)<<8}function u(B,X,W){return B>>4<<8|240&X|W>>4}function s(B,X,W){return B<X?X:W<B?W:B}function n(B){return B*B}function p(B,X,W){var G=0,Z=1e100;const Q=B[X];for(var le=Q.cnt,w=Q.ac,R=Q.rc,N=Q.gc,q=Q.bc,J=Q.fw;J!=0;J=B[J].fw){var re,ce=B[J],ge=ce.cnt,ge=le*ge/(le+ge);Z<=ge||(re=0,Z<=(re+=ge*n(ce.rc-R))||Z<=(re+=ge*n(ce.gc-N))||Z<=(re+=ge*n(ce.bc-q))||(Z=re,G=J))}Q.err=Z,Q.nn=G}function h(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function _(B,X){for(var W=0,G=0;G<B.length;G++){var Z=B[G]-X[G];W+=Z*Z}return W}function T(B,X){return 1<X?Math.round(B/X)*X:B}function j(B){return B*B}function S(B,X,W=_){let G=1/0,Z=-1;for(let le=0;le<B.length;le++){var Q=W(X,B[le]);Q<G&&(G=Q,Z=le)}return Z}function C(B,X,W=_){let G=1/0,Z=-1;for(let le=0;le<B.length;le++){var Q=W(X,B[le]);Q<G&&(G=Q,Z=le)}return[Z,G]}function L(B={}){const{initialCapacity:X=4096,auto:W=!0}=B,G=y(X),Z=new Uint8Array(256),Q=new Int32Array(5003),le=new Int32Array(5003);let w=!1;return{reset(){G.reset(),w=!1},finish(){G.writeByte(b.trailer)},bytes(){return G.bytes()},bytesView(){return G.bytesView()},get buffer(){return G.buffer},get stream(){return G},writeHeader:R,writeFrame(N,q,J,Ee={}){var{transparent:ce=!1,transparentIndex:ge=0,delay:Re=0,palette:se=null,repeat:Te=0,colorDepth:pe=8,dispose:ye=-1}=Ee;let te=!1;if(W?w||(te=!0,R(),w=!0):te=!!Ee.first,q=Math.max(0,Math.floor(q)),J=Math.max(0,Math.floor(J)),te){if(!se)throw new Error("First frame must include a { palette } option");var[Ee,Pe,we,qe,xe=8]=[G,q,J,se,pe];qe=U(qe.length)-1,xe=128|xe-1<<4|qe,I(Ee,Pe),I(Ee,we),Ee.writeBytes([xe,0,0]),E(G,se),0<=Te&&(qe=G,Pe=Te,qe.writeByte(33),qe.writeByte(255),qe.writeByte(11),O(qe,"NETSCAPE2.0"),qe.writeByte(3),qe.writeByte(1),I(qe,Pe),qe.writeByte(0))}var me,we=Math.round(Re/10),Ee=G,xe=ye,Te=we,Pe=ce,qe=ge,Re=(Ee.writeByte(33),Ee.writeByte(249),Ee.writeByte(4),qe<0&&(qe=0,Pe=!1),Pe=Pe?(me=1,2):me=0,0<=xe&&(Pe=7&xe),Pe<<=2,Ee.writeByte(0|Pe|me),I(Ee,Te),Ee.writeByte(qe||0),Ee.writeByte(0),!!se&&!te);ye=G,ce=q,ge=J,me=Re?se:null,ye.writeByte(44),I(ye,0),I(ye,0),I(ye,ce),I(ye,ge),me?(ce=U(me.length)-1,ye.writeByte(128|ce)):ye.writeByte(0),Re&&E(G,se),[Te,Ee,ge,ce,ye=8,Re,se,N]=[G,N,q,J,pe,Z,Q,le],o(ge,ce,Ee,ye,Te,Re,se,N)}};function R(){O(G,"GIF89a")}}function E(B,X){var W=1<<U(X.length);for(let G=0;G<W;G++){let Z=[0,0,0];G<X.length&&(Z=X[G]),B.writeByte(Z[0]),B.writeByte(Z[1]),B.writeByte(Z[2])}}function I(B,X){B.writeByte(255&X),B.writeByte(X>>8&255)}function O(B,X){for(var W=0;W<X.length;W++)B.writeByte(X.charCodeAt(W))}function U(B){return Math.max(Math.ceil(Math.log2(B)),1)}var D=L},{}],254:[function(t,H,A){A.read=function(m,g,c,d,p){var y,r,o=8*p-d-1,i=(1<<o)-1,l=i>>1,u=-7,s=c?p-1:0,n=c?-1:1,p=m[g+s];for(s+=n,y=p&(1<<-u)-1,p>>=-u,u+=o;0<u;y=256*y+m[g+s],s+=n,u-=8);for(r=y&(1<<-u)-1,y>>=-u,u+=d;0<u;r=256*r+m[g+s],s+=n,u-=8);if(y===0)y=1-l;else{if(y===i)return r?NaN:1/0*(p?-1:1);r+=Math.pow(2,d),y-=l}return(p?-1:1)*r*Math.pow(2,y-d)},A.write=function(m,g,c,d,b,h){var r,o,i=8*h-b-1,l=(1<<i)-1,u=l>>1,s=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:h-1,p=d?1:-1,h=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(o=isNaN(g)?1:0,r=l):(r=Math.floor(Math.log(g)/Math.LN2),g*(d=Math.pow(2,-r))<1&&(r--,d*=2),2<=(g+=1<=r+u?s/d:s*Math.pow(2,1-u))*d&&(r++,d/=2),l<=r+u?(o=0,r=l):1<=r+u?(o=(g*d-1)*Math.pow(2,b),r+=u):(o=g*Math.pow(2,u-1)*Math.pow(2,b),r=0));8<=b;m[c+n]=255&o,n+=p,o/=256,b-=8);for(r=r<<b|o,i+=b;0<i;m[c+n]=255&r,n+=p,r/=256,i-=8);m[c+n-p]|=128*h}},{}],255:[function(t,H,A){var m;function g(ee,oe){return ee.b===oe.b&&ee.a===oe.a}function c(ee,oe){return ee.b<oe.b||ee.b===oe.b&&ee.a<=oe.a}function d(ee,oe,K){var ie=oe.b-ee.b,je=K.b-oe.b;return 0<ie+je?ie<je?oe.a-ee.a+ie/(ie+je)*(ee.a-K.a):oe.a-K.a+je/(ie+je)*(K.a-ee.a):0}function b(ee,oe,K){var ie=oe.b-ee.b,je=K.b-oe.b;return 0<ie+je?(oe.a-K.a)*ie+(oe.a-ee.a)*je:0}function y(ee,oe){return ee.a<oe.a||ee.a===oe.a&&ee.b<=oe.b}function r(ee,oe,K){var ie=oe.a-ee.a,je=K.a-oe.a;return 0<ie+je?ie<je?oe.b-ee.b+ie/(ie+je)*(ee.b-K.b):oe.b-K.b+je/(ie+je)*(K.b-ee.b):0}function o(ee,oe,K){var ie=oe.a-ee.a,je=K.a-oe.a;return 0<ie+je?(oe.b-K.b)*ie+(oe.b-ee.b)*je:0}function i(ee,oe,K,ie){return(ee=ee<0?0:ee)<=(K=K<0?0:K)?K===0?(oe+ie)/2:oe+ee/(ee+K)*(ie-oe):ie+K/(ee+K)*(oe-ie)}function l(ee){var oe=h(ee.b);return T(oe,ee.c),T(oe.b,ee.c),j(oe,ee.a),oe}function u(ee,oe){var K=!1,ie=!1;ee!==oe&&(oe.a!==ee.a&&(ie=!0,C(oe.a,ee.a)),oe.d!==ee.d&&(K=!0,L(oe.d,ee.d)),_(oe,ee),ie||(T(oe,ee.a),ee.a.c=ee),K||(j(oe,ee.d),ee.d.a=ee))}function s(ee){var oe=ee.b,K=!1;ee.d!==ee.b.d&&(K=!0,L(ee.d,ee.b.d)),ee.c===ee?C(ee.a,null):(ee.b.d.a=ee.b.e,ee.a.c=ee.c,_(ee,ee.b.e),K||j(ee,ee.d)),oe.c===oe?(C(oe.a,null),L(oe.d,null)):(ee.d.a=oe.b.e,oe.a.c=oe.c,_(oe,oe.b.e)),S(ee)}function n(ee){var oe=h(ee),K=oe.b;return _(oe,ee.e),oe.a=ee.b.a,T(K,oe.a),oe.d=K.d=ee.d,oe=oe.b,_(ee.b,ee.b.b.e),_(ee.b,oe),ee.b.a=oe.a,oe.b.a.c=oe.b,oe.b.d=ee.b.d,oe.f=ee.f,oe.b.f=ee.b.f,oe}function p(ee,oe){var K=!1,ie=h(ee),je=ie.b;return oe.d!==ee.d&&(K=!0,L(oe.d,ee.d)),_(ie,ee.e),_(je,oe),ie.a=ee.b.a,je.a=oe.a,ie.d=je.d=ee.d,ee.d.a=je,K||j(ie,ee.d),ie}function h(ee){var oe=new we,K=new we,ie=ee.b.h;return(((K.h=ie).b.h=oe).h=ee).b.h=K,oe.b=K,((oe.c=oe).e=K).b=oe,(K.c=K).e=oe}function _(ee,oe){var K=ee.c,ie=oe.c;K.b.e=oe,(ie.b.e=ee).c=ie,oe.c=K}function T(ee,oe){var K=oe.f,ie=new xe(oe,K);for(K.e=ie,K=(oe.f=ie).c=ee;K.a=ie,(K=K.c)!==ee;);}function j(ee,oe){var K=oe.d,ie=new me(oe,K);for(K.b=ie,(oe.d=ie).a=ee,ie.c=oe.c,K=ee;K.d=ie,(K=K.e)!==ee;);}function S(ee){var oe=ee.h;ee=ee.b.h,(oe.b.h=ee).b.h=oe}function C(ee,oe){for(var K=ee.c,ie=K;ie.a=oe,(ie=ie.c)!==K;);K=ee.f,((ie=ee.e).f=K).e=ie}function L(ee,oe){for(var K=ee.a,ie=K;ie.d=oe,(ie=ie.e)!==K;);K=ee.d,((ie=ee.b).d=K).b=ie}function E(ee){var oe=0;return Math.abs(ee[1])>Math.abs(ee[0])&&(oe=1),oe=Math.abs(ee[2])>Math.abs(ee[oe])?2:oe}function I(ee,oe){ee.f+=oe.f,ee.b.f+=oe.b.f}function O(ee,oe,K){return ee=ee.a,oe=oe.a,K=K.a,oe.b.a===ee?K.b.a===ee?c(oe.a,K.a)?b(K.b.a,oe.a,K.a)<=0:0<=b(oe.b.a,K.a,oe.a):b(K.b.a,ee,K.a)<=0:K.b.a===ee?0<=b(oe.b.a,ee,oe.a):(oe=d(oe.b.a,ee,oe.a),(ee=d(K.b.a,ee,K.a))<=oe)}function U(ee){ee.a.i=null;var oe=ee.e;oe.a.c=oe.c,oe.c.a=oe.a,ee.e=null}function D(ee,oe){s(ee.a),ee.c=!1,(ee.a=oe).i=ee}function B(ee){for(var oe=ee.a.a;(ee=Le(ee)).a.a===oe;);return ee.c&&(D(ee,oe=p(Xe(ee).a.b,ee.a.e)),ee=Le(ee)),ee}function X(ee,oe,K){var ie=new Oe;return ie.a=K,ie.e=ge(ee.f,oe.e,ie),K.i=ie}function W(ee,oe){switch(ee.s){case 100130:return(1&oe)!=0;case 100131:return oe!==0;case 100132:return 0<oe;case 100133:return oe<0;case 100134:return 2<=oe||oe<=-2}return!1}function G(ee){var oe=ee.a,K=oe.d;K.c=ee.d,K.a=oe,U(ee)}function Z(ee,oe,K){for(oe=(ee=oe).a;ee!==K;){ee.c=!1;var ie=Xe(ee),je=ie.a;if(je.a!==oe.a){if(!ie.c){G(ee);break}D(ie,je=p(oe.c.b,je.b))}oe.c!==je&&(u(je.b.e,je),u(oe,je)),G(ee),oe=ie.a,ee=ie}return oe}function Q(ee,oe,K,ie,je,Ae){for(var Ge=!0;X(ee,oe,K.b),(K=K.c)!==ie;);for(je===null&&(je=Xe(oe).a.b.c);(K=(ie=Xe(oe)).a.b).a===je.a;)K.c!==je&&(u(K.b.e,K),u(je.b.e,K)),ie.f=oe.f-K.f,ie.d=W(ee,ie.f),oe.b=!0,!Ge&&N(ee,oe)&&(I(K,je),U(oe),s(je)),Ge=!1,oe=ie,je=K;oe.b=!0,Ae&&J(ee,oe)}function le(ee,oe,K,ie,je){var Ae=[oe.g[0],oe.g[1],oe.g[2]];oe.d=null,oe.d=ee.o&&ee.o(Ae,K,ie,ee.c)||null,oe.d===null&&(je?ee.n||(te(ee,100156),ee.n=!0):oe.d=K[0])}function w(ee,oe,K){var ie=[null,null,null,null];ie[0]=oe.a.d,ie[1]=K.a.d,le(ee,oe.a,ie,[.5,.5,0,0],!1),u(oe,K)}function R(ee,oe,K,ie,je){var Ae=Math.abs(oe.b-ee.b)+Math.abs(oe.a-ee.a),Ge=Math.abs(K.b-ee.b)+Math.abs(K.a-ee.a),$e=je+1;ie[je]=.5*Ge/(Ae+Ge),ie[$e]=.5*Ae/(Ae+Ge),ee.g[0]+=ie[je]*oe.g[0]+ie[$e]*K.g[0],ee.g[1]+=ie[je]*oe.g[1]+ie[$e]*K.g[1],ee.g[2]+=ie[je]*oe.g[2]+ie[$e]*K.g[2]}function N(ee,oe){var K=Xe(oe),ie=oe.a,je=K.a;if(c(ie.a,je.a)){if(0<b(je.b.a,ie.a,je.a))return;if(g(ie.a,je.a)){if(ie.a!==je.a){var K=ee.e,Ae=ie.a.h;if(0<=Ae){var Ge=(K=K.b).d,$e=K.e,rt=K.c,ot=rt[Ae];Ge[ot]=Ge[K.a],(rt[Ge[ot]]=ot)<=--K.a&&(ot<=1||c($e[Ge[ot>>1]],$e[Ge[ot]])?ut:it)(K,ot),$e[Ae]=null,rt[Ae]=K.b,K.b=Ae}else for(K.c[-(Ae+1)]=null;0<K.a&&K.c[K.d[K.a-1]]===null;)--K.a;w(ee,je.b.e,ie)}}else n(je.b),u(ie,je.b.e),oe.b=K.b=!0}else{if(b(ie.b.a,je.a,ie.a)<0)return;Le(oe).b=oe.b=!0,n(ie.b),u(je.b.e,ie)}return 1}function q(ee,oe){var K=Xe(oe),ie=oe.a,je=K.a,Ae=ie.a,Ge=je.a,$e=ie.b.a,rt=je.b.a,ot=new xe;if(b($e,ee.a,Ae),b(rt,ee.a,Ge),!(Ae===Ge||Math.min(Ae.a,$e.a)>Math.max(Ge.a,rt.a))){if(c(Ae,Ge)){if(0<b(rt,Ae,Ge))return}else if(b($e,Ge,Ae)<0)return;var lt,Et,wt=$e,gt=Ae,jt=rt,xt=Ge;if(c(wt,gt)||(lt=wt,wt=gt,gt=lt),c(jt,xt)||(lt=jt,jt=xt,xt=lt),c(wt,jt)||(lt=wt,wt=jt,jt=lt,lt=gt,gt=xt,xt=lt),c(jt,gt)?c(gt,xt)?((lt=d(wt,jt,gt))+(Et=d(jt,gt,xt))<0&&(lt=-lt,Et=-Et),ot.b=i(lt,jt.b,Et,gt.b)):((lt=b(wt,jt,gt))+(Et=-b(wt,xt,gt))<0&&(lt=-lt,Et=-Et),ot.b=i(lt,jt.b,Et,xt.b)):ot.b=(jt.b+gt.b)/2,y(wt,gt)||(lt=wt,wt=gt,gt=lt),y(jt,xt)||(lt=jt,jt=xt,xt=lt),y(wt,jt)||(lt=wt,wt=jt,jt=lt,lt=gt,gt=xt,xt=lt),y(jt,gt)?y(gt,xt)?((lt=r(wt,jt,gt))+(Et=r(jt,gt,xt))<0&&(lt=-lt,Et=-Et),ot.a=i(lt,jt.a,Et,gt.a)):((lt=o(wt,jt,gt))+(Et=-o(wt,xt,gt))<0&&(lt=-lt,Et=-Et),ot.a=i(lt,jt.a,Et,xt.a)):ot.a=(jt.a+gt.a)/2,c(ot,ee.a)&&(ot.b=ee.a.b,ot.a=ee.a.a),wt=c(Ae,Ge)?Ae:Ge,c(wt,ot)&&(ot.b=wt.b,ot.a=wt.a),g(ot,Ae)||g(ot,Ge))return N(ee,oe),0;if(!g($e,ee.a)&&0<=b($e,ee.a,ot)||!g(rt,ee.a)&&b(rt,ee.a,ot)<=0){if(rt===ee.a)n(ie.b),u(je.b,ie),ie=Xe(oe=B(oe)).a,Z(ee,Xe(oe),K),Q(ee,oe,ie.b.e,ie,ie,!0);else{if($e!==ee.a)return 0<=b($e,ee.a,ot)&&(Le(oe).b=oe.b=!0,n(ie.b),ie.a.b=ee.a.b,ie.a.a=ee.a.a),void(b(rt,ee.a,ot)<=0&&(oe.b=K.b=!0,n(je.b),je.a.b=ee.a.b,je.a.a=ee.a.a));for(n(je.b),u(ie.e,je.b.e),Ge=(Ae=K=oe).a.b.a;(Ae=Le(Ae)).a.b.a===Ge;);Ae=Xe(oe=Ae).a.b.c,K.a=je.b.e,Q(ee,oe,(je=Z(ee,K,null)).c,ie.b.c,Ae,!0)}return 1}n(ie.b),n(je.b),u(je.b.e,ie),ie.a.b=ot.b,ie.a.a=ot.a,ie.a.h=Pe(ee.e,ie.a),ie=ie.a,je=[0,0,0,0],ot=[Ae.d,$e.d,Ge.d,rt.d],ie.g[0]=ie.g[1]=ie.g[2]=0,R(ie,Ae,$e,je,0),R(ie,Ge,rt,je,2),le(ee,ie,ot,je,!0),Le(oe).b=oe.b=K.b=!0}}function J(ee,oe){for(var K=Xe(oe);;){for(;K.b;)K=Xe(oe=K);if(!oe.b&&((oe=Le(K=oe))===null||!oe.b))break;oe.b=!1;var ie=oe.a,je=K.a;if(Ae=ie.b.a!==je.b.a)e:{var Ae,Ge=Xe(Ae=oe),$e=Ae.a,rt=Ge.a,ot=void 0;if(c($e.b.a,rt.b.a)){if(b($e.b.a,rt.b.a,$e.a)<0){Ae=!1;break e}Le(Ae).b=Ae.b=!0,ot=n($e),u(rt.b,ot),ot.d.c=Ae.d}else{if(0<b(rt.b.a,$e.b.a,rt.a)){Ae=!1;break e}Ae.b=Ge.b=!0,ot=n(rt),u($e.e,rt.b),ot.b.d.c=Ae.d}Ae=!0}if(Ae&&(K.c?(U(K),s(je),je=(K=Xe(oe)).a):oe.c&&(U(oe),s(ie),ie=(oe=Le(K)).a)),ie.a!==je.a){if(ie.b.a===je.b.a||oe.c||K.c||ie.b.a!==ee.a&&je.b.a!==ee.a)N(ee,oe);else if(q(ee,oe))break}ie.a===je.a&&ie.b.a===je.b.a&&(I(je,ie),U(oe),s(ie),oe=Le(K))}}function re(ee,oe){var K=new Oe,ie=l(ee.b);ie.a.b=4e150,ie.a.a=oe,ie.b.a.b=-4e150,ie.b.a.a=oe,ee.a=ie.b.a,K.a=ie,K.f=0,K.d=!1,K.c=!1,K.h=!0,K.b=!1,ie=ge(ie=ee.f,ie.a,K),K.e=ie}function ce(ee){this.a=new se,this.b=ee,this.c=O}function ge(ee,oe,K){for(;(oe=oe.c).b!==null&&!ee.c(ee.b,oe.b,K););return ee=new se(K,oe.a,oe),oe.a.c=ee,oe.a=ee}function se(ee,oe,K){this.b=ee||null,this.a=oe||this,this.c=K||this}function pe(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ye(ee,oe){if(ee.d!==oe)for(;ee.d!==oe;)if(ee.d<oe)switch(ee.d){case 0:te(ee,100151),ee.u(null);break;case 1:te(ee,100152),ee.t()}else switch(ee.d){case 2:te(ee,100154),ee.v();break;case 1:te(ee,100153),ee.w()}}function te(ee,oe){ee.p&&ee.p(oe,ee.c)}function me(ee,oe){this.b=ee||this,this.d=oe||this,this.a=null,this.c=!1}function we(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ee(){this.c=new xe,this.a=new me,this.b=new we,this.d=new we,this.b.b=this.d,this.d.b=this.b}function xe(ee,oe){this.e=ee||this,this.f=oe||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Te(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Re}function Pe(ee,oe){var K,ie,je;return ee.e?(2*(ie=++(K=ee.b).a)>K.f&&(K.f*=2,K.c=ft(K.c,K.f+1)),K.b===0?je=ie:(je=K.b,K.b=K.c[K.b]),K.e[je]=oe,K.c[je]=ie,K.d[ie]=je,K.h&&it(K,ie),je):(K=ee.a++,ee.c[K]=oe,-(K+1))}function qe(ee){if(ee.a===0)return nt(ee.b);var oe=ee.c[ee.d[ee.a-1]];if(ee.b.a!==0&&c(st(ee.b),oe))return nt(ee.b);for(;--ee.a,0<ee.a&&ee.c[ee.d[ee.a-1]]===null;);return oe}function Re(){this.d=ft([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ft(ee,oe){for(var K=Array(oe),ie=0;ie<ee.length;ie++)K[ie]=ee[ie];for(;ie<oe;ie++)K[ie]=0;return K}function st(ee){return ee.e[ee.d[1]]}function nt(ee){var oe=ee.d,K=ee.e,ie=ee.c,je=oe[1],Ae=K[je];return 0<ee.a&&(oe[1]=oe[ee.a],ie[oe[1]]=1,K[je]=null,ie[je]=ee.b,ee.b=je,0<--ee.a&&ut(ee,1)),Ae}function ut(ee,oe){for(var K=ee.d,ie=ee.e,je=ee.c,Ae=oe,Ge=K[Ae];;){var $e=Ae<<1,rt=($e<ee.a&&c(ie[K[$e+1]],ie[K[$e]])&&($e+=1),K[$e]);if($e>ee.a||c(ie[Ge],ie[rt])){je[K[Ae]=Ge]=Ae;break}je[K[Ae]=rt]=Ae,Ae=$e}}function it(ee,oe){for(var K=ee.d,ie=ee.e,je=ee.c,Ae=oe,Ge=K[Ae];;){var $e=Ae>>1,rt=K[$e];if($e==0||c(ie[rt],ie[Ge])){je[K[Ae]=Ge]=Ae;break}je[K[Ae]=rt]=Ae,Ae=$e}}function Oe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Xe(ee){return ee.e.c.b}function Le(ee){return ee.e.a.b}(m=pe.prototype).x=function(){ye(this,0)},m.B=function(ee,oe){switch(ee){case 100142:return;case 100140:switch(oe){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=oe)}break;case 100141:return void(this.m=!!oe);default:return void te(this,100900)}te(this,100901)},m.y=function(ee){switch(ee){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:te(this,100900)}return!1},m.A=function(ee,oe,K){this.j[0]=ee,this.j[1]=oe,this.j[2]=K},m.z=function(ee,oe){var K=oe||null;switch(ee){case 100100:case 100106:this.h=K;break;case 100104:case 100110:this.l=K;break;case 100101:case 100107:this.k=K;break;case 100102:case 100108:this.i=K;break;case 100103:case 100109:this.p=K;break;case 100105:case 100111:this.o=K;break;case 100112:this.r=K;break;default:te(this,100900)}},m.C=function(ee,oe){var K=!1,ie=[0,0,0];ye(this,2);for(var je=0;je<3;++je){var Ae=ee[je];Ae<-1e150&&(Ae=-1e150,K=!0),1e150<Ae&&(Ae=1e150,K=!0),ie[je]=Ae}K&&te(this,100155),(K=this.q)===null?u(K=l(this.b),K.b):(n(K),K=K.e),K.a.d=oe,K.a.g[0]=ie[0],K.a.g[1]=ie[1],K.a.g[2]=ie[2],K.f=1,K.b.f=-1,this.q=K},m.u=function(ee){ye(this,0),this.d=1,this.b=new Ee,this.c=ee},m.t=function(){ye(this,1),this.d=2,this.q=null},m.v=function(){ye(this,2),this.d=1},m.w=function(){ye(this,1),this.d=0;var ee,oe,K=this.j[0],ie=this.j[1],je=this.j[2],Ae=!1,Ge=[K,ie,je];if(K===0&&ie===0&&je===0){for(var ie=[-2e150,-2e150,-2e150],$e=[2e150,2e150,2e150],je=[],rt=[],K=(Ae=this.b.c).e;K!==Ae;K=K.e)for(var ot=0;ot<3;++ot){var lt=K.g[ot];lt<$e[ot]&&($e[ot]=lt,rt[ot]=K),lt>ie[ot]&&(ie[ot]=lt,je[ot]=K)}if(ie[1]-$e[1]>ie[K=0]-$e[0]&&(K=1),$e[K=ie[2]-$e[2]>ie[K]-$e[K]?2:K]>=ie[K])Ge[0]=0,Ge[1]=0,Ge[2]=1;else{for($e=rt[K],je=je[K],rt=[ie=0,0,0],$e=[$e.g[0]-je.g[0],$e.g[1]-je.g[1],$e.g[2]-je.g[2]],ot=[0,0,0],K=Ae.e;K!==Ae;K=K.e)ot[0]=K.g[0]-je.g[0],ot[1]=K.g[1]-je.g[1],ot[2]=K.g[2]-je.g[2],rt[0]=$e[1]*ot[2]-$e[2]*ot[1],rt[1]=$e[2]*ot[0]-$e[0]*ot[2],rt[2]=$e[0]*ot[1]-$e[1]*ot[0],ie<(lt=rt[0]*rt[0]+rt[1]*rt[1]+rt[2]*rt[2])&&(ie=lt,Ge[0]=rt[0],Ge[1]=rt[1],Ge[2]=rt[2]);ie<=0&&(Ge[0]=Ge[1]=Ge[2]=0,Ge[E($e)]=1)}Ae=!0}for(rt=E(Ge),K=this.b.c,ie=(rt+1)%3,je=(rt+2)%3,rt=0<Ge[rt]?1:-1,Ge=K.e;Ge!==K;Ge=Ge.e)Ge.b=Ge.g[ie],Ge.a=rt*Ge.g[je];if(Ae){for(Ge=0,K=(Ae=this.b.a).b;K!==Ae;K=K.b)if(!((ie=K.a).f<=0))for(;Ge+=(ie.a.b-ie.b.a.b)*(ie.a.a+ie.b.a.a),(ie=ie.e)!==K.a;);if(Ge<0)for(Ae=(Ge=this.b.c).e;Ae!==Ge;Ae=Ae.e)Ae.a=-Ae.a}for(this.n=!1,Ge=this.b.b,K=Ge.h;K!==Ge;K=Ae)Ae=K.h,ie=K.e,g(K.a,K.b.a)&&K.e.e!==K&&(w(this,ie,K),s(K),ie=(K=ie).e),ie.e===K&&(ie!==K&&(ie!==Ae&&ie!==Ae.b||(Ae=Ae.h),s(ie)),K!==Ae&&K!==Ae.b||(Ae=Ae.h),s(K));for(this.e=Ge=new Te,Ae=this.b.c,K=Ae.e;K!==Ae;K=K.e)K.h=Pe(Ge,K);var Et=Ge;Et.d=[];for(var wt=0;wt<Et.a;wt++)Et.d[wt]=wt;Et.d.sort((function(xt){return function(Jt,Mr){return c(xt[Jt],xt[Mr])?1:-1}})(Et.c)),Et.e=!0;for(var gt=Et.b,jt=gt.a;1<=jt;--jt)ut(gt,jt);for(gt.h=!0,this.f=new ce(this),re(this,-4e150),re(this,4e150);(Ge=qe(this.e))!==null;){for(;;){e:if((K=this.e).a===0)Ae=st(K.b);else if(Ae=K.c[K.d[K.a-1]],K.b.a!==0&&c(K=st(K.b),Ae)){Ae=K;break e}if(Ae===null||!g(Ae,Ge))break;Ae=qe(this.e),w(this,Ge.c,Ae.c)}(function xt(Jt,Mr){for(var hr,Wt=(Jt.a=Mr).c;Wt.i===null;)if((Wt=Wt.c)===Mr.c){var Wt=Jt,$t=Mr;(Zt=new Oe).a=$t.c.b;for(var jr=(Bt=Wt.f).a;(jr=jr.a).b!==null&&!Bt.c(Bt.b,Zt,jr.b););var Bt,mr,_r=Xe(Bt=jr.b),Zt=Bt.a,jr=_r.a;return void(b(Zt.b.a,$t,Zt.a)===0?g((Zt=Bt.a).a,$t)||g(Zt.b.a,$t)||(n(Zt.b),Bt.c&&(s(Zt.c),Bt.c=!1),u($t.c,Zt),xt(Wt,$t)):(mr=c(jr.b.a,Zt.b.a)?Bt:_r,_r=void 0,Bt.d||mr.c?(_r=mr===Bt?p($t.c.b,Zt.e):p(jr.b.c.b,$t.c).b,mr.c?D(mr,_r):((Bt=X(Zt=Wt,Bt,_r)).f=Le(Bt).f+Bt.a.f,Bt.d=W(Zt,Bt.f)),xt(Wt,$t)):Q(Wt,Bt,$t.c,$t.c,null,!0)))}Bt=(Zt=Xe(Wt=B(Wt.i))).a,(Zt=Z(Jt,Zt,null)).c===Bt?(Zt=(Bt=Zt).c,jr=Xe(Wt),_r=Wt.a,mr=jr.a,hr=!1,_r.b.a!==mr.b.a&&q(Jt,Wt),g(_r.a,Jt.a)&&(u(Zt.b.e,_r),Zt=Xe(Wt=B(Wt)).a,Z(Jt,Xe(Wt),jr),hr=!0),g(mr.a,Jt.a)&&(u(Bt,mr.b.e),Bt=Z(Jt,jr,null),hr=!0),hr?Q(Jt,Wt,Bt.c,Zt,Zt,!0):($t=c(mr.a,_r.a)?mr.b.e:_r,Q(Jt,Wt,$t=p(Bt.c.b,$t),$t.c,$t.c,!1),$t.b.i.c=!0,J(Jt,Wt))):Q(Jt,Wt,Zt.c,Bt,Bt,!0)})(this,Ge)}for(this.a=this.f.a.a.b.a.a,Ge=0;(Ae=this.f.a.a.b)!==null;)Ae.h||++Ge,U(Ae);for(this.f=null,(Ge=this.e).b=null,Ge.d=null,this.e=Ge.c=null,Ge=this.b,K=Ge.a.b;K!==Ge.a;K=Ae)Ae=K.b,(K=K.a).e.e===K&&(I(K.c,K),s(K));if(!this.n){if(Ge=this.b,this.m)for(K=Ge.b.h;K!==Ge.b;K=Ae)Ae=K.h,K.b.d.c!==K.d.c?K.f=K.d.c?1:-1:s(K);else for(K=Ge.a.b;K!==Ge.a;K=Ae)if(Ae=K.b,K.c){for(K=K.a;c(K.b.a,K.a);K=K.c.b);for(;c(K.a,K.b.a);K=K.e);for(ie=K.c.b,je=void 0;K.e!==ie;)if(c(K.b.a,ie.a)){for(;ie.e!==K&&(c((oe=ie.e).b.a,oe.a)||b(ie.a,ie.b.a,ie.e.b.a)<=0);)ie=(je=p(ie.e,ie)).b;ie=ie.c.b}else{for(;ie.e!==K&&(c((ee=K.c.b).a,ee.b.a)||0<=b(K.b.a,K.a,K.c.b.a));)K=(je=p(K,K.c.b)).b;K=K.e}for(;ie.e.e!==K;)je=p(ie.e,ie),ie=je.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ae=(Ge=this.b).a.b;Ae!==Ge.a;Ae=Ae.b)if(Ae.c){for(this.h&&this.h(2,this.c),K=Ae.a;this.k&&this.k(K.a.d,this.c),(K=K.e)!==Ae.a;);this.i&&this.i(this.c)}}else{for(Ge=this.b,Ae=!!this.l,K=!1,ie=-1,je=Ge.a.d;je!==Ge.a;je=je.d)if(je.c)for(K||(this.h&&this.h(4,this.c),K=!0),rt=je.a;Ae&&($e=rt.b.d.c?0:1,ie!==$e&&(ie=$e,this.l&&this.l(!!ie,this.c))),this.k&&this.k(rt.a.d,this.c),(rt=rt.e)!==je.a;);K&&this.i&&this.i(this.c)}if(this.r){for(Ge=this.b,K=Ge.a.b;K!==Ge.a;K=Ae)if(Ae=K.b,!K.c){for(je=(ie=K.a).e,rt=void 0;je=(rt=je).e,(rt.d=null)===rt.b.d&&(rt.c===rt?C(rt.a,null):(rt.a.c=rt.c,_(rt,rt.b.e)),($e=rt.b).c===$e?C($e.a,null):($e.a.c=$e.c,_($e,$e.b.e)),S(rt)),rt!==ie;);ie=K.d,((K=K.b).d=ie).b=K}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:pe,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},pe.prototype.gluDeleteTess=pe.prototype.x,pe.prototype.gluTessProperty=pe.prototype.B,pe.prototype.gluGetTessProperty=pe.prototype.y,pe.prototype.gluTessNormal=pe.prototype.A,pe.prototype.gluTessCallback=pe.prototype.z,pe.prototype.gluTessVertex=pe.prototype.C,pe.prototype.gluTessBeginPolygon=pe.prototype.u,pe.prototype.gluTessBeginContour=pe.prototype.t,pe.prototype.gluTessEndContour=pe.prototype.v,pe.prototype.gluTessEndPolygon=pe.prototype.w,H!==void 0&&(H.exports=this.libtess)},{}],256:[function(t,H,A){function m(c,d,b,y){var r=0,o=(y=y===void 0?{}:y).loop===void 0?null:y.loop,i=y.palette===void 0?null:y.palette;if(d<=0||b<=0||65535<d||65535<b)throw new Error("Width/Height invalid.");function l(j){if(j=j.length,j<2||256<j||j&j-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return j}c[r++]=71,c[r++]=73,c[r++]=70,c[r++]=56,c[r++]=57,c[r++]=97;var u=0,s=0;if(i!==null){for(var n=l(i);n>>=1;)++u;if(n=1<<u,--u,y.background!==void 0){if(n<=(s=y.background))throw new Error("Background index out of range.");if(s===0)throw new Error("Background index explicitly passed as 0.")}}if(c[r++]=255&d,c[r++]=d>>8&255,c[r++]=255&b,c[r++]=b>>8&255,c[r++]=(i!==null?128:0)|u,c[r++]=s,c[r++]=0,i!==null)for(var p=0,h=i.length;p<h;++p){var _=i[p];c[r++]=_>>16&255,c[r++]=_>>8&255,c[r++]=255&_}if(o!==null){if(o<0||65535<o)throw new Error("Loop count invalid.");c[r++]=33,c[r++]=255,c[r++]=11,c[r++]=78,c[r++]=69,c[r++]=84,c[r++]=83,c[r++]=67,c[r++]=65,c[r++]=80,c[r++]=69,c[r++]=50,c[r++]=46,c[r++]=48,c[r++]=3,c[r++]=1,c[r++]=255&o,c[r++]=o>>8&255,c[r++]=0}var T=!1;this.addFrame=function(j,S,C,L,E,I){if(T===!0&&(--r,T=!1),I=I===void 0?{}:I,j<0||S<0||65535<j||65535<S)throw new Error("x/y invalid.");if(C<=0||L<=0||65535<C||65535<L)throw new Error("Width/Height invalid.");if(E.length<C*L)throw new Error("Not enough pixels for the frame size.");var O=!0,U=I.palette;if(U==null&&(O=!1,U=i),U==null)throw new Error("Must supply either a local or global palette.");for(var B=l(U),D=0;B>>=1;)++D;var B=1<<D,X=I.delay===void 0?0:I.delay,W=I.disposal===void 0?0:I.disposal;if(W<0||3<W)throw new Error("Disposal out of range.");var G=!1,Z=0;if(I.transparent!==void 0&&I.transparent!==null&&(G=!0,(Z=I.transparent)<0||B<=Z))throw new Error("Transparent color index.");if(W===0&&!G&&X===0||(c[r++]=33,c[r++]=249,c[r++]=4,c[r++]=W<<2|(G===!0?1:0),c[r++]=255&X,c[r++]=X>>8&255,c[r++]=Z,c[r++]=0),c[r++]=44,c[r++]=255&j,c[r++]=j>>8&255,c[r++]=255&S,c[r++]=S>>8&255,c[r++]=255&C,c[r++]=C>>8&255,c[r++]=255&L,c[r++]=L>>8&255,c[r++]=O===!0?128|D-1:0,O===!0)for(var Q=0,le=U.length;Q<le;++Q){var w=U[Q];c[r++]=w>>16&255,c[r++]=w>>8&255,c[r++]=255&w}return r=(function(R,N,q,J){R[N++]=q;var re=N++,ce=1<<q,ge=ce-1,se=1+ce,pe=1+se,ye=q+1,te=0,me=0;function we(nt){for(;nt<=te;)R[N++]=255&me,me>>=8,te-=8,N===re+256&&(R[re]=255,re=N++)}function Ee(nt){me|=nt<<te,te+=ye,we(8)}var xe=J[0]&ge,Te={};Ee(ce);for(var Pe=1,qe=J.length;Pe<qe;++Pe){var Re=J[Pe]&ge,ft=xe<<8|Re,st=Te[ft];if(st===void 0){for(me|=xe<<te,te+=ye;8<=te;)R[N++]=255&me,me>>=8,te-=8,N===re+256&&(R[re]=255,re=N++);pe===4096?(Ee(ce),pe=1+se,ye=q+1,Te={}):(1<<ye<=pe&&++ye,Te[ft]=pe++),xe=Re}else xe=st}return Ee(xe),Ee(se),we(1),re+1===N?R[re]=0:(R[re]=N-re-1,R[N++]=0),N})(c,r,D<2?2:D,E)},this.end=function(){return T===!1&&(c[r++]=59,T=!0),r},this.getOutputBuffer=function(){return c},this.setOutputBuffer=function(j){c=j},this.getOutputBufferPosition=function(){return r},this.setOutputBufferPosition=function(j){r=j}}function g(c,d,b,y){for(var r=c[d++],o=1<<r,i=1+o,l=1+i,u=r+1,s=(1<<u)-1,n=0,p=0,h=0,_=c[d++],T=new Int32Array(4096),j=null;;){for(;n<16&&_!==0;)p|=c[d++]<<n,n+=8,_===1?_=c[d++]:--_;if(n<u)break;var S=p&s;if(p>>=u,n-=u,S==o)l=1+i,s=(1<<(u=r+1))-1,j=null;else{if(S==i)break;for(var C=S<l?S:j,L=0,E=C;o<E;)E=T[E]>>8,++L;var I=E;if(y<h+L+(C!==S?1:0))return void console.log("Warning, gif stream longer than expected.");b[h++]=I;var O=h+=L;for(C!==S&&(b[h++]=I),E=C;L--;)E=T[E],b[--O]=255&E,E>>=8;j!==null&&l<4096&&(T[l++]=j<<8|I,s+1<=l&&u<12&&(++u,s=s<<1|1)),j=S}}h!==y&&console.log("Warning, gif stream shorter than expected.")}try{A.GifWriter=m,A.GifReader=function(c){var d=0;if(c[d++]!==71||c[d++]!==73||c[d++]!==70||c[d++]!==56||(c[d++]+1&253)!=56||c[d++]!==97)throw new Error("Invalid GIF 87a/89a header.");var b=c[d++]|c[d++]<<8,y=c[d++]|c[d++]<<8,r=c[d++],o=1<<1+(7&r),i=(c[d++],c[d++],null),l=null,u=(r>>7&&(i=d,d+=3*(l=o)),!0),s=[],n=0,p=null,h=0,_=null;for(this.width=b,this.height=y;u&&d<c.length;)switch(c[d++]){case 33:switch(c[d++]){case 255:if(c[d]!==11||c[d+1]==78&&c[d+2]==69&&c[d+3]==84&&c[d+4]==83&&c[d+5]==67&&c[d+6]==65&&c[d+7]==80&&c[d+8]==69&&c[d+9]==50&&c[d+10]==46&&c[d+11]==48&&c[d+12]==3&&c[d+13]==1&&c[d+16]==0)d+=14,_=c[d++]|c[d++]<<8,d++;else for(d+=12;;){if(!(0<=(j=c[d++])))throw Error("Invalid block size");if(j===0)break;d+=j}break;case 249:if(c[d++]!==4||c[d+4]!==0)throw new Error("Invalid graphics extension block.");var T=c[d++],n=c[d++]|c[d++]<<8,p=c[d++];(1&T)==0&&(p=null),h=T>>2&7,d++;break;case 254:for(;;){if(!(0<=(j=c[d++])))throw Error("Invalid block size");if(j===0)break;d+=j}break;default:throw new Error("Unknown graphic control label: 0x"+c[d-1].toString(16))}break;case 44:var j,S=c[d++]|c[d++]<<8,C=c[d++]|c[d++]<<8,L=c[d++]|c[d++]<<8,E=c[d++]|c[d++]<<8,X=c[d++],I=X>>6&1,O=1<<1+(7&X),U=i,D=l,B=!1,X=(X>>7&&(B=!0,U=d,d+=3*(D=O)),d);for(d++;;){if(!(0<=(j=c[d++])))throw Error("Invalid block size");if(j===0)break;d+=j}s.push({x:S,y:C,width:L,height:E,has_local_palette:B,palette_offset:U,palette_size:D,data_offset:X,data_length:d-X,transparent_index:p,interlaced:!!I,delay:n,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+c[d-1].toString(16))}this.numFrames=function(){return s.length},this.loopCount=function(){return _},this.frameInfo=function(W){if(W<0||W>=s.length)throw new Error("Frame index out of range.");return s[W]},this.decodeAndBlitFrameBGRA=function(W,G){for(var W=this.frameInfo(W),Z=W.width*W.height,Q=new Uint8Array(Z),le=(g(c,W.data_offset,Q,Z),W.palette_offset),w=W.transparent_index,R=(w===null&&(w=256),W.width),N=b-R,q=R,J=4*(W.y*b+W.x),re=4*((W.y+W.height)*b+W.x),ce=J,ge=4*N,se=(W.interlaced===!0&&(ge+=4*b*7),8),pe=0,ye=Q.length;pe<ye;++pe){var te,me,we=Q[pe];q===0&&(q=R,re<=(ce+=ge)&&(ge=4*N+4*b*(se-1),ce=J+(R+N)*(se<<1),se>>=1)),we===w?ce+=4:(te=c[le+3*we],me=c[le+3*we+1],we=c[le+3*we+2],G[ce++]=we,G[ce++]=me,G[ce++]=te,G[ce++]=255),--q}},this.decodeAndBlitFrameRGBA=function(W,G){for(var W=this.frameInfo(W),Z=W.width*W.height,Q=new Uint8Array(Z),le=(g(c,W.data_offset,Q,Z),W.palette_offset),w=W.transparent_index,R=(w===null&&(w=256),W.width),N=b-R,q=R,J=4*(W.y*b+W.x),re=4*((W.y+W.height)*b+W.x),ce=J,ge=4*N,se=(W.interlaced===!0&&(ge+=4*b*7),8),pe=0,ye=Q.length;pe<ye;++pe){var te,me,we=Q[pe];q===0&&(q=R,re<=(ce+=ge)&&(ge=4*N+4*b*(se-1),ce=J+(R+N)*(se<<1),se>>=1)),we===w?ce+=4:(te=c[le+3*we],me=c[le+3*we+1],we=c[le+3*we+2],G[ce++]=te,G[ce++]=me,G[ce++]=we,G[ce++]=255),--q}}}}catch{}},{}],257:[function(t,H,A){(function(m){var g,c;g=this,c=function(d){function b(F){if(this==null)throw TypeError();var x,M=String(this),k=M.length,F=F?Number(F):0;if(!((F=F!=F?0:F)<0||k<=F))return 55296<=(x=M.charCodeAt(F))&&x<=56319&&F+1<k&&56320<=(k=M.charCodeAt(F+1))&&k<=57343?1024*(x-55296)+k-56320+65536:x}String.prototype.codePointAt||((y=(function(){try{var f={},x=Object.defineProperty,M=x(f,f,f)&&x}catch{}return M})())?y(String.prototype,"codePointAt",{value:b,configurable:!0,writable:!0}):String.prototype.codePointAt=b);var y,r=0,o=-3;function i(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function l(f,x){this.source=f,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=x,this.destLen=0,this.ltree=new i,this.dtree=new i}var u=new i,s=new i,n=new Uint8Array(30),p=new Uint16Array(30),h=new Uint8Array(30),_=new Uint16Array(30),T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=new i,S=new Uint8Array(320);function C(f,x,M,k){for(var F,z=0;z<M;++z)f[z]=0;for(z=0;z<30-M;++z)f[z+M]=z/M|0;for(F=k,z=0;z<30;++z)x[z]=F,F+=1<<f[z]}var L=new Uint16Array(16);function E(f,x,M,k){for(var F,z=0;z<16;++z)f.table[z]=0;for(z=0;z<k;++z)f.table[x[M+z]]++;for(z=F=f.table[0]=0;z<16;++z)L[z]=F,F+=f.table[z];for(z=0;z<k;++z)x[M+z]&&(f.trans[L[x[M+z]]++]=z)}function I(f,x,M){if(!x)return M;for(;f.bitcount<24;)f.tag|=f.source[f.sourceIndex++]<<f.bitcount,f.bitcount+=8;var k=f.tag&65535>>>16-x;return f.tag>>>=x,f.bitcount-=x,k+M}function O(f,x){for(;f.bitcount<24;)f.tag|=f.source[f.sourceIndex++]<<f.bitcount,f.bitcount+=8;for(var M=0,k=0,F=0,z=f.tag;k=2*k+(1&z),z>>>=1,M+=x.table[++F],0<=(k-=x.table[F]););return f.tag=z,f.bitcount-=F,x.trans[M+k]}function U(f,x,M){for(;;){var k=O(f,x);if(k===256)return r;if(k<256)f.dest[f.destLen++]=k;else for(var F,z=I(f,n[k-=257],p[k]),k=O(f,M),Y=F=f.destLen-I(f,h[k],_[k]);Y<F+z;++Y)f.dest[f.destLen++]=f.dest[Y]}}for(var D=u,B=s,X=0;X<7;++X)D.table[X]=0;for(D.table[7]=24,D.table[8]=152,D.table[9]=112,X=0;X<24;++X)D.trans[X]=256+X;for(X=0;X<144;++X)D.trans[24+X]=X;for(X=0;X<8;++X)D.trans[168+X]=280+X;for(X=0;X<112;++X)D.trans[176+X]=144+X;for(X=0;X<5;++X)B.table[X]=0;for(B.table[5]=32,X=0;X<32;++X)B.trans[X]=X;C(n,p,4,3),C(h,_,2,1),n[28]=0,p[28]=258;var W=function(f,x){var M,k,F,z=new l(f,x);do{switch(F=void 0,(k=z).bitcount--||(k.tag=k.source[k.sourceIndex++],k.bitcount=7),F=1&k.tag,k.tag>>>=1,k=F,I(z,2,0)){case 0:M=(function(Ue){for(var vt,kt;8<Ue.bitcount;)Ue.sourceIndex--,Ue.bitcount-=8;if((vt=256*Ue.source[Ue.sourceIndex+1]+Ue.source[Ue.sourceIndex])!==(65535&~(256*Ue.source[Ue.sourceIndex+3]+Ue.source[Ue.sourceIndex+2])))return o;for(Ue.sourceIndex+=4,kt=vt;kt;--kt)Ue.dest[Ue.destLen++]=Ue.source[Ue.sourceIndex++];return Ue.bitcount=0,r})(z);break;case 1:M=U(z,u,s);break;case 2:He=Be=Ye=Fe=Y=ve=Ce=Ie=Se=he=fe=ne=void 0;for(var Y,ne=z,fe=z.ltree,he=z.dtree,Se=I(ne,5,257),Ie=I(ne,5,1),Ce=I(ne,4,4),ve=0;ve<19;++ve)S[ve]=0;for(ve=0;ve<Ce;++ve){var Ye=I(ne,3,0);S[T[ve]]=Ye}for(E(j,S,0,19),Y=0;Y<Se+Ie;){var Be=O(ne,j);switch(Be){case 16:for(var He=S[Y-1],Fe=I(ne,2,3);Fe;--Fe)S[Y++]=He;break;case 17:for(Fe=I(ne,3,3);Fe;--Fe)S[Y++]=0;break;case 18:for(Fe=I(ne,7,11);Fe;--Fe)S[Y++]=0;break;default:S[Y++]=Be}}E(fe,S,0,Se),E(he,S,Se,Ie),M=U(z,z.ltree,z.dtree);break;default:M=o}if(M!==r)throw new Error("Data error")}while(!k);return z.destLen<z.dest.length?typeof z.dest.slice=="function"?z.dest.slice(0,z.destLen):z.dest.subarray(0,z.destLen):z.dest};function G(f,x,M,k,F){return Math.pow(1-F,3)*f+3*Math.pow(1-F,2)*F*x+3*(1-F)*Math.pow(F,2)*M+Math.pow(F,3)*k}function Z(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Q(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function le(f){throw new Error(f)}function w(f,x){f||le(x)}Z.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Z.prototype.addPoint=function(f,x){typeof f=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=f,this.x2=f),f<this.x1&&(this.x1=f),f>this.x2&&(this.x2=f)),typeof x=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=x,this.y2=x),x<this.y1&&(this.y1=x),x>this.y2&&(this.y2=x))},Z.prototype.addX=function(f){this.addPoint(f,null)},Z.prototype.addY=function(f){this.addPoint(null,f)},Z.prototype.addBezier=function(f,x,M,k,F,z,Y,ne){var fe=[f,x],he=[M,k],Se=[F,z],Ie=[Y,ne];this.addPoint(f,x),this.addPoint(Y,ne);for(var Ce=0;Ce<=1;Ce++){var ve,Ye=6*fe[Ce]-12*he[Ce]+6*Se[Ce],Be=-3*fe[Ce]+9*he[Ce]-9*Se[Ce]+3*Ie[Ce],He=3*he[Ce]-3*fe[Ce];Be==0?Ye==0||0<(ve=-He/Ye)&&ve<1&&(Ce===0&&this.addX(G(fe[Ce],he[Ce],Se[Ce],Ie[Ce],ve)),Ce===1&&this.addY(G(fe[Ce],he[Ce],Se[Ce],Ie[Ce],ve))):(ve=Math.pow(Ye,2)-4*He*Be)<0||(0<(He=(-Ye+Math.sqrt(ve))/(2*Be))&&He<1&&(Ce===0&&this.addX(G(fe[Ce],he[Ce],Se[Ce],Ie[Ce],He)),Ce===1&&this.addY(G(fe[Ce],he[Ce],Se[Ce],Ie[Ce],He))),0<(He=(-Ye-Math.sqrt(ve))/(2*Be))&&He<1&&(Ce===0&&this.addX(G(fe[Ce],he[Ce],Se[Ce],Ie[Ce],He)),Ce===1&&this.addY(G(fe[Ce],he[Ce],Se[Ce],Ie[Ce],He))))}},Z.prototype.addQuad=function(f,x,M,k,F,z){M=f+2/3*(M-f),k=x+2/3*(k-x),this.addBezier(f,x,M,k,M+1/3*(F-f),k+1/3*(z-x),F,z)},Q.prototype.moveTo=function(f,x){this.commands.push({type:"M",x:f,y:x})},Q.prototype.lineTo=function(f,x){this.commands.push({type:"L",x:f,y:x})},Q.prototype.curveTo=Q.prototype.bezierCurveTo=function(f,x,M,k,F,z){this.commands.push({type:"C",x1:f,y1:x,x2:M,y2:k,x:F,y:z})},Q.prototype.quadTo=Q.prototype.quadraticCurveTo=function(f,x,M,k){this.commands.push({type:"Q",x1:f,y1:x,x:M,y:k})},Q.prototype.close=Q.prototype.closePath=function(){this.commands.push({type:"Z"})},Q.prototype.extend=function(f){var x;if(f.commands)f=f.commands;else if(f instanceof Z)return x=f,this.moveTo(x.x1,x.y1),this.lineTo(x.x2,x.y1),this.lineTo(x.x2,x.y2),this.lineTo(x.x1,x.y2),void this.close();Array.prototype.push.apply(this.commands,f)},Q.prototype.getBoundingBox=function(){for(var f=new Z,x=0,M=0,k=0,F=0,z=0;z<this.commands.length;z++){var Y=this.commands[z];switch(Y.type){case"M":f.addPoint(Y.x,Y.y),x=k=Y.x,M=F=Y.y;break;case"L":f.addPoint(Y.x,Y.y),k=Y.x,F=Y.y;break;case"Q":f.addQuad(k,F,Y.x1,Y.y1,Y.x,Y.y),k=Y.x,F=Y.y;break;case"C":f.addBezier(k,F,Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y),k=Y.x,F=Y.y;break;case"Z":k=x,F=M;break;default:throw new Error("Unexpected path command "+Y.type)}}return f.isEmpty()&&f.addPoint(0,0),f},Q.prototype.draw=function(f){f.beginPath();for(var x=0;x<this.commands.length;x+=1){var M=this.commands[x];M.type==="M"?f.moveTo(M.x,M.y):M.type==="L"?f.lineTo(M.x,M.y):M.type==="C"?f.bezierCurveTo(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?f.quadraticCurveTo(M.x1,M.y1,M.x,M.y):M.type==="Z"&&f.closePath()}this.fill&&(f.fillStyle=this.fill,f.fill()),this.stroke&&(f.strokeStyle=this.stroke,f.lineWidth=this.strokeWidth,f.stroke())},Q.prototype.toPathData=function(f){function x(){for(var z=arguments,Y="",ne=0;ne<arguments.length;ne+=1){var fe=z[ne];0<=fe&&0<ne&&(Y+=" "),Y+=(fe=fe,Math.round(fe)===fe?""+Math.round(fe):fe.toFixed(f))}return Y}f=f!==void 0?f:2;for(var M="",k=0;k<this.commands.length;k+=1){var F=this.commands[k];F.type==="M"?M+="M"+x(F.x,F.y):F.type==="L"?M+="L"+x(F.x,F.y):F.type==="C"?M+="C"+x(F.x1,F.y1,F.x2,F.y2,F.x,F.y):F.type==="Q"?M+="Q"+x(F.x1,F.y1,F.x,F.y):F.type==="Z"&&(M+="Z")}return M},Q.prototype.toSVG=function(f){var x=(x='<path d="')+this.toPathData(f)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?x+=' fill="none"':x+=' fill="'+this.fill+'"'),this.stroke&&(x+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),x+="/>"},Q.prototype.toDOMElement=function(x){var x=this.toPathData(x),M=document.createElementNS("http://www.w3.org/2000/svg","path");return M.setAttribute("d",x),M};var R={fail:le,argument:w,assert:w},N={},q={},J={};function re(f){return function(){return f}}q.BYTE=function(f){return R.argument(0<=f&&f<=255,"Byte value should be between 0 and 255."),[f]},J.BYTE=re(1),q.CHAR=function(f){return[f.charCodeAt(0)]},J.CHAR=re(1),q.CHARARRAY=function(f){for(var x=[],M=0;M<f.length;M+=1)x[M]=f.charCodeAt(M);return x},J.CHARARRAY=function(f){return f.length},q.USHORT=function(f){return[f>>8&255,255&f]},J.USHORT=re(2),q.SHORT=function(f){return[(f=32768<=f?-(65536-f):f)>>8&255,255&f]},J.SHORT=re(2),q.UINT24=function(f){return[f>>16&255,f>>8&255,255&f]},J.UINT24=re(3),q.ULONG=function(f){return[f>>24&255,f>>16&255,f>>8&255,255&f]},J.ULONG=re(4),q.LONG=function(f){return[(f=2147483648<=f?-(4294967296-f):f)>>24&255,f>>16&255,f>>8&255,255&f]},J.LONG=re(4),q.FIXED=q.ULONG,J.FIXED=J.ULONG,q.FWORD=q.SHORT,J.FWORD=J.SHORT,q.UFWORD=q.USHORT,J.UFWORD=J.USHORT,q.LONGDATETIME=function(f){return[0,0,0,0,f>>24&255,f>>16&255,f>>8&255,255&f]},J.LONGDATETIME=re(8),q.TAG=function(f){return R.argument(f.length===4,"Tag should be exactly 4 ASCII characters."),[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]},J.TAG=re(4),q.Card8=q.BYTE,J.Card8=J.BYTE,q.Card16=q.USHORT,J.Card16=J.USHORT,q.OffSize=q.BYTE,J.OffSize=J.BYTE,q.SID=q.USHORT,J.SID=J.USHORT,q.NUMBER=function(f){return-107<=f&&f<=107?[f+139]:108<=f&&f<=1131?[247+((f-=108)>>8),255&f]:-1131<=f&&f<=-108?[251+((f=-f-108)>>8),255&f]:-32768<=f&&f<=32767?q.NUMBER16(f):q.NUMBER32(f)},J.NUMBER=function(f){return q.NUMBER(f).length},q.NUMBER16=function(f){return[28,f>>8&255,255&f]},J.NUMBER16=re(3),q.NUMBER32=function(f){return[29,f>>24&255,f>>16&255,f>>8&255,255&f]},J.NUMBER32=re(5),q.REAL=function(f){for(var x=f.toString(),M=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(x),k=(M&&(M=parseFloat("1e"+((M[2]?+M[2]:0)+M[1].length)),x=(Math.round(f*M)/M).toString()),""),F=0,z=x.length;F<z;F+=1){var Y=x[F];k+=Y==="e"?x[++F]==="-"?"c":"b":Y==="."?"a":Y==="-"?"e":Y}for(var ne=[30],fe=0,he=(k+=1&k.length?"f":"ff").length;fe<he;fe+=2)ne.push(parseInt(k.substr(fe,2),16));return ne},J.REAL=function(f){return q.REAL(f).length},q.NAME=q.CHARARRAY,J.NAME=J.CHARARRAY,q.STRING=q.CHARARRAY,J.STRING=J.CHARARRAY,N.UTF8=function(f,x,M){for(var k=[],F=M,z=0;z<F;z++,x+=1)k[z]=f.getUint8(x);return String.fromCharCode.apply(null,k)},N.UTF16=function(f,x,M){for(var k=[],F=M/2,z=0;z<F;z++,x+=2)k[z]=f.getUint16(x);return String.fromCharCode.apply(null,k)},q.UTF16=function(f){for(var x=[],M=0;M<f.length;M+=1){var k=f.charCodeAt(M);x[x.length]=k>>8&255,x[x.length]=255&k}return x},J.UTF16=function(f){return 2*f.length};var ce,ge={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},se=(N.MACSTRING=function(f,x,M,k){var F=ge[k];if(F!==void 0){for(var z="",Y=0;Y<M;Y++){var ne=f.getUint8(x+Y);z+=ne<=127?String.fromCharCode(ne):F[127&ne]}return z}},typeof WeakMap=="function"&&new WeakMap);function pe(f){return-128<=f&&f<=127}q.MACSTRING=function(f,x){var M=(function(Y){if(!ce)for(var ne in ce={},ge)ce[ne]=new String(ne);var fe=ce[Y];if(fe!==void 0){if(se){var he=se.get(fe);if(he!==void 0)return he}var Se=ge[Y];if(Se!==void 0){for(var Ie={},Ce=0;Ce<Se.length;Ce++)Ie[Se.charCodeAt(Ce)]=Ce+128;return se&&se.set(fe,Ie),Ie}}})(x);if(M!==void 0){for(var k=[],F=0;F<f.length;F++){var z=f.charCodeAt(F);if(128<=z&&(z=M[z])===void 0)return;k[F]=z}return k}},J.MACSTRING=function(f,x){return f=q.MACSTRING(f,x),f!==void 0?f.length:0},q.VARDELTAS=function(f){for(var k=0,x=[];k<f.length;)var M=f[k],k=(M===0?function(F,z,Y){for(var ne=0,fe=F.length;z<fe&&ne<64&&F[z]===0;)++z,++ne;return Y.push(128|ne-1),z}:-128<=M&&M<=127?function(F,z,Y){for(var ne=0,fe=F.length,he=z;he<fe&&ne<64;){var Se=F[he];if(!pe(Se)||Se===0&&he+1<fe&&F[he+1]===0)break;++he,++ne}Y.push(ne-1);for(var Ie=z;Ie<he;++Ie)Y.push(F[Ie]+256&255);return he}:function(F,z,Y){for(var ne=0,fe=F.length,he=z;he<fe&&ne<64;){var Se=F[he];if(Se===0||pe(Se)&&he+1<fe&&pe(F[he+1]))break;++he,++ne}Y.push(64|ne-1);for(var Ie=z;Ie<he;++Ie){var Ce=F[Ie];Y.push(Ce+65536>>8&255,Ce+256&255)}return he})(f,k,x);return x},q.INDEX=function(f){for(var x=1,M=[x],k=[],F=0;F<f.length;F+=1){var z=q.OBJECT(f[F]);Array.prototype.push.apply(k,z),x+=z.length,M.push(x)}if(k.length===0)return[0,0];for(var Y=[],ne=1+Math.floor(Math.log(x)/Math.log(2))/8|0,fe=[void 0,q.BYTE,q.USHORT,q.UINT24,q.ULONG][ne],he=0;he<M.length;he+=1){var Se=fe(M[he]);Array.prototype.push.apply(Y,Se)}return Array.prototype.concat(q.Card16(f.length),q.OffSize(ne),Y,k)},J.INDEX=function(f){return q.INDEX(f).length},q.DICT=function(f){for(var x=[],M=Object.keys(f),k=M.length,F=0;F<k;F+=1){var z=parseInt(M[F],0),Y=f[z];x=(x=x.concat(q.OPERAND(Y.value,Y.type))).concat(q.OPERATOR(z))}return x},J.DICT=function(f){return q.DICT(f).length},q.OPERATOR=function(f){return f<1200?[f]:[12,f-1200]},q.OPERAND=function(f,x){var M=[];if(Array.isArray(x))for(var k=0;k<x.length;k+=1)R.argument(f.length===x.length,"Not enough arguments given for type"+x),M=M.concat(q.OPERAND(f[k],x[k]));else if(x==="SID")M=M.concat(q.NUMBER(f));else if(x==="offset")M=M.concat(q.NUMBER32(f));else if(x==="number")M=M.concat(q.NUMBER(f));else{if(x!=="real")throw new Error("Unknown operand type "+x);M=M.concat(q.REAL(f))}return M},q.OP=q.BYTE,J.OP=J.BYTE;var ye=typeof WeakMap=="function"&&new WeakMap;function te(f,x,M){for(var k=0;k<x.length;k+=1){var F=x[k];this[F.name]=F.value}if(this.tableName=f,this.fields=x,M)for(var z=Object.keys(M),Y=0;Y<z.length;Y+=1){var ne=z[Y],fe=M[ne];this[ne]!==void 0&&(this[ne]=fe)}}function me(f,x,M){M===void 0&&(M=x.length);var k=new Array(x.length+1);k[0]={name:f+"Count",type:"USHORT",value:M};for(var F=0;F<x.length;F++)k[F+1]={name:f+F,type:"USHORT",value:x[F]};return k}function we(f,x,M){var k=x.length,F=new Array(k+1);F[0]={name:f+"Count",type:"USHORT",value:k};for(var z=0;z<k;z++)F[z+1]={name:f+z,type:"TABLE",value:M(x[z],z)};return F}function Ee(f,x,M){var k=x.length,F=[];F[0]={name:f+"Count",type:"USHORT",value:k};for(var z=0;z<k;z++)F=F.concat(M(x[z],z));return F}function xe(f){f.format===1?te.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(me("glyph",f.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function Te(f){te.call(this,"scriptListTable",Ee("scriptRecord",f,function(x,M){var k=x.script,F=k.defaultLangSys;return R.assert(!!F,"Unable to write GSUB: script "+x.tag+" has no default language system."),[{name:"scriptTag"+M,type:"TAG",value:x.tag},{name:"script"+M,type:"TABLE",value:new te("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new te("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:F.reqFeatureIndex}].concat(me("featureIndex",F.featureIndexes)))}].concat(Ee("langSys",k.langSysRecords,function(z,Y){var ne=z.langSys;return[{name:"langSysTag"+Y,type:"TAG",value:z.tag},{name:"langSys"+Y,type:"TABLE",value:new te("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ne.reqFeatureIndex}].concat(me("featureIndex",ne.featureIndexes)))}]})))}]}))}function Pe(f){te.call(this,"featureListTable",Ee("featureRecord",f,function(x,M){var k=x.feature;return[{name:"featureTag"+M,type:"TAG",value:x.tag},{name:"feature"+M,type:"TABLE",value:new te("featureTable",[{name:"featureParams",type:"USHORT",value:k.featureParams}].concat(me("lookupListIndex",k.lookupListIndexes)))}]}))}function qe(f,x){te.call(this,"lookupListTable",we("lookup",f,function(M){var k=x[M.lookupType];return R.assert(!!k,"Unable to write GSUB lookup type "+M.lookupType+" tables."),new te("lookupTable",[{name:"lookupType",type:"USHORT",value:M.lookupType},{name:"lookupFlag",type:"USHORT",value:M.lookupFlag}].concat(we("subtable",M.subtables,k)))}))}q.CHARSTRING=function(f){if(ye){var x=ye.get(f);if(x!==void 0)return x}for(var z=[],M=f.length,k=0;k<M;k+=1)var F=f[k],z=z.concat(q[F.type](F.value));return ye&&ye.set(f,z),z},J.CHARSTRING=function(f){return q.CHARSTRING(f).length},q.OBJECT=function(f){var x=q[f.type];return R.argument(x!==void 0,"No encoding function for type "+f.type),x(f.value)},J.OBJECT=function(f){var x=J[f.type];return R.argument(x!==void 0,"No sizeOf function for type "+f.type),x(f.value)},q.TABLE=function(f){for(var x=[],M=f.fields.length,k=[],F=[],z=0;z<M;z+=1){var Y=f.fields[z],fe=q[Y.type],ne=(R.argument(fe!==void 0,"No encoding function for field type "+Y.type+" ("+Y.name+")"),f[Y.name]),fe=fe(ne=ne===void 0?Y.value:ne);Y.type==="TABLE"?(F.push(x.length),x=x.concat([0,0]),k.push(fe)):x=x.concat(fe)}for(var he=0;he<k.length;he+=1){var Se=F[he],Ie=x.length;R.argument(Ie<65536,"Table "+f.tableName+" too big."),x[Se]=Ie>>8,x[Se+1]=255&Ie,x=x.concat(k[he])}return x},J.TABLE=function(f){for(var x=0,M=f.fields.length,k=0;k<M;k+=1){var F=f.fields[k],z=J[F.type],Y=(R.argument(z!==void 0,"No sizeOf function for field type "+F.type+" ("+F.name+")"),f[F.name]);x+=z(Y=Y===void 0?F.value:Y),F.type==="TABLE"&&(x+=2)}return x},q.RECORD=q.TABLE,J.RECORD=J.TABLE,q.LITERAL=function(f){return f},J.LITERAL=function(f){return f.length},te.prototype.encode=function(){return q.TABLE(this)},te.prototype.sizeOf=function(){return J.TABLE(this)};var Re={Table:te,Record:te,Coverage:(xe.prototype=Object.create(te.prototype)).constructor=xe,ScriptList:(Te.prototype=Object.create(te.prototype)).constructor=Te,FeatureList:(Pe.prototype=Object.create(te.prototype)).constructor=Pe,LookupList:(qe.prototype=Object.create(te.prototype)).constructor=qe,ushortList:me,tableList:we,recordList:Ee};function ft(f,x){return f.getUint8(x)}function st(f,x){return f.getUint16(x,!1)}function nt(f,x){return f.getUint32(x,!1)}function ut(f,x){return f.getInt16(x,!1)+f.getUint16(x+2,!1)/65535}var it={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Oe(f,x){this.data=f,this.offset=x,this.relativeOffset=0}Oe.prototype.parseByte=function(){var f=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,f},Oe.prototype.parseChar=function(){var f=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,f},Oe.prototype.parseCard8=Oe.prototype.parseByte,Oe.prototype.parseCard16=Oe.prototype.parseUShort=function(){var f=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,f},Oe.prototype.parseSID=Oe.prototype.parseUShort,Oe.prototype.parseOffset16=Oe.prototype.parseUShort,Oe.prototype.parseShort=function(){var f=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,f},Oe.prototype.parseF2Dot14=function(){var f=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,f},Oe.prototype.parseOffset32=Oe.prototype.parseULong=function(){var f=nt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,f},Oe.prototype.parseFixed=function(){var f=ut(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,f},Oe.prototype.parseString=function(f){var x=this.data,M=this.offset+this.relativeOffset,k="";this.relativeOffset+=f;for(var F=0;F<f;F++)k+=String.fromCharCode(x.getUint8(M+F));return k},Oe.prototype.parseTag=function(){return this.parseString(4)},Oe.prototype.parseLongDateTime=function(){var f=nt(this.data,this.offset+this.relativeOffset+4);return f-=2082844800,this.relativeOffset+=8,f},Oe.prototype.parseVersion=function(f){var x=st(this.data,this.offset+this.relativeOffset),M=st(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,x+M/(f=f===void 0?4096:f)/10},Oe.prototype.skip=function(f,x){this.relativeOffset+=it[f]*(x=x===void 0?1:x)},Oe.prototype.parseULongList=function(f){f===void 0&&(f=this.parseULong());for(var x=new Array(f),M=this.data,k=this.offset+this.relativeOffset,F=0;F<f;F++)x[F]=M.getUint32(k),k+=4;return this.relativeOffset+=4*f,x},Oe.prototype.parseOffset16List=Oe.prototype.parseUShortList=function(f){f===void 0&&(f=this.parseUShort());for(var x=new Array(f),M=this.data,k=this.offset+this.relativeOffset,F=0;F<f;F++)x[F]=M.getUint16(k),k+=2;return this.relativeOffset+=2*f,x},Oe.prototype.parseShortList=function(f){for(var x=new Array(f),M=this.data,k=this.offset+this.relativeOffset,F=0;F<f;F++)x[F]=M.getInt16(k),k+=2;return this.relativeOffset+=2*f,x},Oe.prototype.parseByteList=function(f){for(var x=new Array(f),M=this.data,k=this.offset+this.relativeOffset,F=0;F<f;F++)x[F]=M.getUint8(k++);return this.relativeOffset+=f,x},Oe.prototype.parseList=function(f,x){x||(x=f,f=this.parseUShort());for(var M=new Array(f),k=0;k<f;k++)M[k]=x.call(this);return M},Oe.prototype.parseList32=function(f,x){x||(x=f,f=this.parseULong());for(var M=new Array(f),k=0;k<f;k++)M[k]=x.call(this);return M},Oe.prototype.parseRecordList=function(f,x){x||(x=f,f=this.parseUShort());for(var M=new Array(f),k=Object.keys(x),F=0;F<f;F++){for(var z={},Y=0;Y<k.length;Y++){var ne=k[Y],fe=x[ne];z[ne]=fe.call(this)}M[F]=z}return M},Oe.prototype.parseRecordList32=function(f,x){x||(x=f,f=this.parseULong());for(var M=new Array(f),k=Object.keys(x),F=0;F<f;F++){for(var z={},Y=0;Y<k.length;Y++){var ne=k[Y],fe=x[ne];z[ne]=fe.call(this)}M[F]=z}return M},Oe.prototype.parseStruct=function(f){if(typeof f=="function")return f.call(this);for(var x=Object.keys(f),M={},k=0;k<x.length;k++){var F=x[k],z=f[F];M[F]=z.call(this)}return M},Oe.prototype.parseValueRecord=function(f){var x;if((f=f===void 0?this.parseUShort():f)!==0)return x={},1&f&&(x.xPlacement=this.parseShort()),2&f&&(x.yPlacement=this.parseShort()),4&f&&(x.xAdvance=this.parseShort()),8&f&&(x.yAdvance=this.parseShort()),16&f&&(x.xPlaDevice=void 0,this.parseShort()),32&f&&(x.yPlaDevice=void 0,this.parseShort()),64&f&&(x.xAdvDevice=void 0,this.parseShort()),128&f&&(x.yAdvDevice=void 0,this.parseShort()),x},Oe.prototype.parseValueRecordList=function(){for(var f=this.parseUShort(),x=this.parseUShort(),M=new Array(x),k=0;k<x;k++)M[k]=this.parseValueRecord(f);return M},Oe.prototype.parsePointer=function(f){var x=this.parseOffset16();if(0<x)return new Oe(this.data,this.offset+x).parseStruct(f)},Oe.prototype.parsePointer32=function(f){var x=this.parseOffset32();if(0<x)return new Oe(this.data,this.offset+x).parseStruct(f)},Oe.prototype.parseListOfLists=function(f){for(var x=this.parseOffset16List(),M=x.length,k=this.relativeOffset,F=new Array(M),z=0;z<M;z++){var Y=x[z];if(Y===0)F[z]=void 0;else if(this.relativeOffset=Y,f){for(var ne=this.parseOffset16List(),fe=new Array(ne.length),he=0;he<ne.length;he++)this.relativeOffset=Y+ne[he],fe[he]=f.call(this);F[z]=fe}else F[z]=this.parseUShortList()}return this.relativeOffset=k,F},Oe.prototype.parseCoverage=function(){var f=this.offset+this.relativeOffset,x=this.parseUShort(),M=this.parseUShort();if(x===1)return{format:1,glyphs:this.parseUShortList(M)};if(x!==2)throw new Error("0x"+f.toString(16)+": Coverage format must be 1 or 2.");for(var k=new Array(M),F=0;F<M;F++)k[F]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:k}},Oe.prototype.parseClassDef=function(){var f=this.offset+this.relativeOffset,x=this.parseUShort();if(x===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(x===2)return{format:2,ranges:this.parseRecordList({start:Oe.uShort,end:Oe.uShort,classId:Oe.uShort})};throw new Error("0x"+f.toString(16)+": ClassDef format must be 1 or 2.")},Oe.list=function(f,x){return function(){return this.parseList(f,x)}},Oe.list32=function(f,x){return function(){return this.parseList32(f,x)}},Oe.recordList=function(f,x){return function(){return this.parseRecordList(f,x)}},Oe.recordList32=function(f,x){return function(){return this.parseRecordList32(f,x)}},Oe.pointer=function(f){return function(){return this.parsePointer(f)}},Oe.pointer32=function(f){return function(){return this.parsePointer32(f)}},Oe.tag=Oe.prototype.parseTag,Oe.byte=Oe.prototype.parseByte,Oe.uShort=Oe.offset16=Oe.prototype.parseUShort,Oe.uShortList=Oe.prototype.parseUShortList,Oe.uLong=Oe.offset32=Oe.prototype.parseULong,Oe.uLongList=Oe.prototype.parseULongList,Oe.struct=Oe.prototype.parseStruct,Oe.coverage=Oe.prototype.parseCoverage,Oe.classDef=Oe.prototype.parseClassDef;var Xe={reserved:Oe.uShort,reqFeatureIndex:Oe.uShort,featureIndexes:Oe.uShortList},Le=(Oe.prototype.parseScriptList=function(){return this.parsePointer(Oe.recordList({tag:Oe.tag,script:Oe.pointer({defaultLangSys:Oe.pointer(Xe),langSysRecords:Oe.recordList({tag:Oe.tag,langSys:Oe.pointer(Xe)})})}))||[]},Oe.prototype.parseFeatureList=function(){return this.parsePointer(Oe.recordList({tag:Oe.tag,feature:Oe.pointer({featureParams:Oe.offset16,lookupListIndexes:Oe.uShortList})}))||[]},Oe.prototype.parseLookupList=function(f){return this.parsePointer(Oe.list(Oe.pointer(function(){var x=this.parseUShort(),M=(R.argument(1<=x&&x<=9,"GPOS/GSUB lookup type "+x+" unknown."),this.parseUShort()),k=16&M;return{lookupType:x,lookupFlag:M,subtables:this.parseList(Oe.pointer(f[x])),markFilteringSet:k?this.parseUShort():void 0}})))||[]},Oe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var f=this.parseUShort(),x=this.parseUShort();return R.argument(f===1&&x<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Oe.offset32,featureTableSubstitutionOffset:Oe.offset32})})||[]},{getByte:ft,getCard8:ft,getUShort:st,getCard16:st,getShort:function(f,x){return f.getInt16(x,!1)},getULong:nt,getFixed:ut,getTag:function(f,x){for(var M="",k=x;k<x+4;k+=1)M+=String.fromCharCode(f.getInt8(k));return M},getOffset:function(f,x,M){for(var k=0,F=0;F<M;F+=1)k=(k<<=8)+f.getUint8(x+F);return k},getBytes:function(f,x,M){for(var k=[],F=x;F<M;F+=1)k.push(f.getUint8(F));return k},bytesToString:function(f){for(var x="",M=0;M<f.length;M+=1)x+=String.fromCharCode(f[M]);return x},Parser:Oe}),ee={parse:function(f,x){for(var M={},k=(M.version=Le.getUShort(f,x),R.argument(M.version===0,"cmap table version should be 0."),M.numTables=Le.getUShort(f,x+2),-1),F=M.numTables-1;0<=F;--F){var z=Le.getUShort(f,x+4+8*F),Y=Le.getUShort(f,x+4+8*F+2);if(z===3&&(Y===0||Y===1||Y===10)||z===0&&(Y===0||Y===1||Y===2||Y===3||Y===4)){k=Le.getULong(f,x+4+8*F+4);break}}if(k===-1)throw new Error("No valid cmap sub-tables found.");var ne=new Le.Parser(f,x+k);if(M.format=ne.parseUShort(),M.format===12){var fe,he=M,Se=ne;Se.parseUShort(),he.length=Se.parseULong(),he.language=Se.parseULong(),he.groupCount=fe=Se.parseULong(),he.glyphIndexMap={};for(var Ie=0;Ie<fe;Ie+=1)for(var Ce=Se.parseULong(),ve=Se.parseULong(),Ye=Se.parseULong(),Be=Ce;Be<=ve;Be+=1)he.glyphIndexMap[Be]=Ye,Ye++}else{if(M.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+M.format+").");var He=M,Fe=f,Ue=x,vt=k;He.length=ne.parseUShort(),He.language=ne.parseUShort(),He.segCount=kt=ne.parseUShort()>>1,ne.skip("uShort",3),He.glyphIndexMap={};for(var kt,yt=new Le.Parser(Fe,Ue+vt+14),bt=new Le.Parser(Fe,Ue+vt+16+2*kt),At=new Le.Parser(Fe,Ue+vt+16+4*kt),nr=new Le.Parser(Fe,Ue+vt+16+6*kt),cr=Ue+vt+16+8*kt,sr=0;sr<kt-1;sr+=1)for(var or=void 0,Sr=yt.parseUShort(),Yr=bt.parseUShort(),tr=At.parseShort(),ir=nr.parseUShort(),Yt=Yr;Yt<=Sr;Yt+=1)ir!==0?(cr=(cr=nr.offset+nr.relativeOffset-2)+ir+2*(Yt-Yr),(or=Le.getUShort(Fe,cr))!==0&&(or=or+tr&65535)):or=Yt+tr&65535,He.glyphIndexMap[Yt]=or}return M},make:function(f){for(var x=!0,M=f.length-1;0<M;--M)if(65535<f.get(M).unicode){console.log("Adding CMAP format 12 (needed!)"),x=!1;break}var k,F,z=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:x?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:x?12:20}],Y=(z=(z=x?z:z.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Re.Table("cmap",z));for(Y.segments=[],M=0;M<f.length;M+=1){for(var ne=f.get(M),fe=0;fe<ne.unicodes.length;fe+=1)k=ne.unicodes[fe],F=M,Y.segments.push({end:k,start:k,delta:-(k-F),offset:0,glyphIndex:F});Y.segments=Y.segments.sort(function(Ue,vt){return Ue.start-vt.start})}Y.segments.push({end:65535,start:65535,delta:1,offset:0});var he=Y.segments.length,Se=0,Ie=[],Ce=[],ve=[],Ye=[],Be=[],He=[];for(M=0;M<he;M+=1){var Fe=Y.segments[M];Fe.end<=65535&&Fe.start<=65535?(Ie=Ie.concat({name:"end_"+M,type:"USHORT",value:Fe.end}),Ce=Ce.concat({name:"start_"+M,type:"USHORT",value:Fe.start}),ve=ve.concat({name:"idDelta_"+M,type:"SHORT",value:Fe.delta}),Ye=Ye.concat({name:"idRangeOffset_"+M,type:"USHORT",value:Fe.offset}),Fe.glyphId!==void 0&&(Be=Be.concat({name:"glyph_"+M,type:"USHORT",value:Fe.glyphId}))):Se+=1,x||Fe.glyphIndex===void 0||(He=(He=(He=He.concat({name:"cmap12Start_"+M,type:"ULONG",value:Fe.start})).concat({name:"cmap12End_"+M,type:"ULONG",value:Fe.end})).concat({name:"cmap12Glyph_"+M,type:"ULONG",value:Fe.glyphIndex}))}return Y.segCountX2=2*(he-Se),Y.searchRange=2*Math.pow(2,Math.floor(Math.log(he-Se)/Math.log(2))),Y.entrySelector=Math.log(Y.searchRange/2)/Math.log(2),Y.rangeShift=Y.segCountX2-Y.searchRange,Y.fields=Y.fields.concat(Ie),Y.fields.push({name:"reservedPad",type:"USHORT",value:0}),Y.fields=Y.fields.concat(Ce),Y.fields=Y.fields.concat(ve),Y.fields=Y.fields.concat(Ye),Y.fields=Y.fields.concat(Be),Y.cmap4Length=14+2*Ie.length+2+2*Ce.length+2*ve.length+2*Ye.length+2*Be.length,x||(z=16+4*He.length,Y.cmap12Offset=20+Y.cmap4Length,Y.fields=Y.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:z},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:He.length/3}]),Y.fields=Y.fields.concat(He)),Y}},oe=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],je=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ae(f){this.font=f}function Ge(f){this.cmap=f}function $e(f,x){this.encoding=f,this.charset=x}function rt(f){switch(f.version){case 1:this.names=je.slice();break;case 2:this.names=new Array(f.numberOfGlyphs);for(var x=0;x<f.numberOfGlyphs;x++)f.glyphNameIndex[x]<je.length?this.names[x]=je[f.glyphNameIndex[x]]:this.names[x]=f.names[f.glyphNameIndex[x]-je.length];break;case 2.5:this.names=new Array(f.numberOfGlyphs);for(var M=0;M<f.numberOfGlyphs;M++)this.names[M]=je[M+f.glyphNameIndex[M]];break;default:this.names=[]}}Ae.prototype.charToGlyphIndex=function(f){var x=f.codePointAt(0),M=this.font.glyphs;if(M){for(var k=0;k<M.length;k+=1)for(var F=M.get(k),z=0;z<F.unicodes.length;z+=1)if(F.unicodes[z]===x)return k}return null},Ge.prototype.charToGlyphIndex=function(f){return this.cmap.glyphIndexMap[f.codePointAt(0)]||0},$e.prototype.charToGlyphIndex=function(f){return f=f.codePointAt(0),f=this.encoding[f],this.charset.indexOf(f)},rt.prototype.nameToGlyphIndex=function(f){return this.names.indexOf(f)},rt.prototype.glyphIndexToName=function(f){return this.names[f]};var ot={line:function(f,x,M,k,F){f.beginPath(),f.moveTo(x,M),f.lineTo(k,F),f.stroke()}};function lt(f){this.bindConstructorValues(f)}function Et(f,x,M){Object.defineProperty(f,x,{get:function(){return f.path,f[M]},set:function(k){f[M]=k},enumerable:!0,configurable:!0})}function wt(f,x){if(this.font=f,this.glyphs={},Array.isArray(x))for(var M=0;M<x.length;M++)this.glyphs[M]=x[M];this.length=x&&x.length||0}lt.prototype.bindConstructorValues=function(f){var x;this.index=f.index||0,this.name=f.name||null,this.unicode=f.unicode||void 0,this.unicodes=f.unicodes||f.unicode!==void 0?[f.unicode]:[],f.xMin&&(this.xMin=f.xMin),f.yMin&&(this.yMin=f.yMin),f.xMax&&(this.xMax=f.xMax),f.yMax&&(this.yMax=f.yMax),f.advanceWidth&&(this.advanceWidth=f.advanceWidth),Object.defineProperty(this,"path",(f=f.path,x=f||new Q,{configurable:!0,get:function(){return x=typeof x=="function"?x():x},set:function(M){x=M}}))},lt.prototype.addUnicode=function(f){this.unicodes.length===0&&(this.unicode=f),this.unicodes.push(f)},lt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},lt.prototype.getPath=function(f,x,M,k,F){f=f!==void 0?f:0,x=x!==void 0?x:0,M=M!==void 0?M:72;for(var z,Y,ne=(k=k||{}).xScale,fe=k.yScale,he=((z=k.hinting&&F&&F.hinting?this.path&&F.hinting.exec(this,M):z)?(Y=F.hinting.getCommands(z),f=Math.round(f),x=Math.round(x),ne=fe=1):(Y=this.path.commands,k=1/this.path.unitsPerEm*M,ne===void 0&&(ne=k),fe===void 0&&(fe=k)),new Q),Se=0;Se<Y.length;Se+=1){var Ie=Y[Se];Ie.type==="M"?he.moveTo(f+Ie.x*ne,x+-Ie.y*fe):Ie.type==="L"?he.lineTo(f+Ie.x*ne,x+-Ie.y*fe):Ie.type==="Q"?he.quadraticCurveTo(f+Ie.x1*ne,x+-Ie.y1*fe,f+Ie.x*ne,x+-Ie.y*fe):Ie.type==="C"?he.curveTo(f+Ie.x1*ne,x+-Ie.y1*fe,f+Ie.x2*ne,x+-Ie.y2*fe,f+Ie.x*ne,x+-Ie.y*fe):Ie.type==="Z"&&he.closePath()}return he},lt.prototype.getContours=function(){if(this.points===void 0)return[];for(var f=[],x=[],M=0;M<this.points.length;M+=1){var k=this.points[M];x.push(k),k.lastPointOfContour&&(f.push(x),x=[])}return R.argument(x.length===0,"There are still points left in the current contour."),f},lt.prototype.getMetrics=function(){for(var f=this.path.commands,x=[],M=[],k=0;k<f.length;k+=1){var F=f[k];F.type!=="Z"&&(x.push(F.x),M.push(F.y)),F.type!=="Q"&&F.type!=="C"||(x.push(F.x1),M.push(F.y1)),F.type==="C"&&(x.push(F.x2),M.push(F.y2))}var z={xMin:Math.min.apply(null,x),yMin:Math.min.apply(null,M),xMax:Math.max.apply(null,x),yMax:Math.max.apply(null,M),leftSideBearing:this.leftSideBearing};return isFinite(z.xMin)||(z.xMin=0),isFinite(z.xMax)||(z.xMax=this.advanceWidth),isFinite(z.yMin)||(z.yMin=0),isFinite(z.yMax)||(z.yMax=0),z.rightSideBearing=this.advanceWidth-z.leftSideBearing-(z.xMax-z.xMin),z},lt.prototype.draw=function(f,x,M,k,F){this.getPath(x,M,k,F).draw(f)},lt.prototype.drawPoints=function(f,x,M,k){function F(Se,Ie,Ce,ve){var Ye=2*Math.PI;f.beginPath();for(var Be=0;Be<Se.length;Be+=1)f.moveTo(Ie+Se[Be].x*ve,Ce+Se[Be].y*ve),f.arc(Ie+Se[Be].x*ve,Ce+Se[Be].y*ve,2,0,Ye,!1);f.closePath(),f.fill()}x=x!==void 0?x:0,M=M!==void 0?M:0;for(var k=1/this.path.unitsPerEm*(k=k!==void 0?k:24),z=[],Y=[],ne=this.path,fe=0;fe<ne.commands.length;fe+=1){var he=ne.commands[fe];he.x!==void 0&&z.push({x:he.x,y:-he.y}),he.x1!==void 0&&Y.push({x:he.x1,y:-he.y1}),he.x2!==void 0&&Y.push({x:he.x2,y:-he.y2})}f.fillStyle="blue",F(z,x,M,k),f.fillStyle="red",F(Y,x,M,k)},lt.prototype.drawMetrics=function(f,x,M,k){x=x!==void 0?x:0,M=M!==void 0?M:0,k=1/this.path.unitsPerEm*(k=k!==void 0?k:24),f.lineWidth=1,f.strokeStyle="black",ot.line(f,x,-1e4,x,1e4),ot.line(f,-1e4,M,1e4,M);var F=this.xMin||0,z=this.yMin||0,Y=this.xMax||0,ne=this.yMax||0,fe=this.advanceWidth||0;f.strokeStyle="blue",ot.line(f,x+F*k,-1e4,x+F*k,1e4),ot.line(f,x+Y*k,-1e4,x+Y*k,1e4),ot.line(f,-1e4,M+-z*k,1e4,M+-z*k),ot.line(f,-1e4,M+-ne*k,1e4,M+-ne*k),f.strokeStyle="green",ot.line(f,x+fe*k,-1e4,x+fe*k,1e4)},wt.prototype.get=function(f){return typeof this.glyphs[f]=="function"&&(this.glyphs[f]=this.glyphs[f]()),this.glyphs[f]},wt.prototype.push=function(f,x){this.glyphs[f]=x,this.length++};var gt={GlyphSet:wt,glyphLoader:function(f,x){return new lt({index:x,font:f})},ttfGlyphLoader:function(f,x,M,k,F,z){return function(){var Y=new lt({index:x,font:f});return Y.path=function(){M(Y,k,F);var ne=z(f.glyphs,Y);return ne.unitsPerEm=f.unitsPerEm,ne},Et(Y,"xMin","_xMin"),Et(Y,"xMax","_xMax"),Et(Y,"yMin","_yMin"),Et(Y,"yMax","_yMax"),Y}},cffGlyphLoader:function(f,x,M,k){return function(){var F=new lt({index:x,font:f});return F.path=function(){var z=M(f,F,k);return z.unitsPerEm=f.unitsPerEm,z},F}}};function jt(f){return f=f.length<1240?107:f.length<33900?1131:32768,f}function xt(f,x,M){var k,F=[],z=[],Y=Le.getCard16(f,x);if(Y!==0){for(var ne=Le.getByte(f,x+2),fe=x+(Y+1)*ne+2,he=x+3,Se=0;Se<Y+1;Se+=1)F.push(Le.getOffset(f,he,ne)),he+=ne;k=fe+F[Y]}else k=x+2;for(var Ie=0;Ie<F.length-1;Ie+=1){var Ce=Le.getBytes(f,fe+F[Ie],fe+F[Ie+1]);M&&(Ce=M(Ce)),z.push(Ce)}return{objects:z,startOffset:x,endOffset:k}}function Jt(f,x){if(x===28)return f.parseByte()<<8|f.parseByte();if(x===29)return f.parseByte()<<24|f.parseByte()<<16|f.parseByte()<<8|f.parseByte();if(x===30){for(var M=f,k="",F=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Y=M.parseByte(),z=Y>>4,Y=15&Y;if(z==15||(k+=F[z],Y==15))break;k+=F[Y]}return parseFloat(k)}if(32<=x&&x<=246)return x-139;if(247<=x&&x<=250)return 256*(x-247)+f.parseByte()+108;if(251<=x&&x<=254)return 256*-(x-251)-f.parseByte()-108;throw new Error("Invalid b0 "+x)}function Mr(f,x,M){var k=new Le.Parser(f,x=x!==void 0?x:0),F=[],z=[];for(M=M!==void 0?M:f.length;k.relativeOffset<M;){var Y=k.parseByte();Y<=21?(Y===12&&(Y=1200+k.parseByte()),F.push([Y,z]),z=[]):z.push(Jt(k,Y))}for(var ne=F,fe={},he=0;he<ne.length;he+=1){var Se=ne[he][0],Ie=ne[he][1],Ce=void 0,Ce=Ie.length===1?Ie[0]:Ie;if(fe.hasOwnProperty(Se)&&!isNaN(fe[Se]))throw new Error("Object "+fe+" already has key "+Se);fe[Se]=Ce}return fe}function hr(f,x){return x=x<=390?oe[x]:f[x-391]}function Wt(f,x,M){for(var k,F={},z=0;z<x.length;z+=1){var Y=x[z];if(Array.isArray(Y.type)){var ne=[];ne.length=Y.type.length;for(var fe=0;fe<Y.type.length;fe++)(k=f[Y.op]!==void 0?f[Y.op][fe]:void 0)===void 0&&(k=Y.value!==void 0&&Y.value[fe]!==void 0?Y.value[fe]:null),Y.type[fe]==="SID"&&(k=hr(M,k)),ne[fe]=k;F[Y.name]=ne}else(k=f[Y.op])===void 0&&(k=Y.value!==void 0?Y.value:null),Y.type==="SID"&&(k=hr(M,k)),F[Y.name]=k}return F}var $t=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Bt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function mr(f,x,M,k){return Wt(Mr(f,x,M),Bt,k)}function _r(f,x,M,k){for(var F=[],z=0;z<M.length;z+=1){var Y=new DataView(new Uint8Array(M[z]).buffer),Y=(ne=k,Wt(Mr(Y,0,Y.byteLength),$t,ne)),ne=(Y._subrs=[],Y._subrsBias=0,Y.private[0]),fe=Y.private[1];ne!==0&&fe!==0&&(ne=mr(f,fe+x,ne,k),Y._defaultWidthX=ne.defaultWidthX,Y._nominalWidthX=ne.nominalWidthX,ne.subrs!==0&&(fe=xt(f,fe+ne.subrs+x),Y._subrs=fe.objects,Y._subrsBias=jt(Y._subrs)),Y._privateDict=ne),F.push(Y)}return F}function Zt(f,x,M){var k,F,z,Y,ne,fe,he,Se,Ie,Ce=new Q,ve=[],Ye=0,Be=!1,He=!1,Fe=0,Ue=0,vt=(Ie=(f.isCIDFont?(ne=f.tables.cff.topDict._fdSelect[x.index],ne=f.tables.cff.topDict._fdArray[ne],fe=ne._subrs,he=ne._subrsBias,Se=ne._defaultWidthX,ne):(fe=f.tables.cff.topDict._subrs,he=f.tables.cff.topDict._subrsBias,Se=f.tables.cff.topDict._defaultWidthX,f.tables.cff.topDict))._nominalWidthX,Se);function kt(bt,At){He&&Ce.closePath(),Ce.moveTo(bt,At),He=!0}function yt(){ve.length%2==0||Be||(vt=ve.shift()+Ie),Ye+=ve.length>>1,ve.length=0,Be=!0}return(function bt(At){for(var nr,cr,sr,or,Sr,Yr,tr,ir,Yt,kr,Kt,ke,ze=0;ze<At.length;){var Ne=At[ze];switch(ze+=1,Ne){case 1:case 3:yt();break;case 4:1<ve.length&&!Be&&(vt=ve.shift()+Ie,Be=!0),Ue+=ve.pop(),kt(Fe,Ue);break;case 5:for(;0<ve.length;)Fe+=ve.shift(),Ue+=ve.shift(),Ce.lineTo(Fe,Ue);break;case 6:for(;0<ve.length&&(Fe+=ve.shift(),Ce.lineTo(Fe,Ue),ve.length!==0);)Ue+=ve.shift(),Ce.lineTo(Fe,Ue);break;case 7:for(;0<ve.length&&(Ue+=ve.shift(),Ce.lineTo(Fe,Ue),ve.length!==0);)Fe+=ve.shift(),Ce.lineTo(Fe,Ue);break;case 8:for(;0<ve.length;)k=Fe+ve.shift(),F=Ue+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Fe=z+ve.shift(),Ue=Y+ve.shift(),Ce.curveTo(k,F,z,Y,Fe,Ue);break;case 10:Sr=ve.pop()+he,(Yr=fe[Sr])&&bt(Yr);break;case 11:return;case 12:switch(Ne=At[ze],ze+=1,Ne){case 35:k=Fe+ve.shift(),F=Ue+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),tr=z+ve.shift(),ir=Y+ve.shift(),Yt=tr+ve.shift(),kr=ir+ve.shift(),Kt=Yt+ve.shift(),ke=kr+ve.shift(),Fe=Kt+ve.shift(),Ue=ke+ve.shift(),ve.shift(),Ce.curveTo(k,F,z,Y,tr,ir),Ce.curveTo(Yt,kr,Kt,ke,Fe,Ue);break;case 34:k=Fe+ve.shift(),F=Ue,z=k+ve.shift(),Y=F+ve.shift(),tr=z+ve.shift(),ir=Y,Yt=tr+ve.shift(),kr=Y,Kt=Yt+ve.shift(),ke=Ue,Fe=Kt+ve.shift(),Ce.curveTo(k,F,z,Y,tr,ir),Ce.curveTo(Yt,kr,Kt,ke,Fe,Ue);break;case 36:k=Fe+ve.shift(),F=Ue+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),tr=z+ve.shift(),ir=Y,Yt=tr+ve.shift(),kr=Y,Kt=Yt+ve.shift(),ke=kr+ve.shift(),Fe=Kt+ve.shift(),Ce.curveTo(k,F,z,Y,tr,ir),Ce.curveTo(Yt,kr,Kt,ke,Fe,Ue);break;case 37:k=Fe+ve.shift(),F=Ue+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),tr=z+ve.shift(),ir=Y+ve.shift(),Yt=tr+ve.shift(),kr=ir+ve.shift(),Kt=Yt+ve.shift(),ke=kr+ve.shift(),Math.abs(Kt-Fe)>Math.abs(ke-Ue)?Fe=Kt+ve.shift():Ue=ke+ve.shift(),Ce.curveTo(k,F,z,Y,tr,ir),Ce.curveTo(Yt,kr,Kt,ke,Fe,Ue);break;default:console.log("Glyph "+x.index+": unknown operator 1200"+Ne),ve.length=0}break;case 14:0<ve.length&&!Be&&(vt=ve.shift()+Ie,Be=!0),He&&(Ce.closePath(),He=!1);break;case 18:yt();break;case 19:case 20:yt(),ze+=Ye+7>>3;break;case 21:2<ve.length&&!Be&&(vt=ve.shift()+Ie,Be=!0),Ue+=ve.pop(),kt(Fe+=ve.pop(),Ue);break;case 22:1<ve.length&&!Be&&(vt=ve.shift()+Ie,Be=!0),kt(Fe+=ve.pop(),Ue);break;case 23:yt();break;case 24:for(;2<ve.length;)k=Fe+ve.shift(),F=Ue+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Fe=z+ve.shift(),Ue=Y+ve.shift(),Ce.curveTo(k,F,z,Y,Fe,Ue);Fe+=ve.shift(),Ue+=ve.shift(),Ce.lineTo(Fe,Ue);break;case 25:for(;6<ve.length;)Fe+=ve.shift(),Ue+=ve.shift(),Ce.lineTo(Fe,Ue);k=Fe+ve.shift(),F=Ue+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Fe=z+ve.shift(),Ue=Y+ve.shift(),Ce.curveTo(k,F,z,Y,Fe,Ue);break;case 26:for(ve.length%2&&(Fe+=ve.shift());0<ve.length;)k=Fe,F=Ue+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Fe=z,Ue=Y+ve.shift(),Ce.curveTo(k,F,z,Y,Fe,Ue);break;case 27:for(ve.length%2&&(Ue+=ve.shift());0<ve.length;)k=Fe+ve.shift(),F=Ue,z=k+ve.shift(),Y=F+ve.shift(),Fe=z+ve.shift(),Ue=Y,Ce.curveTo(k,F,z,Y,Fe,Ue);break;case 28:nr=At[ze],cr=At[ze+1],ve.push((nr<<24|cr<<16)>>16),ze+=2;break;case 29:Sr=ve.pop()+f.gsubrsBias,(Yr=f.gsubrs[Sr])&&bt(Yr);break;case 30:for(;0<ve.length&&(k=Fe,F=Ue+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Fe=z+ve.shift(),Ue=Y+(ve.length===1?ve.shift():0),Ce.curveTo(k,F,z,Y,Fe,Ue),ve.length!==0);)k=Fe+ve.shift(),F=Ue,z=k+ve.shift(),Y=F+ve.shift(),Ue=Y+ve.shift(),Fe=z+(ve.length===1?ve.shift():0),Ce.curveTo(k,F,z,Y,Fe,Ue);break;case 31:for(;0<ve.length&&(k=Fe+ve.shift(),F=Ue,z=k+ve.shift(),Y=F+ve.shift(),Ue=Y+ve.shift(),Fe=z+(ve.length===1?ve.shift():0),Ce.curveTo(k,F,z,Y,Fe,Ue),ve.length!==0);)k=Fe,F=Ue+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Fe=z+ve.shift(),Ue=Y+(ve.length===1?ve.shift():0),Ce.curveTo(k,F,z,Y,Fe,Ue);break;default:Ne<32?console.log("Glyph "+x.index+": unknown operator "+Ne):Ne<247?ve.push(Ne-139):Ne<251?(nr=At[ze],ze+=1,ve.push(256*(Ne-247)+nr+108)):Ne<255?(nr=At[ze],ze+=1,ve.push(256*-(Ne-251)-nr-108)):(nr=At[ze],cr=At[ze+1],sr=At[ze+2],or=At[ze+3],ze+=4,ve.push((nr<<24|cr<<16|sr<<8|or)/65536))}}})(M),x.advanceWidth=vt,Ce}function jr(f,x){var M,k=oe.indexOf(f);return 0<=k&&(M=k),0<=(k=x.indexOf(f))?M=k+oe.length:(M=oe.length+x.length,x.push(f)),M}function zn(f,x,M){for(var k={},F=0;F<f.length;F+=1){var z=f[F],Y=x[z.name];Y===void 0||(function ne(fe,he){if(fe===he)return 1;if(Array.isArray(fe)&&Array.isArray(he)&&fe.length===he.length){for(var Se=0;Se<fe.length;Se+=1)if(!ne(fe[Se],he[Se]))return;return 1}})(Y,z.value)||(z.type==="SID"&&(Y=jr(Y,M)),k[z.op]={name:z.name,type:z.type,value:Y})}return k}function Hn(f,x){var M=new Re.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return M.dict=zn($t,f,x),M}function Wn(f){var x=new Re.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return x.topDicts=[{name:"topDict_0",type:"TABLE",value:f}],x}function ao(f){for(var x=new Re.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),M=0;M<f.length;M+=1){var k=f.get(M),F=(function(z){for(var Y=[],ne=z.path,fe=(Y.push({name:"width",type:"NUMBER",value:z.advanceWidth}),0),he=0,Se=0;Se<ne.commands.length;Se+=1){var Ie,Ce,ve,Ye,Be=void 0,He=void 0,Fe=ne.commands[Se];(Fe=Fe.type==="Q"?{type:"C",x:Fe.x,y:Fe.y,x1:1/3*fe+2/3*Fe.x1,y1:1/3*he+2/3*Fe.y1,x2:1/3*Fe.x+2/3*Fe.x1,y2:1/3*Fe.y+2/3*Fe.y1}:Fe).type==="M"?(Be=Math.round(Fe.x-fe),He=Math.round(Fe.y-he),Y.push({name:"dx",type:"NUMBER",value:Be}),Y.push({name:"dy",type:"NUMBER",value:He}),Y.push({name:"rmoveto",type:"OP",value:21}),fe=Math.round(Fe.x),he=Math.round(Fe.y)):Fe.type==="L"?(Be=Math.round(Fe.x-fe),He=Math.round(Fe.y-he),Y.push({name:"dx",type:"NUMBER",value:Be}),Y.push({name:"dy",type:"NUMBER",value:He}),Y.push({name:"rlineto",type:"OP",value:5}),fe=Math.round(Fe.x),he=Math.round(Fe.y)):Fe.type==="C"&&(Ie=Math.round(Fe.x1-fe),Ce=Math.round(Fe.y1-he),ve=Math.round(Fe.x2-Fe.x1),Ye=Math.round(Fe.y2-Fe.y1),Be=Math.round(Fe.x-Fe.x2),He=Math.round(Fe.y-Fe.y2),Y.push({name:"dx1",type:"NUMBER",value:Ie}),Y.push({name:"dy1",type:"NUMBER",value:Ce}),Y.push({name:"dx2",type:"NUMBER",value:ve}),Y.push({name:"dy2",type:"NUMBER",value:Ye}),Y.push({name:"dx",type:"NUMBER",value:Be}),Y.push({name:"dy",type:"NUMBER",value:He}),Y.push({name:"rrcurveto",type:"OP",value:8}),fe=Math.round(Fe.x),he=Math.round(Fe.y))}return Y.push({name:"endchar",type:"OP",value:14}),Y})(k);x.charStrings.push({name:k.name,type:"CHARSTRING",value:F})}return x}var qn={parse:function(f,x,M){M.tables.cff={},ne=f,k=x,(F={}).formatMajor=Le.getCard8(ne,k),F.formatMinor=Le.getCard8(ne,k+1),F.size=Le.getCard8(ne,k+2),F.offsetSize=Le.getCard8(ne,k+3),F.startOffset=k,F.endOffset=k+4;var ne=xt(f,F.endOffset,Le.bytesToString),k=xt(f,ne.endOffset),F=xt(f,k.endOffset,Le.bytesToString),ne=xt(f,F.endOffset);if(M.gsubrs=ne.objects,M.gsubrsBias=jt(M.gsubrs),(ne=_r(f,x,k.objects,F.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ne.length);if(k=ne[0],(M.tables.cff.topDict=k)._privateDict&&(M.defaultWidthX=k._privateDict.defaultWidthX,M.nominalWidthX=k._privateDict.nominalWidthX),k.ros[0]!==void 0&&k.ros[1]!==void 0&&(M.isCIDFont=!0),M.isCIDFont){var ne=k.fdArray,z=k.fdSelect;if(ne===0||z===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ne=_r(f,x,xt(f,ne+=x).objects,F.objects),k._fdArray=ne,k._fdSelect=(function(Ce,ve,Ye,Be){var He,Fe=[],Ue=new Le.Parser(Ce,ve);if((Ce=Ue.parseCard8())===0)for(var vt=0;vt<Ye;vt++){if(Be<=(He=Ue.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+He+" (FD count "+Be+")");Fe.push(He)}else{if(Ce!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ce);var kt,yt=Ue.parseCard16(),bt=Ue.parseCard16();if(bt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+bt);for(var At=0;At<yt;At++){if(He=Ue.parseCard8(),kt=Ue.parseCard16(),Be<=He)throw new Error("CFF table CID Font FDSelect has bad FD index value "+He+" (FD count "+Be+")");if(Ye<kt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+kt);for(;bt<kt;bt++)Fe.push(He);bt=kt}if(kt!==Ye)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+kt)}return Fe})(f,z+=x,M.numGlyphs,ne.length)}var z=x+k.private[1],ne=mr(f,z,k.private[0],F.objects),Y=(M.defaultWidthX=ne.defaultWidthX,M.nominalWidthX=ne.nominalWidthX,ne.subrs!==0?(z=xt(f,z+ne.subrs),M.subrs=z.objects,M.subrsBias=jt(M.subrs)):(M.subrs=[],M.subrsBias=0),xt(f,x+k.charStrings)),ne=(M.nGlyphs=Y.objects.length,(function(Se,Ie,Ce,ve){var Ye=new Le.Parser(Se,Ie),Be=(--Ce,[".notdef"]);if((Se=Ye.parseCard8())===0)for(var He=0;He<Ce;He+=1)Fe=Ye.parseSID(),Be.push(hr(ve,Fe));else if(Se===1)for(;Be.length<=Ce;)for(var Fe=Ye.parseSID(),Ue=Ye.parseCard8(),vt=0;vt<=Ue;vt+=1)Be.push(hr(ve,Fe)),Fe+=1;else{if(Se!==2)throw new Error("Unknown charset format "+Se);for(;Be.length<=Ce;){Fe=Ye.parseSID(),Ue=Ye.parseCard16();for(var kt=0;kt<=Ue;kt+=1)Be.push(hr(ve,Fe)),Fe+=1}}return Be})(f,x+k.charset,M.nGlyphs,F.objects));k.encoding===0?M.cffEncoding=new $e(K,ne):k.encoding===1?M.cffEncoding=new $e(ie,ne):M.cffEncoding=(function(Se,Ie,Ce){var ve={},Ye=new Le.Parser(Se,Ie);if((Se=Ye.parseCard8())===0)for(var Be=Ye.parseCard8(),He=0;He<Be;He+=1)ve[Ue=Ye.parseCard8()]=He;else{if(Se!==1)throw new Error("Unknown encoding format "+Se);for(var Fe=Ye.parseCard8(),Ue=1,vt=0;vt<Fe;vt+=1)for(var kt=Ye.parseCard8(),yt=Ye.parseCard8(),bt=kt;bt<=kt+yt;bt+=1)ve[bt]=Ue,Ue+=1}return new $e(ve,Ce)})(f,x+k.encoding,ne),M.encoding=M.encoding||M.cffEncoding,M.glyphs=new gt.GlyphSet(M);for(var fe=0;fe<M.nGlyphs;fe+=1){var he=Y.objects[fe];M.glyphs.push(fe,gt.cffGlyphLoader(M,fe,Zt,he))}},make:function(f,Se){for(var M,k=new Re.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),F=1/Se.unitsPerEm,F={version:Se.version,fullName:Se.fullName,familyName:Se.familyName,weight:Se.weightName,fontBBox:Se.fontBBox||[0,0,0,0],fontMatrix:[F,0,0,F,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},z=[],Y=1;Y<f.length;Y+=1)M=f.get(Y),z.push(M.name);var ne,fe,he=[],Se=(k.header=new Re.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),k.nameIndex=(function(Ce){var ve=new Re.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);ve.names=[];for(var Ye=0;Ye<Ce.length;Ye+=1)ve.names.push({name:"name_"+Ye,type:"NAME",value:Ce[Ye]});return ve})([Se.postScriptName]),Hn(F,he)),Ie=(k.topDictIndex=Wn(Se),k.globalSubrIndex=new Re.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),k.charsets=(function(Ce,ve){for(var Ye=new Re.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Be=0;Be<Ce.length;Be+=1){var He=jr(Ce[Be],ve);Ye.fields.push({name:"glyph_"+Be,type:"SID",value:He})}return Ye})(z,he),k.charStringsIndex=ao(f),k.privateDict=(Ie={},ne=he,(fe=new Re.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=zn(Bt,Ie,ne),fe),k.stringIndex=(function(Ce){var ve=new Re.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);ve.strings=[];for(var Ye=0;Ye<Ce.length;Ye+=1)ve.strings.push({name:"string_"+Ye,type:"STRING",value:Ce[Ye]});return ve})(he),k.header.sizeOf()+k.nameIndex.sizeOf()+k.topDictIndex.sizeOf()+k.stringIndex.sizeOf()+k.globalSubrIndex.sizeOf());return F.charset=Ie,F.encoding=0,F.charStrings=F.charset+k.charsets.sizeOf(),F.private[1]=F.charStrings+k.charStringsIndex.sizeOf(),Se=Hn(F,he),k.topDictIndex=Wn(Se),k}},Cn={parse:function(k,x){var M={},k=new Le.Parser(k,x);return M.version=k.parseVersion(),M.fontRevision=Math.round(1e3*k.parseFixed())/1e3,M.checkSumAdjustment=k.parseULong(),M.magicNumber=k.parseULong(),R.argument(M.magicNumber===1594834165,"Font header has wrong magic number."),M.flags=k.parseUShort(),M.unitsPerEm=k.parseUShort(),M.created=k.parseLongDateTime(),M.modified=k.parseLongDateTime(),M.xMin=k.parseShort(),M.yMin=k.parseShort(),M.xMax=k.parseShort(),M.yMax=k.parseShort(),M.macStyle=k.parseUShort(),M.lowestRecPPEM=k.parseUShort(),M.fontDirectionHint=k.parseShort(),M.indexToLocFormat=k.parseShort(),M.glyphDataFormat=k.parseShort(),M},make:function(f){var x=Math.round(new Date().getTime()/1e3)+2082844800,M=x;return f.createdTimestamp&&(M=f.createdTimestamp+2082844800),new Re.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:M},{name:"modified",type:"LONGDATETIME",value:x},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],f)}},be={parse:function(k,x){var M={},k=new Le.Parser(k,x);return M.version=k.parseVersion(),M.ascender=k.parseShort(),M.descender=k.parseShort(),M.lineGap=k.parseShort(),M.advanceWidthMax=k.parseUShort(),M.minLeftSideBearing=k.parseShort(),M.minRightSideBearing=k.parseShort(),M.xMaxExtent=k.parseShort(),M.caretSlopeRise=k.parseShort(),M.caretSlopeRun=k.parseShort(),M.caretOffset=k.parseShort(),k.relativeOffset+=8,M.metricDataFormat=k.parseShort(),M.numberOfHMetrics=k.parseUShort(),M},make:function(f){return new Re.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],f)}},et={parse:function(f,x,M,k,F){for(var z,Y,ne=new Le.Parser(f,x),fe=0;fe<k;fe+=1){fe<M&&(z=ne.parseUShort(),Y=ne.parseShort());var he=F.get(fe);he.advanceWidth=z,he.leftSideBearing=Y}},make:function(f){for(var x=new Re.Table("hmtx",[]),M=0;M<f.length;M+=1){var F=f.get(M),k=F.advanceWidth||0,F=F.leftSideBearing||0;x.fields.push({name:"advanceWidth_"+M,type:"USHORT",value:k}),x.fields.push({name:"leftSideBearing_"+M,type:"SHORT",value:F})}return x}},dt={make:function(f){for(var x=new Re.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:f.length}]),M="",k=12+4*f.length,F=0;F<f.length;++F){var z=M.indexOf(f[F]);z<0&&(z=M.length,M+=f[F]),x.fields.push({name:"offset "+F,type:"USHORT",value:k+z}),x.fields.push({name:"length "+F,type:"USHORT",value:f[F].length})}return x.fields.push({name:"stringPool",type:"CHARARRAY",value:M}),x},parse:function(f,x){for(var M=new Le.Parser(f,x),k=M.parseULong(),F=(R.argument(k===1,"Unsupported ltag table version."),M.skip("uLong",1),M.parseULong()),z=[],Y=0;Y<F;Y++){for(var ne="",fe=x+M.parseUShort(),he=M.parseUShort(),Se=fe;Se<fe+he;++Se)ne+=String.fromCharCode(f.getInt8(Se));z.push(ne)}return z}},Je={parse:function(k,x){var M={},k=new Le.Parser(k,x);return M.version=k.parseVersion(),M.numGlyphs=k.parseUShort(),M.version===1&&(M.maxPoints=k.parseUShort(),M.maxContours=k.parseUShort(),M.maxCompositePoints=k.parseUShort(),M.maxCompositeContours=k.parseUShort(),M.maxZones=k.parseUShort(),M.maxTwilightPoints=k.parseUShort(),M.maxStorage=k.parseUShort(),M.maxFunctionDefs=k.parseUShort(),M.maxInstructionDefs=k.parseUShort(),M.maxStackElements=k.parseUShort(),M.maxSizeOfInstructions=k.parseUShort(),M.maxComponentElements=k.parseUShort(),M.maxComponentDepth=k.parseUShort()),M},make:function(f){return new Re.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:f}])}},It=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ze={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Ft={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},at={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Lt="utf-16",ct={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},dr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function yr(f,x,M){switch(f){case 0:return Lt;case 1:return dr[M]||ct[x];case 3:if(x===1||x===10)return Lt}}function lr(f){var x,M={};for(x in f)M[f[x]]=parseInt(x);return M}function gr(f,x,M,k,F,z){return new Re.Record("NameRecord",[{name:"platformID",type:"USHORT",value:f},{name:"encodingID",type:"USHORT",value:x},{name:"languageID",type:"USHORT",value:M},{name:"nameID",type:"USHORT",value:k},{name:"length",type:"USHORT",value:F},{name:"offset",type:"USHORT",value:z}])}function qr(f,x){if((M=(function(z,Y){var ne=z.length,fe=Y.length-ne+1;e:for(var he=0;he<fe;he++)for(;he<fe;he++){for(var Se=0;Se<ne;Se++)if(Y[he+Se]!==z[Se])continue e;return he}return-1})(f,x))<0)for(var M=x.length,k=0,F=f.length;k<F;++k)x.push(f[k]);return M}var Ir={parse:function(f,x,M){for(var k={},F=new Le.Parser(f,x),x=F.parseUShort(),z=F.parseUShort(),Y=F.offset+F.parseUShort(),ne=0;ne<z;ne++){var Ye=F.parseUShort(),fe=F.parseUShort(),he=F.parseUShort(),Se=F.parseUShort(),Se=It[Se]||Se,Ie=F.parseUShort(),Ce=F.parseUShort(),ve=(function(He,Fe,Ue){switch(He){case 0:if(Fe===65535)return"und";if(Ue)return Ue[Fe];break;case 1:return Ze[Fe];case 3:return at[Fe]}})(Ye,he,M),Ye=yr(Ye,fe,he);Ye!==void 0&&ve!==void 0&&(fe=void 0,(fe=Ye===Lt?N.UTF16(f,Y+Ce,Ie):N.MACSTRING(f,Y+Ce,Ie,Ye))&&((he=(he=k[Se])===void 0?k[Se]={}:he)[ve]=fe))}return x===1&&F.parseUShort(),k},make:function(f,x){var M,k=[],F={},z=lr(It);for(M in f){var Y=z[M];if(Y===void 0&&(Y=M),Ce=parseInt(Y),isNaN(Ce))throw new Error('Name table entry "'+M+'" does not exist, see nameTableNames for complete list.');F[Ce]=f[M],k.push(Ce)}for(var ne=lr(Ze),fe=lr(at),he=[],Se=[],Ie=0;Ie<k.length;Ie++){var Ce,ve,Ye=F[Ce=k[Ie]];for(ve in Ye){var Be=Ye[ve],kt=1,He=ne[ve],Fe=Ft[He],Ue=yr(kt,Fe,He),Ue=q.MACSTRING(Be,Ue),vt=(Ue===void 0&&(kt=0,(He=x.indexOf(ve))<0&&(He=x.length,x.push(ve)),Fe=4,Ue=q.UTF16(Be)),qr(Ue,Se)),kt=(he.push(gr(kt,Fe,He,Ce,Ue.length,vt)),fe[ve]);kt!==void 0&&(He=qr(Fe=q.UTF16(Be),Se),he.push(gr(3,1,kt,Ce,Fe.length,He)))}}he.sort(function(At,nr){return At.platformID-nr.platformID||At.encodingID-nr.encodingID||At.languageID-nr.languageID||At.nameID-nr.nameID});for(var yt=new Re.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:he.length},{name:"stringOffset",type:"USHORT",value:6+12*he.length}]),bt=0;bt<he.length;bt++)yt.fields.push({name:"record_"+bt,type:"RECORD",value:he[bt]});return yt.fields.push({name:"strings",type:"LITERAL",value:Se}),yt}},$r=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],xr={parse:function(f,x){var M={},k=new Le.Parser(f,x);M.version=k.parseUShort(),M.xAvgCharWidth=k.parseShort(),M.usWeightClass=k.parseUShort(),M.usWidthClass=k.parseUShort(),M.fsType=k.parseUShort(),M.ySubscriptXSize=k.parseShort(),M.ySubscriptYSize=k.parseShort(),M.ySubscriptXOffset=k.parseShort(),M.ySubscriptYOffset=k.parseShort(),M.ySuperscriptXSize=k.parseShort(),M.ySuperscriptYSize=k.parseShort(),M.ySuperscriptXOffset=k.parseShort(),M.ySuperscriptYOffset=k.parseShort(),M.yStrikeoutSize=k.parseShort(),M.yStrikeoutPosition=k.parseShort(),M.sFamilyClass=k.parseShort(),M.panose=[];for(var F=0;F<10;F++)M.panose[F]=k.parseByte();return M.ulUnicodeRange1=k.parseULong(),M.ulUnicodeRange2=k.parseULong(),M.ulUnicodeRange3=k.parseULong(),M.ulUnicodeRange4=k.parseULong(),M.achVendID=String.fromCharCode(k.parseByte(),k.parseByte(),k.parseByte(),k.parseByte()),M.fsSelection=k.parseUShort(),M.usFirstCharIndex=k.parseUShort(),M.usLastCharIndex=k.parseUShort(),M.sTypoAscender=k.parseShort(),M.sTypoDescender=k.parseShort(),M.sTypoLineGap=k.parseShort(),M.usWinAscent=k.parseUShort(),M.usWinDescent=k.parseUShort(),1<=M.version&&(M.ulCodePageRange1=k.parseULong(),M.ulCodePageRange2=k.parseULong()),2<=M.version&&(M.sxHeight=k.parseShort(),M.sCapHeight=k.parseShort(),M.usDefaultChar=k.parseUShort(),M.usBreakChar=k.parseUShort(),M.usMaxContent=k.parseUShort()),M},make:function(f){return new Re.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],f)},unicodeRanges:$r,getUnicodeRange:function(f){for(var x=0;x<$r.length;x+=1){var M=$r[x];if(f>=M.begin&&f<M.end)return x}return-1}},as={parse:function(f,x){var M={},k=new Le.Parser(f,x);switch(M.version=k.parseVersion(),M.italicAngle=k.parseFixed(),M.underlinePosition=k.parseShort(),M.underlineThickness=k.parseShort(),M.isFixedPitch=k.parseULong(),M.minMemType42=k.parseULong(),M.maxMemType42=k.parseULong(),M.minMemType1=k.parseULong(),M.maxMemType1=k.parseULong(),M.version){case 1:M.names=je.slice();break;case 2:M.numberOfGlyphs=k.parseUShort(),M.glyphNameIndex=new Array(M.numberOfGlyphs);for(var F=0;F<M.numberOfGlyphs;F++)M.glyphNameIndex[F]=k.parseUShort();M.names=[];for(var z,Y=0;Y<M.numberOfGlyphs;Y++)M.glyphNameIndex[Y]>=je.length&&(z=k.parseChar(),M.names.push(k.parseString(z)));break;case 2.5:M.numberOfGlyphs=k.parseUShort(),M.offset=new Array(M.numberOfGlyphs);for(var ne=0;ne<M.numberOfGlyphs;ne++)M.offset[ne]=k.parseChar()}return M},make:function(){return new Re.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Gr=new Array(9),_n=(Gr[1]=function(){var f=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{substFormat:1,coverage:this.parsePointer(Oe.coverage),deltaGlyphId:this.parseUShort()}:x===2?{substFormat:2,coverage:this.parsePointer(Oe.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+f.toString(16)+": lookup type 1 format must be 1 or 2.")},Gr[2]=function(){var f=this.parseUShort();return R.argument(f===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Oe.coverage),sequences:this.parseListOfLists()}},Gr[3]=function(){var f=this.parseUShort();return R.argument(f===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Oe.coverage),alternateSets:this.parseListOfLists()}},Gr[4]=function(){var f=this.parseUShort();return R.argument(f===1,"GSUB ligature table identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Oe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Oe.uShort,lookupListIndex:Oe.uShort});Gr[5]=function(){var f,x,M=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{substFormat:k,coverage:this.parsePointer(Oe.coverage),ruleSets:this.parseListOfLists(function(){var F=this.parseUShort(),z=this.parseUShort();return{input:this.parseUShortList(F-1),lookupRecords:this.parseRecordList(z,_n)}})}:k===2?{substFormat:k,coverage:this.parsePointer(Oe.coverage),classDef:this.parsePointer(Oe.classDef),classSets:this.parseListOfLists(function(){var F=this.parseUShort(),z=this.parseUShort();return{classes:this.parseUShortList(F-1),lookupRecords:this.parseRecordList(z,_n)}})}:k===3?(f=this.parseUShort(),x=this.parseUShort(),{substFormat:k,coverages:this.parseList(f,Oe.pointer(Oe.coverage)),lookupRecords:this.parseRecordList(x,_n)}):void R.assert(!1,"0x"+M.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Gr[6]=function(){var f=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{substFormat:1,coverage:this.parsePointer(Oe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(_n)}})}:x===2?{substFormat:2,coverage:this.parsePointer(Oe.coverage),backtrackClassDef:this.parsePointer(Oe.classDef),inputClassDef:this.parsePointer(Oe.classDef),lookaheadClassDef:this.parsePointer(Oe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(_n)}})}:x===3?{substFormat:3,backtrackCoverage:this.parseList(Oe.pointer(Oe.coverage)),inputCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookaheadCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookupRecords:this.parseRecordList(_n)}:void R.assert(!1,"0x"+f.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Gr[7]=function(){var f=this.parseUShort(),f=(R.argument(f===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),x=new Oe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:f,extension:Gr[f].call(x)}},Gr[8]=function(){var f=this.parseUShort();return R.argument(f===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Oe.coverage),backtrackCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookaheadCoverage:this.parseList(Oe.pointer(Oe.coverage)),substitutes:this.parseUShortList()}};var Xn=new Array(9);Xn[1]=function(f){return f.substFormat===1?new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Re.Coverage(f.coverage)},{name:"deltaGlyphID",type:"USHORT",value:f.deltaGlyphId}]):new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Re.Coverage(f.coverage)}].concat(Re.ushortList("substitute",f.substitute)))},Xn[3]=function(f){return R.assert(f.substFormat===1,"Lookup type 3 substFormat must be 1."),new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Re.Coverage(f.coverage)}].concat(Re.tableList("altSet",f.alternateSets,function(x){return new Re.Table("alternateSetTable",Re.ushortList("alternate",x))})))},Xn[4]=function(f){return R.assert(f.substFormat===1,"Lookup type 4 substFormat must be 1."),new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Re.Coverage(f.coverage)}].concat(Re.tableList("ligSet",f.ligatureSets,function(x){return new Re.Table("ligatureSetTable",Re.tableList("ligature",x,function(M){return new Re.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:M.ligGlyph}].concat(Re.ushortList("component",M.components,M.components.length+1)))}))})))};var lo={parse:function(f,x){return x=(f=new Oe(f,x=x||0)).parseVersion(1),R.argument(x===1||x===1.1,"Unsupported GSUB table version."),x===1?{version:x,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(Gr)}:{version:x,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(Gr),variations:f.parseFeatureVariationsList()}},make:function(f){return new Re.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Re.ScriptList(f.scripts)},{name:"features",type:"TABLE",value:new Re.FeatureList(f.features)},{name:"lookups",type:"TABLE",value:new Re.LookupList(f.lookups,Xn)}])}},ls={parse:function(f,x){for(var M=new Le.Parser(f,x),k=M.parseULong(),F=(R.argument(k===1,"Unsupported META table version."),M.parseULong(),M.parseULong(),M.parseULong()),z={},Y=0;Y<F;Y++){var ne=M.parseTag(),he=M.parseULong(),fe=M.parseULong(),he=N.UTF8(f,x+he,fe);z[ne]=he}return z},make:function(f){var x,M=Object.keys(f).length,k="",F=16+12*M,z=new Re.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:F},{name:"numTags",type:"ULONG",value:M}]);for(x in f){var Y=k.length;k+=f[x],z.fields.push({name:"tag "+x,type:"TAG",value:x}),z.fields.push({name:"offset "+x,type:"ULONG",value:F+Y}),z.fields.push({name:"length "+x,type:"ULONG",value:f[x].length})}return z.fields.push({name:"stringPool",type:"CHARARRAY",value:k}),z}};function Mo(f){return Math.log(f)/Math.log(2)|0}function An(f){for(;f.length%4!=0;)f.push(0);for(var x=0,M=0;M<f.length;M+=4)x+=(f[M]<<24)+(f[M+1]<<16)+(f[M+2]<<8)+f[M+3];return x%=Math.pow(2,32)}function Oo(f,x,M,k){return new Re.Record("Table Record",[{name:"tag",type:"TAG",value:f!==void 0?f:""},{name:"checkSum",type:"ULONG",value:x!==void 0?x:0},{name:"offset",type:"ULONG",value:M!==void 0?M:0},{name:"length",type:"ULONG",value:k!==void 0?k:0}])}function us(f){for(var x=new Re.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),M=(x.tables=f,x.numTables=f.length,Math.pow(2,Mo(x.numTables))),k=(x.searchRange=16*M,x.entrySelector=Mo(M),x.rangeShift=16*x.numTables-x.searchRange,[]),F=[],z=x.sizeOf()+Oo().sizeOf()*x.numTables;z%4!=0;)z+=1,F.push({name:"padding",type:"BYTE",value:0});for(var Y=0;Y<f.length;Y+=1){var ne=f[Y],fe=(R.argument(ne.tableName.length===4,"Table name"+ne.tableName+" is invalid."),ne.sizeOf()),he=Oo(ne.tableName,An(ne.encode()),z,fe);for(k.push({name:he.tag+" Table Record",type:"RECORD",value:he}),F.push({name:ne.tableName+" table",type:"RECORD",value:ne}),z+=fe,R.argument(!isNaN(z),"Something went wrong calculating the offset.");z%4!=0;)z+=1,F.push({name:"padding",type:"BYTE",value:0})}return k.sort(function(Se,Ie){return Se.value.tag>Ie.value.tag?1:-1}),x.fields=x.fields.concat(k),x.fields=x.fields.concat(F),x}function ko(f,x,M){for(var k=0;k<x.length;k+=1){var F=f.charToGlyphIndex(x[k]);if(0<F)return f.glyphs.get(F).getMetrics()}return M}var cs={make:us,fontToTable:function(f){for(var x,M=[],k=[],F=[],z=[],Y=[],ne=[],fe=[],he=0,Se=0,Ie=0,Ce=0,ve=0,Ye=0;Ye<f.glyphs.length;Ye+=1){var Be=f.glyphs.get(Ye),He=0|Be.unicode;if(isNaN(Be.advanceWidth))throw new Error("Glyph "+Be.name+" ("+Ye+"): advanceWidth is not a number.");(He<x||x===void 0)&&0<He&&(x=He),he<He&&(he=He);var He=xr.getUnicodeRange(He);if(He<32)Se|=1<<He;else if(He<64)Ie|=1<<He-32;else if(He<96)Ce|=1<<He-64;else{if(!(He<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");ve|=1<<He-96}Be.name!==".notdef"&&(He=Be.getMetrics(),M.push(He.xMin),k.push(He.yMin),F.push(He.xMax),z.push(He.yMax),ne.push(He.leftSideBearing),fe.push(He.rightSideBearing),Y.push(Be.advanceWidth))}var Fe,Ue={xMin:Math.min.apply(null,M),yMin:Math.min.apply(null,k),xMax:Math.max.apply(null,F),yMax:Math.max.apply(null,z),advanceWidthMax:Math.max.apply(null,Y),advanceWidthAvg:(function(Ne){for(var mt=0,St=0;St<Ne.length;St+=1)mt+=Ne[St];return mt/Ne.length})(Y),minLeftSideBearing:Math.min.apply(null,ne),maxLeftSideBearing:Math.max.apply(null,ne),minRightSideBearing:Math.min.apply(null,fe)},vt=(Ue.ascender=f.ascender,Ue.descender=f.descender,Cn.make({flags:3,unitsPerEm:f.unitsPerEm,xMin:Ue.xMin,yMin:Ue.yMin,xMax:Ue.xMax,yMax:Ue.yMax,lowestRecPPEM:3,createdTimestamp:f.createdTimestamp})),kt=be.make({ascender:Ue.ascender,descender:Ue.descender,advanceWidthMax:Ue.advanceWidthMax,minLeftSideBearing:Ue.minLeftSideBearing,minRightSideBearing:Ue.minRightSideBearing,xMaxExtent:Ue.maxLeftSideBearing+(Ue.xMax-Ue.xMin),numberOfHMetrics:f.glyphs.length}),yt=Je.make(f.glyphs.length),bt=xr.make({xAvgCharWidth:Math.round(Ue.advanceWidthAvg),usWeightClass:f.tables.os2.usWeightClass,usWidthClass:f.tables.os2.usWidthClass,usFirstCharIndex:x,usLastCharIndex:he,ulUnicodeRange1:Se,ulUnicodeRange2:Ie,ulUnicodeRange3:Ce,ulUnicodeRange4:ve,fsSelection:f.tables.os2.fsSelection,sTypoAscender:Ue.ascender,sTypoDescender:Ue.descender,sTypoLineGap:0,usWinAscent:Ue.yMax,usWinDescent:Math.abs(Ue.yMin),ulCodePageRange1:1,sxHeight:ko(f,"xyvw",{yMax:Math.round(Ue.ascender/2)}).yMax,sCapHeight:ko(f,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ue).yMax,usDefaultChar:f.hasChar(" ")?32:0,usBreakChar:f.hasChar(" ")?32:0}),At=et.make(f.glyphs),nr=ee.make(f.glyphs),ir=f.getEnglishName("fontFamily"),Yt=f.getEnglishName("fontSubfamily"),tr=ir+" "+Yt,cr=(cr=f.getEnglishName("postScriptName"))||ir.replace(/\s/g,"")+"-"+Yt,sr={};for(Fe in f.names)sr[Fe]=f.names[Fe];sr.uniqueID||(sr.uniqueID={en:f.getEnglishName("manufacturer")+":"+tr}),sr.postScriptName||(sr.postScriptName={en:cr}),sr.preferredFamily||(sr.preferredFamily=f.names.fontFamily),sr.preferredSubfamily||(sr.preferredSubfamily=f.names.fontSubfamily);var Sr=[],or=Ir.make(sr,Sr),Sr=0<Sr.length?dt.make(Sr):void 0,Yr=as.make(),tr=qn.make(f.glyphs,{version:f.getEnglishName("version"),fullName:tr,familyName:ir,weightName:Yt,postScriptName:cr,unitsPerEm:f.unitsPerEm,fontBBox:[0,Ue.yMin,Ue.ascender,Ue.advanceWidthMax]}),ir=f.metas&&0<Object.keys(f.metas).length?ls.make(f.metas):void 0,Yt=[vt,kt,yt,bt,or,nr,Yr,tr,At];Sr&&Yt.push(Sr),f.tables.gsub&&Yt.push(lo.make(f.tables.gsub)),ir&&Yt.push(ir);for(var kr=An((cr=us(Yt)).encode()),Kt=cr.fields,ke=!1,ze=0;ze<Kt.length;ze+=1)if(Kt[ze].name==="head table"){Kt[ze].value.checkSumAdjustment=2981146554-kr,ke=!0;break}if(ke)return cr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:An};function Yn(f,x){for(var M=0,k=f.length-1;M<=k;){var F=M+k>>>1,z=f[F].tag;if(z===x)return F;z<x?M=1+F:k=F-1}return-M-1}function ds(f,x){for(var M=0,k=f.length-1;M<=k;){var F=M+k>>>1,z=f[F];if(z===x)return F;z<x?M=1+F:k=F-1}return-M-1}function Co(f,x){for(var M=0,k=f.length-1;M<=k;){var F,z=M+k>>>1,Y=(F=f[z]).start;if(Y===x)return F;Y<x?M=1+z:k=z-1}if(0<M)return x>(F=f[M-1]).end?0:F}function Pn(f,x){this.font=f,this.tableName=x}function Ln(f){Pn.call(this,f,"gpos")}function Ar(f){Pn.call(this,f,"gsub")}function Ao(f,x,M){for(var k=f.subtables,F=0;F<k.length;F++){var z=k[F];if(z.substFormat===x)return z}if(M)return k.push(M),M}function Po(f){for(var x=new ArrayBuffer(f.length),M=new Uint8Array(x),k=0;k<f.length;++k)M[k]=f[k];return x}function Rn(f,x){if(!f)throw x}function Lo(f,x,M,k,F){var z=0<(x&k)?(z=f.parseByte(),M+(z=(x&F)==0?-z:z)):0<(x&F)?M:M+f.parseShort();return z}function fs(f,x,M){var k,F=new Le.Parser(x,M);if(f.numberOfContours=F.parseShort(),f._xMin=F.parseShort(),f._yMin=F.parseShort(),f._xMax=F.parseShort(),f._yMax=F.parseShort(),0<f.numberOfContours){for(var z=f.endPointIndices=[],Y=0;Y<f.numberOfContours;Y+=1)z.push(F.parseUShort());f.instructionLength=F.parseUShort(),f.instructions=[];for(var ne=0;ne<f.instructionLength;ne+=1)f.instructions.push(F.parseByte());for(var fe=z[z.length-1]+1,he=[],Se=0;Se<fe;Se+=1)if(k=F.parseByte(),he.push(k),0<(8&k))for(var Ie=F.parseByte(),Ce=0;Ce<Ie;Ce+=1)he.push(k),Se+=1;if(R.argument(he.length===fe,"Bad flags."),0<z.length){var ve,Ye=[];if(0<fe){for(var Be=0;Be<fe;Be+=1)k=he[Be],(ve={}).onCurve=!!(1&k),ve.lastPointOfContour=0<=z.indexOf(Be),Ye.push(ve);for(var He=0,Fe=0;Fe<fe;Fe+=1)k=he[Fe],(ve=Ye[Fe]).x=Lo(F,k,He,2,16),He=ve.x;for(var Ue=0,vt=0;vt<fe;vt+=1)k=he[vt],(ve=Ye[vt]).y=Lo(F,k,Ue,4,32),Ue=ve.y}f.points=Ye}else f.points=[]}else if(f.numberOfContours===0)f.points=[];else{f.isComposite=!0,f.points=[],f.components=[];for(var kt=!0;kt;){he=F.parseUShort();var yt={glyphIndex:F.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&he)?0<(2&he)?(yt.dx=F.parseShort(),yt.dy=F.parseShort()):yt.matchedPoints=[F.parseUShort(),F.parseUShort()]:0<(2&he)?(yt.dx=F.parseChar(),yt.dy=F.parseChar()):yt.matchedPoints=[F.parseByte(),F.parseByte()],0<(8&he)?yt.xScale=yt.yScale=F.parseF2Dot14():0<(64&he)?(yt.xScale=F.parseF2Dot14(),yt.yScale=F.parseF2Dot14()):0<(128&he)&&(yt.xScale=F.parseF2Dot14(),yt.scale01=F.parseF2Dot14(),yt.scale10=F.parseF2Dot14(),yt.yScale=F.parseF2Dot14()),f.components.push(yt),kt=!!(32&he)}if(256&he){f.instructionLength=F.parseUShort(),f.instructions=[];for(var bt=0;bt<f.instructionLength;bt+=1)f.instructions.push(F.parseByte())}}}function uo(f,x){for(var M=[],k=0;k<f.length;k+=1){var F=f[k],F={x:x.xScale*F.x+x.scale01*F.y+x.dx,y:x.scale10*F.x+x.yScale*F.y+x.dy,onCurve:F.onCurve,lastPointOfContour:F.lastPointOfContour};M.push(F)}return M}function Ro(f){var x=new Q;if(f)for(var M=(function(Ie){for(var Ce=[],ve=[],Ye=0;Ye<Ie.length;Ye+=1){var Be=Ie[Ye];ve.push(Be),Be.lastPointOfContour&&(Ce.push(ve),ve=[])}return R.argument(ve.length===0,"There are still points left in the current contour."),Ce})(f),k=0;k<M.length;++k){var F,z=M[k],Y=z[z.length-1],ne=z[0];Y.onCurve?x.moveTo(Y.x,Y.y):ne.onCurve?x.moveTo(ne.x,ne.y):(F={x:.5*(Y.x+ne.x),y:.5*(Y.y+ne.y)},x.moveTo(F.x,F.y));for(var fe=0;fe<z.length;++fe){var he,Se=Y,Y=ne,ne=z[(fe+1)%z.length];Y.onCurve?x.lineTo(Y.x,Y.y):(he=ne,Se.onCurve||(Y.x,Se.x,Y.y,Se.y),ne.onCurve||(he={x:.5*(Y.x+ne.x),y:.5*(Y.y+ne.y)}),x.quadraticCurveTo(Y.x,Y.y,he.x,he.y))}x.closePath()}return x}function li(f,x){if(x.isComposite)for(var M=0;M<x.components.length;M+=1){var k=x.components[M],F=f.get(k.glyphIndex);if(F.getPath(),F.points){var z=void 0;if(k.matchedPoints===void 0)z=uo(F.points,k);else{if(k.matchedPoints[0]>x.points.length-1||k.matchedPoints[1]>F.points.length-1)throw Error("Matched points out of range in "+x.name);var Y=x.points[k.matchedPoints[0]],ne=F.points[k.matchedPoints[1]],k={xScale:k.xScale,scale01:k.scale01,scale10:k.scale10,yScale:k.yScale,dx:0,dy:0},ne=uo([ne],k)[0];k.dx=Y.x-ne.x,k.dy=Y.y-ne.y,z=uo(F.points,k)}x.points=x.points.concat(z)}}return Ro(x.points)}(Ln.prototype=Pn.prototype={searchTag:Yn,binSearch:ds,getTable:function(f){var x=this.font.tables[this.tableName];return x=!x&&f?this.font.tables[this.tableName]=this.createDefaultTable():x},getScriptNames:function(){var f=this.getTable();return f?f.scripts.map(function(x){return x.tag}):[]},getDefaultScriptName:function(){var f=this.getTable();if(f){for(var x=!1,M=0;M<f.scripts.length;M++){var k=f.scripts[M].tag;if(k==="DFLT")return k;k==="latn"&&(x=!0)}return x?"latn":void 0}},getScriptTable:function(f,x){var M,k=this.getTable(x);if(k)return M=k.scripts,0<=(k=Yn(k.scripts,f=f||"DFLT"))?M[k].script:x?(M.splice(-1-k,0,x={tag:f,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),x.script):void 0},getLangSysTable:function(F,x,M){var k,F=this.getScriptTable(F,M);if(F)return x&&x!=="dflt"&&x!=="DFLT"?0<=(k=Yn(F.langSysRecords,x))?F.langSysRecords[k].langSys:M?(F.langSysRecords.splice(-1-k,0,M={tag:x,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),M.langSys):void 0:F.defaultLangSys},getFeatureTable:function(f,x,M,k){if(f=this.getLangSysTable(f,x,k),f){for(var F,z=f.featureIndexes,Y=this.font.tables[this.tableName].features,ne=0;ne<z.length;ne++)if((F=Y[z[ne]]).tag===M)return F.feature;if(k)return x=Y.length,R.assert(x===0||M>=Y[x-1].tag,"Features must be added in alphabetical order."),Y.push(F={tag:M,feature:{params:0,lookupListIndexes:[]}}),z.push(x),F.feature}},getLookupTables:function(z,x,M,k,F){var z=this.getFeatureTable(z,x,M,F),Y=[];if(z){for(var ne,fe=z.lookupListIndexes,he=this.font.tables[this.tableName].lookups,Se=0;Se<fe.length;Se++)(ne=he[fe[Se]]).lookupType===k&&Y.push(ne);if(Y.length===0&&F)return x=he.length,he.push(ne={lookupType:k,lookupFlag:0,subtables:[],markFilteringSet:void 0}),fe.push(x),[ne]}return Y},getGlyphClass:function(f,x){switch(f.format){case 1:return f.startGlyph<=x&&x<f.startGlyph+f.classes.length?f.classes[x-f.startGlyph]:0;case 2:var M=Co(f.ranges,x);return M?M.classId:0}},getCoverageIndex:function(f,x){switch(f.format){case 1:var M=ds(f.glyphs,x);return 0<=M?M:-1;case 2:return M=Co(f.ranges,x),M?M.index+x-M.start:-1}},expandCoverage:function(f){if(f.format===1)return f.glyphs;for(var x=[],M=f.ranges,k=0;k<M.length;k++)for(var F=M[k],z=F.start,Y=F.end,ne=z;ne<=Y;ne++)x.push(ne);return x}}).init=function(){var f=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(f)},Ln.prototype.getKerningValue=function(f,x,M){for(var k=0;k<f.length;k++)for(var F=f[k].subtables,z=0;z<F.length;z++){var Y=F[z],ne=this.getCoverageIndex(Y.coverage,x);if(!(ne<0))switch(Y.posFormat){case 1:for(var fe=Y.pairSets[ne],he=0;he<fe.length;he++){var Se=fe[he];if(Se.secondGlyph===M)return Se.value1&&Se.value1.xAdvance||0}break;case 2:var Ce=this.getGlyphClass(Y.classDef1,x),Ie=this.getGlyphClass(Y.classDef2,M),Ce=Y.classRecords[Ce][Ie];return Ce.value1&&Ce.value1.xAdvance||0}}return 0},Ln.prototype.getKerningTables=function(f,x){if(this.font.tables.gpos)return this.getLookupTables(f,x,"kern",2)},(Ar.prototype=Pn.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Ar.prototype.getSingle=function(f,x,M){for(var k=[],F=this.getLookupTables(x,M,f,1),z=0;z<F.length;z++)for(var Y=F[z].subtables,ne=0;ne<Y.length;ne++){var fe=Y[ne],he=this.expandCoverage(fe.coverage),Se=void 0;if(fe.substFormat===1)for(var Ie=fe.deltaGlyphId,Se=0;Se<he.length;Se++){var Ce=he[Se];k.push({sub:Ce,by:Ce+Ie})}else{var ve=fe.substitute;for(Se=0;Se<he.length;Se++)k.push({sub:he[Se],by:ve[Se]})}}return k},Ar.prototype.getAlternates=function(f,x,M){for(var k=[],F=this.getLookupTables(x,M,f,3),z=0;z<F.length;z++)for(var Y=F[z].subtables,ne=0;ne<Y.length;ne++)for(var fe=Y[ne],he=this.expandCoverage(fe.coverage),Se=fe.alternateSets,Ie=0;Ie<he.length;Ie++)k.push({sub:he[Ie],by:Se[Ie]});return k},Ar.prototype.getLigatures=function(f,x,M){for(var k=[],F=this.getLookupTables(x,M,f,4),z=0;z<F.length;z++)for(var Y=F[z].subtables,ne=0;ne<Y.length;ne++)for(var fe=Y[ne],he=this.expandCoverage(fe.coverage),Se=fe.ligatureSets,Ie=0;Ie<he.length;Ie++)for(var Ce=he[Ie],ve=Se[Ie],Ye=0;Ye<ve.length;Ye++){var Be=ve[Ye];k.push({sub:[Ce].concat(Be.components),by:Be.ligGlyph})}return k},Ar.prototype.addSingle=function(f,x,M,k){M=Ao(this.getLookupTables(M,k,f,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),R.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format),k=x.sub,f=this.binSearch(M.coverage.glyphs,k),f<0&&(M.coverage.glyphs.splice(f=-1-f,0,k),M.substitute.splice(f,0,0)),M.substitute[f]=x.by},Ar.prototype.addAlternate=function(f,x,M,k){M=Ao(this.getLookupTables(M,k,f,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),R.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format),k=x.sub,f=this.binSearch(M.coverage.glyphs,k),f<0&&(M.coverage.glyphs.splice(f=-1-f,0,k),M.alternateSets.splice(f,0,0)),M.alternateSets[f]=x.by},Ar.prototype.addLigature=function(z,fe,ne,F){var ne=this.getLookupTables(ne,F,z,4,!0)[0],F=ne.subtables[0],z=(F||(ne.subtables[0]=F={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),R.assert(F.coverage.format===1,"Ligature: unable to modify coverage table format "+F.coverage.format),fe.sub[0]),Y=fe.sub.slice(1),ne={ligGlyph:fe.by,components:Y},fe=this.binSearch(F.coverage.glyphs,z);if(0<=fe){for(var he=F.ligatureSets[fe],Se=0;Se<he.length;Se++)if((function(Ie,Ce){var ve=Ie.length;if(ve===Ce.length){for(var Ye=0;Ye<ve;Ye++)if(Ie[Ye]!==Ce[Ye])return;return 1}})(he[Se].components,Y))return;he.push(ne)}else F.coverage.glyphs.splice(fe=-1-fe,0,z),F.ligatureSets.splice(fe,0,[ne])},Ar.prototype.getFeature=function(f,x,M){if(/ss\d\d/.test(f))return this.getSingle(f,x,M);switch(f){case"aalt":case"salt":return this.getSingle(f,x,M).concat(this.getAlternates(f,x,M));case"dlig":case"liga":case"rlig":return this.getLigatures(f,x,M)}},Ar.prototype.add=function(f,x,M,k){if(/ss\d\d/.test(f))return this.addSingle(f,x,M,k);switch(f){case"aalt":case"salt":return typeof x.by=="number"?this.addSingle(f,x,M,k):this.addAlternate(f,x,M,k);case"dlig":case"liga":case"rlig":return this.addLigature(f,x,M,k)}};var hs={getPath:Ro,parse:function(f,x,M,k){for(var F=new gt.GlyphSet(k),z=0;z<M.length-1;z+=1){var Y=M[z];Y!==M[z+1]?F.push(z,gt.ttfGlyphLoader(k,z,fs,f,x+Y,li)):F.push(z,gt.glyphLoader(k,z))}return F}};function ps(f){this.font=f,this.getCommands=function(x){return hs.getPath(x).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function ms(f){return f}function ys(f){return Math.sign(f)*Math.round(Math.abs(f))}function ui(f){return Math.sign(f)*Math.round(Math.abs(2*f))/2}function ci(f){return Math.sign(f)*(Math.round(Math.abs(f)+.5)-.5)}function di(f){return Math.sign(f)*Math.ceil(Math.abs(f))}function Io(f){return Math.sign(f)*Math.floor(Math.abs(f))}function gs(f){var x=this.srPeriod,M=this.srPhase,k=1;return f<0&&(f=-f,k=-1),f+=this.srThreshold-M,f=Math.trunc(f/x)*x,(f+=M)<0?M*k:f*k}var en={x:1,y:0,axis:"x",distance:function(f,x,M,k){return(M?f.xo:f.x)-(k?x.xo:x.x)},interpolate:function(f,x,M,k){var F,z,Y,ne,fe,he,Se;if(!k||k===this)return F=f.xo-x.xo,z=f.xo-M.xo,fe=x.x-x.xo,he=M.x-M.xo,(Se=(Y=Math.abs(F))+(ne=Math.abs(z)))===0?void(f.x=f.xo+(fe+he)/2):void(f.x=f.xo+(fe*ne+he*Y)/Se);F=k.distance(f,x,!0,!0),z=k.distance(f,M,!0,!0),fe=k.distance(x,x,!1,!0),he=k.distance(M,M,!1,!0),(Se=(Y=Math.abs(F))+(ne=Math.abs(z)))===0?en.setRelative(f,f,(fe+he)/2,k,!0):en.setRelative(f,f,(fe*ne+he*Y)/Se,k,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(f,x,M,k,F){var z,Y;k&&k!==this?(z=F?x.xo:x.x,Y=F?x.yo:x.y,z+=M*k.x,Y+=M*k.y,f.x=z+(f.y-Y)/k.normalSlope):f.x=(F?x.xo:x.x)+M},slope:0,touch:function(f){f.xTouched=!0},touched:function(f){return f.xTouched},untouch:function(f){f.xTouched=!1}},ln={x:0,y:1,axis:"y",distance:function(f,x,M,k){return(M?f.yo:f.y)-(k?x.yo:x.y)},interpolate:function(f,x,M,k){var F,z,Y,ne,fe,he,Se;if(!k||k===this)return F=f.yo-x.yo,z=f.yo-M.yo,fe=x.y-x.yo,he=M.y-M.yo,(Se=(Y=Math.abs(F))+(ne=Math.abs(z)))===0?void(f.y=f.yo+(fe+he)/2):void(f.y=f.yo+(fe*ne+he*Y)/Se);F=k.distance(f,x,!0,!0),z=k.distance(f,M,!0,!0),fe=k.distance(x,x,!1,!0),he=k.distance(M,M,!1,!0),(Se=(Y=Math.abs(F))+(ne=Math.abs(z)))===0?ln.setRelative(f,f,(fe+he)/2,k,!0):ln.setRelative(f,f,(fe*ne+he*Y)/Se,k,!0)},normalSlope:0,setRelative:function(f,x,M,k,F){var z,Y;k&&k!==this?(z=F?x.xo:x.x,Y=F?x.yo:x.y,z+=M*k.x,Y+=M*k.y,f.y=Y+k.normalSlope*(f.x-z)):f.y=(F?x.yo:x.y)+M},slope:Number.POSITIVE_INFINITY,touch:function(f){f.yTouched=!0},touched:function(f){return f.yTouched},untouch:function(f){f.yTouched=!1}};function Zn(f,x){this.x=f,this.y=x,this.axis=void 0,this.slope=x/f,this.normalSlope=-f/x,Object.freeze(this)}function Kn(f,x){var M=Math.sqrt(f*f+x*x);return x/=M,(f/=M)===1&&x===0?en:f===0&&x===1?ln:new Zn(f,x)}function Gt(f,x,M,k){this.x=this.xo=Math.round(64*f)/64,this.y=this.yo=Math.round(64*x)/64,this.lastPointOfContour=M,this.onCurve=k,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(en),Object.freeze(ln),Zn.prototype.distance=function(f,x,M,k){return this.x*en.distance(f,x,M,k)+this.y*ln.distance(f,x,M,k)},Zn.prototype.interpolate=function(f,F,z,k){var Y=k.distance(f,F,!0,!0),ne=k.distance(f,z,!0,!0),F=k.distance(F,F,!1,!0),z=k.distance(z,z,!1,!0),Y=Math.abs(Y),ne=Math.abs(ne),fe=Y+ne;fe===0?this.setRelative(f,f,(F+z)/2,k,!0):this.setRelative(f,f,(F*ne+z*Y)/fe,k,!0)},Zn.prototype.setRelative=function(f,z,fe,he,ne){var Y=ne?z.xo:z.x,ne=ne?z.yo:z.y,z=Y+fe*(he=he||this).x,Y=ne+fe*he.y,ne=he.normalSlope,fe=this.slope,he=f.x,Se=f.y;f.x=(fe*he-ne*z+Y-Se)/(fe-ne),f.y=fe*(f.x-he)+Se},Zn.prototype.touch=function(f){f.xTouched=!0,f.yTouched=!0},Gt.prototype.nextTouched=function(f){for(var x=this.nextPointOnContour;!f.touched(x)&&x!==this;)x=x.nextPointOnContour;return x},Gt.prototype.prevTouched=function(f){for(var x=this.prevPointOnContour;!f.touched(x)&&x!==this;)x=x.prevPointOnContour;return x};var qt=Object.freeze(new Gt(0,0)),fi={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function hn(f,x){switch(this.env=f,this.stack=[],this.prog=x,f){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=en,this.round=ys}}function co(f){for(var x=f.tZone=new Array(f.gZone.length),M=0;M<x.length;M++)x[M]=new Gt(0,0)}function vs(f,x){var M,k=f.prog,F=f.ip,z=1;do if((M=k[++F])===88)z++;else if(M===89)z--;else if(M===64)F+=k[F+1]+1;else if(M===65)F+=2*k[F+1]+1;else if(176<=M&&M<=183)F+=M-176+1;else if(184<=M&&M<=191)F+=2*(M-184+1);else if(x&&z===1&&M===27)break;while(0<z);f.ip=F}function bs(f,x){d.DEBUG&&console.log(x.step,"SVTCA["+f.axis+"]"),x.fv=x.pv=x.dpv=f}function _s(f,x){d.DEBUG&&console.log(x.step,"SPVTCA["+f.axis+"]"),x.pv=x.dpv=f}function Do(f,x){d.DEBUG&&console.log(x.step,"SFVTCA["+f.axis+"]"),x.fv=f}function xs(f,x){var M,F=x.stack,k=F.pop(),F=F.pop(),z=x.z2[k],Y=x.z1[F];d.DEBUG&&console.log("SPVTL["+f+"]",k,F),k=f?(M=z.y-Y.y,Y.x-z.x):(M=Y.x-z.x,Y.y-z.y),x.pv=x.dpv=Kn(M,k)}function wr(f,x){var M,F=x.stack,k=F.pop(),F=F.pop(),z=x.z2[k],Y=x.z1[F];d.DEBUG&&console.log("SFVTL["+f+"]",k,F),k=f?(M=z.y-Y.y,Y.x-z.x):(M=Y.x-z.x,Y.y-z.y),x.fv=Kn(M,k)}function Qn(f){d.DEBUG&&console.log(f.step,"POP[]"),f.stack.pop()}function pn(f,x){var M=x.stack.pop(),k=x.z0[M],F=x.fv,z=x.pv,Y=(d.DEBUG&&console.log(x.step,"MDAP["+f+"]",M),z.distance(k,qt));f&&(Y=x.round(Y)),F.setRelative(k,qt,Y,z),F.touch(k),x.rp0=x.rp1=M}function Fo(f,x){var M,k,F,z=x.z2,Y=z.length-2;d.DEBUG&&console.log(x.step,"IUP["+f.axis+"]");for(var ne=0;ne<Y;ne++)M=z[ne],f.touched(M)||(k=M.prevTouched(f))!==M&&(k===(F=M.nextTouched(f))&&f.setRelative(M,M,f.distance(k,k,!1,!0),f,!0),f.interpolate(M,k,F,f))}function fo(f,x){for(var M=x.stack,k=f?x.rp1:x.rp2,F=(f?x.z0:x.z1)[k],z=x.fv,Y=x.pv,ne=x.loop,fe=x.z2;ne--;){var he=M.pop(),Se=fe[he],Ie=Y.distance(F,F,!1,!0);z.setRelative(Se,Se,Ie,Y),z.touch(Se),d.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-ne)+": ":"")+"SHP["+(f?"rp1":"rp2")+"]",he)}x.loop=1}function Dr(f,x){for(var M=x.stack,Y=f?x.rp1:x.rp2,k=(f?x.z0:x.z1)[Y],F=x.fv,z=x.pv,Y=M.pop(),ne=x.z2[x.contours[Y]],fe=ne,he=(d.DEBUG&&console.log(x.step,"SHC["+f+"]",Y),z.distance(k,k,!1,!0));fe!==k&&F.setRelative(fe,fe,he,z),(fe=fe.nextPointOnContour)!==ne;);}function Uo(f,x){var M,k,ne=x.stack,F=f?x.rp1:x.rp2,F=(f?x.z0:x.z1)[F],z=x.fv,Y=x.pv,ne=ne.pop();switch(d.DEBUG&&console.log(x.step,"SHZ["+f+"]",ne),ne){case 0:M=x.tZone;break;case 1:M=x.gZone;break;default:throw new Error("Invalid zone")}for(var fe=Y.distance(F,F,!1,!0),he=M.length-2,Se=0;Se<he;Se++)k=M[Se],z.setRelative(k,k,fe,Y)}function No(f,x){var k=x.stack,M=k.pop()/64,k=k.pop(),F=x.z1[k],z=x.z0[x.rp0],Y=x.fv,ne=x.pv;Y.setRelative(F,z,M,ne),Y.touch(F),d.DEBUG&&console.log(x.step,"MSIRP["+f+"]",M,k),x.rp1=x.rp0,x.rp2=k,f&&(x.rp0=k)}function Bo(f,x){var M=x.stack,ne=M.pop(),M=M.pop(),k=x.z0[M],F=x.fv,z=x.pv,Y=x.cvt[ne],ne=(d.DEBUG&&console.log(x.step,"MIAP["+f+"]",ne,"(",Y,")",M),z.distance(k,qt));f&&(Math.abs(ne-Y)<x.cvCutIn&&(ne=Y),ne=x.round(ne)),F.setRelative(k,qt,ne,z),x.zp0===0&&(k.xo=k.x,k.yo=k.y),F.touch(k),x.rp0=x.rp1=M}function Go(f,x){var M=x.stack,k=M.pop(),F=x.z2[k];d.DEBUG&&console.log(x.step,"GC["+f+"]",k),M.push(64*x.dpv.distance(F,qt,f,!1))}function Vo(f,x){var k=x.stack,M=k.pop(),k=k.pop(),F=x.z1[M],z=x.z0[k],z=x.dpv.distance(z,F,f,f);d.DEBUG&&console.log(x.step,"MD["+f+"]",M,k,"->",z),x.stack.push(Math.round(64*z))}function ho(f,x){var M=x.stack,k=M.pop(),F=x.fv,z=x.pv,Y=x.ppem,ne=x.deltaBase+16*(f-1),fe=x.deltaShift,he=x.z0;d.DEBUG&&console.log(x.step,"DELTAP["+f+"]",k,M);for(var Se=0;Se<k;Se++){var Ie=M.pop(),Ce=M.pop();ne+((240&Ce)>>4)===Y&&(0<=(Ce=(15&Ce)-8)&&Ce++,d.DEBUG&&console.log(x.step,"DELTAPFIX",Ie,"by",Ce*fe),Ie=he[Ie],F.setRelative(Ie,Ie,Ce*fe,z))}}function Or(f,x){var M=x.stack,k=M.pop();d.DEBUG&&console.log(x.step,"ROUND[]"),M.push(64*x.round(k/64))}function zo(f,x){var M=x.stack,k=M.pop(),F=x.ppem,z=x.deltaBase+16*(f-1),Y=x.deltaShift;d.DEBUG&&console.log(x.step,"DELTAC["+f+"]",k,M);for(var ne=0;ne<k;ne++){var fe=M.pop(),he=M.pop();z+((240&he)>>4)===F&&(0<=(he=(15&he)-8)&&he++,he=he*Y,d.DEBUG&&console.log(x.step,"DELTACFIX",fe,"by",he),x.cvt[fe]+=he)}}function Fr(f,x){var M,F=x.stack,k=F.pop(),F=F.pop(),z=x.z2[k],Y=x.z1[F];d.DEBUG&&console.log(x.step,"SDPVTL["+f+"]",k,F),k=f?(M=z.y-Y.y,Y.x-z.x):(M=Y.x-z.x,Y.y-z.y),x.dpv=Kn(M,k)}function mn(f,x){var M=x.stack,k=x.prog,F=x.ip;d.DEBUG&&console.log(x.step,"PUSHB["+f+"]");for(var z=0;z<f;z++)M.push(k[++F]);x.ip=F}function un(f,x){var M=x.ip,k=x.prog,F=x.stack;d.DEBUG&&console.log(x.ip,"PUSHW["+f+"]");for(var z=0;z<f;z++){var Y=k[++M]<<8|k[++M];32768&Y&&(Y=-(1+(65535^Y))),F.push(Y)}x.ip=M}function pt(f,x,M,k,F,z){var Y,ne,he=z.stack,fe=f&&he.pop(),he=he.pop(),Se=z.rp0,Se=z.z0[Se],Ie=z.z1[he],Ce=z.minDis,ve=z.fv,Ye=z.dpv,Be=Y=Ye.distance(Ie,Se,!0,!0),He=0<=Be?1:-1;Be=Math.abs(Be),f&&(ne=z.cvt[fe],k&&Math.abs(Be-ne)<z.cvCutIn&&(Be=ne)),M&&Be<Ce&&(Be=Ce),k&&(Be=z.round(Be)),ve.setRelative(Ie,Se,He*Be,Ye),ve.touch(Ie),d.DEBUG&&console.log(z.step,(f?"MIRP[":"MDRP[")+(x?"M":"m")+(M?">":"_")+(k?"R":"_")+(F===0?"Gr":F===1?"Bl":F===2?"Wh":"")+"]",f?fe+"("+z.cvt[fe]+","+ne+")":"",he,"(d =",Y,"->",He*Be,")"),z.rp1=z.rp0,z.rp2=he,x&&(z.rp0=he)}ps.prototype.exec=function(f,x){if(typeof x!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var M=this.font,k=this._prepState;if(!k||k.ppem!==x){var F=this._fpgmState;if(!F){hn.prototype=fi,(F=this._fpgmState=new hn("fpgm",M.tables.fpgm)).funcs=[],F.font=M,d.DEBUG&&(console.log("---EXEC FPGM---"),F.step=-1);try{Xt(F)}catch(he){return console.log("Hinting error in FPGM:"+he),void(this._errorState=3)}}hn.prototype=F,(k=this._prepState=new hn("prep",M.tables.prep)).ppem=x;var z=M.tables.cvt;if(z)for(var Y=k.cvt=new Array(z.length),ne=x/M.unitsPerEm,fe=0;fe<z.length;fe++)Y[fe]=z[fe]*ne;else k.cvt=[];d.DEBUG&&(console.log("---EXEC PREP---"),k.step=-1);try{Xt(k)}catch(he){this._errorState<2&&console.log("Hinting error in PREP:"+he),this._errorState=2}}if(!(1<this._errorState))try{return po(f,k)}catch(he){this._errorState<1&&(console.log("Hinting error:"+he),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var po=function(f,x){var M=x.ppem/x.font.unitsPerEm,k=M,F=f.components;if(hn.prototype=x,F){for(var z=x.font,Y=[],ne=[],fe=0;fe<F.length;fe++){var he=F[fe],Se=z.glyphs.get(he.glyphIndex),Ie=new hn("glyf",Se.instructions);d.DEBUG&&(console.log("---EXEC COMP "+fe+"---"),Ie.step=-1),mo(Se,Ie,M,k);for(var Ce=Math.round(he.dx*M),ve=Math.round(he.dy*k),Ye=Ie.gZone,Be=Ie.contours,He=0;He<Ye.length;He++){var Fe=Ye[He];Fe.xTouched=Fe.yTouched=!1,Fe.xo=Fe.x=Fe.x+Ce,Fe.yo=Fe.y=Fe.y+ve}var Ue=Y.length;Y.push.apply(Y,Ye);for(var vt=0;vt<Be.length;vt++)ne.push(Be[vt]+Ue)}f.instructions&&!Ie.inhibitGridFit&&((Ie=new hn("glyf",f.instructions)).gZone=Ie.z0=Ie.z1=Ie.z2=Y,Ie.contours=ne,Y.push(new Gt(0,0),new Gt(Math.round(f.advanceWidth*M),0)),d.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ie.step=-1),Xt(Ie),Y.length-=2)}else Ie=new hn("glyf",f.instructions),d.DEBUG&&(console.log("---EXEC GLYPH---"),Ie.step=-1),mo(f,Ie,M,k),Y=Ie.gZone;return Y},mo=function(f,x,M,k){for(var F,z,Y,ne=f.points||[],fe=ne.length,he=x.gZone=x.z0=x.z1=x.z2=[],Se=x.contours=[],Ie=0;Ie<fe;Ie++)F=ne[Ie],he[Ie]=new Gt(F.x*M,F.y*k,F.lastPointOfContour,F.onCurve);for(var Ce=0;Ce<fe;Ce++)F=he[Ce],z||(z=F,Se.push(Ce)),F.lastPointOfContour?((F.nextPointOnContour=z).prevPointOnContour=F,z=void 0):(Y=he[Ce+1],(F.nextPointOnContour=Y).prevPointOnContour=F);if(!x.inhibitGridFit){if(d.DEBUG){console.log("PROCESSING GLYPH",x.stack);for(var ve=0;ve<fe;ve++)console.log(ve,he[ve].x,he[ve].y)}if(he.push(new Gt(0,0),new Gt(Math.round(f.advanceWidth*M),0)),Xt(x),he.length-=2,d.DEBUG){console.log("FINISHED GLYPH",x.stack);for(var Ye=0;Ye<fe;Ye++)console.log(Ye,he[Ye].x,he[Ye].y)}}},Xt=function(f){var x=f.prog;if(x){var M,k=x.length;for(f.ip=0;f.ip<k;f.ip++){if(d.DEBUG&&f.step++,!(M=yn[x[f.ip]]))throw new Error("unknown instruction: 0x"+Number(x[f.ip]).toString(16));M(f)}}},yn=[bs.bind(void 0,ln),bs.bind(void 0,en),_s.bind(void 0,ln),_s.bind(void 0,en),Do.bind(void 0,ln),Do.bind(void 0,en),xs.bind(void 0,0),xs.bind(void 0,1),wr.bind(void 0,0),wr.bind(void 0,1),function(f){var x=(M=f.stack).pop(),M=M.pop();d.DEBUG&&console.log(f.step,"SPVFS[]",x,M),f.pv=f.dpv=Kn(M,x)},function(f){var x=(M=f.stack).pop(),M=M.pop();d.DEBUG&&console.log(f.step,"SPVFS[]",x,M),f.fv=Kn(M,x)},function(f){var x=f.stack,M=f.pv;d.DEBUG&&console.log(f.step,"GPV[]"),x.push(16384*M.x),x.push(16384*M.y)},function(f){var x=f.stack,M=f.fv;d.DEBUG&&console.log(f.step,"GFV[]"),x.push(16384*M.x),x.push(16384*M.y)},function(f){f.fv=f.pv,d.DEBUG&&console.log(f.step,"SFVTPV[]")},function(x){var M=(Y=x.stack).pop(),k=Y.pop(),F=Y.pop(),z=Y.pop(),Y=Y.pop(),fe=x.z0,Se=x.z1,ne=fe[M],fe=fe[k],he=Se[F],Se=Se[z],x=x.z2[Y],M=(d.DEBUG&&console.log("ISECT[], ",M,k,F,z,Y),ne.x),k=ne.y,F=fe.x,z=fe.y,Y=he.x,ne=he.y,fe=Se.x,he=Se.y,Se=(M-F)*(ne-he)-(k-z)*(Y-fe),Ie=M*z-k*F,Ce=Y*he-ne*fe;x.x=(Ie*(Y-fe)-Ce*(M-F))/Se,x.y=(Ie*(ne-he)-Ce*(k-z))/Se},function(f){f.rp0=f.stack.pop(),d.DEBUG&&console.log(f.step,"SRP0[]",f.rp0)},function(f){f.rp1=f.stack.pop(),d.DEBUG&&console.log(f.step,"SRP1[]",f.rp1)},function(f){f.rp2=f.stack.pop(),d.DEBUG&&console.log(f.step,"SRP2[]",f.rp2)},function(f){var x=f.stack.pop();switch(d.DEBUG&&console.log(f.step,"SZP0[]",x),f.zp0=x){case 0:f.tZone||co(f),f.z0=f.tZone;break;case 1:f.z0=f.gZone;break;default:throw new Error("Invalid zone pointer")}},function(f){var x=f.stack.pop();switch(d.DEBUG&&console.log(f.step,"SZP1[]",x),f.zp1=x){case 0:f.tZone||co(f),f.z1=f.tZone;break;case 1:f.z1=f.gZone;break;default:throw new Error("Invalid zone pointer")}},function(f){var x=f.stack.pop();switch(d.DEBUG&&console.log(f.step,"SZP2[]",x),f.zp2=x){case 0:f.tZone||co(f),f.z2=f.tZone;break;case 1:f.z2=f.gZone;break;default:throw new Error("Invalid zone pointer")}},function(f){var x=f.stack.pop();switch(d.DEBUG&&console.log(f.step,"SZPS[]",x),f.zp0=f.zp1=f.zp2=x){case 0:f.tZone||co(f),f.z0=f.z1=f.z2=f.tZone;break;case 1:f.z0=f.z1=f.z2=f.gZone;break;default:throw new Error("Invalid zone pointer")}},function(f){f.loop=f.stack.pop(),d.DEBUG&&console.log(f.step,"SLOOP[]",f.loop)},function(f){d.DEBUG&&console.log(f.step,"RTG[]"),f.round=ys},function(f){d.DEBUG&&console.log(f.step,"RTHG[]"),f.round=ci},function(f){var x=f.stack.pop();d.DEBUG&&console.log(f.step,"SMD[]",x),f.minDis=x/64},function(f){d.DEBUG&&console.log(f.step,"ELSE[]"),vs(f,!1)},function(f){var x=f.stack.pop();d.DEBUG&&console.log(f.step,"JMPR[]",x),f.ip+=x-1},function(f){var x=f.stack.pop();d.DEBUG&&console.log(f.step,"SCVTCI[]",x),f.cvCutIn=x/64},void 0,void 0,function(f){var x=f.stack;d.DEBUG&&console.log(f.step,"DUP[]"),x.push(x[x.length-1])},Qn,function(f){d.DEBUG&&console.log(f.step,"CLEAR[]"),f.stack.length=0},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"SWAP[]"),x.push(M),x.push(k)},function(f){var x=f.stack;d.DEBUG&&console.log(f.step,"DEPTH[]"),x.push(x.length)},function(f){var x=f.stack,M=x.pop();d.DEBUG&&console.log(f.step,"CINDEX[]",M),x.push(x[x.length-M])},function(f){var x=f.stack,M=x.pop();d.DEBUG&&console.log(f.step,"MINDEX[]",M),x.push(x.splice(x.length-M,1)[0])},void 0,void 0,void 0,function(f){var x=(k=f.stack).pop(),M=k.pop(),k=(d.DEBUG&&console.log(f.step,"LOOPCALL[]",x,M),f.ip),F=f.prog;f.prog=f.funcs[x];for(var z=0;z<M;z++)Xt(f),d.DEBUG&&console.log(++f.step,z+1<M?"next loopcall":"done loopcall",z);f.ip=k,f.prog=F},function(f){var x=f.stack.pop(),M=(d.DEBUG&&console.log(f.step,"CALL[]",x),f.ip),k=f.prog;f.prog=f.funcs[x],Xt(f),f.ip=M,f.prog=k,d.DEBUG&&console.log(++f.step,"returning from",x)},function(f){if(f.env!=="fpgm")throw new Error("FDEF not allowed here");var k=f.stack,x=f.prog,M=f.ip,k=k.pop(),F=M;for(d.DEBUG&&console.log(f.step,"FDEF[]",k);x[++M]!==45;);f.ip=M,f.funcs[k]=x.slice(F+1,M)},void 0,pn.bind(void 0,0),pn.bind(void 0,1),Fo.bind(void 0,ln),Fo.bind(void 0,en),fo.bind(void 0,0),fo.bind(void 0,1),Dr.bind(void 0,0),Dr.bind(void 0,1),Uo.bind(void 0,0),Uo.bind(void 0,1),function(f){for(var x=f.stack,M=f.loop,k=f.fv,F=x.pop()/64,z=f.z2;M--;){var Y=x.pop(),ne=z[Y];d.DEBUG&&console.log(f.step,(1<f.loop?"loop "+(f.loop-M)+": ":"")+"SHPIX[]",Y,F),k.setRelative(ne,ne,F),k.touch(ne)}f.loop=1},function(f){for(var x=f.stack,M=f.rp1,k=f.rp2,F=f.loop,z=f.z0[M],Y=f.z1[k],ne=f.fv,fe=f.dpv,he=f.z2;F--;){var Se=x.pop(),Ie=he[Se];d.DEBUG&&console.log(f.step,(1<f.loop?"loop "+(f.loop-F)+": ":"")+"IP[]",Se,M,"<->",k),ne.interpolate(Ie,z,Y,fe),ne.touch(Ie)}f.loop=1},No.bind(void 0,0),No.bind(void 0,1),function(f){for(var x=f.stack,M=f.rp0,k=f.z0[M],F=f.loop,z=f.fv,Y=f.pv,ne=f.z1;F--;){var fe=x.pop(),he=ne[fe];d.DEBUG&&console.log(f.step,(1<f.loop?"loop "+(f.loop-F)+": ":"")+"ALIGNRP[]",fe),z.setRelative(he,k,0,Y),z.touch(he)}f.loop=1},function(f){d.DEBUG&&console.log(f.step,"RTDG[]"),f.round=ui},Bo.bind(void 0,0),Bo.bind(void 0,1),function(f){var x=f.prog,M=f.ip,k=f.stack,F=x[++M];d.DEBUG&&console.log(f.step,"NPUSHB[]",F);for(var z=0;z<F;z++)k.push(x[++M]);f.ip=M},function(f){var x=f.ip,M=f.prog,k=f.stack,F=M[++x];d.DEBUG&&console.log(f.step,"NPUSHW[]",F);for(var z=0;z<F;z++){var Y=M[++x]<<8|M[++x];32768&Y&&(Y=-(1+(65535^Y))),k.push(Y)}f.ip=x},function(f){var k=f.stack,x=(x=f.store)||(f.store=[]),M=k.pop(),k=k.pop();d.DEBUG&&console.log(f.step,"WS",M,k),x[k]=M},function(F){var x=F.stack,M=F.store,k=x.pop(),F=(d.DEBUG&&console.log(F.step,"RS",k),M&&M[k]||0);x.push(F)},function(f){var x=(M=f.stack).pop(),M=M.pop();d.DEBUG&&console.log(f.step,"WCVTP",x,M),f.cvt[M]=x/64},function(f){var x=f.stack,M=x.pop();d.DEBUG&&console.log(f.step,"RCVT",M),x.push(64*f.cvt[M])},Go.bind(void 0,0),Go.bind(void 0,1),void 0,Vo.bind(void 0,0),Vo.bind(void 0,1),function(f){d.DEBUG&&console.log(f.step,"MPPEM[]"),f.stack.push(f.ppem)},void 0,function(f){d.DEBUG&&console.log(f.step,"FLIPON[]"),f.autoFlip=!0},void 0,void 0,function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"LT[]",M,k),x.push(k<M?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"LTEQ[]",M,k),x.push(k<=M?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"GT[]",M,k),x.push(M<k?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"GTEQ[]",M,k),x.push(M<=k?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"EQ[]",M,k),x.push(M===k?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"NEQ[]",M,k),x.push(M!==k?1:0)},function(f){var x=f.stack,M=x.pop();d.DEBUG&&console.log(f.step,"ODD[]",M),x.push(Math.trunc(M)%2?1:0)},function(f){var x=f.stack,M=x.pop();d.DEBUG&&console.log(f.step,"EVEN[]",M),x.push(Math.trunc(M)%2?0:1)},function(f){var x=f.stack.pop();d.DEBUG&&console.log(f.step,"IF[]",x),x||(vs(f,!0),d.DEBUG&&console.log(f.step,"EIF[]"))},function(f){d.DEBUG&&console.log(f.step,"EIF[]")},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"AND[]",M,k),x.push(M&&k?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"OR[]",M,k),x.push(M||k?1:0)},function(f){var x=f.stack,M=x.pop();d.DEBUG&&console.log(f.step,"NOT[]",M),x.push(M?0:1)},ho.bind(void 0,1),function(f){var x=f.stack.pop();d.DEBUG&&console.log(f.step,"SDB[]",x),f.deltaBase=x},function(f){var x=f.stack.pop();d.DEBUG&&console.log(f.step,"SDS[]",x),f.deltaShift=Math.pow(.5,x)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"ADD[]",M,k),x.push(k+M)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"SUB[]",M,k),x.push(k-M)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"DIV[]",M,k),x.push(64*k/M)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"MUL[]",M,k),x.push(k*M/64)},function(f){var x=f.stack,M=x.pop();d.DEBUG&&console.log(f.step,"ABS[]",M),x.push(Math.abs(M))},function(f){var x=f.stack,M=x.pop();d.DEBUG&&console.log(f.step,"NEG[]",M),x.push(-M)},function(f){var x=f.stack,M=x.pop();d.DEBUG&&console.log(f.step,"FLOOR[]",M),x.push(64*Math.floor(M/64))},function(f){var x=f.stack,M=x.pop();d.DEBUG&&console.log(f.step,"CEILING[]",M),x.push(64*Math.ceil(M/64))},Or.bind(void 0,0),Or.bind(void 0,1),Or.bind(void 0,2),Or.bind(void 0,3),void 0,void 0,void 0,void 0,function(f){var x=(M=f.stack).pop(),M=M.pop();d.DEBUG&&console.log(f.step,"WCVTF[]",x,M),f.cvt[M]=x*f.ppem/f.font.unitsPerEm},ho.bind(void 0,2),ho.bind(void 0,3),zo.bind(void 0,1),zo.bind(void 0,2),zo.bind(void 0,3),function(f){var x,M=f.stack.pop();switch(d.DEBUG&&console.log(f.step,"SROUND[]",M),f.round=gs,192&M){case 0:x=.5;break;case 64:x=1;break;case 128:x=2;break;default:throw new Error("invalid SROUND value")}switch(f.srPeriod=x,48&M){case 0:f.srPhase=0;break;case 16:f.srPhase=.25*x;break;case 32:f.srPhase=.5*x;break;case 48:f.srPhase=.75*x;break;default:throw new Error("invalid SROUND value")}f.srThreshold=(M&=15)===0?0:(M/8-.5)*x},function(f){var x,M=f.stack.pop();switch(d.DEBUG&&console.log(f.step,"S45ROUND[]",M),f.round=gs,192&M){case 0:x=Math.sqrt(2)/2;break;case 64:x=Math.sqrt(2);break;case 128:x=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(f.srPeriod=x,48&M){case 0:f.srPhase=0;break;case 16:f.srPhase=.25*x;break;case 32:f.srPhase=.5*x;break;case 48:f.srPhase=.75*x;break;default:throw new Error("invalid S45ROUND value")}f.srThreshold=(M&=15)===0?0:(M/8-.5)*x},void 0,void 0,function(f){d.DEBUG&&console.log(f.step,"ROFF[]"),f.round=ms},void 0,function(f){d.DEBUG&&console.log(f.step,"RUTG[]"),f.round=di},function(f){d.DEBUG&&console.log(f.step,"RDTG[]"),f.round=Io},Qn,Qn,void 0,void 0,void 0,void 0,void 0,function(f){var x=f.stack.pop();d.DEBUG&&console.log(f.step,"SCANCTRL[]",x)},Fr.bind(void 0,0),Fr.bind(void 0,1),function(f){var x=f.stack,M=x.pop(),k=0;d.DEBUG&&console.log(f.step,"GETINFO[]",M),1&M&&(k=35),32&M&&(k|=4096),x.push(k)},void 0,function(f){var x=f.stack,M=x.pop(),k=x.pop(),F=x.pop();d.DEBUG&&console.log(f.step,"ROLL[]"),x.push(k),x.push(M),x.push(F)},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"MAX[]",M,k),x.push(Math.max(k,M))},function(f){var x=f.stack,M=x.pop(),k=x.pop();d.DEBUG&&console.log(f.step,"MIN[]",M,k),x.push(Math.min(k,M))},function(f){var x=f.stack.pop();d.DEBUG&&console.log(f.step,"SCANTYPE[]",x)},function(f){var x=f.stack.pop(),M=f.stack.pop();switch(d.DEBUG&&console.log(f.step,"INSTCTRL[]",x,M),x){case 1:return void(f.inhibitGridFit=!!M);case 2:return void(f.ignoreCvt=!!M);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,mn.bind(void 0,1),mn.bind(void 0,2),mn.bind(void 0,3),mn.bind(void 0,4),mn.bind(void 0,5),mn.bind(void 0,6),mn.bind(void 0,7),mn.bind(void 0,8),un.bind(void 0,1),un.bind(void 0,2),un.bind(void 0,3),un.bind(void 0,4),un.bind(void 0,5),un.bind(void 0,6),un.bind(void 0,7),un.bind(void 0,8),pt.bind(void 0,0,0,0,0,0),pt.bind(void 0,0,0,0,0,1),pt.bind(void 0,0,0,0,0,2),pt.bind(void 0,0,0,0,0,3),pt.bind(void 0,0,0,0,1,0),pt.bind(void 0,0,0,0,1,1),pt.bind(void 0,0,0,0,1,2),pt.bind(void 0,0,0,0,1,3),pt.bind(void 0,0,0,1,0,0),pt.bind(void 0,0,0,1,0,1),pt.bind(void 0,0,0,1,0,2),pt.bind(void 0,0,0,1,0,3),pt.bind(void 0,0,0,1,1,0),pt.bind(void 0,0,0,1,1,1),pt.bind(void 0,0,0,1,1,2),pt.bind(void 0,0,0,1,1,3),pt.bind(void 0,0,1,0,0,0),pt.bind(void 0,0,1,0,0,1),pt.bind(void 0,0,1,0,0,2),pt.bind(void 0,0,1,0,0,3),pt.bind(void 0,0,1,0,1,0),pt.bind(void 0,0,1,0,1,1),pt.bind(void 0,0,1,0,1,2),pt.bind(void 0,0,1,0,1,3),pt.bind(void 0,0,1,1,0,0),pt.bind(void 0,0,1,1,0,1),pt.bind(void 0,0,1,1,0,2),pt.bind(void 0,0,1,1,0,3),pt.bind(void 0,0,1,1,1,0),pt.bind(void 0,0,1,1,1,1),pt.bind(void 0,0,1,1,1,2),pt.bind(void 0,0,1,1,1,3),pt.bind(void 0,1,0,0,0,0),pt.bind(void 0,1,0,0,0,1),pt.bind(void 0,1,0,0,0,2),pt.bind(void 0,1,0,0,0,3),pt.bind(void 0,1,0,0,1,0),pt.bind(void 0,1,0,0,1,1),pt.bind(void 0,1,0,0,1,2),pt.bind(void 0,1,0,0,1,3),pt.bind(void 0,1,0,1,0,0),pt.bind(void 0,1,0,1,0,1),pt.bind(void 0,1,0,1,0,2),pt.bind(void 0,1,0,1,0,3),pt.bind(void 0,1,0,1,1,0),pt.bind(void 0,1,0,1,1,1),pt.bind(void 0,1,0,1,1,2),pt.bind(void 0,1,0,1,1,3),pt.bind(void 0,1,1,0,0,0),pt.bind(void 0,1,1,0,0,1),pt.bind(void 0,1,1,0,0,2),pt.bind(void 0,1,1,0,0,3),pt.bind(void 0,1,1,0,1,0),pt.bind(void 0,1,1,0,1,1),pt.bind(void 0,1,1,0,1,2),pt.bind(void 0,1,1,0,1,3),pt.bind(void 0,1,1,1,0,0),pt.bind(void 0,1,1,1,0,1),pt.bind(void 0,1,1,1,0,2),pt.bind(void 0,1,1,1,0,3),pt.bind(void 0,1,1,1,1,0),pt.bind(void 0,1,1,1,1,1),pt.bind(void 0,1,1,1,1,2),pt.bind(void 0,1,1,1,1,3)],Ho=Array.from||function(f){return f.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function er(f){(f=f||{}).empty||(Rn(f.familyName,"When creating a new Font object, familyName is required."),Rn(f.styleName,"When creating a new Font object, styleName is required."),Rn(f.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Rn(f.ascender,"When creating a new Font object, ascender is required."),Rn(f.descender,"When creating a new Font object, descender is required."),Rn(f.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:f.familyName||" "},fontSubfamily:{en:f.styleName||" "},fullName:{en:f.fullName||f.familyName+" "+f.styleName},postScriptName:{en:f.postScriptName||(f.familyName+f.styleName).replace(/\s/g,"")},designer:{en:f.designer||" "},designerURL:{en:f.designerURL||" "},manufacturer:{en:f.manufacturer||" "},manufacturerURL:{en:f.manufacturerURL||" "},license:{en:f.license||" "},licenseURL:{en:f.licenseURL||" "},version:{en:f.version||"Version 0.1"},description:{en:f.description||" "},copyright:{en:f.copyright||" "},trademark:{en:f.trademark||" "}},this.unitsPerEm=f.unitsPerEm||1e3,this.ascender=f.ascender,this.descender=f.descender,this.createdTimestamp=f.createdTimestamp,this.tables={os2:{usWeightClass:f.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:f.widthClass||this.usWidthClasses.MEDIUM,fsSelection:f.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new gt.GlyphSet(this,f.glyphs||[]),this.encoding=new Ae(this),this.position=new Ln(this),this.substitution=new Ar(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new ps(this):void 0)}})}function yo(f,x){var M,k=JSON.stringify(f),F=256;for(M in x){var z=parseInt(M);if(z&&!(z<256)){if(JSON.stringify(x[M])===k)return z;F<=z&&(F=z+1)}}return x[F]=f,F}er.prototype.hasChar=function(f){return this.encoding.charToGlyphIndex(f)!==null},er.prototype.charToGlyphIndex=function(f){return this.encoding.charToGlyphIndex(f)},er.prototype.charToGlyph=function(f){return f=this.charToGlyphIndex(f),this.glyphs.get(f)||this.glyphs.get(0)},er.prototype.stringToGlyphs=function(f,x){x=x||this.defaultRenderOptions;for(var M=Ho(f),k=[],F=0;F<M.length;F+=1){var z=M[F];k.push(this.charToGlyphIndex(z))}var Y=k.length;if(x.features){var f=x.script||this.substitution.getDefaultScriptName(),ne=[];x.features.liga&&(ne=ne.concat(this.substitution.getFeature("liga",f,x.language))),x.features.rlig&&(ne=ne.concat(this.substitution.getFeature("rlig",f,x.language)));for(var fe=0;fe<Y;fe+=1)for(var he=0;he<ne.length;he++){for(var Se=ne[he],Ie=Se.sub,Ce=Ie.length,ve=0;ve<Ce&&Ie[ve]===k[fe+ve];)ve++;ve===Ce&&(k.splice(fe,Ce,Se.by),Y=Y-Ce+1)}}for(var Ye=new Array(Y),Be=this.glyphs.get(0),He=0;He<Y;He+=1)Ye[He]=this.glyphs.get(k[He])||Be;return Ye},er.prototype.nameToGlyphIndex=function(f){return this.glyphNames.nameToGlyphIndex(f)},er.prototype.nameToGlyph=function(f){return f=this.nameToGlyphIndex(f),this.glyphs.get(f)||this.glyphs.get(0)},er.prototype.glyphIndexToName=function(f){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(f):""},er.prototype.getKerningValue=function(f,x){f=f.index||f,x=x.index||x;var M=this.position.defaultKerningTables;return M?this.position.getKerningValue(M,f,x):this.kerningPairs[f+","+x]||0},er.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},er.prototype.forEachGlyph=function(f,x,M,k,F,z){x=x!==void 0?x:0,M=M!==void 0?M:0,F=F||this.defaultRenderOptions;var Y,ne=1/this.unitsPerEm*(k=k!==void 0?k:72),fe=this.stringToGlyphs(f,F);F.kerning&&(f=F.script||this.position.getDefaultScriptName(),Y=this.position.getKerningTables(f,F.language));for(var he=0;he<fe.length;he+=1){var Se=fe[he];z.call(this,Se,x,M,k,F),Se.advanceWidth&&(x+=Se.advanceWidth*ne),F.kerning&&he<fe.length-1&&(x+=(Y?this.position.getKerningValue(Y,Se.index,fe[he+1].index):this.getKerningValue(Se,fe[he+1]))*ne),F.letterSpacing?x+=F.letterSpacing*k:F.tracking&&(x+=F.tracking/1e3*k)}return x},er.prototype.getPath=function(f,x,M,k,F){var z=new Q;return this.forEachGlyph(f,x,M,k,F,function(Y,ne,fe,he){Y=Y.getPath(ne,fe,he,F,this),z.extend(Y)}),z},er.prototype.getPaths=function(f,x,M,k,F){var z=[];return this.forEachGlyph(f,x,M,k,F,function(Y,ne,fe,he){Y=Y.getPath(ne,fe,he,F,this),z.push(Y)}),z},er.prototype.getAdvanceWidth=function(f,x,M){return this.forEachGlyph(f,0,0,x,M,function(){})},er.prototype.draw=function(f,x,M,k,F,z){this.getPath(x,M,k,F,z).draw(f)},er.prototype.drawPoints=function(f,x,M,k,F,z){this.forEachGlyph(x,M,k,F,z,function(Y,ne,fe,he){Y.drawPoints(f,ne,fe,he)})},er.prototype.drawMetrics=function(f,x,M,k,F,z){this.forEachGlyph(x,M,k,F,z,function(Y,ne,fe,he){Y.drawMetrics(f,ne,fe,he)})},er.prototype.getEnglishName=function(f){if(f=this.names[f],f)return f.en},er.prototype.validate=function(){var f=this;function x(M){M=f.getEnglishName(M),M&&M.trim().length}x("fontFamily"),x("weightName"),x("manufacturer"),x("copyright"),x("version"),this.unitsPerEm},er.prototype.toTables=function(){return cs.fontToTable(this)},er.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},er.prototype.toArrayBuffer=function(){for(var f=this.toTables().encode(),x=new ArrayBuffer(f.length),M=new Uint8Array(x),k=0;k<f.length;k++)M[k]=f[k];return x},er.prototype.download=function(f){var x=this.getEnglishName("fontFamily"),M=this.getEnglishName("fontSubfamily"),k=(f=f||x.replace(/\s/g,"")+"-"+M+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,k.byteLength,function(F){F.root.getFile(f,{create:!0},function(z){z.createWriter(function(Y){var ne=new DataView(k),ne=new Blob([ne],{type:"font/opentype"});Y.write(ne),Y.addEventListener("writeend",function(){location.href=z.toURL()},!1)})})},function(F){throw new Error(F.name+": "+F.message)})):(x=t("fs"),M=(function(F){for(var z=new m(F.byteLength),Y=new Uint8Array(F),ne=0;ne<z.length;++ne)z[ne]=Y[ne];return z})(k),x.writeFileSync(f,M))},er.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},er.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},er.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var hi={make:function(f,x){var M=new Re.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:f.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:f.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*f.axes.length}]);M.offsetToData=M.sizeOf();for(var k,F,z,Y=0;Y<f.axes.length;Y++)M.fields=M.fields.concat((k=Y,F=f.axes[Y],z=x,z=yo(F.name,x),[{name:"tag_"+k,type:"TAG",value:F.tag},{name:"minValue_"+k,type:"FIXED",value:F.minValue<<16},{name:"defaultValue_"+k,type:"FIXED",value:F.defaultValue<<16},{name:"maxValue_"+k,type:"FIXED",value:F.maxValue<<16},{name:"flags_"+k,type:"USHORT",value:0},{name:"nameID_"+k,type:"USHORT",value:z}]));for(var ne=0;ne<f.instances.length;ne++)M.fields=M.fields.concat((function(fe,he,Se,Ie){for(var Ce=[{name:"nameID_"+fe,type:"USHORT",value:yo(he.name,Ie)},{name:"flags_"+fe,type:"USHORT",value:0}],ve=0;ve<Se.length;++ve){var Ye=Se[ve].tag;Ce.push({name:"axis_"+fe+" "+Ye,type:"FIXED",value:he.coordinates[Ye]<<16})}return Ce})(ne,f.instances[ne],f.axes,x));return M},parse:function(f,x,M){for(var k,F,z,Y,ne=new Le.Parser(f,x),fe=ne.parseULong(),he=(R.argument(fe===65536,"Unsupported fvar table version."),ne.parseOffset16()),Se=(ne.skip("uShort",1),ne.parseUShort()),Ie=ne.parseUShort(),Ce=ne.parseUShort(),ve=ne.parseUShort(),Ye=[],Be=0;Be<Se;Be++)Ye.push((k=f,F=x+he+Be*Ie,z=M,Y={},k=new Le.Parser(k,F),Y.tag=k.parseTag(),Y.minValue=k.parseFixed(),Y.defaultValue=k.parseFixed(),Y.maxValue=k.parseFixed(),k.skip("uShort",1),Y.name=z[k.parseUShort()]||{},Y));for(var He=[],Fe=x+he+Se*Ie,Ue=0;Ue<Ce;Ue++)He.push((function(vt,kt,yt,bt){var At={},nr=new Le.Parser(vt,kt);At.name=bt[nr.parseUShort()]||{},nr.skip("uShort",1),At.coordinates={};for(var cr=0;cr<yt.length;++cr)At.coordinates[yt[cr].tag]=nr.parseFixed();return At})(f,Fe+Ue*ve,Ye,M));return{axes:Ye,instances:He}}},Xr=new Array(10);Xr[1]=function(){var f=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{posFormat:1,coverage:this.parsePointer(Oe.coverage),value:this.parseValueRecord()}:x===2?{posFormat:2,coverage:this.parsePointer(Oe.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+f.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Xr[2]=function(){var f,x,M,k,z=this.offset+this.relativeOffset,F=this.parseUShort(),z=(R.assert(F===1||F===2,"0x"+z.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Oe.coverage)),Y=this.parseUShort(),ne=this.parseUShort();return F===1?{posFormat:F,coverage:z,valueFormat1:Y,valueFormat2:ne,pairSets:this.parseList(Oe.pointer(Oe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Y),value2:this.parseValueRecord(ne)}})))}:F===2?(f=this.parsePointer(Oe.classDef),x=this.parsePointer(Oe.classDef),M=this.parseUShort(),k=this.parseUShort(),{posFormat:F,coverage:z,valueFormat1:Y,valueFormat2:ne,classDef1:f,classDef2:x,class1Count:M,class2Count:k,classRecords:this.parseList(M,Oe.list(k,function(){return{value1:this.parseValueRecord(Y),value2:this.parseValueRecord(ne)}}))}):void 0},Xr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Xr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Xr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Xr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Xr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Xr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Xr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var pi=new Array(10),ws={parse:function(f,x){return x=(f=new Oe(f,x=x||0)).parseVersion(1),R.argument(x===1||x===1.1,"Unsupported GPOS table version "+x),x===1?{version:x,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(Xr)}:{version:x,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(Xr),variations:f.parseFeatureVariationsList()}},make:function(f){return new Re.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Re.ScriptList(f.scripts)},{name:"features",type:"TABLE",value:new Re.FeatureList(f.features)},{name:"lookups",type:"TABLE",value:new Re.LookupList(f.lookups,pi)}])}},go={parse:function(f,x){if(f=new Le.Parser(f,x),(x=f.parseUShort())===0){var M=f,k={},Ie=(M.skip("uShort"),M.parseUShort()),F=(R.argument(Ie===0,"Unsupported kern sub-table version."),M.skip("uShort",2),M.parseUShort());M.skip("uShort",3);for(var z=0;z<F;z+=1){var Y=M.parseUShort(),ne=M.parseUShort(),fe=M.parseShort();k[Y+","+ne]=fe}return k}if(x!==1)throw new Error("Unsupported kern table version ("+x+").");var he=f,Se={},Ie=(he.skip("uShort"),1<he.parseULong()&&console.warn("Only the first kern subtable is supported."),he.skip("uLong"),255&he.parseUShort());if(he.skip("uShort"),Ie==0){var Ce=he.parseUShort();he.skip("uShort",3);for(var ve=0;ve<Ce;ve+=1){var Ye=he.parseUShort(),Be=he.parseUShort(),He=he.parseShort();Se[Ye+","+Be]=He}}return Se}},In={parse:function(f,x,M,k){for(var F=new Le.Parser(f,x),z=k?F.parseUShort:F.parseULong,Y=[],ne=0;ne<M+1;ne+=1){var fe=z.call(F);k&&(fe*=2),Y.push(fe)}return Y}};function mi(f,x){t("fs").readFile(f,function(M,k){if(M)return x(M.message);x(null,Po(k))})}function js(f,x){var M=new XMLHttpRequest;M.open("get",f,!0),M.responseType="arraybuffer",M.onload=function(){return M.response?x(null,M.response):x("Font could not be loaded: "+M.statusText)},M.onerror=function(){x("Font could not be loaded")},M.send()}function Wo(f,x){for(var M=[],k=12,F=0;F<x;F+=1){var z=Le.getTag(f,k),Y=Le.getULong(f,k+4),ne=Le.getULong(f,k+8),fe=Le.getULong(f,k+12);M.push({tag:z,checksum:Y,offset:ne,length:fe,compression:!1}),k+=16}return M}function ur(M,x){if(x.compression!=="WOFF")return{data:M,offset:x.offset};var M=new Uint8Array(M.buffer,x.offset+2,x.compressedLength-2),k=new Uint8Array(x.length);if(W(M,k),k.byteLength!==x.length)throw new Error("Decompression error: "+x.tag+" decompressed length doesn't match recorded length");return{data:new DataView(k.buffer,0),offset:0}}function Jn(Ue){var x,M,k,F,z,Y,ne,fe,he,Se,Ie,Ce,ve,Ye,Be=new er({empty:!0}),He=new DataView(Ue,0),Fe=[],Ue=Le.getTag(He,0);if(Ue==="\0\0\0"||Ue==="true"||Ue==="typ1")Be.outlinesFormat="truetype",Fe=Wo(He,k=Le.getUShort(He,4));else if(Ue==="OTTO")Be.outlinesFormat="cff",Fe=Wo(He,k=Le.getUShort(He,4));else{if(Ue!=="wOFF")throw new Error("Unsupported OpenType signature "+Ue);var vt=Le.getTag(He,4);if(vt==="\0\0\0")Be.outlinesFormat="truetype";else{if(vt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ue);Be.outlinesFormat="cff"}Fe=(function(ir,Yt){for(var kr=[],Kt=44,ke=0;ke<Yt;ke+=1){var ze=Le.getTag(ir,Kt),Ne=Le.getULong(ir,Kt+4),mt=Le.getULong(ir,Kt+8),St=Le.getULong(ir,Kt+12),zt=void 0,zt=mt<St&&"WOFF";kr.push({tag:ze,offset:Ne,compression:zt,compressedLength:mt,length:St}),Kt+=20}return kr})(He,k=Le.getUShort(He,12))}for(var kt=0;kt<k;kt+=1){var yt=Fe[kt],bt=void 0;switch(yt.tag){case"cmap":bt=ur(He,yt),Be.tables.cmap=ee.parse(bt.data,bt.offset),Be.encoding=new Ge(Be.tables.cmap);break;case"cvt ":bt=ur(He,yt),Ye=new Le.Parser(bt.data,bt.offset),Be.tables.cvt=Ye.parseShortList(yt.length/2);break;case"fvar":z=yt;break;case"fpgm":bt=ur(He,yt),Ye=new Le.Parser(bt.data,bt.offset),Be.tables.fpgm=Ye.parseByteList(yt.length);break;case"head":bt=ur(He,yt),Be.tables.head=Cn.parse(bt.data,bt.offset),Be.unitsPerEm=Be.tables.head.unitsPerEm,x=Be.tables.head.indexToLocFormat;break;case"hhea":bt=ur(He,yt),Be.tables.hhea=be.parse(bt.data,bt.offset),Be.ascender=Be.tables.hhea.ascender,Be.descender=Be.tables.hhea.descender,Be.numberOfHMetrics=Be.tables.hhea.numberOfHMetrics;break;case"hmtx":he=yt;break;case"ltag":bt=ur(He,yt),M=dt.parse(bt.data,bt.offset);break;case"maxp":bt=ur(He,yt),Be.tables.maxp=Je.parse(bt.data,bt.offset),Be.numGlyphs=Be.tables.maxp.numGlyphs;break;case"name":Ce=yt;break;case"OS/2":bt=ur(He,yt),Be.tables.os2=xr.parse(bt.data,bt.offset);break;case"post":bt=ur(He,yt),Be.tables.post=as.parse(bt.data,bt.offset),Be.glyphNames=new rt(Be.tables.post);break;case"prep":bt=ur(He,yt),Ye=new Le.Parser(bt.data,bt.offset),Be.tables.prep=Ye.parseByteList(yt.length);break;case"glyf":Y=yt;break;case"loca":Ie=yt;break;case"CFF ":F=yt;break;case"kern":Se=yt;break;case"GPOS":ne=yt;break;case"GSUB":fe=yt;break;case"meta":ve=yt}}if(vt=ur(He,Ce),Be.tables.name=Ir.parse(vt.data,vt.offset,M),Be.names=Be.tables.name,Y&&Ie)Ue=x===0,vt=ur(He,Ie),vt=In.parse(vt.data,vt.offset,Be.numGlyphs,Ue),Ue=ur(He,Y),Be.glyphs=hs.parse(Ue.data,Ue.offset,vt,Be);else{if(!F)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ue=ur(He,F),qn.parse(Ue.data,Ue.offset,Be)}for(var vt=ur(He,he),At=(et.parse(vt.data,vt.offset,Be.numberOfHMetrics,Be.numGlyphs,Be.glyphs),Be),nr=At.tables.cmap.glyphIndexMap,cr=Object.keys(nr),sr=0;sr<cr.length;sr+=1){var or,Sr=cr[sr],Yr=nr[Sr];(or=At.glyphs.get(Yr)).addUnicode(parseInt(Sr))}for(var tr=0;tr<At.glyphs.length;tr+=1)or=At.glyphs.get(tr),At.cffEncoding?At.isCIDFont?or.name="gid"+tr:or.name=At.cffEncoding.charset[tr]:At.glyphNames.names&&(or.name=At.glyphNames.glyphIndexToName(tr));return Se?(Ue=ur(He,Se),Be.kerningPairs=go.parse(Ue.data,Ue.offset)):Be.kerningPairs={},ne&&(vt=ur(He,ne),Be.tables.gpos=ws.parse(vt.data,vt.offset),Be.position.init()),fe&&(Ue=ur(He,fe),Be.tables.gsub=lo.parse(Ue.data,Ue.offset)),z&&(vt=ur(He,z),Be.tables.fvar=hi.parse(vt.data,vt.offset,Be.names)),ve&&(Ue=ur(He,ve),Be.tables.meta=ls.parse(Ue.data,Ue.offset),Be.metas=Be.tables.meta),Be}d.Font=er,d.Glyph=lt,d.Path=Q,d.BoundingBox=Z,d._parse=Le,d.parse=Jn,d.load=function(f,x){(typeof window>"u"?mi:js)(f,function(M,k){if(M)return x(M);var F;try{F=Jn(k)}catch(z){return x(z,null)}return x(null,F)})},d.loadSync=function(f){return Jn(Po(t("fs").readFileSync(f)))},Object.defineProperty(d,"__esModule",{value:!0})},c(typeof A=="object"&&H!==void 0?A:g.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,H,A){(function(m){function g(b,y){for(var r=0,o=b.length-1;0<=o;o--){var i=b[o];i==="."?b.splice(o,1):i===".."?(b.splice(o,1),r++):r&&(b.splice(o,1),r--)}if(y)for(;r--;)b.unshift("..");return b}function c(b,y){if(b.filter)return b.filter(y);for(var r=[],o=0;o<b.length;o++)y(b[o],o,b)&&r.push(b[o]);return r}A.resolve=function(){for(var b="",y=!1,r=arguments.length-1;-1<=r&&!y;r--){var o=0<=r?arguments[r]:m.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");o&&(b=o+"/"+b,y=o.charAt(0)==="/")}return(y?"/":"")+(b=g(c(b.split("/"),function(i){return!!i}),!y).join("/"))||"."},A.normalize=function(b){var y=A.isAbsolute(b),r=d(b,-1)==="/";return(b=(b=g(c(b.split("/"),function(o){return!!o}),!y).join("/"))||y?b:".")&&r&&(b+="/"),(y?"/":"")+b},A.isAbsolute=function(b){return b.charAt(0)==="/"},A.join=function(){var b=Array.prototype.slice.call(arguments,0);return A.normalize(c(b,function(y,r){if(typeof y!="string")throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},A.relative=function(b,y){function r(p){for(var h=0;h<p.length&&p[h]==="";h++);for(var _=p.length-1;0<=_&&p[_]==="";_--);return _<h?[]:p.slice(h,_-h+1)}b=A.resolve(b).substr(1),y=A.resolve(y).substr(1);for(var o=r(b.split("/")),i=r(y.split("/")),l=Math.min(o.length,i.length),u=l,s=0;s<l;s++)if(o[s]!==i[s]){u=s;break}for(var n=[],s=u;s<o.length;s++)n.push("..");return(n=n.concat(i.slice(u))).join("/")},A.sep="/",A.delimiter=":",A.dirname=function(b){if(typeof b!="string"&&(b+=""),b.length===0)return".";for(var y=b.charCodeAt(0)===47,r=-1,o=!0,i=b.length-1;1<=i;--i)if(b.charCodeAt(i)===47){if(!o){r=i;break}}else o=!1;return r===-1?y?"/":".":y&&r===1?"/":b.slice(0,r)},A.basename=function(b,y){return b=(function(r){typeof r!="string"&&(r+="");for(var o=0,i=-1,l=!0,u=r.length-1;0<=u;--u)if(r.charCodeAt(u)===47){if(!l){o=u+1;break}}else i===-1&&(l=!1,i=u+1);return i===-1?"":r.slice(o,i)})(b),b=y&&b.substr(-1*y.length)===y?b.substr(0,b.length-y.length):b},A.extname=function(b){typeof b!="string"&&(b+="");for(var y=-1,r=0,o=-1,i=!0,l=0,u=b.length-1;0<=u;--u){var s=b.charCodeAt(u);if(s===47){if(i)continue;r=u+1;break}o===-1&&(i=!1,o=u+1),s===46?y===-1?y=u:l!==1&&(l=1):y!==-1&&(l=-1)}return y===-1||o===-1||l===0||l===1&&y===o-1&&y===r+1?"":b.slice(y,o)};var d="ab".substr(-1)==="b"?function(b,y,r){return b.substr(y,r)}:function(b,y,r){return y<0&&(y=b.length+y),b.substr(y,r)}}).call(this,t("_process"))},{_process:259}],259:[function(t,c,A){var m,g,c=c.exports={};function d(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}try{m=typeof setTimeout=="function"?setTimeout:d}catch{m=d}try{g=typeof clearTimeout=="function"?clearTimeout:b}catch{g=b}function y(h){if(m===setTimeout)return setTimeout(h,0);if((m===d||!m)&&setTimeout)return(m=setTimeout)(h,0);try{return m(h,0)}catch{try{return m.call(null,h,0)}catch{return m.call(this,h,0)}}}var r,o=[],i=!1,l=-1;function u(){i&&r&&(i=!1,r.length?o=r.concat(o):l=-1,o.length&&s())}function s(){if(!i){for(var h=y(u),_=(i=!0,o.length);_;){for(r=o,o=[];++l<_;)r&&r[l].run();l=-1,_=o.length}r=null,i=!1,(function(T){if(g===clearTimeout)return clearTimeout(T);if((g===b||!g)&&clearTimeout)return(g=clearTimeout)(T);try{g(T)}catch{try{return g.call(null,T)}catch{return g.call(this,T)}}})(h)}}function n(h,_){this.fun=h,this.array=_}function p(){}c.nextTick=function(h){var _=new Array(arguments.length-1);if(1<arguments.length)for(var T=1;T<arguments.length;T++)_[T-1]=arguments[T];o.push(new n(h,_)),o.length!==1||i||y(s)},n.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=p,c.addListener=p,c.once=p,c.off=p,c.removeListener=p,c.removeAllListeners=p,c.emit=p,c.prependListener=p,c.prependOnceListener=p,c.listeners=function(h){return[]},c.binding=function(h){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(h){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],260:[function(t,H,A){H=(function(m){var g,c=Object.prototype,d=c.hasOwnProperty,j=typeof Symbol=="function"?Symbol:{},b=j.iterator||"@@iterator",y=j.asyncIterator||"@@asyncIterator",r=j.toStringTag||"@@toStringTag";function o(X,N,G,q){var Q,le,w,R,N=N&&N.prototype instanceof h?N:h,N=Object.create(N.prototype),q=new U(q||[]);return N._invoke=(Q=X,le=G,w=q,R=l,function(J,re){if(R===s)throw new Error("Generator is already running");if(R===n){if(J==="throw")throw re;return B()}for(w.method=J,w.arg=re;;){var ce=w.delegate;if(ce&&(ce=(function ge(se,pe){var ye=se.iterator[pe.method];if(ye===g){if(pe.delegate=null,pe.method==="throw"){if(se.iterator.return&&(pe.method="return",pe.arg=g,ge(se,pe),pe.method==="throw"))return p;pe.method="throw",pe.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}if(ye=i(ye,se.iterator,pe.arg),ye.type==="throw")return pe.method="throw",pe.arg=ye.arg,pe.delegate=null,p;if(ye=ye.arg,!ye)return pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,p;{if(!ye.done)return ye;pe[se.resultName]=ye.value,pe.next=se.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=g)}return pe.delegate=null,p})(ce,w),ce)){if(ce===p)continue;return ce}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(R===l)throw R=n,w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);if(R=s,ce=i(Q,le,w),ce.type==="normal"){if(R=w.done?n:u,ce.arg!==p)return{value:ce.arg,done:w.done}}else ce.type==="throw"&&(R=n,w.method="throw",w.arg=ce.arg)}}),N}function i(X,W,G){try{return{type:"normal",arg:X.call(W,G)}}catch(Z){return{type:"throw",arg:Z}}}m.wrap=o;var l="suspendedStart",u="suspendedYield",s="executing",n="completed",p={};function h(){}function _(){}function T(){}var j={},S=(j[b]=function(){return this},Object.getPrototypeOf),S=S&&S(S(D([]))),C=(S&&S!==c&&d.call(S,b)&&(j=S),T.prototype=h.prototype=Object.create(j));function L(X){["next","throw","return"].forEach(function(W){X[W]=function(G){return this._invoke(W,G)}})}function E(X){var W;this._invoke=function(G,Z){function Q(){return new Promise(function(le,w){(function R(ge,q,J,re){var ce,ge=i(X[ge],X,q);if(ge.type!=="throw")return(q=(ce=ge.arg).value)&&typeof q=="object"&&d.call(q,"__await")?Promise.resolve(q.__await).then(function(se){R("next",se,J,re)},function(se){R("throw",se,J,re)}):Promise.resolve(q).then(function(se){ce.value=se,J(ce)},function(se){return R("throw",se,J,re)});re(ge.arg)})(G,Z,le,w)})}return W=W?W.then(Q,Q):Q()}}function I(X){var W={tryLoc:X[0]};1 in X&&(W.catchLoc=X[1]),2 in X&&(W.finallyLoc=X[2],W.afterLoc=X[3]),this.tryEntries.push(W)}function O(X){var W=X.completion||{};W.type="normal",delete W.arg,X.completion=W}function U(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(I,this),this.reset(!0)}function D(X){if(X){var W,G=X[b];if(G)return G.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length))return W=-1,(G=function Z(){for(;++W<X.length;)if(d.call(X,W))return Z.value=X[W],Z.done=!1,Z;return Z.value=g,Z.done=!0,Z}).next=G}return{next:B}}function B(){return{value:g,done:!0}}return(_.prototype=C.constructor=T).constructor=_,T[r]=_.displayName="GeneratorFunction",m.isGeneratorFunction=function(X){return X=typeof X=="function"&&X.constructor,!!X&&(X===_||(X.displayName||X.name)==="GeneratorFunction")},m.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,T):(X.__proto__=T,r in X||(X[r]="GeneratorFunction")),X.prototype=Object.create(C),X},m.awrap=function(X){return{__await:X}},L(E.prototype),E.prototype[y]=function(){return this},m.AsyncIterator=E,m.async=function(X,W,G,Z){var Q=new E(o(X,W,G,Z));return m.isGeneratorFunction(W)?Q:Q.next().then(function(le){return le.done?le.value:Q.next()})},L(C),C[r]="Generator",C[b]=function(){return this},C.toString=function(){return"[object Generator]"},m.keys=function(X){var W,G=[];for(W in X)G.push(W);return G.reverse(),function Z(){for(;G.length;){var Q=G.pop();if(Q in X)return Z.value=Q,Z.done=!1,Z}return Z.done=!0,Z}},m.values=D,U.prototype={constructor:U,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(O),!X)for(var W in this)W.charAt(0)==="t"&&d.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=g)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if(X.type==="throw")throw X.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var W=this;function G(N,q){return le.type="throw",le.arg=X,W.next=N,q&&(W.method="next",W.arg=g),!!q}for(var Z=this.tryEntries.length-1;0<=Z;--Z){var Q=this.tryEntries[Z],le=Q.completion;if(Q.tryLoc==="root")return G("end");if(Q.tryLoc<=this.prev){var w=d.call(Q,"catchLoc"),R=d.call(Q,"finallyLoc");if(w&&R){if(this.prev<Q.catchLoc)return G(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return G(Q.finallyLoc)}else if(w){if(this.prev<Q.catchLoc)return G(Q.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return G(Q.finallyLoc)}}}},abrupt:function(X,W){for(var G=this.tryEntries.length-1;0<=G;--G){var Z=this.tryEntries[G];if(Z.tryLoc<=this.prev&&d.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var Q=Z;break}}var le=(Q=Q&&(X==="break"||X==="continue")&&Q.tryLoc<=W&&W<=Q.finallyLoc?null:Q)?Q.completion:{};return le.type=X,le.arg=W,Q?(this.method="next",this.next=Q.finallyLoc,p):this.complete(le)},complete:function(X,W){if(X.type==="throw")throw X.arg;return X.type==="break"||X.type==="continue"?this.next=X.arg:X.type==="return"?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):X.type==="normal"&&W&&(this.next=W),p},finish:function(X){for(var W=this.tryEntries.length-1;0<=W;--W){var G=this.tryEntries[W];if(G.finallyLoc===X)return this.complete(G.completion,G.afterLoc),O(G),p}},catch:function(X){for(var W=this.tryEntries.length-1;0<=W;--W){var G,Z,Q=this.tryEntries[W];if(Q.tryLoc===X)return(G=Q.completion).type==="throw"&&(Z=G.arg,O(Q)),Z}throw new Error("illegal catch attempt")},delegateYield:function(X,W,G){return this.delegate={iterator:D(X),resultName:W,nextLoc:G},this.method==="next"&&(this.arg=g),p}},m})(typeof H=="object"?H.exports:{});try{regeneratorRuntime=H}catch{Function("r","regeneratorRuntime = r")(H)}},{}],261:[function(t,H,A){(function(m){var g,c,d,b,y,r,o,i,l,u;function s(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function n(O){return O=typeof O!="string"?String(O):O}function p(O){var U={next:function(){var D=O.shift();return{done:D===void 0,value:D}}};return c&&(U[Symbol.iterator]=function(){return U}),U}function h(O){this.map={},O instanceof h?O.forEach(function(U,D){this.append(D,U)},this):Array.isArray(O)?O.forEach(function(U){this.append(U[0],U[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(U){this.append(U,O[U])},this)}function _(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function T(O){return new Promise(function(U,D){O.onload=function(){U(O.result)},O.onerror=function(){D(O.error)}})}function j(O){var U=new FileReader,D=T(U);return U.readAsArrayBuffer(O),D}function S(O){var U;return O.slice?O.slice(0):((U=new Uint8Array(O.byteLength)).set(new Uint8Array(O)),U.buffer)}function C(){return this.bodyUsed=!1,this._initBody=function(O){if(this._bodyInit=O)if(typeof O=="string")this._bodyText=O;else if(d&&Blob.prototype.isPrototypeOf(O))this._bodyBlob=O;else if(b&&FormData.prototype.isPrototypeOf(O))this._bodyFormData=O;else if(g&&URLSearchParams.prototype.isPrototypeOf(O))this._bodyText=O.toString();else if(y&&d&&o(O))this._bodyArrayBuffer=S(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(O)&&!i(O))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=S(O)}else this._bodyText="";this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var O=_(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var O,U,D=_(this);if(D)return D;if(this._bodyBlob)return D=this._bodyBlob,O=new FileReader,U=T(O),O.readAsText(D),U;if(this._bodyArrayBuffer)return Promise.resolve((function(B){for(var X=new Uint8Array(B),W=new Array(X.length),G=0;G<X.length;G++)W[G]=String.fromCharCode(X[G]);return W.join("")})(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}function L(O,U){var D,B=(U=U||{}).body;if(O instanceof L){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,U.headers||(this.headers=new h(O.headers)),this.method=O.method,this.mode=O.mode,B||O._bodyInit==null||(B=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=U.credentials||this.credentials||"omit",!U.headers&&this.headers||(this.headers=new h(U.headers)),this.method=(O=U.method||this.method||"GET",D=O.toUpperCase(),-1<l.indexOf(D)?D:O),this.mode=U.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}function E(O){var U=new FormData;return O.trim().split("&").forEach(function(D){var B;D&&(B=(D=D.split("=")).shift().replace(/\+/g," "),D=D.join("=").replace(/\+/g," "),U.append(decodeURIComponent(B),decodeURIComponent(D)))}),U}function I(O,U){U=U||{},this.type="default",this.status=U.status===void 0?200:U.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in U?U.statusText:"OK",this.headers=new h(U.headers),this.url=U.url||"",this._initBody(O)}m.fetch||(g="URLSearchParams"in m,c="Symbol"in m&&"iterator"in Symbol,d="FileReader"in m&&"Blob"in m&&(function(){try{return new Blob,!0}catch{return!1}})(),b="FormData"in m,(y="ArrayBuffer"in m)&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(O){return O&&DataView.prototype.isPrototypeOf(O)},i=ArrayBuffer.isView||function(O){return O&&-1<r.indexOf(Object.prototype.toString.call(O))}),h.prototype.append=function(O,U){O=s(O),U=n(U);var D=this.map[O];this.map[O]=D?D+","+U:U},h.prototype.delete=function(O){delete this.map[s(O)]},h.prototype.get=function(O){return O=s(O),this.has(O)?this.map[O]:null},h.prototype.has=function(O){return this.map.hasOwnProperty(s(O))},h.prototype.set=function(O,U){this.map[s(O)]=n(U)},h.prototype.forEach=function(O,U){for(var D in this.map)this.map.hasOwnProperty(D)&&O.call(U,this.map[D],D,this)},h.prototype.keys=function(){var O=[];return this.forEach(function(U,D){O.push(D)}),p(O)},h.prototype.values=function(){var O=[];return this.forEach(function(U){O.push(U)}),p(O)},h.prototype.entries=function(){var O=[];return this.forEach(function(U,D){O.push([D,U])}),p(O)},c&&(h.prototype[Symbol.iterator]=h.prototype.entries),l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],L.prototype.clone=function(){return new L(this,{body:this._bodyInit})},C.call(L.prototype),C.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},I.error=function(){var O=new I(null,{status:0,statusText:""});return O.type="error",O},u=[301,302,303,307,308],I.redirect=function(O,U){if(u.indexOf(U)===-1)throw new RangeError("Invalid status code");return new I(null,{status:U,headers:{location:O}})},m.Headers=h,m.Request=L,m.Response=I,m.fetch=function(O,U){return new Promise(function(D,B){var X=new L(O,U),W=new XMLHttpRequest;W.onload=function(){var G,Z={status:W.status,statusText:W.statusText,headers:(Z=W.getAllResponseHeaders()||"",G=new h,Z.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(w){var w=w.split(":"),R=w.shift().trim();R&&(w=w.join(":").trim(),G.append(R,w))}),G)},Q=(Z.url="responseURL"in W?W.responseURL:Z.headers.get("X-Request-URL"),"response"in W?W.response:W.responseText);D(new I(Q,Z))},W.onerror=function(){B(new TypeError("Network request failed"))},W.ontimeout=function(){B(new TypeError("Network request failed"))},W.open(X.method,X.url,!0),X.credentials==="include"?W.withCredentials=!0:X.credentials==="omit"&&(W.withCredentials=!1),"responseType"in W&&d&&(W.responseType="blob"),X.headers.forEach(function(G,Z){W.setRequestHeader(Z,G)}),W.send(X._bodyInit===void 0?null:X._bodyInit)})},m.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,H,A){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m,g=d(t("../core/main")),c=d(t("../color/color_conversion"));function d(r){return r&&r.__esModule?r:{default:r}}var b=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],y=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];g.default.prototype._rgbColorName=function(l){var o,i,l=c.default._rgbaToHSBA(l),u=[(m=l)[0],l[1],l[2]];u[0]!==0&&(u[0]=Math.round(100*u[0]),(l=u[0].toString().split(""))[i=l.length-1]=parseInt(l[i]),l[i]<2.5?l[i]=0:2.5<=l[i]&&l[i]<7.5&&(l[i]=5),l.length===2?(l[0]=parseInt(l[0]),7.5<=l[i]&&(l[i]=0,l[0]=l[0]+1),u[0]=10*l[0]+l[1]):7.5<=l[i]?u[0]=10:u[0]=l[i]),u[2]=u[2]/255;for(var s=u.length-1;1<=s;s--)u[s]<=.25?u[s]=0:.25<u[s]&&u[s]<.75?u[s]=.5:u[s]=1;if(u[0]===0&&u[1]===0&&u[2]===1){for(var n=2;0<=n;n--)m[n]=Math.round(1e4*m[n])/1e4;for(var p=0;p<b.length;p++){if(b[p].h===m[0]&&b[p].s===m[1]&&b[p].b===m[2]){o=b[p].name;break}o="white"}}else for(var h=0;h<y.length;h++)if(y[h].h===u[0]&&y[h].s===u[1]&&y[h].b===u[2]){o=y[h].name;break}return o},t=g.default,A.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,H,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t},g="_Description",c="_fallbackDesc",d="_fallbackTable",b="_Label",y="_labelDesc",r="_labelTable";function o(i){if(i==="label"||i==="fallback")throw new Error("description should not be LABEL or FALLBACK");return i.endsWith(".")||i.endsWith(";")||i.endsWith(",")||i.endsWith("?")||i.endsWith("!")||(i+="."),i}m.default.prototype.describe=function(i,l){var u;m.default._validateParameters("describe",arguments),typeof i=="string"&&(u=this.canvas.id,i=o(i),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==i&&(this.descriptions.fallback.innerHTML=i):this._describeHTML("fallback",i),l===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==i&&(this.descriptions.label.innerHTML=i):this._describeHTML("label",i)))},m.default.prototype.describeElement=function(i,l,u){var s,n;m.default._validateParameters("describeElement",arguments),typeof l=="string"&&typeof i=="string"&&(s=this.canvas.id,l=o(l),n=(function(p){if(p==="label"||p==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p})(i),i=i.replace(/[^a-zA-Z0-9]/g,""),n='<th scope="row">'.concat(n,"</th><td>").concat(l,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(s).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[i]?this.descriptions.fallbackElements[i].innerHTML!==n&&(this.descriptions.fallbackElements[i].innerHTML=n):this._describeElementHTML("fallback",i,n),u===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[i]?this.descriptions.labelElements[i].innerHTML!==n&&(this.descriptions.labelElements[i].innerHTML=n):this._describeElementHTML("label",i,n)))},m.default.prototype._describeHTML=function(i,l){var u,s=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(s+g))?this.dummyDOM.querySelector("#"+s+d).insertAdjacentHTML("beforebegin",'<p id="'.concat(s+c,'"></p>')):(u='<div id="'.concat(s).concat(g,'" role="region" aria-label="Canvas Description"><p id="').concat(s).concat(c,'"></p></div>'),this.dummyDOM.querySelector("#".concat(s,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(s,"accessibleOutput")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#".concat(s)).innerHTML=u),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(s).concat(c)),this.descriptions.fallback.innerHTML=l):i==="label"&&(this.dummyDOM.querySelector("#".concat(s+b))?this.dummyDOM.querySelector("#".concat(s+r))&&this.dummyDOM.querySelector("#".concat(s+r)).insertAdjacentHTML("beforebegin",'<p id="'.concat(s).concat(y,'"></p>')):(u='<div id="'.concat(s).concat(b,'" class="p5Label"><p id="').concat(s).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(s,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(s,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+s).insertAdjacentHTML("afterend",u)),this.descriptions.label=this.dummyDOM.querySelector("#"+s+y),this.descriptions.label.innerHTML=l)},m.default.prototype._describeElementHTML=function(i,l,u){var s,n=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(n+g))?this.dummyDOM.querySelector("#"+n+d)||this.dummyDOM.querySelector("#"+n+c).insertAdjacentHTML("afterend",'<table id="'.concat(n).concat(d,'"><caption>Canvas elements and their descriptions</caption></table>')):(s='<div id="'.concat(n).concat(g,'" role="region" aria-label="Canvas Description"><table id="').concat(n).concat(d,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(n,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(n,"accessibleOutput")).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#"+n).innerHTML=s),(s=document.createElement("tr")).id=n+"_fte_"+l,this.dummyDOM.querySelector("#"+n+d).appendChild(s),this.descriptions.fallbackElements[l]=this.dummyDOM.querySelector("#".concat(n).concat("_fte_").concat(l)),this.descriptions.fallbackElements[l].innerHTML=u):i==="label"&&(this.dummyDOM.querySelector("#".concat(n+b))?this.dummyDOM.querySelector("#".concat(n+r))||this.dummyDOM.querySelector("#"+n+y).insertAdjacentHTML("afterend",'<table id="'.concat(n+r,'"></table>')):(s='<div id="'.concat(n).concat(b,'" class="p5Label"><table id="').concat(n).concat(r,'"></table></div>'),this.dummyDOM.querySelector("#".concat(n,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(n,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#"+n).insertAdjacentHTML("afterend",s)),(i=document.createElement("tr")).id=n+"_lte_"+l,this.dummyDOM.querySelector("#"+n+r).appendChild(i),this.descriptions.labelElements[l]=this.dummyDOM.querySelector("#".concat(n).concat("_lte_").concat(l)),this.descriptions.labelElements[l].innerHTML=u)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,H,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype._updateGridOutput=function(g){var c,d,b,y;this._renderer&&this._renderer instanceof m.default.RendererGL?this._didOutputGridWebGLMessage||(this._didOutputGridWebGLMessage=!0,console.error("gridOutput() does not yet work in WebGL mode.")):this.dummyDOM.querySelector("#".concat(g,"_summary"))&&(c=this._accessibleOutputs[g],b=(function(r,o,i,l){return o="".concat(o," canvas, ").concat(i," by ").concat(l," pixels, contains ").concat(r[0]),o=(r[0]===1?"".concat(o," shape: "):"".concat(o," shapes: ")).concat(r[1]),o})((d=(function(r,o){var i,l="",u="",s=0;for(i in o){var n,p=0;for(n in o[i]){var h='<li id="'.concat(r,"shape").concat(s,'">').concat(o[i][n].color," ").concat(i,",");i==="line"?h+=" location = ".concat(o[i][n].pos,", length = ").concat(o[i][n].length," pixels"):(h+=" location = ".concat(o[i][n].pos),i!=="point"&&(h+=", area = ".concat(o[i][n].area," %")),h+="</li>"),l+=h,p++,s++}u=1<p?"".concat(u," ").concat(p," ").concat(i,"s"):"".concat(u," ").concat(p," ").concat(i)}return{numShapes:[s,u],details:l}})(g,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=(function(r,o){var i,l,u=0,s="",n=Array.from(Array(10),function(){return Array(10)});for(i in o)for(var p in o[i]){var h=void 0;h=i!=="line"?'<a href="#'.concat(r,"shape").concat(u,'">').concat(o[i][p].color," ").concat(i,"</a>"):'<a href="#'.concat(r,"shape").concat(u,'">').concat(o[i][p].color," ").concat(i," midpoint</a>"),o[i][p].loc.locY<n.length&&o[i][p].loc.locX<n[o[i][p].loc.locY].length&&(n[o[i][p].loc.locY][o[i][p].loc.locX]?n[o[i][p].loc.locY][o[i][p].loc.locX]=n[o[i][p].loc.locY][o[i][p].loc.locX]+"  "+h:n[o[i][p].loc.locY][o[i][p].loc.locX]=h,u++)}for(l in n){var _,T="<tr>";for(_ in n[l])T+="<td>",n[l][_]!==void 0&&(T+=n[l][_]),T+="</td>";s=s+T+"</tr>"}return s})(g,this.ingredients.shapes),b!==c.summary.innerHTML&&(c.summary.innerHTML=b),y!==c.map.innerHTML&&(c.map.innerHTML=y),d.details!==c.shapeDetails.innerHTML&&(c.shapeDetails.innerHTML=d.details),this._accessibleOutputs[g]=c)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,H,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(d){return(function(b){if(Array.isArray(b)){for(var y=0,r=new Array(b.length);y<b.length;y++)r[y]=b[y];return r}})(d)||(function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)})(d)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function c(r,i,y){var o=r[0],r=r[1],o=Math.floor(o/i*10),i=Math.floor(r/y*10);return{locX:Math.min(Math.max(o,0),9),locY:Math.min(Math.max(i,0),9)}}m.default.prototype.textOutput=function(d){m.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},m.default.prototype.gridOutput=function(d){m.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},m.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},m.default.prototype._createOutput=function(d,b){var y,r,o,i=this.canvas.id,l=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),"");b==="Fallback"?(y=i+d,this.dummyDOM.querySelector("#".concat(r=i+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(i,"_Description"))?this.dummyDOM.querySelector("#".concat(i,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(i)).innerHTML='<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>'))):b==="Label"&&(y=i+d+(l=b),this.dummyDOM.querySelector("#".concat(r=i+"accessibleOutput"+b))||(this.dummyDOM.querySelector("#".concat(i,"_Label"))?this.dummyDOM.querySelector("#".concat(i,"_Label")):this.dummyDOM.querySelector("#".concat(i))).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>'))),this._accessibleOutputs[y]={},d==="textOutput"?(l="#".concat(i,"gridOutput").concat(l),o='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(l)?this.dummyDOM.querySelector(l).insertAdjacentHTML("beforebegin",o):this.dummyDOM.querySelector("#".concat(r)).innerHTML=o,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):d==="gridOutput"&&(l="#".concat(i,"textOutput").concat(l),o='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(l)?this.dummyDOM.querySelector(l).insertAdjacentHTML("afterend",o):this.dummyDOM.querySelector("#".concat(r)).innerHTML=o,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},m.default.prototype._updateAccsOutput=function(){var d=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(d+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(d+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(d+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(d+"gridOutputLabel"))},m.default.prototype._accsBackground=function(d){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==d&&(this.ingredients.colors.backgroundRGBA=d,this.ingredients.colors.background=this._rgbColorName(d))},m.default.prototype._accsCanvasColors=function(d,b){d==="fill"?this.ingredients.colors.fillRGBA!==b&&(this.ingredients.colors.fillRGBA=b,this.ingredients.colors.fill=this._rgbColorName(b)):d==="stroke"&&this.ingredients.colors.strokeRGBA!==b&&(this.ingredients.colors.strokeRGBA=b,this.ingredients.colors.stroke=this._rgbColorName(b))},m.default.prototype._accsOutput=function(d,b){d==="ellipse"&&b[2]===b[3]?d="circle":d==="rectangle"&&b[2]===b[3]&&(d="square");var y,r,o={},i=!0,l=(function(s,n){var p;return s=s==="rectangle"||s==="ellipse"||s==="arc"||s==="circle"||s==="square"?(p=Math.round(n[0]+n[2]/2),Math.round(n[1]+n[3]/2)):s==="triangle"?(p=(n[0]+n[2]+n[4])/3,(n[1]+n[3]+n[5])/3):s==="quadrilateral"?(p=(n[0]+n[2]+n[4]+n[6])/4,(n[1]+n[3]+n[5]+n[7])/4):s==="line"?(p=(n[0]+n[2])/2,(n[1]+n[3])/2):(p=n[0],n[1]),[p,s]})(d,b);if(d==="line"?(o.color=this.ingredients.colors.stroke,o.length=Math.round(this.dist(b[0],b[1],b[2],b[3])),y=this._getPos(b[0],[1]),r=this._getPos(b[2],[3]),o.loc=c(l,this.width,this.height),o.pos=y===r?"at ".concat(y):"from ".concat(y," to ").concat(r)):(d==="point"?o.color=this.ingredients.colors.stroke:(o.color=this.ingredients.colors.fill,o.area=this._getArea(d,b)),o.pos=this._getPos.apply(this,g(l)),o.loc=c(l,this.width,this.height)),this.ingredients.shapes[d]){for(var u in this.ingredients.shapes[d])JSON.stringify(this.ingredients.shapes[d][u])===JSON.stringify(o)&&(i=!1);i===!0&&this.ingredients.shapes[d].push(o)}else this.ingredients.shapes[d]=[o]},m.default.prototype._getPos=function(r,y){var r=new DOMPointReadOnly(r,y),y=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),r=r.matrixTransform(y),y=r.x,r=r.y,o=this.width*this._pixelDensity,i=this.height*this._pixelDensity;return y<.4*o?r<.4*i?"top left":.6*i<r?"bottom left":"mid left":.6*o<y?r<.4*i?"top right":.6*i<r?"bottom right":"mid right":r<.4*i?"top middle":.6*i<r?"bottom middle":"middle"},m.default.prototype._getArea=function(d,b){var y,r,o=0,i=(d==="arc"?(o=(y=((b[5]-b[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*b[2]*b[3]/8,b[6]!=="open"&&b[6]!=="chord"||(r=b[0],n=b[1],i=b[0]+b[2]/2*Math.cos(b[4]).toFixed(2),p=b[1]+b[3]/2*Math.sin(b[4]).toFixed(2),u=b[0]+b[2]/2*Math.cos(b[5]).toFixed(2),l=b[1]+b[3]/2*Math.sin(b[5]).toFixed(2),r=Math.abs(r*(p-l)+i*(l-n)+u*(n-p))/2,y>Math.PI?o+=r:o-=r)):d==="ellipse"||d==="circle"?o=3.14*b[2]/2*b[3]/2:d==="line"||d==="point"?o=0:d==="quadrilateral"?o=Math.abs((b[6]+b[0])*(b[7]-b[1])+(b[0]+b[2])*(b[1]-b[3])+(b[2]+b[4])*(b[3]-b[5])+(b[4]+b[6])*(b[5]-b[7]))/2:d==="rectangle"||d==="square"?o=b[2]*b[3]:d==="triangle"&&(o=Math.abs(b[0]*(b[3]-b[5])+b[2]*(b[5]-b[1])+b[4]*(b[1]-b[3]))/2),this.width*this._pixelDensity),l=this.height*this._pixelDensity,u=[new DOMPoint(0,0),new DOMPoint(i,0),new DOMPoint(i,l),new DOMPoint(0,l)],s=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),n=u.map(function(h){return h.matrixTransform(s)}),p=Math.abs((n[3].x+n[0].x)*(n[3].y-n[0].y)+(n[0].x+n[1].x)*(n[0].y-n[1].y)+(n[1].x+n[2].x)*(n[1].y-n[2].y)+(n[2].x+n[3].x)*(n[2].y-n[3].y))/2;return Math.round(100*o/p)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,H,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype._updateTextOutput=function(g){var c,d,b,y;this._renderer&&this._renderer instanceof m.default.RendererGL?this._didOutputTextWebGLMessage||(this._didOutputTextWebGLMessage=!0,console.error("textOutput() does not yet work in WebGL mode.")):this.dummyDOM.querySelector("#".concat(g,"_summary"))&&(c=this._accessibleOutputs[g],b=(function(r,o,i,l){return i="Your output is a, ".concat(i," by ").concat(l," pixels, ").concat(o," canvas containing the following"),i=r===1?"".concat(i," shape:"):"".concat(i," ").concat(r," shapes:"),i})((d=(function(r,o){var i,l="",u=0;for(i in o)for(var s in o[i]){var n='<li><a href="#'.concat(r,"shape").concat(u,'">').concat(o[i][s].color," ").concat(i,"</a>");i==="line"?n+=", ".concat(o[i][s].pos,", ").concat(o[i][s].length," pixels long.</li>"):(n+=", at ".concat(o[i][s].pos),i!=="point"&&(n+=", covering ".concat(o[i][s].area,"% of the canvas")),n+=".</li>"),l+=n,u++}return{numShapes:u,listShapes:l}})(g,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=(function(r,o){var i,l="",u=0;for(i in o)for(var s in o[i]){var n='<tr id="'.concat(r,"shape").concat(u,'"><th>').concat(o[i][s].color," ").concat(i,"</th>");i==="line"?n+="<td>location = ".concat(o[i][s].pos,"</td><td>length = ").concat(o[i][s].length," pixels</td></tr>"):(n+="<td>location = ".concat(o[i][s].pos,"</td>"),i!=="point"&&(n+="<td> area = ".concat(o[i][s].area,"%</td>")),n+="</tr>"),l+=n,u++}return l})(g,this.ingredients.shapes),b!==c.summary.innerHTML&&(c.summary.innerHTML=b),d.listShapes!==c.list.innerHTML&&(c.list.innerHTML=d.listShapes),y!==c.shapeDetails.innerHTML&&(c.shapeDetails.innerHTML=y),this._accessibleOutputs[g]=c)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,H,A){var m=(m=t("./core/main"))&&m.__esModule?m:{default:m};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),H.exports=m.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(m){var g=m[0],c=m[1],d=m[2],b=(2-c)*d/2;return b!=0&&(b==1?c=0:b<.5?c/=2-c:c=c*d/(2-2*b)),[g,c,b,m[3]]},_hsbaToRGBA:function(m){var g,c,d,b,y,r=6*m[0],o=m[1],i=m[2];return o===0?[i,i,i,m[3]]:(c=i*(1-o),d=i*(1-o*(r-(g=Math.floor(r)))),o=i*(1-o*(1+g-r)),r=g===1?(b=d,y=i,c):g===2?(b=c,y=i,o):g===3?(b=c,y=d,i):g===4?(b=o,y=c,i):g===5?(b=i,y=c,d):(b=i,y=o,c),[b,y,r,m[3]])},_hslaToHSBA:function(m){var g=m[0],c=m[1],d=m[2],b=d<.5?(1+c)*d:d+c-d*c;return[g,c=2*(b-d)/b,b,m[3]]},_hslaToRGBA:function(m){var g,c=6*m[0],d=m[1],b=m[2];return d===0?[b,b,b,m[3]]:[(g=function(y,r,o){return y<0?y+=6:6<=y&&(y-=6),y<1?r+(o-r)*y:y<3?o:y<4?r+(o-r)*(4-y):r})(2+c,d=2*b-(b=b<.5?(1+d)*b:b+d-b*d),b),g(c,d,b),g(c-2,d,b),m[3]]},_rgbaToHSBA:function(m){var g,c,d=m[0],b=m[1],y=m[2],r=Math.max(d,b,y),o=r-Math.min(d,b,y);return o==0?c=g=0:(c=o/r,d===r?g=(b-y)/o:b===r?g=2+(y-d)/o:y===r&&(g=4+(d-b)/o),g<0?g+=6:6<=g&&(g-=6)),[g/6,c,r,m[3]]},_rgbaToHSLA:function(m){var g,c,d=m[0],b=m[1],y=m[2],r=Math.max(d,b,y),i=Math.min(d,b,y),o=r+i,i=r-i;return i==0?c=g=0:(c=o<1?i/o:i/(2-o),d===r?g=(b-y)/i:b===r?g=2+(y-d)/i:y===r&&(g=4+(d-b)/i),g<0?g+=6:6<=g&&(g-=6)),[g/6,c,o/2,m[3]]}},t=t.default.ColorConversion,A.default=t},{"../core/main":283}],269:[function(t,H,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(o){return m(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":m(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var o=b();if(o&&o.has(r))return o.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var s;Object.prototype.hasOwnProperty.call(r,i)&&((s=u?Object.getOwnPropertyDescriptor(r,i):null)&&(s.get||s.set)?Object.defineProperty(l,i,s):l[i]=r[i])}return l.default=r,o&&o.set(r,l),l})(t("../core/constants"));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.alpha=function(r){return c.default._validateParameters("alpha",arguments),this.color(r)._getAlpha()},c.default.prototype.blue=function(r){return c.default._validateParameters("blue",arguments),this.color(r)._getBlue()},c.default.prototype.brightness=function(r){return c.default._validateParameters("brightness",arguments),this.color(r)._getBrightness()},c.default.prototype.color=function(){for(var r,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return c.default._validateParameters("color",i),i[0]instanceof c.default.Color?i[0]:(r=Array.isArray(i[0])?i[0]:i,new c.default.Color(this,r))},c.default.prototype.green=function(r){return c.default._validateParameters("green",arguments),this.color(r)._getGreen()},c.default.prototype.hue=function(r){return c.default._validateParameters("hue",arguments),this.color(r)._getHue()},c.default.prototype.lerpColor=function(r,o,i){c.default._validateParameters("lerpColor",arguments),r instanceof c.default.Color||(r=color(r)),o instanceof c.default.Color||(o=color(o));var l,u,s,n=this._colorMode,p=this._colorMaxes;if(n===d.RGB)u=r.levels.map(function(h){return h/255}),s=o.levels.map(function(h){return h/255});else if(n===d.HSB)r._getBrightness(),o._getBrightness(),u=r.hsba,s=o.hsba;else{if(n!==d.HSL)throw new Error("".concat(n," cannot be used for interpolation."));r._getLightness(),o._getLightness(),u=r.hsla,s=o.hsla}return i=Math.max(Math.min(i,1),0),this.lerp===void 0&&(this.lerp=function(h,_,T){return T*(_-h)+h}),n===d.RGB?l=this.lerp(u[0],s[0],i):(.5<Math.abs(u[0]-s[0])&&(u[0]>s[0]?s[0]+=1:u[0]+=1),1<=(l=this.lerp(u[0],s[0],i))&&--l),r=this.lerp(u[1],s[1],i),o=this.lerp(u[2],s[2],i),u=this.lerp(u[3],s[3],i),l*=p[n][0],r*=p[n][1],o*=p[n][2],u*=p[n][3],this.color(l,r,o,u)},c.default.prototype.paletteLerp=function(r,o){var i=r[0];if(o<i[1])return this.color(i[0]);for(var l=1;l<r.length;l++){var u,s=r[l];if(o<s[1])return u=r[l-1],this.lerpColor(this.color(u[0]),this.color(s[0]),(o-u[1])/(s[1]-u[1]))}return this.color(r[r.length-1][0])},c.default.prototype.lightness=function(r){return c.default._validateParameters("lightness",arguments),this.color(r)._getLightness()},c.default.prototype.red=function(r){return c.default._validateParameters("red",arguments),this.color(r)._getRed()},c.default.prototype.saturation=function(r){return c.default._validateParameters("saturation",arguments),this.color(r)._getSaturation()};var y=c.default;A.default=y},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(l,H,A){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function g(h){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(_){return m(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":m(_)})(h)}l("core-js/modules/es.symbol"),l("core-js/modules/es.symbol.description"),l("core-js/modules/es.symbol.iterator"),l("core-js/modules/es.array.includes"),l("core-js/modules/es.array.iterator"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.map"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.object.get-own-property-descriptor"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.regexp.constructor"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),l("core-js/modules/es.string.includes"),l("core-js/modules/es.string.iterator"),l("core-js/modules/es.string.trim"),l("core-js/modules/es.weak-map"),l("core-js/modules/web.dom-collections.iterator"),l("core-js/modules/es.array.includes"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.map"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.regexp.constructor"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),l("core-js/modules/es.string.includes"),l("core-js/modules/es.string.trim"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=r(l("../core/main")),d=(function(h){if(h&&h.__esModule)return h;if(h===null||g(h)!=="object"&&typeof h!="function")return{default:h};var _=y();if(_&&_.has(h))return _.get(h);var T,j={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in h){var C;Object.prototype.hasOwnProperty.call(h,T)&&((C=S?Object.getOwnPropertyDescriptor(h,T):null)&&(C.get||C.set)?Object.defineProperty(j,T,C):j[T]=h[T])}return j.default=h,_&&_.set(h,j),j})(l("../core/constants")),b=r(l("./color_conversion"));function y(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,y=function(){return h},h)}function r(h){return h&&h.__esModule?h:{default:h}}function o(h,_){for(var T=0;T<_.length;T++){var j=_[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(h,j.key,j)}}var i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},l=/\s*/,p=/(\d{1,3})/,u=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,s=new RegExp("".concat(u.source,"%")),n={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(l.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",s.source,",",s.source,",",s.source,"\\)$"].join(l.source),"i"),RGBA:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",u.source,"\\)$"].join(l.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",s.source,",",s.source,",",s.source,",",u.source,"\\)$"].join(l.source),"i"),HSL:new RegExp(["^hsl\\(",p.source,",",s.source,",",s.source,"\\)$"].join(l.source),"i"),HSLA:new RegExp(["^hsla\\(",p.source,",",s.source,",",s.source,",",u.source,"\\)$"].join(l.source),"i"),HSB:new RegExp(["^hsb\\(",p.source,",",s.source,",",s.source,"\\)$"].join(l.source),"i"),HSBA:new RegExp(["^hsba\\(",p.source,",",s.source,",",s.source,",",u.source,"\\)$"].join(l.source),"i")},p=(c.default.Color=(function(){function h(S,C){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(S._colorMode,S._colorMaxes),![d.RGB,d.HSL,d.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=h._parseInputs.apply(this,C),this._calculateLevels()}var _,T,j;return _=h,j=[{key:"_parseInputs",value:function(S,C,L,E){var I,O=arguments.length,U=this.mode,D=this.maxes[U],B=[];if(3<=O){for(B[0]=S/D[0],B[1]=C/D[1],B[2]=L/D[2],B[3]=typeof E=="number"?E/D[3]:1,I=B.length-1;0<=I;--I){var X=B[I];X<0?B[I]=0:1<X&&(B[I]=1)}return U===d.HSL?b.default._hslaToRGBA(B):U===d.HSB?b.default._hsbaToRGBA(B):B}if(O===1&&typeof S=="string"){if(L=S.trim().toLowerCase(),i[L])return h._parseInputs.call(this,i[L]);if(n.HEX3.test(L))return(B=n.HEX3.exec(L).slice(1).map(function(W){return parseInt(W+W,16)/255}))[3]=1,B;if(n.HEX6.test(L))return(B=n.HEX6.exec(L).slice(1).map(function(W){return parseInt(W,16)/255}))[3]=1,B;if(n.HEX4.test(L))return B=n.HEX4.exec(L).slice(1).map(function(W){return parseInt(W+W,16)/255});if(n.HEX8.test(L))return B=n.HEX8.exec(L).slice(1).map(function(W){return parseInt(W,16)/255});if(n.RGB.test(L))return(B=n.RGB.exec(L).slice(1).map(function(W){return W/255}))[3]=1,B;if(n.RGB_PERCENT.test(L))return(B=n.RGB_PERCENT.exec(L).slice(1).map(function(W){return parseFloat(W)/100}))[3]=1,B;if(n.RGBA.test(L))return B=n.RGBA.exec(L).slice(1).map(function(W,G){return G===3?parseFloat(W):W/255});if(n.RGBA_PERCENT.test(L))return B=n.RGBA_PERCENT.exec(L).slice(1).map(function(W,G){return G===3?parseFloat(W):parseFloat(W)/100});if(n.HSL.test(L)?(B=n.HSL.exec(L).slice(1).map(function(W,G){return G===0?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:n.HSLA.test(L)&&(B=n.HSLA.exec(L).slice(1).map(function(W,G){return G===0?parseInt(W,10)/360:G===3?parseFloat(W):parseInt(W,10)/100})),(B=B.map(function(W){return Math.max(Math.min(W,1),0)})).length)return b.default._hslaToRGBA(B);if(n.HSB.test(L)?(B=n.HSB.exec(L).slice(1).map(function(W,G){return G===0?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:n.HSBA.test(L)&&(B=n.HSBA.exec(L).slice(1).map(function(W,G){return G===0?parseInt(W,10)/360:G===3?parseFloat(W):parseInt(W,10)/100})),B.length){for(I=B.length-1;0<=I;--I)B[I]=Math.max(Math.min(B[I],1),0);return b.default._hsbaToRGBA(B)}B=[1,1,1,1]}else{if(O!==1&&O!==2||typeof S!="number")throw new Error("".concat(arguments,"is not a valid color representation."));B[0]=S/D[2],B[1]=S/D[2],B[2]=S/D[2],B[3]=typeof C=="number"?C/D[3]:1,B=B.map(function(W){return Math.max(Math.min(W,1),0)})}return B}}],(T=[{key:"toString",value:function(S){var C=this.levels,L=this._array,E=L[3];switch(S){case"#rrggbb":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16));case"#rrggbbaa":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16),C[3]<16?"0".concat(C[3].toString(16)):C[3].toString(16));case"#rgb":return"#".concat(Math.round(15*L[0]).toString(16),Math.round(15*L[1]).toString(16),Math.round(15*L[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*L[0]).toString(16),Math.round(15*L[1]).toString(16),Math.round(15*L[2]).toString(16),Math.round(15*L[3]).toString(16));case"rgb":return"rgb(".concat(C[0],", ",C[1],", ",C[2],")");case"rgb%":return"rgb(".concat((100*L[0]).toPrecision(3),"%, ",(100*L[1]).toPrecision(3),"%, ",(100*L[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*L[0]).toPrecision(3),"%, ",(100*L[1]).toPrecision(3),"%, ",(100*L[2]).toPrecision(3),"%, ",(100*L[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],", ",E,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*E).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],", ",E,")");case"hsla%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*E).toPrecision(3),"%)");default:return"rgba(".concat(C[0],",",C[1],",",C[2],",",E,")")}}},{key:"setRed",value:function(S){this._array[0]=S/this.maxes[d.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(S){this._array[1]=S/this.maxes[d.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(S){this._array[2]=S/this.maxes[d.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(S){this._array[3]=S/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var S=this._array,C=this.levels=new Array(S.length),L=S.length-1;0<=L;--L)C[L]=Math.round(255*S[L]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(S,C){this.mode=S,this.maxes=C}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[d.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[d.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[d.RGB][1]}},{key:"_getHue",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[d.HSB][0]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[d.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[d.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[d.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[d.HSB][1]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[d.HSL][1])}}])&&o(_.prototype,T),j&&o(_,j),h})(),c.default.Color);A.default=p},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,H,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(o){return m(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":m(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var o=b();if(o&&o.has(r))return o.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var s;Object.prototype.hasOwnProperty.call(r,i)&&((s=u?Object.getOwnPropertyDescriptor(r,i):null)&&(s.get||s.set)?Object.defineProperty(l,i,s):l[i]=r[i])}return l.default=r,o&&o.set(r,l),l})(t("../core/constants"));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}t("./p5.Color"),c.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},c.default.prototype.endClip=function(){this._renderer.endClip()},c.default.prototype.clip=function(r,o){this._renderer.beginClip(o),r(),this._renderer.endClip(o)},c.default.prototype.background=function(){var r;return(r=this._renderer).background.apply(r,arguments),this},c.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},c.default.prototype.colorMode=function(r,o,i,l,u){return c.default._validateParameters("colorMode",arguments),r!==d.RGB&&r!==d.HSB&&r!==d.HSL||(this._colorMode=r,r=this._colorMaxes[r],arguments.length===2?(r[0]=o,r[1]=o,r[2]=o,r[3]=o):arguments.length===4?(r[0]=o,r[1]=i,r[2]=l):arguments.length===5&&(r[0]=o,r[1]=i,r[2]=l,r[3]=u)),this},c.default.prototype.fill=function(){var r;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(r=this._renderer).fill.apply(r,arguments),this},c.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},c.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},c.default.prototype.stroke=function(){var r;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(r=this._renderer).stroke.apply(r,arguments),this},c.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},c.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=c.default;A.default=y},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.QUADRATIC=A.LINEAR=A._CTX_MIDDLE=A._DEFAULT_LEADMULT=A._DEFAULT_TEXT_FILL=A.WORD=A.CHAR=A.BOLDITALIC=A.BOLD=A.ITALIC=A.NORMAL=A.BLUR=A.ERODE=A.DILATE=A.POSTERIZE=A.INVERT=A.OPAQUE=A.GRAY=A.THRESHOLD=A.BURN=A.DODGE=A.SOFT_LIGHT=A.HARD_LIGHT=A.OVERLAY=A.REPLACE=A.SCREEN=A.MULTIPLY=A.EXCLUSION=A.SUBTRACT=A.DIFFERENCE=A.LIGHTEST=A.DARKEST=A.ADD=A.REMOVE=A.BLEND=A.UP_ARROW=A.TAB=A.SHIFT=A.RIGHT_ARROW=A.RETURN=A.OPTION=A.LEFT_ARROW=A.ESCAPE=A.ENTER=A.DOWN_ARROW=A.DELETE=A.CONTROL=A.BACKSPACE=A.ALT=A.AUTO=A.HSL=A.HSB=A.RGB=A.MITER=A.BEVEL=A.ROUND=A.SQUARE=A.PROJECT=A.PIE=A.CHORD=A.OPEN=A.CLOSE=A.TESS=A.QUAD_STRIP=A.QUADS=A.TRIANGLE_STRIP=A.TRIANGLE_FAN=A.TRIANGLES=A.LINE_LOOP=A.LINE_STRIP=A.LINES=A.POINTS=A.BASELINE=A.BOTTOM=A.TOP=A.CENTER=A.LEFT=A.RIGHT=A.RADIUS=A.CORNERS=A.CORNER=A.RAD_TO_DEG=A.DEG_TO_RAD=A.RADIANS=A.DEGREES=A.TWO_PI=A.TAU=A.QUARTER_PI=A.PI=A.HALF_PI=A.WAIT=A.TEXT=A.MOVE=A.HAND=A.CROSS=A.ARROW=A.WEBGL2=A.WEBGL=A.P2D=A.VERSION=void 0,A.RGBA=A.HALF_FLOAT=A.FLOAT=A.UNSIGNED_INT=A.UNSIGNED_BYTE=A.COVER=A.CONTAIN=A.FALLBACK=A.LABEL=A.AXES=A.GRID=A._DEFAULT_FILL=A._DEFAULT_STROKE=A.PORTRAIT=A.LANDSCAPE=A.SMOOTH=A.FLAT=A.MIRROR=A.CLAMP=A.REPEAT=A.NEAREST=A.IMAGE=A.IMMEDIATE=A.TEXTURE=A.FILL=A.STROKE=A.CURVE=A.BEZIER=void 0;var m=Math.PI,g=(A.VERSION="1.11.11",A.P2D="p2d",A.WEBGL="webgl",A.WEBGL2="webgl2",A.ARROW="default",A.CROSS="crosshair",A.HAND="pointer",A.MOVE="move",A.TEXT="text",A.WAIT="wait",m/2),g=(A.HALF_PI=g,m),g=(A.PI=g,m/4),g=(A.QUARTER_PI=g,2*m),g=(A.TAU=g,2*m),g=(A.TWO_PI=g,A.DEGREES="degrees",A.RADIANS="radians",m/180),g=(A.DEG_TO_RAD=g,180/m);A.RAD_TO_DEG=g,A.CORNER="corner",A.CORNERS="corners",A.RADIUS="radius",A.RIGHT="right",A.LEFT="left",A.CENTER="center",A.TOP="top",A.BOTTOM="bottom",A.BASELINE="alphabetic",A.POINTS=0,A.LINES=1,A.LINE_STRIP=3,A.LINE_LOOP=2,A.TRIANGLES=4,A.TRIANGLE_FAN=6,A.TRIANGLE_STRIP=5,A.QUADS="quads",A.QUAD_STRIP="quad_strip",A.TESS="tess",A.CLOSE="close",A.OPEN="open",A.CHORD="chord",A.PIE="pie",A.PROJECT="square",A.SQUARE="butt",A.ROUND="round",A.BEVEL="bevel",A.MITER="miter",A.RGB="rgb",A.HSB="hsb",A.HSL="hsl",A.AUTO="auto",A.ALT=18,A.BACKSPACE=8,A.CONTROL=17,A.DELETE=46,A.DOWN_ARROW=40,A.ENTER=13,A.ESCAPE=27,A.LEFT_ARROW=37,A.OPTION=18,A.RETURN=13,A.RIGHT_ARROW=39,A.SHIFT=16,A.TAB=9,A.UP_ARROW=38,A.BLEND="source-over",A.REMOVE="destination-out",A.ADD="lighter",A.DARKEST="darken",A.LIGHTEST="lighten",A.DIFFERENCE="difference",A.SUBTRACT="subtract",A.EXCLUSION="exclusion",A.MULTIPLY="multiply",A.SCREEN="screen",A.REPLACE="copy",A.OVERLAY="overlay",A.HARD_LIGHT="hard-light",A.SOFT_LIGHT="soft-light",A.DODGE="color-dodge",A.BURN="color-burn",A.THRESHOLD="threshold",A.GRAY="gray",A.OPAQUE="opaque",A.INVERT="invert",A.POSTERIZE="posterize",A.DILATE="dilate",A.ERODE="erode",A.BLUR="blur",A.NORMAL="normal",A.ITALIC="italic",A.BOLD="bold",A.BOLDITALIC="bold italic",A.CHAR="CHAR",A.WORD="WORD",A._DEFAULT_TEXT_FILL="#000000",A._DEFAULT_LEADMULT=1.25,A._CTX_MIDDLE="middle",A.LINEAR="linear",A.QUADRATIC="quadratic",A.BEZIER="bezier",A.CURVE="curve",A.STROKE="stroke",A.FILL="fill",A.TEXTURE="texture",A.IMMEDIATE="immediate",A.IMAGE="image",A.NEAREST="nearest",A.REPEAT="repeat",A.CLAMP="clamp",A.MIRROR="mirror",A.FLAT="flat",A.SMOOTH="smooth",A.LANDSCAPE="landscape",A.PORTRAIT="portrait",A._DEFAULT_STROKE="#000000",A._DEFAULT_FILL="#FFFFFF",A.GRID="grid",A.AXES="axes",A.LABEL="label",A.FALLBACK="fallback",A.CONTAIN="contain",A.COVER="cover",A.UNSIGNED_BYTE="unsigned-byte",A.UNSIGNED_INT="unsigned-int",A.FLOAT="float",A.HALF_FLOAT="half-float",A.RGBA="rgba"},{}],273:[function(t,H,A){function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}function g(u){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(s){return m(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":m(s)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(d=t("./main"))&&d.__esModule?d:{default:d},d=(function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var s=b();if(s&&s.has(u))return s.get(u);var n,p={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in u){var _;Object.prototype.hasOwnProperty.call(u,n)&&((_=h?Object.getOwnPropertyDescriptor(u,n):null)&&(_.get||_.set)?Object.defineProperty(p,n,_):p[n]=u[n])}return p.default=u,s&&s.set(u,p),p})(t("./constants"));function b(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,b=function(){return u},u)}var y=[d.ARROW,d.CROSS,d.HAND,d.MOVE,d.TEXT,d.WAIT],r=(c.default.prototype._frameRate=0,c.default.prototype._lastFrameTime=window.performance.now(),c.default.prototype._targetFrameRate=60,window.print),o=!1;function i(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function l(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}c.default.prototype.print=function(){var u;arguments.length?(u=console).log.apply(u,arguments):o||(r(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(o=!0))},c.default.prototype.frameCount=0,c.default.prototype.deltaTime=0,c.default.prototype.focused=document.hasFocus(),c.default.prototype.cursor=function(u,s,n){var p,h="auto",_=this._curElement.elt;y.includes(u)?h=u:typeof u=="string"&&(p="",s&&n&&typeof s=="number"&&typeof n=="number"&&(p="".concat(s," ").concat(n)),h=u.substring(0,7)==="http://"||u.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(u)?"url(".concat(u,") ").concat(p,", auto"):u),_.style.cursor=h},c.default.prototype.frameRate=function(u){return c.default._validateParameters("frameRate",arguments),typeof u!="number"||u<0?this._frameRate:(this._setProperty("_targetFrameRate",u),u===0&&this._setProperty("_frameRate",u),this)},c.default.prototype.getFrameRate=function(){return this.frameRate()},c.default.prototype.setFrameRate=function(u){return this.frameRate(u)},c.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},c.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},c.default.prototype.webglVersion=d.P2D,c.default.prototype.displayWidth=screen.width,c.default.prototype.displayHeight=screen.height,c.default.prototype.windowWidth=0,c.default.prototype.windowHeight=0,c.default.prototype._onresize=function(u){this._setProperty("windowWidth",i()),this._setProperty("windowHeight",l());var s=this._isGlobal?window:this;typeof s.windowResized!="function"||(s=s.windowResized(u))===void 0||s||u.preventDefault()},c.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",i()),this._setProperty("windowHeight",l())},c.default.prototype.width=0,c.default.prototype.height=0,c.default.prototype.fullscreen=function(u){if(c.default._validateParameters("fullscreen",arguments),u===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(u){if(u=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");u.requestFullscreen?u.requestFullscreen():u.mozRequestFullScreen?u.mozRequestFullScreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen():u.msRequestFullscreen&&u.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},c.default.prototype.pixelDensity=function(u){var s;return c.default._validateParameters("pixelDensity",arguments),typeof u=="number"?(u!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=u),(s=this).resizeCanvas(this.width,this.height,!0)):s=this._pixelDensity,s},c.default.prototype.displayDensity=function(){return window.devicePixelRatio},c.default.prototype.getURL=function(){return location.href},c.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(u){return u!==""})},c.default.prototype.getURLParams=function(){for(var u,s=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,n={};(u=s.exec(location.search))!=null;)u.index===s.lastIndex&&s.lastIndex++,n[u[1]]=u[2];return n},t=c.default,A.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,H,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(y=t("../main"))&&y.__esModule?y:{default:y};t("../internationalization");function g(r,o){o=o||console.log.bind(console),c||b(),c.some(function(i){var l;if(r.message&&r.message.match("\\W?".concat(i.name,"\\W"))!==null)return l=i.type==="function"?"".concat(i.name,"()"):i.name,o("Did you just try to use p5.js's ".concat(l," ").concat(i.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(d)),!0})}var c=null,b=null,d=(m.default._friendlyError=m.default._checkForUserDefinedFunctions=m.default._fesErrorMonitor=function(){},c=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),b=function(){function r(i){return Object.getOwnPropertyNames(i).filter(function(l){return l[0]!=="_"&&!(l in o)&&(o[l]=!0)}).map(function(l){var u=typeof i[l]=="function"?"function":l===l.toUpperCase()?"constant":"variable";return{name:l,type:u}})}var o={};(c=[].concat(r(m.default.prototype),r(t("../constants")))).sort(function(i,l){return l.name.length-i.name.length})},y=(m.default.prototype._helpForMisusedAtTopLevelCode=g,document.readyState!=="complete"&&(window.addEventListener("error",g,!1),window.addEventListener("load",function(){window.removeEventListener("error",g,!1)})),m.default);A.default=y},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(m=t("../main"))&&m.__esModule?m:{default:m};t("../internationalization"),m.default._friendlyFileLoadError=function(){},t=m.default,A.default=t},{"../internationalization":281,"../main":283}],276:[function(t,H,A){function m(o){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}function g(o){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(i){return m(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":m(i)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=y(t("../main"));t("../internationalization"),b(t("../constants"));function d(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,d=function(){return o},o)}function b(o){if(o&&o.__esModule)return o;if(o===null||g(o)!=="object"&&typeof o!="function")return{default:o};var i=d();if(i&&i.has(o))return i.get(o);var l,u,s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&((u=n?Object.getOwnPropertyDescriptor(o,l):null)&&(u.get||u.set)?Object.defineProperty(s,l,u):s[l]=o[l]);return s.default=o,i&&i.set(o,s),s}function y(o){return o&&o.__esModule?o:{default:o}}c.default._fesCodeReader=function(){};var r=c.default;A.default=r},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,H,A){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function m(){var g=/(^|@)\S+:\d+/,c=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code])?$/;return{parse:function(b){return b.stacktrace!==void 0||b["opera#sourceloc"]!==void 0?this.parseOpera(b):b.stack&&b.stack.match(c)?this.parseV8OrIE(b):b.stack?this.parseFFOrSafari(b):void 0},extractLocation:function(b){return b.indexOf(":")===-1?[b]:[(b=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(b.replace(/[()]/g,"")))[1],b[2]||void 0,b[3]||void 0]},parseV8OrIE:function(b){return b.stack.split(`
`).filter(function(y){return!!y.match(c)},this).map(function(y){var r=(y=-1<y.indexOf("(eval ")?y.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):y).replace(/^\s+/,"").replace(/\(eval code/g,"("),o=r.match(/ (\((.+):(\d+):(\d+)\)$)/),r=(r=o?r.replace(o[0],""):r).split(/\s+/).slice(1),o=this.extractLocation(o?o[1]:r.pop());return{functionName:r.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(o[0])?void 0:o[0],lineNumber:o[1],columnNumber:o[2],source:y}},this)},parseFFOrSafari:function(b){return b.stack.split(`
`).filter(function(y){return!y.match(d)},this).map(function(y){var r,o;return(y=-1<y.indexOf(" > eval")?y.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):y).indexOf("@")===-1&&y.indexOf(":")===-1?{functionName:y}:{functionName:(o=y.match(r=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&o[1]?o[1]:void 0,fileName:(o=this.extractLocation(y.replace(r,"")))[0],lineNumber:o[1],columnNumber:o[2],source:y}},this)},parseOpera:function(b){return!b.stacktrace||-1<b.message.indexOf(`
`)&&b.message.split(`
`).length>b.stacktrace.split(`
`).length?this.parseOpera9(b):b.stack?this.parseOpera11(b):this.parseOpera10(b)},parseOpera9:function(b){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,r=b.message.split(`
`),o=[],i=2,l=r.length;i<l;i+=2){var u=y.exec(r[i]);u&&o.push({fileName:u[2],lineNumber:u[1],source:r[i]})}return o},parseOpera10:function(b){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=b.stacktrace.split(`
`),o=[],i=0,l=r.length;i<l;i+=2){var u=y.exec(r[i]);u&&o.push({functionName:u[3]||void 0,fileName:u[2],lineNumber:u[1],source:r[i]})}return o},parseOpera11:function(b){return b.stack.split(`
`).filter(function(y){return!!y.match(g)&&!y.match(/^Error created at/)},this).map(function(y){var r,i=y.split("@"),o=this.extractLocation(i.pop()),i=i.shift()||"";return{functionName:i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(r=i.match(/\(([^)]*)\)/)?i.replace(/^[^(]+\(([^)]*)\)$/,"$1"):r)===void 0||r==="[arguments not available]"?void 0:r.split(","),fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:y}},this)}}}t.default._getErrorStackParser=function(){return new m},t=t.default,A.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,H,A){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(g=t("../main"))&&g.__esModule?g:{default:g};(function(b){if(!(b&&b.__esModule)&&!(b===null||d(b)!=="object"&&typeof b!="function")){var y=c();if(y&&y.has(b))return y.get(b);var r,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in b){var l;Object.prototype.hasOwnProperty.call(b,r)&&((l=i?Object.getOwnPropertyDescriptor(b,r):null)&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=b[r])}o.default=b,y&&y.set(b,o)}})(t("../constants")),t("../internationalization");function c(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,c=function(){return b},b)}function d(b){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(y){return m(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":m(y)})(b)}g.default._validateParameters=g.default._clearValidateParamsCache=function(){},t=g.default,A.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,H,A){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function g(b){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(y){return m(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":m(y)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(function(b){if(b&&b.__esModule)return b;if(b===null||g(b)!=="object"&&typeof b!="function")return{default:b};var y=d();if(y&&y.has(b))return y.get(b);var r,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in b){var l;Object.prototype.hasOwnProperty.call(b,r)&&((l=i?Object.getOwnPropertyDescriptor(b,r):null)&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=b[r])}return o.default=b,y&&y.set(b,o),o})(t("./constants"));function d(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,d=function(){return b},b)}A.default={modeAdjust:function(b,y,r,o,i){var l;return i===c.CORNER?l={x:b,y,w:Math.abs(r),h:Math.abs(o)}:i===c.CORNERS?l={x:Math.min(b,r),y:Math.min(y,o),w:Math.abs(r-b),h:Math.abs(o-y)}:i===c.RADIUS?l={x:b-(r=Math.abs(r)),y:y-(o=Math.abs(o)),w:2*r,h:2*o}:i===c.CENTER&&(l={x:b-.5*(r=Math.abs(r)),y:y-.5*(o=Math.abs(o)),w:r,h:o}),l}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,H,A){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var m=(g=t("../core/main"))&&g.__esModule?g:{default:g};t("./internationalization");var g=Promise.resolve();Promise.all([new Promise(function(c,d){document.readyState==="complete"?c():window.addEventListener("load",c,!1)}),g]).then(function(){var c;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(c=new Event("p5Ready"),window.dispatchEvent(c),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!m.default.instance&&new m.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,H,A){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.setTranslatorLanguage=A.currentTranslatorLanguage=A.availableTranslatorLanguages=A.initialize=A.translator=void 0;var m,g,c=y(t("i18next")),d=y(t("i18next-browser-languagedetector")),b=t("./constants");function y(i){return i&&i.__esModule?i:{default:i}}function r(i,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}var o=(function(){function i(s,n){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.init(s,n)}var l,u;return l=i,(u=[{key:"fetchWithTimeout",value:function(s,n){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(s,n),new Promise(function(h,_){return setTimeout(function(){return _(new Error("timeout"))},p)})])}},{key:"init",value:function(s){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=s,this.options=n}},{key:"read",value:function(s,n,p){var h=this.options.loadPath;s===this.options.fallback?p(null,m[s][n]):g.includes(s)?(h=this.services.interpolator.interpolate(h,{lng:s,ns:n}),this.loadUrl(h,p)):p("Not found",!1)}},{key:"loadUrl",value:function(s,n){this.fetchWithTimeout(s).then(function(p){if(p.ok)return p.json();throw new Error("failed loading ".concat(s))},function(){throw new Error("failed loading ".concat(s))}).then(function(p){return n(null,p)}).catch(n)}}])&&r(l.prototype,u),i})();o.type="backend",A.translator=function(i,l){console.debug("p5.js translator called before translations were loaded"),c.default.t(i,l)},A.initialize=function(){return c.default.use(d.default).use(o).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5@".concat(b.VERSION.replace(/^(\d+\.\d+)\.\d+.*$/,"$1"),"/translations/{{lng}}/{{ns}}.json")},partialBundledLanguages:!0,resources:m}).then(function(i){A.translator=i},function(i){return console.debug("Translations failed to load (".concat(i,")"))})},A.availableTranslatorLanguages=function(){return c.default.languages},A.currentTranslatorLanguage=function(i){return c.default.language},A.setTranslatorLanguage=function(i){return c.default.changeLanguage(i||void 0,function(l){return console.debug("Translations failed to load (".concat(l,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"./constants":272,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,A.default=t},{"./main":283}],283:[function(t,H,A){function m(o){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}function g(o){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(i){return m(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":m(i)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t("./shim");var c=(function(o){if(o&&o.__esModule)return o;if(o===null||g(o)!=="object"&&typeof o!="function")return{default:o};var i=d();if(i&&i.has(o))return i.get(o);var l,u={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in o){var n;Object.prototype.hasOwnProperty.call(o,l)&&((n=s?Object.getOwnPropertyDescriptor(o,l):null)&&(n.get||n.set)?Object.defineProperty(u,l,n):u[l]=o[l])}return u.default=o,i&&i.set(o,u),u})(t("./constants"));function d(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,d=function(){return o},o)}function b(o,i){for(var l=0;l<i.length;l++){var u=i[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}var y,r=(function(){function o(u,p){var n=this;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this._isGlobal=!u,this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=p,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var p=Object.getOwnPropertyNames(o.prototype._registeredMethods),h=!0,_=!1,T=void 0;try{for(var j,S=p[Symbol.iterator]();!(h=(j=S.next()).done);h=!0){var C=j.value;this._registeredMethods[C]=o.prototype._registeredMethods[C].slice()}}catch(W){_=!0,T=W}finally{try{h||S.return==null||S.return()}finally{if(_)throw T}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),o.prototype.callRegisteredHooksFor=function(W){var G=this||o.prototype,Z=this._isGlobal?window:this;if(G._registeredMethods.hasOwnProperty(W)){var G=G._registeredMethods[W],Q=!0,W=!1,le=void 0;try{for(var w,R=G[Symbol.iterator]();!(Q=(w=R.next()).done);Q=!0){var N=w.value;typeof N=="function"&&N.call(Z)}}catch(re){W=!0,le=re}finally{try{Q||R.return==null||R.return()}finally{if(W)throw le}}}},this._start=function(){n._userNode&&typeof n._userNode=="string"&&(n._userNode=document.getElementById(n._userNode));var W=n._isGlobal?window:n;if(W.preload){n.callRegisteredHooksFor("beforePreload");var G,Z=document.getElementById(n._loadingScreenId),Q=(Z||((Z=document.createElement("div")).innerHTML="Loading...",Z.style.position="absolute",Z.id=n._loadingScreenId,(n._userNode||document.body).appendChild(Z)),n._preloadMethods);for(G in Q){Q[G]=Q[G]||o;var le=Q[G];le!==o.prototype&&le!==o||(n._isGlobal&&(window[G]=n._wrapPreload(n,G)),le=n),n._registeredPreloadMethods[G]=le[G],le[G]=n._wrapPreload(le,G)}W.preload(),n._runIfPreloadsAreDone()}else n._setup(),n._recording||n._draw()},this._runIfPreloadsAreDone=function(){var W,G=this._isGlobal?window:this;G._preloadCount===0&&((W=document.getElementById(G._loadingScreenId))&&W.parentNode.removeChild(W),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),G._setup(),this._recording||G._draw()))},this._decrementPreload=function(){var W=this._isGlobal?window:this;W._preloadDone||typeof W.preload!="function"||(W._setProperty("_preloadCount",W._preloadCount-1),W._runIfPreloadsAreDone())},this._wrapPreload=function(W,G){var Z=this;return function(){Z._incrementPreload();for(var Q=arguments.length,le=new Array(Q),w=0;w<Q;w++)le[w]=arguments[w];return Z._registeredPreloadMethods[G].apply(W,le)}},this._incrementPreload=function(){var W=this._isGlobal?window:this;W._preloadDone||W._setProperty("_preloadCount",W._preloadCount+1)},this._setup=function(){n.callRegisteredHooksFor("beforeSetup"),n.createCanvas(n._defaultCanvasSize.width,n._defaultCanvasSize.height,"p2d");var W=n._isGlobal?window:n;if(typeof W.preload=="function")for(var G in n._preloadMethods)W[G]=n._preloadMethods[G][G],W[G]&&n&&(W[G]=W[G].bind(n));n._millisStart=window.performance.now(),W._preloadDone=!0,typeof W.setup=="function"&&W.setup();var Z=document.getElementsByTagName("canvas"),Q=!0,le=!1,w=void 0;try{for(var R,N=Z[Symbol.iterator]();!(Q=(R=N.next()).done);Q=!0){var q=R.value;q.dataset.hidden==="true"&&(q.style.visibility="",delete q.dataset.hidden)}}catch(J){le=!0,w=J}finally{try{Q||N.return==null||N.return()}finally{if(le)throw w}}n._lastTargetFrameTime=window.performance.now(),n._lastRealFrameTime=window.performance.now(),n._setupDone=!0,(n._accessibleOutputs.grid||n._accessibleOutputs.text)&&n._updateAccsOutput(),n.callRegisteredHooksFor("afterSetup")},this._draw=function(G){var G=G||window.performance.now(),Z=G-n._lastTargetFrameTime,Q=1e3/n._targetFrameRate;(!n._loop||Q-5<=Z)&&(n.deltaTime=G-n._lastRealFrameTime,n._setProperty("deltaTime",n.deltaTime),n._frameRate=1e3/n.deltaTime,n.redraw(),n._lastTargetFrameTime=Math.max(n._lastTargetFrameTime+Q,G),n._lastRealFrameTime=G,n._updateMouseCoords!==void 0&&(n._updateMouseCoords(),n._setProperty("movedX",0),n._setProperty("movedY",0))),n._loop&&(n._requestAnimId=window.requestAnimationFrame(n._draw))},this._setProperty=function(W,G){n[W]=G,n._isGlobal&&(window[W]=G)},this.remove=function(){n._startListener&&window.removeEventListener("load",n._startListener,!1);var W=document.getElementById(n._loadingScreenId);if(W&&(W.parentNode.removeChild(W),n._incrementPreload()),n._curElement){for(var G in n._loop=!1,n._requestAnimId&&window.cancelAnimationFrame(n._requestAnimId),n._events)window.removeEventListener(G,n._events[G]);var Z=!0,W=!1,Q=void 0;try{for(var le,w=n._elements[Symbol.iterator]();!(Z=(le=w.next()).done);Z=!0){var R,N=le.value;for(R in N.elt&&N.elt.parentNode&&N.elt.parentNode.removeChild(N.elt),N._events)N.elt.removeEventListener(R,N._events[R])}}catch(ge){W=!0,Q=ge}finally{try{Z||w.return==null||w.return()}finally{if(W)throw Q}}var q=n;n._registeredMethods.remove.forEach(function(ge){ge!==void 0&&ge.call(q)})}if(n._isGlobal){for(var J in o.prototype)try{delete window[J]}catch{window[J]=void 0}for(var re in n)if(n.hasOwnProperty(re))try{delete window[re]}catch{window[re]=void 0}o.instance=null}};var L,E,I=this._createFriendlyGlobalFunctionBinder();if(this._isGlobal){for(var O in o.instance=this,o.prototype)typeof o.prototype[O]=="function"?(L=O.substring(2),this._events.hasOwnProperty(L)||(Math.hasOwnProperty(O)&&Math[O]===o.prototype[O]?I(O,o.prototype[O]):I(O,o.prototype[O].bind(this)))):I(O,o.prototype[O]);for(var U in this)this.hasOwnProperty(U)&&I(U,this[U])}else u(this),o._checkForUserDefinedFunctions(this);for(E in this._updateWindowSize(),this.callRegisteredHooksFor("init"),this._setupPromisePreloads(),this._events){var D=this["_on".concat(E)];D&&(D=D.bind(this),window.addEventListener(E,D,{passive:!1}),this._events[E]=D)}function B(){n._setProperty("focused",!0)}function X(){n._setProperty("focused",!1)}window.addEventListener("focus",B),window.addEventListener("blur",X),this.registerMethod("remove",function(){window.removeEventListener("focus",B),window.removeEventListener("blur",X)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var i,l;return i=o,(l=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=c.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(u,s){o.prototype._preloadMethods.hasOwnProperty(u)||(o.prototype._preloadMethods[u]=s)}},{key:"registerMethod",value:function(u,s){var n=this||o.prototype;n._registeredMethods.hasOwnProperty(u)||(n._registeredMethods[u]=[]),n._registeredMethods[u].push(s)}},{key:"unregisterMethod",value:function(u,s){var n=this||o.prototype;if(n._registeredMethods.hasOwnProperty(u)){for(var p=n._registeredMethods[u],h=[],_=0;_<p.length;_++)p[_]===s&&h.push(_);for(var T=h.length-1;0<=T;T--)p.splice(h[T],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},s=u.globalObject||window;return u.log||console.log.bind(console),function(n,p){o.disableFriendlyErrors,s[n]=p}}}])&&b(i.prototype,l),o})();for(y in r.instance=null,r.disableFriendlyErrors=!1,c)r.prototype[y]=c[y];r.VERSION=c.VERSION,r.prototype._preloadMethods={loadJSON:r.prototype,loadImage:r.prototype,loadStrings:r.prototype,loadXML:r.prototype,loadBytes:r.prototype,loadTable:r.prototype,loadFont:r.prototype,loadModel:r.prototype,loadShader:r.prototype},r.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},r.prototype._registeredPreloadMethods={},A.default=r},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("./main"))&&t.__esModule?t:{default:t};function g(c,d){for(var b=0;b<d.length;b++){var y=d[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}m.default.Element=(function(){function c(r,o){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.elt=r,this._pInst=this._pixelsState=o,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var d,b,y;return d=c,y=[{key:"_adjustListener",value:function(r,o,i){return o===!1?m.default.Element._detachListener(r,i):m.default.Element._attachListener(r,o,i),this}},{key:"_attachListener",value:function(r,o,i){i._events[r]&&m.default.Element._detachListener(r,i),o=o.bind(i),i.elt.addEventListener(r,o,!1),i._events[r]=o}},{key:"_detachListener",value:function(r,o){var i=o._events[r];o.elt.removeEventListener(r,i,!1),o._events[r]=null}}],(b=[{key:"parent",value:function(r){return r===void 0?this.elt.parentNode:(typeof r=="string"?(r[0]==="#"&&(r=r.substring(1)),r=document.getElementById(r)):r instanceof m.default.Element&&(r=r.elt),r.appendChild(this.elt),this)}},{key:"id",value:function(r){return r===void 0?this.elt.id:(this.elt.id=r,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(r){return r===void 0?this.elt.className:(this.elt.className=r,this)}},{key:"mousePressed",value:function(r){return m.default.Element._adjustListener("mousedown",function(o){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(o),r.call(this,o)},this),this}},{key:"doubleClicked",value:function(r){return m.default.Element._adjustListener("dblclick",r,this),this}},{key:"mouseWheel",value:function(r){return m.default.Element._adjustListener("wheel",r,this),this}},{key:"mouseReleased",value:function(r){return m.default.Element._adjustListener("mouseup",r,this),this}},{key:"mouseClicked",value:function(r){return m.default.Element._adjustListener("click",r,this),this}},{key:"mouseMoved",value:function(r){return m.default.Element._adjustListener("mousemove",r,this),this}},{key:"mouseOver",value:function(r){return m.default.Element._adjustListener("mouseover",r,this),this}},{key:"mouseOut",value:function(r){return m.default.Element._adjustListener("mouseout",r,this),this}},{key:"touchStarted",value:function(r){return m.default.Element._adjustListener("touchstart",r,this),this}},{key:"touchMoved",value:function(r){return m.default.Element._adjustListener("touchmove",r,this),this}},{key:"touchEnded",value:function(r){return m.default.Element._adjustListener("touchend",r,this),this}},{key:"dragOver",value:function(r){return m.default.Element._adjustListener("dragover",r,this),this}},{key:"dragLeave",value:function(r){return m.default.Element._adjustListener("dragleave",r,this),this}},{key:"_setProperty",value:function(r,o){this[r]=o}}])&&g(d.prototype,b),y&&g(d,y),c})(),t=m.default.Element,A.default=t},{"./main":283}],285:[function(t,H,A){function m(n){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(n)}function g(n){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(s=t("./main"))&&s.__esModule?s:{default:s},d=(function(n){if(n&&n.__esModule)return n;if(n===null||g(n)!=="object"&&typeof n!="function")return{default:n};var p=b();if(p&&p.has(n))return p.get(n);var h,_={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in n){var j;Object.prototype.hasOwnProperty.call(n,h)&&((j=T?Object.getOwnPropertyDescriptor(n,h):null)&&(j.get||j.set)?Object.defineProperty(_,h,j):_[h]=n[h])}return _.default=n,p&&p.set(n,_),_})(t("./constants"));function b(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,b=function(){return n},n)}function y(n,p){for(var h=0;h<p.length;h++){var _=p[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(n,_.key,_)}}function r(n,p){return(r=Object.setPrototypeOf||function(h,_){return h.__proto__=_,h})(n,p)}function o(n){return function(){var p,h=u(n);return i(this,(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(p=u(this).constructor,Reflect.construct(h,arguments,p)):h.apply(this,arguments))}}function i(n,p){return!p||g(p)!=="object"&&typeof p!="function"?l(n):p}function l(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function u(n){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(n)}c.default.Graphics=(function(n){var p=_;if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(n&&n.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),n&&r(p,n);var h=o(_);function _(T,j,U,C,L){var E;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");O=L||document.createElement("canvas"),(E=h.call(this,O,C)).canvas=O;var I,O=U||d.P2D,U=C._userNode||document.body;for(I in L||U.appendChild(E.canvas),c.default.prototype)E[I]||(typeof c.default.prototype[I]=="function"?E[I]=c.default.prototype[I].bind(l(E)):E[I]=c.default.prototype[I]);return c.default.prototype._initializeInstanceVariables.apply(l(E)),E.width=T,E.height=j,E._pixelDensity=C._pixelDensity,O===d.WEBGL?(E._renderer=new c.default.RendererGL(E.canvas,l(E),!1),T=(L=E._renderer._adjustDimensions(T,j)).adjustedWidth,j=L.adjustedHeight):E._renderer=new c.default.Renderer2D(E.canvas,l(E),!1),C._elements.push(l(E)),Object.defineProperty(l(E),"deltaTime",{get:function(){return this._pInst.deltaTime}}),E._renderer.resize(T,j),E._renderer._applyDefaults(),i(E,l(E))}return p=_,(n=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var T,j=this._pInst._elements.indexOf(this);for(T in j!==-1&&this._pInst._elements.splice(j,1),this._events)this.elt.removeEventListener(T,this._events[T]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(T){return new c.default.Framebuffer(this,T)}}])&&y(p.prototype,n),_})(c.default.Element);var s=c.default.Graphics;A.default=s},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,H,A){function m(n){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(u=t("./main"))&&u.__esModule?u:{default:u},c=(function(n){if(n&&n.__esModule)return n;if(n===null||b(n)!=="object"&&typeof n!="function")return{default:n};var p=d();if(p&&p.has(n))return p.get(n);var h,_={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in n){var j;Object.prototype.hasOwnProperty.call(n,h)&&((j=T?Object.getOwnPropertyDescriptor(n,h):null)&&(j.get||j.set)?Object.defineProperty(_,h,j):_[h]=n[h])}return _.default=n,p&&p.set(n,_),_})(t("../core/constants"));function d(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,d=function(){return n},n)}function b(n){return(b=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(n)}function y(n,p){for(var h=0;h<p.length;h++){var _=p[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(n,_.key,_)}}function r(n,p){return(r=Object.setPrototypeOf||function(h,_){return h.__proto__=_,h})(n,p)}function o(n){return function(){var p,h,_=l(n);return p=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(p=l(this).constructor,Reflect.construct(_,arguments,p)):_.apply(this,arguments),_=this,!(h=p)||b(h)!=="object"&&typeof h!="function"?i(_):h}}function i(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function l(n){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(n)}var u=(function(n){var p=_;if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(n&&n.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),n&&r(p,n);var h=o(_);function _(T,j,S){var C;if(this instanceof _)return(C=h.call(this,T,j)).canvas=T,C._pixelsState=j,S?(C._isMainCanvas=!0,C._pInst._setProperty("_curElement",i(C)),C._pInst._setProperty("canvas",C.canvas),C._pInst._setProperty("width",C.width),C._pInst._setProperty("height",C.height)):(C.canvas.style.display="none",C._styles=[]),C._clipping=!1,C._clipInvert=!1,C._textSize=12,C._textLeading=15,C._textFont="sans-serif",C._textStyle=c.NORMAL,C._textAscent=null,C._textDescent=null,C._textAlign=c.LEFT,C._textBaseline=c.BASELINE,C._textWrap=c.WORD,C._rectMode=c.CORNER,C._ellipseMode=c.CENTER,C._curveTightness=0,C._imageMode=c.CORNER,C._tint=null,C._doStroke=!0,C._doFill=!0,C._strokeSet=!1,C._fillSet=!1,C._leadingSet=!1,C._pushPopDepth=0,C;throw new TypeError("Cannot call a class as a function")}return p=_,(n=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(T){this._pushPopDepth--,T.properties&&Object.assign(this,T.properties)}},{key:"beginClip",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=T.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(T,j){this.width=T,this.height=j,this.elt.width=T*this._pInst._pixelDensity,this.elt.height=j*this._pInst._pixelDensity,this.elt.style.width="".concat(T,"px"),this.elt.style.height="".concat(j,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(T,j,S,C){var L=this._pixelsState,E=L._pixelDensity,I=this.canvas;if(T===void 0&&j===void 0)T=j=0,S=L.width,C=L.height;else if(T*=E,j*=E,S===void 0&&C===void 0)return T<0||j<0||T>=I.width||j>=I.height?[0,0,0,0]:this._getPixel(T,j);return L=new g.default.Image(S*E,C*E),L.pixelDensity(E),L.canvas.getContext("2d").drawImage(I,T,j,S*E,C*E,0,0,S*E,C*E),L}},{key:"textLeading",value:function(T){return typeof T=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",T),this._pInst):this._textLeading}},{key:"textStyle",value:function(T){return T?(T!==c.NORMAL&&T!==c.ITALIC&&T!==c.BOLD&&T!==c.BOLDITALIC||this._setProperty("_textStyle",T),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(T,j){return T!==void 0?(this._setProperty("_textAlign",T),j!==void 0&&this._setProperty("_textBaseline",j),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(T){return this._setProperty("_textWrap",T),this._textWrap}},{key:"text",value:function(T,j,S,C,L){var E,I,O,U,D=this._pInst,B=this._textWrap,X=Number.MAX_VALUE,W=S;if((this._doFill||this._doStroke)&&T!==void 0){if(E=(T=(T=typeof T!="string"?T.toString():T).replace(/(\t)/g,"  ")).split(`
`),C!==void 0){switch(this._rectMode===c.CENTER&&(j-=C/2),this._textAlign){case c.CENTER:j+=C/2;break;case c.RIGHT:j+=C}if(L!==void 0){this._rectMode===c.CENTER&&(S-=L/2,W-=L/2);var T=S,G=D.textAscent();switch(this._textBaseline){case c.BOTTOM:U=S+L,S=Math.max(U,S),W+=G;break;case c.CENTER:U=S+L/2,S=Math.max(U,S),W+=G/2}X=S+L-G,this._textBaseline===c.CENTER&&(X=T+L-G/2)}else this._textBaseline!==c.BOTTOM&&this._textBaseline!==c.CENTER||(W=S-(T=D.textSize()*this._textLeading)/2,X=S+T/2);if(B===c.WORD){for(var Z=[],Q=0;Q<E.length;Q++){for(var le="",w=E[Q].split(" "),R=0;R<w.length;R++)I="".concat(le+w[R])+" ",le=C<(O=this.textWidth(I))&&0<le.length?(Z.push(le),"".concat(w[R])+" "):I;Z.push(le)}var N=0;this._textBaseline===c.CENTER?N=(Z.length-1)*D.textLeading()/2:this._textBaseline===c.BOTTOM&&(N=(Z.length-1)*D.textLeading());for(var q=0;q<E.length;q++){le="",w=E[q].split(" ");for(var J=0;J<w.length;J++)I="".concat(le+w[J])+" ",C<(O=this.textWidth(I))&&0<le.length?(this._renderText(D,le.trim(),j,S-N,X,W),le="".concat(w[J])+" ",S+=D.textLeading()):le=I;this._renderText(D,le.trim(),j,S-N,X,W),S+=D.textLeading()}}else{for(var re=[],ce=0;ce<E.length;ce++)for(var ge=E[ce].split(le=""),se=0;se<ge.length;se++)I="".concat(le+ge[se]),(O=this.textWidth(I))<=C?le+=ge[se]:C<O&&0<le.length&&(re.push(le),le="".concat(ge[se]));re.push(le);var pe=0;this._textBaseline===c.CENTER?pe=(re.length-1)*D.textLeading()/2:this._textBaseline===c.BOTTOM&&(pe=(re.length-1)*D.textLeading());for(var ye=0;ye<E.length;ye++){ge=E[ye].split(le="");for(var te=0;te<ge.length;te++)I="".concat(le+ge[te]),(O=this.textWidth(I))<=C?le+=ge[te]:C<O&&0<le.length&&(this._renderText(D,le.trim(),j,S-pe,X,W),S+=D.textLeading(),le="".concat(ge[te]))}this._renderText(D,le.trim(),j,S-pe,X,W),S+=D.textLeading()}}else{var me=0;this._textBaseline===c.CENTER?me=(E.length-1)*D.textLeading()/2:this._textBaseline===c.BOTTOM&&(me=(E.length-1)*D.textLeading());for(var we=0;we<E.length;we++)this._renderText(D,E[we],j,S-me,X,W-me),S+=D.textLeading()}return D}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return b(T)==="object"&&T.font&&T.font.supported}},{key:"_updateTextMetrics",value:function(){var T,j,S,C,L,E;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((T=document.createElement("span")).style.fontFamily=this._textFont,T.style.fontSize="".concat(this._textSize,"px"),T.innerHTML="ABCjgq|",(E=document.createElement("div")).style.display="inline-block",E.style.width="1px",E.style.height="0px",C=((j=document.createElement("div")).appendChild(T),j.appendChild(E),j.style.height="0px",j.style.overflow="hidden",document.body.appendChild(j),E.style.verticalAlign="baseline",s(E)),L=s(T),S=C[1]-L[1],C=(E.style.verticalAlign="bottom",s(E)),L=s(T),E=C[1]-L[1]-S,document.body.removeChild(j),this._setProperty("_textAscent",S),this._setProperty("_textDescent",E)),this}}])&&y(p.prototype,n),_})(g.default.Element);function s(n){var p=0,h=0;if(n.offsetParent)for(;p+=n.offsetLeft,h+=n.offsetTop,n=n.offsetParent;);else p+=n.offsetLeft,h+=n.offsetTop;return[p,h]}u.prototype.textSize=function(n){return typeof n=="number"?(this._setProperty("_textSize",n),this._leadingSet||this._setProperty("_textLeading",n*c._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},g.default.Renderer=u,t=g.default.Renderer,A.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(n,H,A){function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}function g(p){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(h){return m(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":m(h)})(p)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.reflect.get"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(s=n("./main"))&&s.__esModule?s:{default:s},d=(function(p){if(p&&p.__esModule)return p;if(p===null||g(p)!=="object"&&typeof p!="function")return{default:p};var h=b();if(h&&h.has(p))return h.get(p);var _,T={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in p){var S;Object.prototype.hasOwnProperty.call(p,_)&&((S=j?Object.getOwnPropertyDescriptor(p,_):null)&&(S.get||S.set)?Object.defineProperty(T,_,S):T[_]=p[_])}return T.default=p,h&&h.set(p,T),T})(n("./constants"));function b(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,b=function(){return p},p)}function y(p,h){for(var _=0;_<h.length;_++){var T=h[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}function r(p,h,_){return(r=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(C,j,S){var C=(function(L,E){for(;!Object.prototype.hasOwnProperty.call(L,E)&&(L=l(L))!==null;);return L})(C,j);if(C)return(C=Object.getOwnPropertyDescriptor(C,j)).get?C.get.call(S):C.value})(p,h,_||p)}function o(p,h){return(o=Object.setPrototypeOf||function(_,T){return _.__proto__=T,_})(p,h)}function i(p){return function(){var h,_=l(p),_=(h=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(h=l(this).constructor,Reflect.construct(_,arguments,h)):_.apply(this,arguments),this);if(!h||g(h)!=="object"&&typeof h!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return h}}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(p)}n("./p5.Renderer");var u="rgba(0,0,0,0)",s=(function(p){var h=T;if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),p&&o(h,p);var _=i(T);function T(j,S,C){if(this instanceof T)return(j=_.call(this,j,S,C)).drawingContext=j.canvas.getContext("2d"),j._pInst._setProperty("drawingContext",j.drawingContext),j;throw new TypeError("Cannot call a class as a function")}return h=T,(p=[{key:"getFilterGraphicsLayer",value:function(){var j;return this.filterGraphicsLayer||(j=(this._pInst instanceof c.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new c.default.Graphics(this.width,this.height,d.WEBGL,j)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=d.BLEND,this._setFill(d._DEFAULT_FILL),this._setStroke(d._DEFAULT_STROKE),this.drawingContext.lineCap=d.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(j,S){r(l(T.prototype),"resize",this).call(this,j,S),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var j,S;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof c.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(j=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(j,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(j=this._getFill(),S=(S=this._pInst).color.apply(S,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(S.levels),S=S.toString(),this._setFill(S),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(j),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setFill(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",j.levels)}},{key:"stroke",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setStroke(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",j.levels)}},{key:"erase",value:function(j,S){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,j=this._pInst.color(255,j).toString(),this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,j=this._pInst.color(255,S).toString(),this.drawingContext.strokeStyle=j,S=this._cachedBlendMode,this.blendMode(d.REMOVE),this._cachedBlendMode=S,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},j=(r(l(T.prototype),"beginClip",this).call(this,j),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),j=(this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),j=(this.drawingContext.strokeStyle=j,this._cachedBlendMode);this.blendMode(d.BLEND),this._cachedBlendMode=j,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),r(l(T.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(j,S,C,L,E,I,O,U,D){j.gifProperties&&j._animateGif(this._pInst);try{c.default.MediaElement&&j instanceof c.default.MediaElement&&j._ensureCanvas();var B=(B=this._tint&&j.canvas?this._getTintedImageCanvas(j):B)||j.canvas||j.elt,X=1;j.width&&0<j.width&&(X=B.width/j.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(B,X*S,X*C,X*L,X*E,I,O,U,D),this._isErasing&&this._pInst.erase()}catch(W){if(W.name!=="NS_ERROR_NOT_AVAILABLE")throw W}}},{key:"_getTintedImageCanvas",value:function(j){if(!j.canvas)return j;j.tintCanvas||(j.tintCanvas=document.createElement("canvas")),j.tintCanvas.width!==j.canvas.width&&(j.tintCanvas.width=j.canvas.width),j.tintCanvas.height!==j.canvas.height&&(j.tintCanvas.height=j.canvas.height);var S=j.tintCanvas.getContext("2d");return S.save(),S.clearRect(0,0,j.canvas.width,j.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(S.drawImage(j.canvas,0,0),S.globalCompositeOperation="luminosity",S.drawImage(j.canvas,0,0),S.globalCompositeOperation="color",S.drawImage(j.canvas,0,0),S.globalCompositeOperation="multiply",S.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),S.fillRect(0,0,j.canvas.width,j.canvas.height),S.globalCompositeOperation="destination-in"),S.globalAlpha=this._tint[3]/255,S.drawImage(j.canvas,0,0),S.restore(),j.tintCanvas}},{key:"blendMode",value:function(j){if(j===d.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(j!==d.BLEND&&j!==d.REMOVE&&j!==d.DARKEST&&j!==d.LIGHTEST&&j!==d.DIFFERENCE&&j!==d.MULTIPLY&&j!==d.EXCLUSION&&j!==d.SCREEN&&j!==d.REPLACE&&j!==d.OVERLAY&&j!==d.HARD_LIGHT&&j!==d.SOFT_LIGHT&&j!==d.DODGE&&j!==d.BURN&&j!==d.ADD)throw new Error("Mode ".concat(j," not recognized."));this._cachedBlendMode=j,this.drawingContext.globalCompositeOperation=j}}},{key:"blend",value:function(){for(var j=this.drawingContext.globalCompositeOperation,S=arguments.length,C=new Array(S),L=0;L<S;L++)C[L]=arguments[L];var E=C[C.length-1],I=Array.prototype.slice.call(C,0,C.length-1);this.drawingContext.globalCompositeOperation=E,c.default.prototype.copy.apply(this,I),this.drawingContext.globalCompositeOperation=j}},{key:"_getPixel",value:function(j,S){return j=this.drawingContext.getImageData(j,S,1,1).data,[j[0],j[1],j[2],j[3]]}},{key:"loadPixels",value:function(){var j=this._pixelsState,S=j._pixelDensity,C=this.width*S,S=this.height*S,C=this.drawingContext.getImageData(0,0,C,S);j._setProperty("imageData",C),j._setProperty("pixels",C.data)}},{key:"set",value:function(j,S,C){j=Math.floor(j),S=Math.floor(S);var L=this._pixelsState;if(C instanceof c.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(L._pixelDensity,L._pixelDensity),this.drawingContext.clearRect(j,S,C.width,C.height),this.drawingContext.drawImage(C.canvas,j,S),this.drawingContext.restore();else{var E=0,I=0,O=0,U=0,D=4*(S*L._pixelDensity*(this.width*L._pixelDensity)+j*L._pixelDensity);if(L.imageData||L.loadPixels(),typeof C=="number")D<L.pixels.length&&(O=I=E=C,U=255);else if(Array.isArray(C)){if(C.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");D<L.pixels.length&&(E=C[0],I=C[1],O=C[2],U=C[3])}else C instanceof c.default.Color&&D<L.pixels.length&&(E=C.levels[0],I=C.levels[1],O=C.levels[2],U=C.levels[3]);for(var B=0;B<L._pixelDensity;B++)for(var X=0;X<L._pixelDensity;X++)D=4*((S*L._pixelDensity+X)*this.width*L._pixelDensity+(j*L._pixelDensity+B)),L.pixels[D]=E,L.pixels[D+1]=I,L.pixels[D+2]=O,L.pixels[D+3]=U}}},{key:"updatePixels",value:function(j,S,C,L){var E=this._pixelsState,I=E._pixelDensity;j===void 0&&S===void 0&&C===void 0&&L===void 0&&(S=j=0,C=this.width,L=this.height),j*=I,S*=I,C*=I,L*=I,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=E.imageData),this.drawingContext.putImageData(E.imageData,0,0,j,S,C,L)}},{key:"arc",value:function(D,B,X,W,E,I,O){var U=this.drawingContext,D=D+X/2,B=B+W/2,X=X/2,W=W/2,G=!(O===d.CHORD||O===d.OPEN||(I-E)%d.TWO_PI==0);return this._doFill&&(this._clipping||U.beginPath(),U.ellipse(D,B,X,W,0,E,I),G&&U.lineTo(D,B),U.closePath(),this._clipping||U.fill()),this._doStroke&&(this._clipping||U.beginPath(),U.ellipse(D,B,X,W,0,E,I),O===d.PIE&&G&&U.lineTo(D,B),O!==d.PIE&&O!==d.CHORD||U.closePath(),this._clipping||U.stroke()),this}},{key:"ellipse",value:function(U){var S=this.drawingContext,C=this._doFill,L=this._doStroke,E=parseFloat(U[0]),I=parseFloat(U[1]),O=parseFloat(U[2]),U=parseFloat(U[3]);if(C&&!L){if(this._getFill()===u)return this}else if(!C&&L&&this._getStroke()===u)return this;E+=O/2,I+=U/2,O/=2,U/=2,this._clipping||S.beginPath(),S.ellipse(E,I,O,U,0,0,2*Math.PI),S.closePath(),!this._clipping&&C&&S.fill(),!this._clipping&&L&&S.stroke()}},{key:"line",value:function(j,S,C,L){var E=this.drawingContext;return this._doStroke&&this._getStroke()!==u&&(this._clipping||E.beginPath(),E.moveTo(j,S),E.lineTo(C,L),E.stroke()),this}},{key:"point",value:function(j,S){var C,L,E=this.drawingContext;return!this._doStroke||this._getStroke()===u?this:(C=this._getStroke(),L=this._getFill(),this._clipping||this._setFill(C),this._clipping||E.beginPath(),E.arc(j,S,E.lineWidth/2,0,d.TWO_PI,!1),void(this._clipping||(E.fill(),this._setFill(L))))}},{key:"quad",value:function(j,S,C,L,E,I,O,U){var D=this.drawingContext,B=this._doFill,X=this._doStroke;if(B&&!X){if(this._getFill()===u)return this}else if(!B&&X&&this._getStroke()===u)return this;return this._clipping||D.beginPath(),D.moveTo(j,S),D.lineTo(C,L),D.lineTo(E,I),D.lineTo(O,U),D.closePath(),!this._clipping&&B&&D.fill(),!this._clipping&&X&&D.stroke(),this}},{key:"rect",value:function(X){var S,C,L=X[0],E=X[1],I=X[2],O=X[3],U=X[4],D=X[5],B=X[6],X=X[7],W=this.drawingContext,G=this._doFill,Z=this._doStroke;if(G&&!Z){if(this._getFill()===u)return this}else if(!G&&Z&&this._getStroke()===u)return this;return this._clipping||W.beginPath(),U===void 0?W.rect(L,E,I,O):(D===void 0&&(D=U),B===void 0&&(B=D),X===void 0&&(X=B),Z=(G=Math.abs(I))/2,C=(S=Math.abs(O))/2,W.roundRect(L,E,I,O,[U=S<2*(U=G<2*U?Z:U)?C:U,D=S<2*(D=G<2*D?Z:D)?C:D,B=S<2*(B=G<2*B?Z:B)?C:B,X=S<2*(X=G<2*X?Z:X)?C:X])),!this._clipping&&this._doFill&&W.fill(),!this._clipping&&this._doStroke&&W.stroke(),this}},{key:"triangle",value:function(B){var S=this.drawingContext,C=this._doFill,L=this._doStroke,E=B[0],I=B[1],O=B[2],U=B[3],D=B[4],B=B[5];if(C&&!L){if(this._getFill()===u)return this}else if(!C&&L&&this._getStroke()===u)return this;this._clipping||S.beginPath(),S.moveTo(E,I),S.lineTo(O,U),S.lineTo(D,B),S.closePath(),!this._clipping&&C&&S.fill(),!this._clipping&&L&&S.stroke()}},{key:"endShape",value:function(j,S,C,L,E,I,O){if(S.length!==0&&(this._doStroke||this._doFill)){var U,D,B,X=j===d.CLOSE,W=(X&&!I&&S.push(S[0]),S.length);if(C&&O===null){if(3<W){var G=[],Z=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[1][0],S[1][1]),D=1;D+2<W;D++)U=S[D],G[0]=[U[0],U[1]],G[1]=[U[0]+(Z*S[D+1][0]-Z*S[D-1][0])/6,U[1]+(Z*S[D+1][1]-Z*S[D-1][1])/6],G[2]=[S[D+1][0]+(Z*S[D][0]-Z*S[D+2][0])/6,S[D+1][1]+(Z*S[D][1]-Z*S[D+2][1])/6],G[3]=[S[D+1][0],S[D+1][1]],this.drawingContext.bezierCurveTo(G[1][0],G[1][1],G[2][0],G[2][1],G[3][0],G[3][1]);X&&this.drawingContext.lineTo(S[D+1][0],S[D+1][1]),this._doFillStrokeClose(X)}}else if(L&&O===null){for(this._clipping||this.drawingContext.beginPath(),D=0;D<W;D++)S[D].isVert?S[D].moveTo?this.drawingContext.moveTo(S[D][0],S[D][1]):this.drawingContext.lineTo(S[D][0],S[D][1]):this.drawingContext.bezierCurveTo(S[D][0],S[D][1],S[D][2],S[D][3],S[D][4],S[D][5]);this._doFillStrokeClose(X)}else if(E&&O===null){for(this._clipping||this.drawingContext.beginPath(),D=0;D<W;D++)S[D].isVert?S[D].moveTo?this.drawingContext.moveTo(S[D][0],S[D][1]):this.drawingContext.lineTo(S[D][0],S[D][1]):this.drawingContext.quadraticCurveTo(S[D][0],S[D][1],S[D][2],S[D][3]);this._doFillStrokeClose(X)}else if(O===d.POINTS)for(D=0;D<W;D++)U=S[D],this._doStroke&&this._pInst.stroke(U[6]),this._pInst.point(U[0],U[1]);else if(O===d.LINES)for(D=0;D+1<W;D+=2)U=S[D],this._doStroke&&this._pInst.stroke(S[D+1][6]),this._pInst.line(U[0],U[1],S[D+1][0],S[D+1][1]);else if(O===d.TRIANGLES)for(D=0;D+2<W;D+=3)U=S[D],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(S[D+1][0],S[D+1][1]),this.drawingContext.lineTo(S[D+2][0],S[D+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(S[D+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(S[D+2][6]),this.drawingContext.stroke());else if(O===d.TRIANGLE_STRIP)for(D=0;D+1<W;D++)U=S[D],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[D+1][0],S[D+1][1]),this.drawingContext.lineTo(U[0],U[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[D+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(S[D+1][5]),D+2<W&&(this.drawingContext.lineTo(S[D+2][0],S[D+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[D+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(S[D+2][5])),this._doFillStrokeClose(X);else if(O===d.TRIANGLE_FAN){if(2<W){for(this._clipping||this.drawingContext.beginPath(),D=2;D<W;D++)U=S[D],this.drawingContext.moveTo(S[0][0],S[0][1]),this.drawingContext.lineTo(S[D-1][0],S[D-1][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(S[0][0],S[0][1]),D<W-1&&(this._doFill&&U[5]!==S[D+1][5]||this._doStroke&&U[6]!==S[D+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(U[5]),this.drawingContext.fill(),this._pInst.fill(S[D+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(U[6]),this.drawingContext.stroke(),this._pInst.stroke(S[D+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(X)}}else if(O===d.QUADS)for(D=0;D+3<W;D+=4){for(U=S[D],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),B=1;B<4;B++)this.drawingContext.lineTo(S[D+B][0],S[D+B][1]);this.drawingContext.lineTo(U[0],U[1]),!this._clipping&&this._doFill&&this._pInst.fill(S[D+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[D+3][6]),this._doFillStrokeClose(X)}else if(O===d.QUAD_STRIP){if(3<W)for(D=0;D+1<W;D+=2)U=S[D],this._clipping||this.drawingContext.beginPath(),D+3<W?(this.drawingContext.moveTo(S[D+2][0],S[D+2][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(S[D+1][0],S[D+1][1]),this.drawingContext.lineTo(S[D+3][0],S[D+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(S[D+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[D+3][6])):(this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(S[D+1][0],S[D+1][1])),this._doFillStrokeClose(X)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0][0],S[0][1]),D=1;D<W;D++)(U=S[D]).isVert&&(U.moveTo?(X&&this.drawingContext.closePath(),this.drawingContext.moveTo(U[0],U[1])):this.drawingContext.lineTo(U[0],U[1]));this._doFillStrokeClose(X),this.drawingContext.closePath()}I=E=L=C=!1,X&&S.pop()}return this}},{key:"strokeCap",value:function(j){return j!==d.ROUND&&j!==d.SQUARE&&j!==d.PROJECT||(this.drawingContext.lineCap=j),this}},{key:"strokeJoin",value:function(j){return j!==d.ROUND&&j!==d.BEVEL&&j!==d.MITER||(this.drawingContext.lineJoin=j),this}},{key:"strokeWeight",value:function(j){return this.drawingContext.lineWidth=j===void 0||j===0?1e-4:j,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(j){j!==this._cachedFillStyle&&(this.drawingContext.fillStyle=j,this._cachedFillStyle=j)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(j){j!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=j,this._cachedStrokeStyle=j)}},{key:"bezier",value:function(j,S,C,L,E,I,O,U){return this._pInst.beginShape(),this._pInst.vertex(j,S),this._pInst.bezierVertex(C,L,E,I,O,U),this._pInst.endShape(),this}},{key:"curve",value:function(j,S,C,L,E,I,O,U){return this._pInst.beginShape(),this._pInst.curveVertex(j,S),this._pInst.curveVertex(C,L),this._pInst.curveVertex(E,I),this._pInst.curveVertex(O,U),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(j){j&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(j,S,C,L,E,I){this.drawingContext.transform(j,S,C,L,E,I)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(j){this.drawingContext.rotate(j)}},{key:"scale",value:function(j,S){return this.drawingContext.scale(j,S),this}},{key:"translate",value:function(j,S){return j instanceof c.default.Vector&&(S=j.y,j=j.x),this.drawingContext.translate(j,S),this}},{key:"_renderText",value:function(j,S,C,L,E,I){if(!(L<I||E<=L))return j.push(),this._isOpenType()?this._textFont._renderPath(S,C,L,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(S,C,L),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(d._DEFAULT_TEXT_FILL),this.drawingContext.fillText(S,C,L))),j.pop(),j}},{key:"textWidth",value:function(j){return this._isOpenType()?this._textFont._textWidth(j,this._textSize):this.drawingContext.measureText(j).width}},{key:"_applyTextProperties",value:function(){var j=this._pInst,S=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),S=this._textFont,this._isOpenType()&&(S=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),S||"sans-serif");return/\s/.exec(S)&&(S='"'.concat(S,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(S),this.drawingContext.textAlign=this._textAlign,this._textBaseline===d.CENTER?this.drawingContext.textBaseline=d._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,j}},{key:"push",value:function(){return this.drawingContext.save(),r(l(T.prototype),"push",this).call(this)}},{key:"pop",value:function(j){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,r(l(T.prototype),"pop",this).call(this,j)}}])&&y(h.prototype,p),T})(c.default.Renderer),n=(s.prototype.text=function(p,h,_,C,j){C!==void 0&&this.drawingContext.textBaseline===d.BASELINE&&(S=!0,this.drawingContext.textBaseline=d.TOP);var S,C=c.default.Renderer.prototype.text.apply(this,arguments);return S&&(this.drawingContext.textBaseline=d.BASELINE),C},c.default.Renderer2D=s,c.default.Renderer2D);A.default=n},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,H,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var m=(t=t("./main"))&&t.__esModule?t:{default:t};m.default.prototype._promisePreloads=[];function g(){return{}}var c=!(m.default.prototype.registerPromisePreload=function(d){m.default.prototype._promisePreloads.push(d)});m.default.prototype._setupPromisePreloads=function(){var d=!0,b=!1,y=void 0;try{for(var r,o=this._promisePreloads[Symbol.iterator]();!(d=(r=o.next()).done);d=!0){var i=r.value,l=this,u=i.method,s=i.addCallbacks,n=i.legacyPreloadSetup,p=i.target||this,h=p[u].bind(p);if(p===m.default.prototype){if(c)continue;l=null,h=p[u]}p[u]=this._wrapPromisePreload(l,h,s),n&&(p[n.method]=this._legacyPreloadGenerator(l,n,p[u]))}}catch(_){b=!0,y=_}finally{try{d||o.return==null||o.return()}finally{if(b)throw y}}c=!0},m.default.prototype._wrapPromisePreload=function(d,b,y){var r=function(){for(var o=this,i=(this._incrementPreload(),null),l=null,u=arguments.length,s=new Array(u),n=0;n<u;n++)s[n]=arguments[n];if(y)for(var p=s.length-1;0<=p&&!l&&typeof s[p]=="function";p--)l=i,i=s.pop();var h=Promise.resolve(b.apply(this,s));return i&&h.then(i),l&&h.catch(l),h.then(function(){return o._decrementPreload()}),h};return r=d?r.bind(d):r},m.default.prototype._legacyPreloadGenerator=function(d,o,y){var r=o.createBaseObject||g,o=function(){var i=this;this._incrementPreload();for(var l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];var n=r.apply(this,u);return y.apply(this,u).then(function(p){Object.assign(n,p),i._decrementPreload()}),n};return o=d?o.bind(d):o}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,H,A){function m(o){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(r=t("./main"))&&r.__esModule?r:{default:r},c=(function(o){if(o&&o.__esModule)return o;if(o===null||b(o)!=="object"&&typeof o!="function")return{default:o};var i=d();if(i&&i.has(o))return i.get(o);var l,u={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in o){var n;Object.prototype.hasOwnProperty.call(o,l)&&((n=s?Object.getOwnPropertyDescriptor(o,l):null)&&(n.get||n.set)?Object.defineProperty(u,l,n):u[l]=o[l])}return u.default=o,i&&i.set(o,u),u})(t("./constants"));function d(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,d=function(){return o},o)}function b(o){return(b=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(i){return m(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":m(i)})(o)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var y="defaultCanvas0",r=(g.default.prototype.createCanvas=function(o,i,l,u){var s,n,p;if(g.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(l=c.P2D,u=arguments[2]):s=l||c.P2D,u)(p=document.getElementById(y))&&p.parentNode.removeChild(p),p=u,this._defaultGraphicsCreated=!1;else{if(s===c.WEBGL)(p=document.getElementById(y))&&(p.parentNode.removeChild(p),n=this._renderer,this._elements=this._elements.filter(function(_){return _!==n})),(p=document.createElement("canvas")).id=y,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=u||document.createElement("canvas");for(var h=0;document.getElementById("defaultCanvas".concat(h));)h++;y="defaultCanvas".concat(h),p.id=y,p.classList.add("p5Canvas")}this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(l=document.createElement("main"),document.body.appendChild(l)),document.getElementsByTagName("main")[0])).appendChild(p)}return s===c.WEBGL?(this._setProperty("_renderer",new g.default.RendererGL(p,this,!0)),this._elements.push(this._renderer),o=(u=this._renderer._adjustDimensions(o,i)).adjustedWidth,i=u.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new g.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(o,i),this._renderer._applyDefaults(),this._renderer},g.default.prototype.resizeCanvas=function(o,i,l){if(g.default._validateParameters("resizeCanvas",arguments),this._renderer){var u,s,n,p={};for(u in this.drawingContext){var h=this.drawingContext[u];b(h)!=="object"&&typeof h!="function"&&(p[u]=h)}for(n in this._renderer instanceof g.default.RendererGL&&(o=(s=this._renderer._adjustDimensions(o,i)).adjustedWidth,i=s.adjustedHeight),this.width=o,this.height=i,this._renderer.resize(o,i),p)try{this.drawingContext[n]=p[n]}catch{}l||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},g.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},g.default.prototype.createGraphics=function(o,i){for(var l=arguments.length,u=new Array(2<l?l-2:0),s=2;s<l;s++)u[s-2]=arguments[s];return u[0]instanceof HTMLCanvasElement&&(u[1]=u[0],u[0]=c.P2D),g.default._validateParameters("createGraphics",arguments),new g.default.Graphics(o,i,u[0],this,u[1])},g.default.prototype.createFramebuffer=function(o){return new g.default.Framebuffer(this,o)},g.default.prototype.clearDepth=function(o){this._assert3d("clearDepth"),this._renderer.clearDepth(o)},g.default.prototype.blendMode=function(o){g.default._validateParameters("blendMode",arguments),o===c.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),o=c.BLEND),this._renderer.blendMode(o)},g.default);A.default=r},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,H,A){function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function g(i){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(l){return m(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":m(l)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=r(t("../main")),d=(function(i){if(i&&i.__esModule)return i;if(i===null||g(i)!=="object"&&typeof i!="function")return{default:i};var l=y();if(l&&l.has(i))return l.get(i);var u,s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var p;Object.prototype.hasOwnProperty.call(i,u)&&((p=n?Object.getOwnPropertyDescriptor(i,u):null)&&(p.get||p.set)?Object.defineProperty(s,u,p):s[u]=i[u])}return s.default=i,l&&l.set(i,s),s})(t("../constants")),b=r(t("../helpers"));function y(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,y=function(){return i},i)}function r(i){return i&&i.__esModule?i:{default:i}}function o(i){return(function(l){if(Array.isArray(l)){for(var u=0,s=new Array(l.length);u<l.length;u++)s[u]=l[u];return s}})(i)||(function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)})(i)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),c.default.prototype._normalizeArcAngles=function(i,l,u,s,n){var p;return i-=d.TWO_PI*Math.floor(i/d.TWO_PI),l-=d.TWO_PI*Math.floor(l/d.TWO_PI),p=Math.min(Math.abs(i-l),d.TWO_PI-Math.abs(i-l)),n&&(i=i<=d.HALF_PI?Math.atan(u/s*Math.tan(i)):i>d.HALF_PI&&i<=3*d.HALF_PI?Math.atan(u/s*Math.tan(i))+d.PI:Math.atan(u/s*Math.tan(i))+d.TWO_PI,l=l<=d.HALF_PI?Math.atan(u/s*Math.tan(l)):l>d.HALF_PI&&l<=3*d.HALF_PI?Math.atan(u/s*Math.tan(l))+d.PI:Math.atan(u/s*Math.tan(l))+d.TWO_PI),l<i&&(l+=d.TWO_PI),{start:i,stop:l,correspondToSamePoint:p<1e-5}},c.default.prototype.arc=function(i,l,u,s,n,p,h,_){return c.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&n!==p&&(n=this._toRadians(n),p=this._toRadians(p),i=b.default.modeAdjust(i,l,u,s,this._renderer._ellipseMode),(l=this._normalizeArcAngles(n,p,i.w,i.h,!0)).correspondToSamePoint?this._renderer.ellipse([i.x,i.y,i.w,i.h,_]):(this._renderer.arc(i.x,i.y,i.w,i.h,l.start,l.stop,h,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[i.x,i.y,i.w,i.h,l.start,l.stop,h]))),this},c.default.prototype.ellipse=function(i,l,u,s,n){return c.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},c.default.prototype.circle=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];c.default._validateParameters("circle",l);var s=l.slice(0,2);return s.push(l[2],l[2]),this._renderEllipse.apply(this,o(s))},c.default.prototype._renderEllipse=function(i,l,u,s,n){return(this._renderer._doStroke||this._renderer._doFill)&&(i=b.default.modeAdjust(i,l,u,s=s===void 0?u:s,this._renderer._ellipseMode),this._renderer.ellipse([i.x,i.y,i.w,i.h,n]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[i.x,i.y,i.w,i.h])),this},c.default.prototype.line=function(){for(var i,l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return c.default._validateParameters("line",u),this._renderer._doStroke&&(i=this._renderer).line.apply(i,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",u),this},c.default.prototype.point=function(){for(var i,l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return c.default._validateParameters("point",u),this._renderer._doStroke&&(u.length===1&&u[0]instanceof c.default.Vector?this._renderer.point.call(this._renderer,u[0].x,u[0].y,u[0].z):((i=this._renderer).point.apply(i,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",u))),this},c.default.prototype.quad=function(){for(var i,l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return c.default._validateParameters("quad",u),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&u.length<12?this._renderer.quad.call(this._renderer,u[0],u[1],0,u[2],u[3],0,u[4],u[5],0,u[6],u[7],0,u[8],u[9]):((i=this._renderer).quad.apply(i,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",u))),this},c.default.prototype.rect=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return c.default._validateParameters("rect",l),this._renderRect.apply(this,l)},c.default.prototype.square=function(i,l,u,s,n,p,h){return c.default._validateParameters("square",arguments),this._renderRect.call(this,i,l,u,u,s,n,p,h)},c.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var i=b.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),l=(this._renderer._rectMode===d.CORNER&&(i.w=arguments[2],i.h=arguments[3]),[i.x,i.y,i.w,i.h]),u=4;u<arguments.length;u++)l[u]=arguments[u];this._renderer.rect(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[i.x,i.y,i.w,i.h])}return this},c.default.prototype.triangle=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return c.default._validateParameters("triangle",l),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",l),this},t=c.default,A.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,H,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(o){return m(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":m(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../main"))&&y.__esModule?y:{default:y},d=(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var o=b();if(o&&o.has(r))return o.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var s;Object.prototype.hasOwnProperty.call(r,i)&&((s=u?Object.getOwnPropertyDescriptor(r,i):null)&&(s.get||s.set)?Object.defineProperty(l,i,s):l[i]=r[i])}return l.default=r,o&&o.set(r,l),l})(t("../constants"));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}c.default.prototype.ellipseMode=function(r){return c.default._validateParameters("ellipseMode",arguments),r!==d.CORNER&&r!==d.CORNERS&&r!==d.RADIUS&&r!==d.CENTER||(this._renderer._ellipseMode=r),this},c.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},c.default.prototype.rectMode=function(r){return c.default._validateParameters("rectMode",arguments),r!==d.CORNER&&r!==d.CORNERS&&r!==d.RADIUS&&r!==d.CENTER||(this._renderer._rectMode=r),this},c.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},c.default.prototype.strokeCap=function(r){return c.default._validateParameters("strokeCap",arguments),r!==d.ROUND&&r!==d.SQUARE&&r!==d.PROJECT||this._renderer.strokeCap(r),this},c.default.prototype.strokeJoin=function(r){return c.default._validateParameters("strokeJoin",arguments),r!==d.ROUND&&r!==d.BEVEL&&r!==d.MITER||this._renderer.strokeJoin(r),this},c.default.prototype.strokeWeight=function(r){return c.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(r),this};var y=c.default;A.default=y},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(g=t("../main"))&&g.__esModule?g:{default:g};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),m.default.prototype.bezier=function(){for(var c,d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];return m.default._validateParameters("bezier",b),(this._renderer._doStroke||this._renderer._doFill)&&(c=this._renderer).bezier.apply(c,b),this},m.default.prototype.bezierDetail=function(c){return m.default._validateParameters("bezierDetail",arguments),this._bezierDetail=c,this},m.default.prototype.bezierPoint=function(c,d,b,y,r){m.default._validateParameters("bezierPoint",arguments);var o=1-r;return Math.pow(o,3)*c+3*Math.pow(o,2)*r*d+3*o*Math.pow(r,2)*b+Math.pow(r,3)*y},m.default.prototype.bezierTangent=function(c,d,b,y,r){m.default._validateParameters("bezierTangent",arguments);var o=1-r;return 3*y*Math.pow(r,2)-3*b*Math.pow(r,2)+6*b*o*r-6*d*o*r+3*d*Math.pow(o,2)-3*c*Math.pow(o,2)},m.default.prototype.curve=function(){for(var c,d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];return m.default._validateParameters("curve",b),this._renderer._doStroke&&(c=this._renderer).curve.apply(c,b),this},m.default.prototype.curveDetail=function(c){return m.default._validateParameters("curveDetail",arguments),this._curveDetail=c<3?3:c,this},m.default.prototype.curveTightness=function(c){return m.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=c,this},m.default.prototype.curvePoint=function(c,d,b,y,r){m.default._validateParameters("curvePoint",arguments);var o=this._renderer._curveTightness,i=r*r*r,l=r*r;return c*((o-1)/2*i+(1-o)*l+(o-1)/2*r)+d*((o+3)/2*i+(-5-o)/2*l+1)+b*((-3-o)/2*i+(o+2)*l+(1-o)/2*r)+y*((1-o)/2*i+(o-1)/2*l)},m.default.prototype.curveTangent=function(c,d,b,y,l){m.default._validateParameters("curveTangent",arguments);var o=this._renderer._curveTightness,i=l*l*3,l=2*l;return c*((o-1)/2*i+(1-o)*l+(o-1)/2)+d*((o+3)/2*i+(-5-o)/2*l)+b*((-3-o)/2*i+(o+2)*l+(1-o)/2)+y*((1-o)/2*i+(o-1)/2*l)};var g=m.default;A.default=g},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,H,A){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function g(h){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(_){return m(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":m(_)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(p=t("../main"))&&p.__esModule?p:{default:p},d=(function(h){if(h&&h.__esModule)return h;if(h===null||g(h)!=="object"&&typeof h!="function")return{default:h};var _=b();if(_&&_.has(h))return _.get(h);var T,j={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in h){var C;Object.prototype.hasOwnProperty.call(h,T)&&((C=S?Object.getOwnPropertyDescriptor(h,T):null)&&(C.get||C.set)?Object.defineProperty(j,T,C):j[T]=h[T])}return j.default=h,_&&_.set(h,j),j})(t("../constants"));function b(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,b=function(){return h},h)}var y=null,r=[],o=[],i=!1,l=!1,u=!1,s=!1,n=!0,p=(c.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(o=[],s=!0),this},c.default.prototype.beginShape=function(h){var _;return c.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(_=this._renderer).beginShape.apply(_,arguments):(y=h===d.POINTS||h===d.LINES||h===d.TRIANGLES||h===d.TRIANGLE_FAN||h===d.TRIANGLE_STRIP||h===d.QUADS||h===d.QUAD_STRIP?h:null,r=[],o=[]),this},c.default.prototype.bezierVertex=function(){for(var h,_=arguments.length,T=new Array(_),j=0;j<_;j++)T[j]=arguments[j];if(c.default._validateParameters("bezierVertex",T),this._renderer.isP3D)(h=this._renderer).bezierVertex.apply(h,T);else if(r.length===0)c.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{i=!0;for(var S=[],C=0;C<T.length;C++)S[C]=T[C];S.isVert=!1,(s?o:r).push(S)}return this},c.default.prototype.curveVertex=function(){for(var h,_=arguments.length,T=new Array(_),j=0;j<_;j++)T[j]=arguments[j];return c.default._validateParameters("curveVertex",T),this._renderer.isP3D?(h=this._renderer).curveVertex.apply(h,T):(l=!0,this.vertex(T[0],T[1])),this},c.default.prototype.endContour=function(){if(!this._renderer.isP3D){var h=o[0].slice();h.isVert=o[0].isVert,h.moveTo=!1,o.push(h),n&&(r.push(r[0]),n=!1);for(var _=0;_<o.length;_++)r.push(o[_])}return this},c.default.prototype.endShape=function(h){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(c.default._validateParameters("endShape",arguments),_<1&&(console.log(" p5.js says: You can not have less than one instance"),_=1),this._renderer.isP3D)this._renderer.endShape(h,l,i,u,s,y,_);else{if(_!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),r.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;_=h===d.CLOSE,_&&!s&&r.push(r[0]),this._renderer.endShape(h,r,l,i,u,s,y),n=!(s=u=i=l=!1),_&&r.pop()}return this},c.default.prototype.quadraticVertex=function(){for(var h,_=arguments.length,T=new Array(_),j=0;j<_;j++)T[j]=arguments[j];if(c.default._validateParameters("quadraticVertex",T),this._renderer.isP3D)(h=this._renderer).quadraticVertex.apply(h,T);else{if(this._contourInited)return(h={}).x=T[0],h.y=T[1],h.x3=T[2],h.y3=T[3],h.type=d.QUADRATIC,this._contourVertices.push(h),this;if(0<r.length){u=!0;for(var S=[],C=0;C<T.length;C++)S[C]=T[C];S.isVert=!1,(s?o:r).push(S)}else c.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},c.default.prototype.vertex=function(h,_,T,j,S){var C;return this._renderer.isP3D?(C=this._renderer).vertex.apply(C,arguments):((C=[]).isVert=!0,C[0]=h,C[1]=_,C[2]=0,C[3]=0,C[4]=0,C[5]=this._renderer._getFill(),C[6]=this._renderer._getStroke(),T&&(C.moveTo=T),(s?(o.length===0&&(C.moveTo=!0),o):r).push(C)),this},c.default.prototype.normal=function(h,_,T){var j;return this._assert3d("normal"),c.default._validateParameters("normal",arguments),(j=this._renderer).normal.apply(j,arguments),this},c.default);A.default=p},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,H,A){},{}],295:[function(t,H,A){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var m=this._styles.pop();m?(this._renderer.pop(m.renderer),Object.assign(this,m.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(m){if(!this._inUserDraw&&this._setupDone){var g=parseInt(m),c=((isNaN(g)||g<1)&&(g=1),this._isGlobal?window:this);if(typeof c.draw=="function"){c.setup===void 0&&c.scale(c._pixelDensity,c._pixelDensity);for(var d=0;d<g;d++){c.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),c._renderer.isP3D&&c._renderer._update(),c._setProperty("frameCount",c.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{c.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,A.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,H,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("./main"))&&t.__esModule?t:{default:t};function g(c){return(function(d){if(Array.isArray(d)){for(var b=0,y=new Array(d.length);b<d.length;b++)y[b]=d[b];return y}})(c)||(function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)})(c)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}m.default.prototype.applyMatrix=function(){var c=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||c?(c=this._renderer).applyMatrix.apply(c,g(arguments.length<=0?void 0:arguments[0])):(c=this._renderer).applyMatrix.apply(c,arguments),this},m.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},m.default.prototype.rotate=function(c,d){return m.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(c),d),this},m.default.prototype.rotateX=function(c){return this._assert3d("rotateX"),m.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(c)),this},m.default.prototype.rotateY=function(c){return this._assert3d("rotateY"),m.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(c)),this},m.default.prototype.rotateZ=function(c){return this._assert3d("rotateZ"),m.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(c)),this},m.default.prototype.scale=function(c,d,b){var y;return m.default._validateParameters("scale",arguments),c instanceof m.default.Vector?(c=(y=c).x,d=y.y,b=y.z):Array.isArray(c)&&(c=(y=c)[0],d=y[1],b=y[2]||1),isNaN(d)?d=b=c:isNaN(b)&&(b=1),this._renderer.scale(c,d,b),this},m.default.prototype.shearX=function(c){return m.default._validateParameters("shearX",arguments),c=this._toRadians(c),this._renderer.applyMatrix(1,0,Math.tan(c),1,0,0),this},m.default.prototype.shearY=function(c){return m.default._validateParameters("shearY",arguments),c=this._toRadians(c),this._renderer.applyMatrix(1,Math.tan(c),0,1,0,0),this},m.default.prototype.translate=function(c,d,b){return m.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(c,d,b):this._renderer.translate(c,d),this},t=m.default,A.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,H,A){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var g=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(b){return(function(y){if(Array.isArray(y)){for(var r=0,o=new Array(y.length);r<y.length;r++)o[r]=y[r];return o}})(b)||(function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)})(b)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function d(b){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(y){return m(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":m(y)})(b)}g.default.prototype.storeItem=function(b,y){typeof b!="string"&&console.log("The argument that you passed to storeItem() - ".concat(b," is not a string.")),b.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(b," must not end with 'p5TypeID'.")),y===void 0&&console.log("You cannot store undefined variables using storeItem().");var r=d(y);switch(r){case"number":case"boolean":y=y.toString();break;case"object":y instanceof g.default.Color?r="p5.Color":y instanceof g.default.Vector&&(r="p5.Vector",y=[y.x,y.y,y.z]),y=JSON.stringify(y)}localStorage.setItem(b,y),b="".concat(b,"p5TypeID"),localStorage.setItem(b,r)},g.default.prototype.getItem=function(b){var y=localStorage.getItem(b),r=localStorage.getItem("".concat(b,"p5TypeID"));if(r===void 0)console.log("Unable to determine type of item stored under ".concat(b,"in local storage. Did you save the item with something other than setItem()?"));else if(y!==null)switch(r){case"number":y=parseFloat(y);break;case"boolean":y=y==="true";break;case"object":y=JSON.parse(y);break;case"p5.Color":y=JSON.parse(y),y=this.color.apply(this,c(y.levels));break;case"p5.Vector":y=JSON.parse(y),y=this.createVector.apply(this,c(y))}return y},g.default.prototype.clearStorage=function(){var b=this;Object.keys(localStorage).forEach(function(y){y.endsWith("p5TypeID")&&b.removeItem(y.replace("p5TypeID",""))})},g.default.prototype.removeItem=function(b){typeof b!="string"&&console.log("The argument that you passed to removeItem() - ".concat(b," is not a string.")),localStorage.removeItem(b),localStorage.removeItem("".concat(b,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,H,A){function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}function g(u){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(s){return m(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":m(s)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),s&&b(u,s)}function b(u,s){return(b=Object.setPrototypeOf||function(n,p){return n.__proto__=p,n})(u,s)}function y(u){return function(){var s,n=r(u),n=(s=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(s=r(this).constructor,Reflect.construct(n,arguments,s)):n.apply(this,arguments),this);if(!s||g(s)!=="object"&&typeof s!="function"){if(n!==void 0)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return s}}function r(u){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)})(u)}function o(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function i(u,s){for(var n=0;n<s.length;n++){var p=s[n];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}function l(u,s,n){s&&i(u.prototype,s)}c.default.prototype.createStringDict=function(u,s){return c.default._validateParameters("createStringDict",arguments),new c.default.StringDict(u,s)},c.default.prototype.createNumberDict=function(u,s){return c.default._validateParameters("createNumberDict",arguments),new c.default.NumberDict(u,s)},c.default.TypedDict=(function(){function u(s,n){return o(this,u),s instanceof Object?this.data=s:(this.data={},this.data[s]=n),this}return l(u,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(s){return this.data.hasOwnProperty(s)}},{key:"get",value:function(s){if(this.data.hasOwnProperty(s))return this.data[s];console.log("".concat(s," does not exist in this Dictionary"))}},{key:"set",value:function(s,n){this._validate(n)?this.data[s]=n:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(s){for(var n in s)this.set(n,s[n])}},{key:"create",value:function(s,n){s instanceof Object&&n===void 0?this._addObj(s):s!==void 0?this.set(s,n):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(s){if(!this.data.hasOwnProperty(s))throw new Error("".concat(s," does not exist in this Dictionary"));delete this.data[s]}},{key:"print",value:function(){for(var s in this.data)console.log("key:".concat(s," value:").concat(this.data[s]))}},{key:"saveTable",value:function(s){var n,p="";for(n in this.data)p+="".concat(n,",").concat(this.data[n],`
`);var h=new Blob([p],{type:"text/csv"});c.default.prototype.downloadFile(h,s||"mycsv","csv")}},{key:"saveJSON",value:function(s,n){c.default.prototype.saveJSON(this.data,s,n)}},{key:"_validate",value:function(s){return!0}}]),u})(),c.default.StringDict=(function(){d(s,c.default.TypedDict);var u=y(s);function s(){o(this,s);for(var n=arguments.length,p=new Array(n),h=0;h<n;h++)p[h]=arguments[h];return u.call.apply(u,[this].concat(p))}return l(s,[{key:"_validate",value:function(n){return typeof n=="string"}}]),s})(),c.default.NumberDict=(function(){d(s,c.default.TypedDict);var u=y(s);function s(){o(this,s);for(var n=arguments.length,p=new Array(n),h=0;h<n;h++)p[h]=arguments[h];return u.call.apply(u,[this].concat(p))}return l(s,[{key:"_validate",value:function(n){return typeof n=="number"}},{key:"add",value:function(n,p){this.data.hasOwnProperty(n)?this.data[n]+=p:console.log("The key - ".concat(n," does not exist in this dictionary."))}},{key:"sub",value:function(n,p){this.add(n,-p)}},{key:"mult",value:function(n,p){this.data.hasOwnProperty(n)?this.data[n]*=p:console.log("The key - ".concat(n," does not exist in this dictionary."))}},{key:"div",value:function(n,p){this.data.hasOwnProperty(n)?this.data[n]/=p:console.log("The key - ".concat(n," does not exist in this dictionary."))}},{key:"_valueTest",value:function(n){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var p,h=this.data[Object.keys(this.data)[0]];for(p in this.data)this.data[p]*n<h*n&&(h=this.data[p]);return h}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(n){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var p=Object.keys(this.data)[0],h=1;h<Object.keys(this.data).length;h++)Object.keys(this.data)[h]*n<p*n&&(p=Object.keys(this.data)[h]);return p}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),s})(),t=c.default.TypedDict,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,H,A){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(h,_){for(var T=0;T<_.length;T++){var j=_[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(h,j.key,j)}}function d(h,_,T){_&&c(h.prototype,_),T&&c(h,T)}function b(h,_){return(b=Object.setPrototypeOf||function(T,j){return T.__proto__=j,T})(h,_)}function y(h){return function(){var _,T,j=o(h);return _=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(_=o(this).constructor,Reflect.construct(j,arguments,_)):j.apply(this,arguments),j=this,!(T=_)||l(T)!=="object"&&typeof T!="function"?r(j):T}}function r(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function o(h){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(h)}function i(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}function l(h){return(l=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(_){return m(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":m(_)})(h)}function u(h,_,T){return(_._userNode||document.body).appendChild(h),T=new(T?g.default.MediaElement:g.default.Element)(h,_),_._elements.push(T),T}g.default.prototype.select=function(h,_){return g.default._validateParameters("select",arguments),_=this._getContainer(_).querySelector(h),_?this._wrapElement(_):null},g.default.prototype.selectAll=function(h,_){g.default._validateParameters("selectAll",arguments);var T=[],j=this._getContainer(_).querySelectorAll(h);if(j)for(var S=0;S<j.length;S++){var C=this._wrapElement(j[S]);T.push(C)}return T},g.default.prototype._getContainer=function(h){var _=document;return typeof h=="string"?_=document.querySelector(h)||document:h instanceof g.default.Element?_=h.elt:h instanceof HTMLElement&&(_=h),_},g.default.prototype._wrapElement=function(h){var _,T=Array.prototype.slice.call(h.children);return h.tagName==="INPUT"&&h.type==="checkbox"?((_=new g.default.Element(h,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},_):h.tagName==="VIDEO"||h.tagName==="AUDIO"?new g.default.MediaElement(h,this):h.tagName==="SELECT"?this.createSelect(new g.default.Element(h,this)):0<T.length&&T.every(function(j){return j.tagName==="INPUT"||j.tagName==="LABEL"})&&(h.tagName==="DIV"||h.tagName==="SPAN")?this.createRadio(new g.default.Element(h,this)):new g.default.Element(h,this)},g.default.prototype.removeElements=function(h){g.default._validateParameters("removeElements",arguments),this._elements.filter(function(_){return!(_.elt instanceof HTMLCanvasElement)}).map(function(_){return _.remove()})},g.default.Element.prototype.changed=function(h){return g.default.Element._adjustListener("change",h,this),this},g.default.Element.prototype.input=function(h){return g.default.Element._adjustListener("input",h,this),this},g.default.prototype.createDiv=function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("div");return _.innerHTML=h,u(_,this)},g.default.prototype.createP=function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("p");return _.innerHTML=h,u(_,this)},g.default.prototype.createSpan=function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("span");return _.innerHTML=h,u(_,this)},g.default.prototype.createImg=function(){g.default._validateParameters("createImg",arguments);var h,_=document.createElement("img"),T=arguments;return 1<T.length&&typeof T[1]=="string"&&(_.alt=T[1]),2<T.length&&typeof T[2]=="string"&&(_.crossOrigin=T[2]),_.src=T[0],h=u(_,this),_.addEventListener("load",function(){h.width=_.offsetWidth||_.width,h.height=_.offsetHeight||_.height;var j=T[T.length-1];typeof j=="function"&&j(h)}),h},g.default.prototype.createA=function(h,_,T){g.default._validateParameters("createA",arguments);var j=document.createElement("a");return j.href=h,j.innerHTML=_,T&&(j.target=T),u(j,this)},g.default.prototype.createSlider=function(h,_,T,j){g.default._validateParameters("createSlider",arguments);var S=document.createElement("input");return S.type="range",S.min=h,S.max=_,j===0?S.step=1e-18:j&&(S.step=j),typeof T=="number"&&(S.value=T),u(S,this)},g.default.prototype.createButton=function(h,_){g.default._validateParameters("createButton",arguments);var T=document.createElement("button");return T.innerHTML=h,_&&(T.value=_),u(T,this)},g.default.prototype.createCheckbox=function(){for(var h=arguments.length,_=new Array(h),T=0;T<h;T++)_[T]=arguments[T];g.default._validateParameters("createCheckbox",_);var j=document.createElement("div"),S=document.createElement("input"),C=(S.type="checkbox",document.createElement("label")),L=(C.appendChild(S),j.appendChild(C),u(j,this));return L.checked=function(){var E=L.elt.firstElementChild.getElementsByTagName("input")[0];if(E){if(arguments.length===0)return E.checked;E.checked=!(arguments.length<=0||!arguments[0])}return L},this.value=function(E){return L.value=E,this},_[0]&&(L.value(_[0]),(j=document.createElement("span")).innerHTML=_[0],C.appendChild(j)),_[1]&&(S.checked=!0),L},g.default.prototype.createSelect=function(){for(var h,_=arguments.length,T=new Array(_),j=0;j<_;j++)T[j]=arguments[j];g.default._validateParameters("createSelect",T);var S,C=T[0];return C instanceof g.default.Element&&C.elt instanceof HTMLSelectElement?this.elt=(h=C).elt:C instanceof HTMLSelectElement?(h=u(C,this),this.elt=C):(S=document.createElement("select"),C&&typeof C=="boolean"&&S.setAttribute("multiple","true"),h=u(S,this),this.elt=S),h.option=function(L,E){var I;if(L!==void 0){for(var O,U=0;U<this.elt.length;U+=1)if(this.elt[U].textContent===L){I=U;break}I!==void 0?E===!1?this.elt.remove(I):this.elt[I].value=E:((O=document.createElement("option")).textContent=L,O.value=E===void 0?L:E,this.elt.appendChild(O),this._pInst._elements.push(O))}},h.selected=function(L){if(L!==void 0){for(var E=0;E<this.elt.length;E+=1)this.elt[E].value.toString()===L.toString()&&(this.elt.selectedIndex=E);return this}if(this.elt.getAttribute("multiple")){var I=[],O=!0,U=!1,D=void 0;try{for(var B,X=this.elt.selectedOptions[Symbol.iterator]();!(O=(B=X.next()).done);O=!0){var W=B.value;I.push(W.value)}}catch(G){U=!0,D=G}finally{try{O||X.return==null||X.return()}finally{if(U)throw D}}return I}return this.elt.value},h.disable=function(L){if(typeof L=="string")for(var E=0;E<this.elt.length;E++)this.elt[E].value.toString()===L&&(this.elt[E].disabled=!0,this.elt[E].selected=!1);else this.elt.disabled=!0;return this},h.enable=function(L){if(typeof L=="string")for(var E=0;E<this.elt.length;E++)this.elt[E].value.toString()===L&&(this.elt[E].disabled=!1,this.elt[E].selected=!1);else{this.elt.disabled=!1;for(var I=0;I<this.elt.length;I++)this.elt[I].disabled=!1,this.elt[I].selected=!1}return this},h};var s=0;function n(h,L,T,j){var S=document.createElement(L),C=(typeof(T=T||"")=="string"&&(T=[T]),!0),L=!1,E=void 0;try{for(var I,O=T[Symbol.iterator]();!(C=(I=O.next()).done);C=!0){var U=I.value,D=document.createElement("source");D.setAttribute("src",U),S.appendChild(D)}}catch(X){L=!0,E=X}finally{try{C||O.return==null||O.return()}finally{if(L)throw E}}var B=u(S,h,!0);return B.loadedmetadata=!1,S.addEventListener("loadedmetadata",function(){B.width=S.videoWidth,B.height=S.videoHeight,B.elt.width===0&&(B.elt.width=S.videoWidth),B.elt.height===0&&(B.elt.height=S.videoHeight),B.presetPlaybackRate&&(B.elt.playbackRate=B.presetPlaybackRate,delete B.presetPlaybackRate),B.loadedmetadata=!0}),typeof j=="function"&&S.addEventListener("canplaythrough",function X(){j(B),S.removeEventListener("canplaythrough",X)}),B}g.default.prototype.createRadio=function(){function h(L){return L instanceof HTMLInputElement&&L.type==="radio"}function _(L){return L instanceof HTMLLabelElement}var T,j,S,C=arguments.length<=0?void 0:arguments[0];return C instanceof g.default.Element&&(C.elt instanceof HTMLDivElement||C.elt instanceof HTMLSpanElement)?(T=C,this.elt=C.elt):C instanceof HTMLDivElement||C instanceof HTMLSpanElement?(T=u(C,this),j=this.elt=C,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(S=arguments.length<=1?void 0:arguments[1])):(typeof C=="string"&&(S=C),j=document.createElement("div"),T=u(j,this),this.elt=j),T._name=S||"radioOption_".concat(s++),T._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(L){return h(L)||_(L)&&h(L.firstElementChild)}).map(function(L){return h(L)?L:L.firstElementChild})},T.option=function(L,E){var I,O,U,D=!0,B=!1,X=void 0;try{for(var W,G=T._getOptionsArray()[Symbol.iterator]();!(D=(W=G.next()).done);D=!0){var Z=W.value;if(Z.value===L){I=Z;break}}}catch(Q){B=!0,X=Q}finally{try{D||G.return==null||G.return()}finally{if(B)throw X}}return I===void 0&&((I=document.createElement("input")).setAttribute("type","radio"),I.setAttribute("value",L)),I.setAttribute("name",T._name),_(I.parentElement)?O=I.parentElement:(O=document.createElement("label")).insertAdjacentElement("afterbegin",I),O.lastElementChild instanceof HTMLSpanElement?U=O.lastElementChild:(U=document.createElement("span"),I.insertAdjacentElement("afterend",U)),U.innerHTML=E===void 0?L:E,this.elt.appendChild(O),I},T.remove=function(L){var E=!0,I=!1,O=void 0;try{for(var U,D=T._getOptionsArray()[Symbol.iterator]();!(E=(U=D.next()).done);E=!0){var B=U.value;if(B.value===L)return void(_(B.parentElement)?B.parentElement:B).remove()}}catch(X){I=!0,O=X}finally{try{E||D.return==null||D.return()}finally{if(I)throw O}}},T.value=function(){var L="",E=!0,I=!1,O=void 0;try{for(var U,D=T._getOptionsArray()[Symbol.iterator]();!(E=(U=D.next()).done);E=!0){var B=U.value;if(B.checked){L=B.value;break}}}catch(X){I=!0,O=X}finally{try{E||D.return==null||D.return()}finally{if(I)throw O}}return L},T.selected=function(L){var E=null;if(L===void 0){var I=!0,O=!1,U=void 0;try{for(var D,B=T._getOptionsArray()[Symbol.iterator]();!(I=(D=B.next()).done);I=!0){var X=D.value;if(X.checked){E=X;break}}}catch(le){O=!0,U=le}finally{try{I||B.return==null||B.return()}finally{if(O)throw U}}}else{T._getOptionsArray().forEach(function(R){R.checked=!1,R.removeAttribute("checked")});var W=!0,O=!1,U=void 0;try{for(var G,Z=T._getOptionsArray()[Symbol.iterator]();!(W=(G=Z.next()).done);W=!0){var Q=G.value;Q.value===L&&(Q.setAttribute("checked",!0),Q.checked=!0,E=Q)}}catch(R){O=!0,U=R}finally{try{W||Z.return==null||Z.return()}finally{if(O)throw U}}}return E},T.disable=function(){var L=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],E=!0,I=!1,O=void 0;try{for(var U,D=T._getOptionsArray()[Symbol.iterator]();!(E=(U=D.next()).done);E=!0)U.value.setAttribute("disabled",L)}catch(B){I=!0,O=B}finally{try{E||D.return==null||D.return()}finally{if(I)throw O}}},T},g.default.prototype.createColorPicker=function(h){g.default._validateParameters("createColorPicker",arguments);var _=document.createElement("input");return _.type="color",h?h instanceof g.default.Color?_.value=h.toString("#rrggbb"):(g.default.prototype._colorMode="rgb",g.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},_.value=g.default.prototype.color(h).toString("#rrggbb")):_.value="#000000",(_=u(_,this)).color=function(){return h&&(h.mode&&(g.default.prototype._colorMode=h.mode),h.maxes&&(g.default.prototype._colorMaxes=h.maxes)),g.default.prototype.color(this.elt.value)},_},g.default.prototype.createInput=function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",T=(g.default._validateParameters("createInput",arguments),document.createElement("input"));return T.setAttribute("value",h),T.setAttribute("type",_),u(T,this)},g.default.prototype.createFileInput=function(h){var _,T=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(g.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(_=document.createElement("input")).setAttribute("type","file"),T&&_.setAttribute("multiple",!0),_.addEventListener("change",function(j){var S=!0,C=!1,L=void 0;try{for(var E,I=j.target.files[Symbol.iterator]();!(S=(E=I.next()).done);S=!0){var O=E.value;g.default.File._load(O,h)}}catch(U){C=!0,L=U}finally{try{S||I.return==null||I.return()}finally{if(C)throw L}}},!1),u(_,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},g.default.prototype.createVideo=function(h,_){return g.default._validateParameters("createVideo",arguments),n(this,"video",h,_)},g.default.prototype.createAudio=function(h,_){return g.default._validateParameters("createAudio",arguments),n(this,"audio",h,_)},g.default.prototype.VIDEO="video",g.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var _=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return _?new Promise(function(T,j){_.call(navigator,h,T,j)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),g.default.prototype.createCapture=function(){for(var h=arguments.length,_=new Array(h),T=0;T<h;T++)_[T]=arguments[T];if(g.default._validateParameters("createCapture",_),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var j,S=!0,C=!0,L=!1,E=0,I=_;E<I.length;E++){var O=I[E];O===g.default.prototype.VIDEO?C=!1:O===g.default.prototype.AUDIO?S=!1:l(O)==="object"?(O.flipped!==void 0&&(L=O.flipped,delete O.flipped),U=Object.assign({},U,O)):typeof O=="function"&&(j=O)}var U=Object.assign({},{video:S,audio:C},U),D=document.createElement("video"),B=(D.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(U).then(function(X){try{"srcObject"in D?D.srcObject=X:D.src=window.URL.createObjectURL(X)}catch{D.src=X}}).catch(function(X){X.name==="NotFoundError"&&g.default._friendlyError("No webcam found on this device","createCapture"),X.name==="NotAllowedError"&&g.default._friendlyError("Access to the camera was denied","createCapture"),console.error(X)}),u(D,this,!0));return B.loadedmetadata=!1,D.addEventListener("loadedmetadata",function(){D.play(),D.width?(B.width=D.width,B.height=D.height,L&&(B.elt.style.transform="scaleX(-1)")):(B.width=B.elt.width=D.videoWidth,B.height=B.elt.height=D.videoHeight),B.loadedmetadata=!0,j&&j(D.srcObject)}),B.flipped=L,B},g.default.prototype.createElement=function(h,_){return g.default._validateParameters("createElement",arguments),h=document.createElement(h),_!==void 0&&(h.innerHTML=_),u(h,this)},g.default.Element.prototype.addClass=function(h){return this.elt.className?this.hasClass(h)||(this.elt.className=this.elt.className+" "+h):this.elt.className=h,this},g.default.Element.prototype.removeClass=function(h){return this.elt.classList.remove(h),this},g.default.Element.prototype.hasClass=function(h){return this.elt.classList.contains(h)},g.default.Element.prototype.toggleClass=function(h){return this.elt.classList.contains(h)?this.elt.classList.remove(h):this.elt.classList.add(h),this},g.default.Element.prototype.child=function(h){return h===void 0?this.elt.childNodes:(typeof h=="string"?(h[0]==="#"&&(h=h.substring(1)),h=document.getElementById(h)):h instanceof g.default.Element&&(h=h.elt),h instanceof HTMLElement&&this.elt.appendChild(h),this)},g.default.Element.prototype.center=function(h){var _=this.elt.style.display,T=this.elt.style.display==="none",j=this.parent().style.display==="none",S={x:this.elt.offsetLeft,y:this.elt.offsetTop},C=(T&&this.show(),j&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),L=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return h==="both"||h===void 0?this.position(C/2+this.parent().offsetLeft,L/2+this.parent().offsetTop):h==="horizontal"?this.position(C/2+this.parent().offsetLeft,S.y):h==="vertical"&&this.position(S.x,L/2+this.parent().offsetTop),this.style("display",_),T&&this.hide(),j&&this.parent().hide(),this},g.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},g.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},g.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var h="";return this.elt.style.transform&&(h=(h=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=h,this},g.default.Element.prototype._rotate=function(){var h="";return this.elt.style.transform&&(h=(h=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=h,this},g.default.Element.prototype.style=function(h,_){if((_=_ instanceof g.default.Color?"rgba("+_.levels[0]+","+_.levels[1]+","+_.levels[2]+","+_.levels[3]/255+")":_)===void 0){if(h.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(h);for(var T=h.split(";"),j=0;j<T.length;j++){var S=T[j].split(":");S[0]&&S[1]&&(this.elt.style[S[0].trim()]=S[1].trim())}}else this.elt.style[h]=_,h!=="width"&&h!=="height"&&h!=="left"&&h!=="top"||(_=window.getComputedStyle(this.elt).getPropertyValue(h).replace(/[^\d.]/g,""),this[h]=Math.round(parseFloat(_,10)));return this},g.default.Element.prototype.attribute=function(h,_){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return _===void 0?this.elt.getAttribute(h):(this.elt.setAttribute(h,_),this);if(_===void 0)return this.elt.firstChild.getAttribute(h);for(var T=0;T<this.elt.childNodes.length;T++)this.elt.childNodes[T].setAttribute(h,_)},g.default.Element.prototype.removeAttribute=function(h){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var _=0;_<this.elt.childNodes.length;_++)this.elt.childNodes[_].removeAttribute(h);return this.elt.removeAttribute(h),this},g.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},g.default.Element.prototype.show=function(){return this.elt.style.display="block",this},g.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},g.default.Element.prototype.size=function(h,_){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var T=h,j=_,S=g.default.prototype.AUTO;if(T!==S||j!==S){if(T===S?T=_*this.width/this.height:j===S&&(j=h*this.height/this.width),this.elt instanceof HTMLCanvasElement){var C,L={},E=this.elt.getContext("2d");for(C in E)L[C]=E[C];for(C in this.elt.setAttribute("width",T*this._pInst._pixelDensity),this.elt.setAttribute("height",j*this._pInst._pixelDensity),this.elt.style.width=T+"px",this.elt.style.height=j+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),L)this.elt.getContext("2d")[C]=L[C]}else this.elt.style.width=T+"px",this.elt.style.height=j+"px",this.elt.width=T,this.elt.height=j;this.width=T,this.height=j,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",T),this._pInst._setProperty("height",j))}return this},g.default.Element.prototype.remove=function(){this instanceof g.default.MediaElement&&(this.stop(),(_=this.elt.srcObject)!==null&&_.getTracks().forEach(function(T){T.stop()}));var h,_=this._pInst._elements.indexOf(this);for(h in _!==-1&&this._pInst._elements.splice(_,1),this._events)this.elt.removeEventListener(h,this._events[h]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},g.default.Element.prototype.drop=function(h,_){var T;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",T=function(j){j.preventDefault()}),this.elt.addEventListener("dragleave",T)),g.default.Element._attachListener("drop",function(S){S.preventDefault(),typeof _=="function"&&_.call(this,S);var S=S.dataTransfer.files,C=!0,L=!1,E=void 0;try{for(var I,O=S[Symbol.iterator]();!(C=(I=O.next()).done);C=!0){var U=I.value;g.default.File._load(U,h)}}catch(D){L=!0,E=D}finally{try{C||O.return==null||O.return()}finally{if(L)throw E}}},this)):console.log("The File APIs are not fully supported in this browser."),this},g.default.Element.prototype.draggable=function(h){var _,T="ontouchstart"in window,j=0,S=0,C=0,L=0,E=T?"touchend":"mouseup",I=T?"touchmove":"mousemove";function O(D){var B;D=D||window.event,L=T?(B=D.changedTouches,j=C-parseInt(B[0].clientX),S=L-parseInt(B[0].clientY),C=parseInt(B[0].clientX),parseInt(B[0].clientY)):(j=C-parseInt(D.clientX),S=L-parseInt(D.clientY),C=parseInt(D.clientX),parseInt(D.clientY)),h.style.left=h.offsetLeft-j+"px",h.style.top=h.offsetTop-S+"px"}function U(){document.removeEventListener(E,U,!1),document.removeEventListener(I,O,!1)}return h===void 0?_=h=this.elt:h!==this.elt&&h.elt!==this.elt&&(h=h.elt,_=this.elt),_.addEventListener(T?"touchstart":"mousedown",function(D){{var B;D=D||window.event,L=T?(B=D.changedTouches,C=parseInt(B[0].clientX),parseInt(B[0].clientY)):(C=parseInt(D.clientX),parseInt(D.clientY))}return document.addEventListener(E,U,!1),document.addEventListener(I,O,!1),!1},!1),_.style.cursor="move",this};function p(h,_,T,j){i(this,p),this.callback=h,this.time=_,this.id=T,this.val=j}t=(function(h){var _=j;if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(h&&h.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),h&&b(_,h);var T=y(j);function j(S,C){i(this,j);var L=r(C=T.call(this,S,C));return C.elt.crossOrigin="anonymous",C._prevTime=0,C._cueIDCounter=0,C._cues=[],C.pixels=[],C._pixelsState=r(C),C._pixelDensity=1,C._modified=!1,C._frameOnCanvas=-1,Object.defineProperty(L,"src",{get:function(){var E=L.elt.children[0].src,I=L.elt.src===window.location.href?"":L.elt.src;return E===window.location.href?I:E},set:function(E){for(var I=0;I<L.elt.children.length;I++)L.elt.removeChild(L.elt.children[I]);var O=document.createElement("source");O.src=E,S.appendChild(O),L.elt.src=E,L.modified=!0}}),L._onended=function(){},L.elt.onended=function(){L._onended(L)},C}return d(j,[{key:"play",value:function(){var S;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(S=this.elt.play())&&S.catch&&S.catch(function(C){C.name==="NotAllowedError"?console.error(C):console.error("Media play method encountered an unexpected error",C)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var S=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(S)},{passive:!0,once:!0})}},{key:"autoplay",value:function(S){var C=this,L=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",S),S&&!L&&(S=function(){return C._setupAutoplayFailDetection()},this.elt.readyState===4?S():this.elt.addEventListener("canplay",S,{passive:!0,once:!0})),this}},{key:"volume",value:function(S){if(S===void 0)return this.elt.volume;this.elt.volume=S}},{key:"speed",value:function(S){if(S===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=S:this.presetPlaybackRate=S}},{key:"time",value:function(S){return S===void 0?this.elt.currentTime:(this.elt.currentTime=S,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var S=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&S&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var S=arguments.length,C=new Array(S),L=0;L<S;L++)C[L]=arguments[L];return g.default.Renderer2D.prototype.loadPixels.apply(this,C)}},{key:"updatePixels",value:function(S,C,L,E){return this.loadedmetadata&&(this._ensureCanvas(),g.default.Renderer2D.prototype.updatePixels.call(this,S,C,L,E)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var S=arguments.length,C=new Array(S),L=0;L<S;L++)C[L]=arguments[L];return g.default.Renderer2D.prototype.get.apply(this,C)}},{key:"_getPixel",value:function(){this.loadPixels();for(var S=arguments.length,C=new Array(S),L=0;L<S;L++)C[L]=arguments[L];return g.default.Renderer2D.prototype._getPixel.apply(this,C)}},{key:"set",value:function(S,C,L){this.loadedmetadata&&(this._ensureCanvas(),g.default.Renderer2D.prototype.set.call(this,S,C,L),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var S=arguments.length,C=new Array(S),L=0;L<S;L++)C[L]=arguments[L];g.default.prototype.copy.apply(this,C)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var S=arguments.length,C=new Array(S),L=0;L<S;L++)C[L]=arguments[L];g.default.Image.prototype.mask.apply(this,C)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(S){this._modified=S}},{key:"onended",value:function(S){return this._onended=S,this}},{key:"connect",value:function(S){var C,L;if(typeof g.default.prototype.getAudioContext=="function")C=g.default.prototype.getAudioContext(),L=g.default.soundOut.input;else try{L=(C=S.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=C.createMediaElementSource(this.elt),this.audioSourceNode.connect(L)),S?S.input?this.audioSourceNode.connect(S.input):this.audioSourceNode.connect(S):this.audioSourceNode.connect(L)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(S,I,L){var E=this._cueIDCounter++,I=new p(I,S,E,L);return this._cues.push(I),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),E}},{key:"removeCue",value:function(S){for(var C=0;C<this._cues.length;C++)this._cues[C].id===S&&(console.log(S),this._cues.splice(C,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var S=this.time(),C=0;C<this._cues.length;C++){var L=this._cues[C].time,E=this._cues[C].val;this._prevTime<L&&L<=S&&this._cues[C].callback(E)}this._prevTime=S}}]),j})(g.default.Element),g.default.MediaElement=t,t=(function(){function h(_,T){i(this,h),this.file=_,this._pInst=T,T=_.type.split("/"),this.type=T[0],this.subtype=T[1],this.name=_.name,this.size=_.size,this.data=void 0}return d(h,null,[{key:"_createLoader",value:function(_,T){var j=new FileReader;return j.onload=function(S){var C,L=new g.default.File(_);L.file.type==="application/json"?L.data=JSON.parse(S.target.result):L.file.type==="text/xml"?(C=new DOMParser().parseFromString(S.target.result,"text/xml"),L.data=new g.default.XML(C.documentElement)):L.data=S.target.result,T(L)},j}},{key:"_load",value:function(_,T){var j;/^text\//.test(_.type)||_.type==="application/json"?g.default.File._createLoader(_,T).readAsText(_):/^(video|audio)\//.test(_.type)?((j=new g.default.File(_)).data=URL.createObjectURL(_),T(j)):g.default.File._createLoader(_,T).readAsDataURL(_)}}]),h})(),g.default.File=t,t=g.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(l,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(l=l("../core/main"))&&l.__esModule?l:{default:l};m.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",m.default.prototype.accelerationX=0,m.default.prototype.accelerationY=0,m.default.prototype.accelerationZ=0,m.default.prototype.pAccelerationX=0,m.default.prototype.pAccelerationY=0,m.default.prototype.pAccelerationZ=0,m.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},m.default.prototype.rotationX=0,m.default.prototype.rotationY=0,m.default.prototype.rotationZ=0,m.default.prototype.pRotationX=0,m.default.prototype.pRotationY=0;var g=m.default.prototype.pRotationZ=0,c=0,d=0,b="clockwise",y="clockwise",r="clockwise",o=(m.default.prototype.pRotateDirectionX=void 0,m.default.prototype.pRotateDirectionY=void 0,m.default.prototype.pRotateDirectionZ=void 0,m.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},m.default.prototype.turnAxis=void 0,.5),i=30,l=(m.default.prototype.setMoveThreshold=function(u){m.default._validateParameters("setMoveThreshold",arguments),o=u},m.default.prototype.setShakeThreshold=function(u){m.default._validateParameters("setShakeThreshold",arguments),i=u},m.default.prototype._ondeviceorientation=function(u){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(u.beta)),this._setProperty("rotationY",this._fromDegrees(u.gamma)),this._setProperty("rotationZ",this._fromDegrees(u.alpha)),this._handleMotion()},m.default.prototype._ondevicemotion=function(u){this._updatePAccelerations(),this._setProperty("accelerationX",2*u.acceleration.x),this._setProperty("accelerationY",2*u.acceleration.y),this._setProperty("accelerationZ",2*u.acceleration.z),this._handleMotion()},m.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var u,s,n,p,h,_=this._isGlobal?window:this;typeof _.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>o||Math.abs(this.accelerationY-this.pAccelerationY)>o||Math.abs(this.accelerationZ-this.pAccelerationZ)>o)&&_.deviceMoved(),typeof _.deviceTurned=="function"&&(s=this._toDegrees(this.rotationX)+180,n=this._toDegrees(this.pRotationX)+180,u=g+180,0<s-n&&s-n<270||s-n<-270?b="clockwise":(s-n<0||270<s-n)&&(b="counter-clockwise"),b!==this.pRotateDirectionX&&(u=s),90<Math.abs(s-u)&&Math.abs(s-u)<270&&(u=s,this._setProperty("turnAxis","X"),_.deviceTurned()),this.pRotateDirectionX=b,g=u-180,n=this._toDegrees(this.rotationY)+180,s=this._toDegrees(this.pRotationY)+180,u=c+180,0<n-s&&n-s<270||n-s<-270?y="clockwise":(n-s<0||270<n-this.pRotationY)&&(y="counter-clockwise"),y!==this.pRotateDirectionY&&(u=n),90<Math.abs(n-u)&&Math.abs(n-u)<270&&(u=n,this._setProperty("turnAxis","Y"),_.deviceTurned()),this.pRotateDirectionY=y,c=u-180,0<(s=this._toDegrees(this.rotationZ))-(n=this._toDegrees(this.pRotationZ))&&s-n<270||s-n<-270?r="clockwise":(s-n<0||270<s-n)&&(r="counter-clockwise"),r!==this.pRotateDirectionZ&&(d=s),90<Math.abs(s-d)&&Math.abs(s-d)<270&&(d=s,this._setProperty("turnAxis","Z"),_.deviceTurned()),this.pRotateDirectionZ=r,this._setProperty("turnAxis",void 0)),typeof _.deviceShaken=="function"&&(this.pAccelerationX!==null&&(p=Math.abs(this.accelerationX-this.pAccelerationX),h=Math.abs(this.accelerationY-this.pAccelerationY)),i<p+h&&_.deviceShaken())},m.default);A.default=l},{"../core/main":283}],301:[function(t,H,A){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype.isKeyPressed=!1,m.default.prototype.keyIsPressed=!1,m.default.prototype.key="",m.default.prototype.keyCode=0,m.default.prototype._onkeydown=function(g){var c;g.repeat?this._setProperty("isKeyRepeated",!0):(this._setProperty("isKeyRepeated",!1),this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",g.which),this._downKeys[g.which]=!0,this._setProperty("key",g.key||String.fromCharCode(g.which)||g.which),g.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(g.which)),typeof(c=this._isGlobal?window:this).keyPressed!="function"||g.charCode||c.keyPressed(g)===!1&&g.preventDefault())},m.default.prototype._onkeyup=function(g){var c=this,d=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[g.which]=!1,g.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(b){c._downKeys[b]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof d.keyReleased=="function"&&d.keyReleased(g)===!1&&g.preventDefault()},m.default.prototype._onkeypress=function(g){var c;g.which===this._lastKeyCodeTyped&&this.isKeyRepeated||(this._setProperty("_lastKeyCodeTyped",g.which),this._setProperty("key",g.key||String.fromCharCode(g.which)||g.which),typeof(c=this._isGlobal?window:this).keyTyped=="function"&&c.keyTyped(g)===!1&&g.preventDefault())},m.default.prototype._onblur=function(g){this._downKeys={}},m.default.prototype.keyIsDown=function(g){return m.default._validateParameters("keyIsDown",arguments),this._downKeys[g]||!1},m.default.prototype._areDownKeys=function(){for(var g in this._downKeys)if(this._downKeys.hasOwnProperty(g)&&this._downKeys[g]===!0)return!0;return!1},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,H,A){function m(y){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(y)}function g(y){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(r){return m(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":m(r)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(c=t("../core/main"))&&c.__esModule?c:{default:c},d=(function(y){if(y&&y.__esModule)return y;if(y===null||g(y)!=="object"&&typeof y!="function")return{default:y};var r=b();if(r&&r.has(y))return r.get(y);var o,i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in y){var u;Object.prototype.hasOwnProperty.call(y,o)&&((u=l?Object.getOwnPropertyDescriptor(y,o):null)&&(u.get||u.set)?Object.defineProperty(i,o,u):i[o]=y[o])}return i.default=y,r&&r.set(y,i),i})(t("../core/constants"));function b(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,b=function(){return y},y)}c.default.prototype.movedX=0,c.default.prototype.movedY=0,c.default.prototype._hasMouseInteracted=!1,c.default.prototype.mouseX=0,c.default.prototype.mouseY=0,c.default.prototype.pmouseX=0,c.default.prototype.pmouseY=0,c.default.prototype.winMouseX=0,c.default.prototype.winMouseY=0,c.default.prototype.pwinMouseX=0,c.default.prototype.pwinMouseY=0,c.default.prototype.mouseButton=0,c.default.prototype.mouseIsPressed=!1,c.default.prototype._updateNextMouseCoords=function(y){var r,o,i,l,u;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(r=this._curElement.elt,o=this.width,i=this.height,(l=y)&&!l.clientX&&(l.touches?l=l.touches[0]:l.changedTouches&&(l=l.changedTouches[0])),u=r.getBoundingClientRect(),o=r.scrollWidth/o||1,r=r.scrollHeight/i||1,i={x:(l.clientX-u.left)/o,y:(l.clientY-u.top)/r,winX:l.clientX,winY:l.clientY,id:l.identifier},this._setProperty("mouseX",i.x),this._setProperty("mouseY",i.y),this._setProperty("winMouseX",i.winX),this._setProperty("winMouseY",i.winY),document.pointerLockElement===null?(o=this.mouseX-this.pmouseX,u=this.mouseY-this.pmouseY,this._setProperty("movedX",o),this._setProperty("movedY",u)):(this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY))),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},c.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},c.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",d.CENTER):y.button===2?this._setProperty("mouseButton",d.RIGHT):this._setProperty("mouseButton",d.LEFT)},c.default.prototype._onmousemove=function(y){var r=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof r.mouseDragged=="function"?r.mouseDragged(y)===!1&&y.preventDefault():typeof r.touchMoved=="function"&&r.touchMoved(y)===!1&&y.preventDefault():typeof r.mouseMoved=="function"&&r.mouseMoved(y)===!1&&y.preventDefault()},c.default.prototype._onmousedown=function(y){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),this.touchstart||(typeof r.mousePressed=="function"?r.mousePressed(y)===!1&&y.preventDefault():typeof r.touchStarted=="function"&&r.touchStarted(y)===!1&&y.preventDefault(),this.touchstart=!1)},c.default.prototype._onmouseup=function(y){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof r.mouseReleased=="function"?r.mouseReleased(y)===!1&&y.preventDefault():typeof r.touchEnded=="function"&&r.touchEnded(y)===!1&&y.preventDefault(),this.touchend=!1)},c.default.prototype._ondragend=c.default.prototype._onmouseup,c.default.prototype._ondragover=c.default.prototype._onmousemove,c.default.prototype._onclick=function(y){var r=this._isGlobal?window:this;typeof r.mouseClicked=="function"&&r.mouseClicked(y)===!1&&y.preventDefault()},c.default.prototype._ondblclick=function(y){var r=this._isGlobal?window:this;typeof r.doubleClicked=="function"&&r.doubleClicked(y)===!1&&y.preventDefault()},c.default.prototype._mouseWheelDeltaY=0,c.default.prototype._pmouseWheelDeltaY=0,c.default.prototype._onwheel=function(y){var r=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof r.mouseWheel=="function"&&(y.delta=y.deltaY,r.mouseWheel(y)===!1&&y.preventDefault())},c.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},c.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=c.default,A.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(m){if(this._curElement!==null){for(var g=[],c=0;c<m.touches.length;c++)g[c]=(function(u,l,s,r){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,i=u.getBoundingClientRect(),l=u.scrollWidth/l||1,u=u.scrollHeight/s||1,s=r.touches[o]||r.changedTouches[o];return{x:(s.clientX-i.left)/l,y:(s.clientY-i.top)/u,winX:s.clientX,winY:s.clientY,id:s.identifier}})(this._curElement.elt,this.width,this.height,m,c);this._setProperty("touches",g)}},t.default.prototype._ontouchstart=function(m){var g=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(m),this._updateNextMouseCoords(m),this._updateMouseCoords(),typeof g.touchStarted=="function"&&(g.touchStarted(m)===!1&&m.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(m){var g=this._isGlobal?window:this;this._updateTouchCoords(m),this._updateNextMouseCoords(m),typeof g.touchMoved=="function"?g.touchMoved(m)===!1&&m.preventDefault():typeof g.mouseDragged=="function"&&g.mouseDragged(m)===!1&&m.preventDefault()},t.default.prototype._ontouchend=function(m){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(m),this._updateNextMouseCoords(m);var g=this._isGlobal?window:this;typeof g.touchEnded=="function"&&(g.touchEnded(m)===!1&&m.preventDefault(),this.touchend=!0)},t=t.default,A.default=t},{"../core/main":283}],304:[function(t,H,A){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m,g,c,d,b={_toPixels:function(y){var r,o;return y instanceof ImageData?y.data:y.getContext("2d")?y.getContext("2d").getImageData(0,0,y.width,y.height).data:y.getContext("webgl")?(o=(r=y.getContext("webgl")).drawingBufferWidth*r.drawingBufferHeight*4,o=new Uint8Array(o),r.readPixels(0,0,y.width,y.height,r.RGBA,r.UNSIGNED_BYTE,o),o):void 0},_getARGB:function(y,r){return r*=4,y[3+r]<<24&4278190080|y[r]<<16&16711680|y[1+r]<<8&65280|255&y[2+r]},_setPixels:function(y,r){for(var o,i=0,l=y.length;i<l;i++)y[0+(o=4*i)]=(16711680&r[i])>>>16,y[1+o]=(65280&r[i])>>>8,y[2+o]=255&r[i],y[3+o]=(4278190080&r[i])>>>24},_toImageData:function(y){return y instanceof ImageData?y:y.getContext("2d").getImageData(0,0,y.width,y.height)},_createImageData:function(y,r){return b._tmpCanvas=document.createElement("canvas"),b._tmpCtx=b._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(y,r)},apply:function(y,u,o){var i=y.getContext("2d"),l=i.getImageData(0,0,y.width,y.height),u=u(l,o);u instanceof ImageData?i.putImageData(u,0,0,0,0,y.width,y.height):i.putImageData(l,0,0,0,0,y.width,y.height)},threshold:function(y){for(var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,o=b._toPixels(y),i=Math.floor(255*r),l=0;l<o.length;l+=4){var u=void 0,u=i<=.2126*o[l]+.7152*o[l+1]+.0722*o[l+2]?255:0;o[l]=o[l+1]=o[l+2]=u}},gray:function(y){for(var r=b._toPixels(y),o=0;o<r.length;o+=4){var i=r[o],l=r[o+1],u=r[o+2];r[o]=r[o+1]=r[o+2]=.2126*i+.7152*l+.0722*u}},opaque:function(y){for(var r=b._toPixels(y),o=0;o<r.length;o+=4)r[o+3]=255;return r},invert:function(y){for(var r=b._toPixels(y),o=0;o<r.length;o+=4)r[o]=255-r[o],r[o+1]=255-r[o+1],r[o+2]=255-r[o+2]},posterize:function(y){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,o=b._toPixels(y);if(r<2||255<r)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var i=r-1,l=0;l<o.length;l+=4){var u=o[l],s=o[l+1],n=o[l+2];o[l]=255*(u*r>>8)/i,o[l+1]=255*(s*r>>8)/i,o[l+2]=255*(n*r>>8)/i}},dilate:function(y){for(var r,o,i,l,u,s,n,p,h,_=b._toPixels(y),T=0,j=_.length?_.length/4:0,S=new Int32Array(j);T<j;)for(o=(r=T)+y.width;T<o;)l=i=b._getARGB(_,T),(h=T-1)<r&&(h=T),o<=(p=T+1)&&(p=T),(u=T-y.width)<0&&(u=0),j<=(s=T+y.width)&&(s=T),u=b._getARGB(_,u),h=b._getARGB(_,h),s=b._getARGB(_,s),(l=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<(n=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(i=h,l=n),l<(n=77*((h=b._getARGB(_,p))>>16&255)+151*(h>>8&255)+28*(255&h))&&(i=h,l=n),l<(p=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(i=u,l=p),l<(h=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))&&(i=s,l=h),S[T++]=i;b._setPixels(_,S)},erode:function(y){for(var r,o,i,l,u,s,n,p,h,_=b._toPixels(y),T=0,j=_.length?_.length/4:0,S=new Int32Array(j);T<j;)for(o=(r=T)+y.width;T<o;)l=i=b._getARGB(_,T),(h=T-1)<r&&(h=T),o<=(p=T+1)&&(p=T),(u=T-y.width)<0&&(u=0),j<=(s=T+y.width)&&(s=T),u=b._getARGB(_,u),h=b._getARGB(_,h),s=b._getARGB(_,s),(n=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<(l=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(i=h,l=n),(n=77*((h=b._getARGB(_,p))>>16&255)+151*(h>>8&255)+28*(255&h))<l&&(i=h,l=n),(p=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<l&&(i=u,l=p),(h=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))<l&&(i=s,l=h),S[T++]=i;b._setPixels(_,S)},blur:function(y,r){for(var o,i,l,u,s,n,p,h,_,T,j=b._toPixels(y),S=y.width,C=y.height,L=S*C,E=new Int32Array(L),I=0;I<L;I++)E[I]=b._getARGB(j,I);var O,U,D,B,X,W,G,Z,Q=new Int32Array(L),le=new Int32Array(L),w=new Int32Array(L),R=new Int32Array(L),N=0,q=3.5*r|0;if(m!==(q=q<1?1:q<248?q:248)){g=1+(m=q)<<1,c=new Int32Array(g),d=new Array(g);for(var J=0;J<g;J++)d[J]=new Int32Array(256);for(var re=1,ce=q-1;re<q;re++){c[q+re]=c[ce]=W=ce*ce,G=d[q+re],Z=d[ce--];for(var ge=0;ge<256;ge++)G[ge]=Z[ge]=W*ge}X=c[q]=q*q,G=d[q];for(var se=0;se<256;se++)G[se]=X*se}for(U=0;U<C;U++){for(O=0;O<S;O++){if(u=l=i=s=o=0,(n=O-m)<0)T=-n,n=0;else{if(S<=n)break;T=0}for(D=T;D<g&&!(S<=n);D++){var pe=E[n+N];B=d[D],s+=B[(-16777216&pe)>>>24],i+=B[(16711680&pe)>>16],l+=B[(65280&pe)>>8],u+=B[255&pe],o+=c[D],n++}Q[p=N+O]=s/o,le[p]=i/o,w[p]=l/o,R[p]=u/o}N+=S}for(_=(h=-m)*S,U=N=0;U<C;U++){for(O=0;O<S;O++){if(u=l=i=s=o=0,h<0)T=p=-h,n=O;else{if(C<=h)break;T=0,p=h,n=O+_}for(D=T;D<g&&!(C<=p);D++)B=d[D],s+=B[Q[n]],i+=B[le[n]],l+=B[w[n]],u+=B[R[n]],o+=c[D],p++,n+=S;E[O+N]=s/o<<24|i/o<<16|l/o<<8|u/o}N+=S,_+=S,h++}b._setPixels(j,E)}};A.default=b},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,H,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=c(t("../core/main")),g=c(t("omggif"));function c(b){return b&&b.__esModule?b:{default:b}}function d(b){return(function(y){if(Array.isArray(y)){for(var r=0,o=new Array(y.length);r<y.length;r++)o[r]=y[r];return o}})(b)||(function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)})(b)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}m.default.prototype.createImage=function(b,y){return m.default._validateParameters("createImage",arguments),new m.default.Image(b,y)},m.default.prototype.saveCanvas=function(){for(var b,y,r,o,i,l,u=arguments.length,s=new Array(u),n=0;n<u;n++)s[n]=arguments[n];switch(m.default._validateParameters("saveCanvas",s),s[0]instanceof HTMLCanvasElement?(b=s[0],s.shift()):s[0]instanceof m.default.Element?(b=s[0].elt,s.shift()):s[0]instanceof m.default.Framebuffer?(o=s[0],(i=this.createGraphics(o.width,o.height)).pixelDensity(pixelDensity()),o.loadPixels(),i.loadPixels(),i.pixels.set(o.pixels),i.updatePixels(),b=i.elt,s.shift()):b=this._curElement&&this._curElement.elt,1<=s.length&&(y=s[0]),r=(r=2<=s.length?s[1]:r)||m.default.prototype._checkFileExtension(y,r)[1]||"png"){default:l="image/png";break;case"webp":l="image/webp";break;case"jpeg":case"jpg":l="image/jpeg"}b.toBlob(function(p){m.default.prototype.downloadFile(p,y,r),i&&i.remove()},l)},m.default.prototype.encodeAndDownloadGif=function(b,y){for(var r=b.gifProperties,o=r.loopLimit,i=(o===1?o=null:o===null&&(o=0),new Uint8Array(b.width*b.height*r.numFrames)),l=[],u={},s=0;s<r.numFrames;s++){for(var n=new Set,p=r.frames[s].image.data,h=p.length,_=new Uint32Array(b.width*b.height),T=0,j=0;T<h;T+=4,j++){var S=p[T+0]<<16|p[T+1]<<8|p[T+2]<<0;n.add(S),_[j]=S}var C=d(n).sort().toString();u[C]===void 0?u[C]={freq:1,frames:[s]}:(u[C].freq+=1,u[C].frames.push(s)),l.push(_)}for(var I=[],L=Object.keys(u).sort(function(w,R){return u[R].freq-u[w].freq}),E=L[0].split(",").map(function(w){return parseInt(w)}),I=I.concat(u[E].frames),O=new Set(E),U=1;U<L.length;U++){var D=L[U].split(",").map(function(w){return parseInt(w)}).filter(function(w){return!O.has(w)});if(E.length+D.length<=256){for(var B=0;B<D.length;B++)E.push(D[B]),O.add(D[B]);I=I.concat(u[L[U]].frames)}}I=new Set(I);for(var X={},W=0;W<E.length;W++)X[E[W]]||(X[E[W]]=W);for(var G=1;G<E.length;)G<<=1;E.length=G;for(var o={loop:o,palette:new Uint32Array(E)},Z=new g.default.GifWriter(i,b.width,b.height,o),Q={},le=0;le<r.numFrames;le++)(function(R){var N=!I.has(R),q=N?[]:E,J=new Uint8Array(b.width*b.height),re={},ce=new Set,ge=(l[R].forEach(function(me,we){N?(re[me]===void 0&&(re[me]=q.length,q.push(me)),J[we]=re[me]):J[we]=X[me],0<R&&l[R-1][we]!==me&&ce.add(me)}),{}),se=q.filter(function(me){return!ce.has(me)});if(0<se.length){var se=se[0],pe=(N?re:X)[se];if(0<R){for(var ye=0;ye<l[R].length;ye++)l[R-1][ye]===l[R][ye]&&(J[ye]=pe);ge.transparent=pe,Q.frameOpts.disposal=1}}if(ge.delay=r.frames[R].delay/10,N){for(var te=1;te<q.length;)te<<=1;q.length=te,ge.palette=new Uint32Array(q)}0<R&&Z.addFrame(0,0,b.width,b.height,Q.pixelPaletteIndex,Q.frameOpts),Q={pixelPaletteIndex:J,frameOpts:ge}})(le);Q.frameOpts.disposal=1,Z.addFrame(0,0,b.width,b.height,Q.pixelPaletteIndex,Q.frameOpts),o=new Blob([i.slice(0,Z.end())],{type:"image/gif"}),m.default.prototype.downloadFile(o,y,"gif")},m.default.prototype.saveFrames=function(b,y,r,l,i){m.default._validateParameters("saveFrames",arguments),r=m.default.prototype.constrain(r=r||3,0,15),r*=1e3;var l=m.default.prototype.constrain(l||15,0,22),u=0,s=m.default.prototype._makeFrame,n=this._curElement.elt,p=[],h=setInterval(function(){p.push(s(b+u,y,n)),u++},1e3/l);setTimeout(function(){if(clearInterval(h),i)i(p);else for(var _=0,T=p;_<T.length;_++){var j=T[_];m.default.prototype.downloadFile(j.imageData,j.filename,j.ext)}p=[]},.01+r)},m.default.prototype._makeFrame=function(b,y,i){var o,i=this?this._curElement.elt:i;if(y)switch(y.toLowerCase()){case"png":o="image/png";break;case"jpeg":case"jpg":o="image/jpeg";break;default:o="image/png"}else y="png",o="image/png";var i=(i=i.toDataURL(o)).replace(o,"image/octet-stream"),l={};return l.imageData=i,l.filename=b,l.ext=y,l},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,H,A){function m(n){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(n)}function g(n){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t("regenerator-runtime/runtime");var c=i(t("../core/main")),d=i(t("../core/helpers")),b=(function(n){if(n&&n.__esModule)return n;if(n===null||g(n)!=="object"&&typeof n!="function")return{default:n};var p=o();if(p&&p.has(n))return p.get(n);var h,_={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in n){var j;Object.prototype.hasOwnProperty.call(n,h)&&((j=T?Object.getOwnPropertyDescriptor(n,h):null)&&(j.get||j.set)?Object.defineProperty(_,h,j):_[h]=n[h])}return _.default=n,p&&p.set(n,_),_})(t("../core/constants")),y=i(t("omggif")),r=t("gifenc");function o(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,o=function(){return n},n)}function i(n){return n&&n.__esModule?n:{default:n}}function l(n,p,h,_,T,j,S){try{var C=n[j](S),L=C.value}catch(E){return void h(E)}C.done?p(L):Promise.resolve(L).then(_,T)}function u(n,p,h,_,T,j,S,C,L,E,I){var O,U,D,B,X,W,G,Z,Q;return n===b.COVER&&(O=p,D=h,G=j,Z=S,W=C,Q=L,U=E,B=I,X=Math.max(G/U,Z/B),G/=X,Z/=X,X=W,W=Q,O===b.CENTER?X+=(U-G)/2:O===b.RIGHT&&(X+=U-G),D===b.CENTER?W+=(B-Z)/2:D===b.BOTTOM&&(W+=B-Z),C=(Q={x:X,y:W,w:G,h:Z}).x,L=Q.y,E=Q.w,I=Q.h),n===b.CONTAIN&&(O=p,U=h,D=_,B=T,X=j,W=S,G=E,Z=I,Q=Math.max(G/X,Z/W),G/=Q,Z/=Q,Q=D,D=B,O===b.CENTER?Q+=(X-G)/2:O===b.RIGHT&&(Q+=X-G),U===b.CENTER?D+=(W-Z)/2:U===b.BOTTOM&&(D+=W-Z),_=(n={x:Q,y:D,w:G,h:Z}).x,T=n.y,j=n.w,S=n.h),{sx:C,sy:L,sw:E,sh:I,dx:_,dy:T,dw:j,dh:S}}function s(n,p){return 0<n&&n<p?n:p}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.loadImage=function(n,p,h){c.default._validateParameters("loadImage",arguments);var _=new c.default.Image(1,1,this),T=this,j=new Request(n,{method:"GET",mode:"cors"});return fetch(n,j).then(function(S){var C,L=S.headers.get("content-type");L===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),L&&L.includes("image/gif")?S.arrayBuffer().then(function(E){if(E){for(var E=new Uint8Array(E),I=_,O=p,U=h,D=(function(N){T._decrementPreload()}).bind(T),B=new y.default.GifReader(E),X=(I.width=I.canvas.width=B.width,I.height=I.canvas.height=B.height,[]),W=B.numFrames(),G=new Uint8ClampedArray(I.width*I.height*4),Z=0;Z<W;Z++){var Q=B.frameInfo(Z),le=I.drawingContext.getImageData(0,0,I.width,I.height),w=(G=le.data.slice(),(function(N,q){try{q.decodeAndBlitFrameRGBA(N,G)}catch(J){c.default._friendlyFileLoadError(8,I.src),typeof U=="function"?U(J):console.error(J)}})(Z,B),new ImageData(G,I.width,I.height)),w=(I.drawingContext.putImageData(w,0,0),Q.delay);w===0&&(w=10),X.push({image:I.drawingContext.getImageData(0,0,I.width,I.height),delay:10*w}),Q.disposal===2?I.drawingContext.clearRect(Q.x,Q.y,Q.width,Q.height):Q.disposal===3&&I.drawingContext.putImageData(le,0,0,Q.x,Q.y,Q.width,Q.height)}(E=B.loopCount())===null?E=1:E===0&&(E=null),I.drawingContext.putImageData(X[0].image,0,0),1<X.length&&(I.gifProperties={displayIndex:0,loopLimit:E,loopCount:0,frames:X,numFrames:W,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof O=="function"&&O(I),D()}},function(E){typeof h=="function"?(h(E),T._decrementPreload()):console.error(E)}):((C=new Image).onload=function(){_.width=_.canvas.width=C.width,_.height=_.canvas.height=C.height,_.drawingContext.drawImage(C,0,0),_.modified=!0,typeof p=="function"&&p(_),T._decrementPreload()},C.onerror=function(E){c.default._friendlyFileLoadError(0,C.src),typeof h=="function"?(h(E),T._decrementPreload()):console.error(E)},n.indexOf("data:image/")!==0&&(C.crossOrigin="Anonymous"),C.src=n),_.modified=!0}).catch(function(S){c.default._friendlyFileLoadError(0,n),typeof h=="function"?(h(S),T._decrementPreload()):console.error(S)}),_},c.default.prototype.saveGif=(function(){n=regeneratorRuntime.mark(function h(_,T){var j,S,C,L,E,I,O,U,D,B,X,W,G,Z,Q,le,w,R,N,q,J,re,ce,ge,se,pe,ye=arguments;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(j=2<ye.length&&ye[2]!==void 0?ye[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof _!="string")throw TypeError("fileName parameter must be a string");te.next=3;break;case 3:if(typeof T!="number")throw TypeError("Duration parameter must be a number");te.next=5;break;case 5:if(S=j&&j.delay||0,C=j&&j.units||"seconds",L=j&&j.silent||!1,E=j&&j.notificationDuration||0,I=j&&j.notificationID||"progressBar",typeof S!="number")throw TypeError("Delay parameter must be a number");te.next=12;break;case 12:if(C!=="seconds"&&C!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');te.next=14;break;case 14:if(typeof L!="boolean")throw TypeError("Silent parameter must be a boolean");te.next=16;break;case 16:if(typeof E!="number")throw TypeError("Notification duration parameter must be a number");te.next=18;break;case 18:if(typeof I!="string")throw TypeError("Notification ID parameter must be a string");te.next=20;break;case 20:return this._recording=!0,B=this._targetFrameRate,O=(O=1/(B=B!==1/0&&B!==void 0&&B!==0?B:60)*1e3)<20?20:O,D=(U=C==="seconds"?T*B:T)+(B=C==="seconds"?S*B:S),B=B,this.frameCount=B,X=this._pixelDensity,this.pixelDensity(1),W=[],document.getElementById(I)!==null&&document.getElementById(I).remove(),L||((G=this.createP("")).id(I),G.style("font-size","16px"),G.style("font-family","Montserrat"),G.style("background-color","#ffffffa0"),G.style("padding","8px"),G.style("border-radius","10px"),G.position(0,0)),this._renderer instanceof c.default.RendererGL&&(Q=this.drawingContext,Z=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4)),this.noLoop(),te.next=39,Promise.resolve();case 39:if(B<D)return this.redraw(),ge=void 0,ge=this._renderer instanceof c.default.RendererGL?(Z=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4),Q.readPixels(0,0,Q.drawingBufferWidth,Q.drawingBufferHeight,Q.RGBA,Q.UNSIGNED_BYTE,Z),(function(me,we,Ee){for(var xe=parseInt(Ee/2),Te=4*we,Pe=new Uint8Array(4*we),qe=0;qe<xe;++qe){var Re=qe*Te,ft=(Ee-qe-1)*Te;Pe.set(me.subarray(Re,Re+Te)),me.copyWithin(Re,ft,ft+Te),me.set(Pe,ft)}return me})(Z,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,W.push(ge),B++,L||G.html("Saved frame <b>"+W.length.toString()+"</b> out of "+U.toString()),te.next=48,new Promise(function(me){return setTimeout(me,0)});te.next=50;break;case 48:te.next=39;break;case 50:L||G.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(X),le=(0,r.GIFEncoder)(),w=(function(me){for(var we=new Uint8Array(me.length*me[0].length),Ee=0;Ee<me.length;Ee++)we.set(me[Ee],Ee*me[0].length);var xe=(0,r.quantize)(we,256,{format:"rgba4444",oneBitAlpha:!0});return xe.length===256?xe[xe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:xe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),xe})(W),R={},N=function(me){for(var we=me.length/4,Ee=new Uint8Array(we),xe=0;xe<we;xe++){var Te=me[4*xe]<<24|me[4*xe+1]<<16|me[4*xe+2]<<8|me[4*xe+3];R[Te]===void 0&&(R[Te]=(0,r.nearestColorIndex)(w,me.slice(4*xe,4*(xe+1)))),Ee[xe]=R[Te]}return Ee},q=w.length-1,J=[],re=0;case 60:if(!(re<W.length)){te.next=71;break}if(ce=N(W[re]),ge=ce.slice(),re===0)le.writeFrame(ce,this.width,this.height,{palette:w,delay:O,dispose:1});else{for(se=0;se<ce.length;se++)ce[se]===J[se]&&(ce[se]=q);le.writeFrame(ce,this.width,this.height,{delay:O,transparent:!0,transparentIndex:q,dispose:1})}return J=ge,L||G.html("Rendered frame <b>"+re.toString()+"</b> out of "+U.toString()),te.next=68,new Promise(function(me){return setTimeout(me,0)});case 68:re++,te.next=60;break;case 71:le.finish(),pe=le.bytesView(),pe=new Blob([pe],{type:"image/gif"}),W=[],this._recording=!1,this.loop(),L||(G.html("Done. Downloading your gif!"),0<E&&setTimeout(function(){return G.remove()},1e3*E)),c.default.prototype.downloadFile(pe,_,"gif");case 80:case"end":return te.stop()}},h,this)});var n,p=function(){var h=this,_=arguments;return new Promise(function(T,j){var S=n.apply(h,_);function C(E){l(S,T,j,C,L,"next",E)}function L(E){l(S,T,j,C,L,"throw",E)}C(void 0)})};return function(h,_){return p.apply(this,arguments)}})(),c.default.prototype.image=function(n,p,h,_,B,X,W,G,Q,E,I,O){c.default._validateParameters("image",arguments);var Z=n.width,U=n.height,D=(O=O||b.CENTER,I=I||b.CENTER,n.elt&&(Z=Z!==void 0?Z:n.elt.width,U=U!==void 0?U:n.elt.height),n.elt&&n.elt.videoWidth&&!n.canvas&&(Z=Z!==void 0?Z:n.elt.videoWidth,U=U!==void 0?U:n.elt.videoHeight),_||Z),B=B||U,X=X||0,W=W||0,G=s(G!==void 0?G:Z,Z),Z=s(Q!==void 0?Q:U,U),Q=1;n.elt&&!n.canvas&&n.elt.style.width&&(Q=n.elt.videoWidth&&!_?n.elt.videoWidth:n.elt.width,Q/=parseInt(n.elt.style.width,10)),X*=Q,W*=Q,Z*=Q,G*=Q,U=u(E,I,O,(U=d.default.modeAdjust(p,h,D,B,this._renderer._imageMode)).x,U.y,U.w,U.h,X,W,G,Z),this._renderer.image(n,U.sx,U.sy,U.sw,U.sh,U.dx,U.dy,U.dw,U.dh)},c.default.prototype.tint=function(){for(var n=arguments.length,p=new Array(n),h=0;h<n;h++)p[h]=arguments[h];c.default._validateParameters("tint",p);var _=this.color.apply(this,p);this._renderer._tint=_.levels},c.default.prototype.noTint=function(){this._renderer._tint=null},c.default.prototype._getTintedImageCanvas=c.default.Renderer2D.prototype._getTintedImageCanvas,c.default.prototype.imageMode=function(n){c.default._validateParameters("imageMode",arguments),n!==b.CORNER&&n!==b.CORNERS&&n!==b.CENTER||(this._renderer._imageMode=n)},t=c.default,A.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,H,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=c(t("../core/main")),g=c(t("./filters"));function c(b){return b&&b.__esModule?b:{default:b}}function d(b,y){for(var r=0;r<y.length;r++){var o=y[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(b,o.key,o)}}m.default.Image=(function(){function b(o,i){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.width=o,this.height=i,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var y,r;return y=b,(r=[{key:"pixelDensity",value:function(o){return o!==void 0?(o<=0&&(m.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),o=1),this._pixelDensity=o,this.width/=o,this.height/=o,this):this._pixelDensity}},{key:"_animateGif",value:function(u){var i,l=this.gifProperties,u=u._lastRealFrameTime||window.performance.now();l.lastChangeTime===0&&(l.lastChangeTime=u),l.playing&&(l.timeDisplayed=u-l.lastChangeTime,i=l.frames[l.displayIndex].delay,l.timeDisplayed>=i&&(i=Math.floor(l.timeDisplayed/i),l.timeDisplayed=0,l.lastChangeTime=u,l.displayIndex+=i,l.loopCount=Math.floor(l.displayIndex/l.numFrames),l.loopLimit!==null&&l.loopCount>=l.loopLimit?l.playing=!1:(u=l.displayIndex%l.numFrames,this.drawingContext.putImageData(l.frames[u].image,0,0),l.displayIndex=u,this.setModified(!0))))}},{key:"_setProperty",value:function(o,i){this[o]=i,this.setModified(!0)}},{key:"loadPixels",value:function(){m.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(o,i,l,u){m.default.Renderer2D.prototype.updatePixels.call(this,o,i,l,u),this.setModified(!0)}},{key:"get",value:function(o,i,l,u){return m.default._validateParameters("p5.Image.get",arguments),m.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return m.default.Renderer2D.prototype._getPixel.apply(this,i)}},{key:"set",value:function(o,i,l){m.default.Renderer2D.prototype.set.call(this,o,i,l),this.setModified(!0)}},{key:"resize",value:function(o,i){o===0&&i===0?(o=this.canvas.width,i=this.canvas.height):o===0?o=this.canvas.width*i/this.canvas.height:i===0&&(i=this.canvas.height*o/this.canvas.width),o=Math.floor(o),i=Math.floor(i);var l=document.createElement("canvas");if(l.width=o,l.height=i,this.gifProperties)for(var u=this.gifProperties,s=0;s<u.numFrames;s++){for(var n=this.drawingContext.createImageData(o,i),p=(S=S=j=T=_=void 0,u.frames[s].image),h=n,_=0,T=0;T<h.height;T++)for(var j=0;j<h.width;j++){var S=Math.floor(j*p.width/h.width),S=4*(Math.floor(T*p.height/h.height)*p.width+S);h.data[_++]=p.data[S++],h.data[_++]=p.data[S++],h.data[_++]=p.data[S++],h.data[_++]=p.data[+S]}u.frames[s].image=n}l.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,l.width,l.height),this.canvas.width=this.width=o,this.canvas.height=this.height=i,this.drawingContext.drawImage(l,0,0,o,i,0,0,o,i),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];m.default.prototype.copy.apply(this,i)}},{key:"mask",value:function(o){var i=this.drawingContext.globalCompositeOperation,l=this._pixelDensity,u=1,s=[o=o===void 0?this:o,0,0,(u=o instanceof m.default.Renderer?o._pInst._pixelDensity:u)*o.width,u*o.height,0,0,l*this.width,l*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var n=0;n<this.gifProperties.frames.length;n++)this.drawingContext.putImageData(this.gifProperties.frames[n].image,0,0),this.copy.apply(this,s),this.gifProperties.frames[n].image=this.drawingContext.getImageData(0,0,l*this.width,l*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,s);this.drawingContext.globalCompositeOperation=i,this.setModified(!0)}},{key:"filter",value:function(o,i){g.default.apply(this.canvas,g.default[o],i),this.setModified(!0)}},{key:"blend",value:function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];m.default._validateParameters("p5.Image.blend",arguments),m.default.prototype.blend.apply(this,i),this.setModified(!0)}},{key:"setModified",value:function(o){this._modified=o}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(o,i){this.gifProperties?m.default.prototype.encodeAndDownloadGif(this,o):m.default.prototype.saveCanvas(this.canvas,o,i)}},{key:"reset",value:function(){var o;this.gifProperties&&((o=this.gifProperties).playing=!0,o.timeSinceStart=0,o.timeDisplayed=0,o.lastChangeTime=0,o.loopCount=0,o.displayIndex=0,this.drawingContext.putImageData(o.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var o;if(this.gifProperties)return(o=this.gifProperties).displayIndex%o.numFrames}},{key:"setFrame",value:function(o){var i;this.gifProperties&&(o<(i=this.gifProperties).numFrames&&0<=o?(i.timeDisplayed=0,i.lastChangeTime=0,i.displayIndex=o,this.drawingContext.putImageData(i.frames[o].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(o,i){if(this.gifProperties){var l=this.gifProperties;if(i<l.numFrames&&0<=i)l.frames[i].delay=o;else{var u=!0,i=!1,s=void 0;try{for(var n,p=l.frames[Symbol.iterator]();!(u=(n=p.next()).done);u=!0)n.value.delay=o}catch(_){i=!0,s=_}finally{try{u||p.return==null||p.return()}finally{if(i)throw s}}}}}}])&&d(y.prototype,r),b})(),t=m.default.Image,A.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,H,A){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=c(t("../core/main")),g=c(t("./filters"));function c(d){return d&&d.__esModule?d:{default:d}}t("../color/p5.Color"),m.default.prototype.pixels=[],m.default.prototype.blend=function(){for(var d,b=arguments.length,y=new Array(b),r=0;r<b;r++)y[r]=arguments[r];m.default._validateParameters("blend",y),this._renderer?(d=this._renderer).blend.apply(d,y):m.default.Renderer2D.prototype.blend.apply(this,y)},m.default.prototype.copy=function(){for(var d,b,y,r,o,i,l,u,s,n=arguments.length,p=new Array(n),h=0;h<n;h++)p[h]=arguments[h];if(m.default._validateParameters("copy",p),p.length===9)d=p[0],b=p[1],y=p[2],r=p[3],o=p[4],i=p[5],l=p[6],u=p[7],s=p[8];else{if(p.length!==8)throw new Error("Signature not supported");d=this,b=p[0],y=p[1],r=p[2],o=p[3],i=p[4],l=p[5],u=p[6],s=p[7]}m.default.prototype._copyHelper(this,d,b,y,r,o,i,l,u,s)},m.default.prototype._copyHelper=function(d,b,y,r,o,i,l,u,s,n){var p=b.canvas.width/b.width,h=0,_=0;b._renderer&&b._renderer.isP3D&&(h=b.width/2,_=b.height/2),d._renderer&&d._renderer.isP3D?(d.push(),d.resetMatrix(),d.noLights(),d.blendMode(d.BLEND),d.imageMode(d.CORNER),m.default.RendererGL.prototype.image.call(d._renderer,b,y+h,r+_,o,i,l,u,s,n),d.pop()):d.drawingContext.drawImage(b.canvas,p*(y+h),p*(r+_),p*o,p*i,l,u,s,n)},m.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},m.default.prototype.filter=function(){for(var d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];m.default._validateParameters("filter",b);var l=(function(){var u,s={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof m.default.Shader?s.shader=arguments.length<=0?void 0:arguments[0]:(s.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(s.value=arguments.length<=1?void 0:arguments[1]),((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])===!1&&(s.useWebGL=!1)),s}).apply(void 0,b),r=l.shader,o=l.operation,i=l.value,l=l.useWebGL;this._renderer.isP3D&&r?m.default.RendererGL.prototype.filter.call(this._renderer,r):l||this._renderer.isP3D?(!l&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?m.default.RendererGL.prototype.filter.call(this._renderer,o,i):((r=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),r.filter.apply(r,b),this.copy(r._renderer,0,0,this.width,this.height,0,0,this.width,this.height),r.clear())):this.canvas!==void 0?g.default.apply(this.canvas,g.default[o],i):g.default.apply(this.elt,g.default[o],i)},m.default.prototype.get=function(d,b,y,r){var o;return m.default._validateParameters("get",arguments),(o=this._renderer).get.apply(o,arguments)},m.default.prototype.loadPixels=function(){for(var d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];m.default._validateParameters("loadPixels",b),this._renderer.loadPixels()},m.default.prototype.set=function(d,b,y){this._renderer.set(d,b,y)},m.default.prototype.updatePixels=function(d,b,y,r){m.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(d,b,y,r)},t=m.default,A.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,H,A){function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=b(t("../core/main")),c=(t("whatwg-fetch"),t("es6-promise/auto"),b(t("fetch-jsonp"))),d=b(t("file-saver"));function b(i){return i&&i.__esModule?i:{default:i}}function y(i){return(y=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(l){return m(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":m(l)})(i)}function r(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function o(i,l){l&&l!==!0&&l!=="true"||(l="");var u="";return(i=i||"untitled")&&i.includes(".")&&(u=i.split(".").pop()),l&&u!==l&&(u=l,i="".concat(i,".").concat(u)),[i,u]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),g.default.prototype.loadJSON=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];g.default._validateParameters("loadJSON",l);for(var s,n,p,h=l[0],_={},T="json",j=1;j<l.length;j++){var S=l[j];typeof S=="string"?S!=="jsonp"&&S!=="json"||(T=S):typeof S=="function"?s?n=S:s=S:y(S)==="object"&&(S.hasOwnProperty("jsonpCallback")||S.hasOwnProperty("jsonpCallbackFunction"))&&(T="jsonp",p=S)}var C=this;return this.httpDo(h,"GET",p,T,function(L){for(var E in L)_[E]=L[E];s!==void 0&&s(L),C._decrementPreload()},function(L){if(g.default._friendlyFileLoadError(5,h),!n)throw L;n(L)}),_},g.default.prototype.loadStrings=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];g.default._validateParameters("loadStrings",l);for(var s,n,p=[],h=1;h<l.length;h++){var _=l[h];typeof _=="function"&&(s===void 0?s=_:n===void 0&&(n=_))}var T=this;return g.default.prototype.httpDo.call(this,l[0],"GET","text",function(j){for(var S=j.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),C=0,L=S.length;C<L;C+=32768)Array.prototype.push.apply(p,S.slice(C,Math.min(C+32768,L)));s!==void 0&&s(p),T._decrementPreload()},function(j){if(g.default._friendlyFileLoadError(3,j),!n)throw j;n(j)}),p},g.default.prototype.loadTable=function(i){var l,u,s,n=!1,p=i.substring(i.lastIndexOf(".")+1,i.length);p==="csv"?s=",":p==="ssv"?s=";":p==="tsv"&&(s="	");for(var h=1;h<arguments.length;h++)typeof arguments[h]=="function"?l===void 0?l=arguments[h]:u===void 0&&(u=arguments[h]):typeof arguments[h]=="string"&&(arguments[h]==="header"&&(n=!0),arguments[h]==="csv"?s=",":arguments[h]==="ssv"?s=";":arguments[h]==="tsv"&&(s="	"));var _=new g.default.Table,T=this;return this.httpDo(i,"GET","table",function(j){for(var S,C,L={},E=0,I=[],O=0,U=null,D=function(){L.currentState=E,L.token=""},B=function(){U.push(L.token),D()},X=function(){L.currentState=4,I.push(U),U=null};;){if((S=j[O++])==null){if(L.escaped)throw new Error("Unclosed quote in file.");if(U){B(),X();break}}if(U===null&&(L.escaped=!1,U=[],D()),L.currentState===E){if(S==='"'){L.escaped=!0,L.currentState=1;continue}L.currentState=1}if(L.currentState===1&&L.escaped)if(S==='"')j[O]==='"'?(L.token+='"',O++):(L.escaped=!1,L.currentState=2);else{if(S==="\r")continue;L.token+=S}else S==="\r"?(j[O]===`
`&&O++,B(),X()):S===`
`?(B(),X()):S===s?B():L.currentState===1&&(L.token+=S)}if(n)_.columns=I.shift();else for(var W=0;W<I[0].length;W++)_.columns[W]="null";for(var G=0;G<I.length;G++)(I[G].length!==1||I[G][0]!=="undefined"&&I[G][0]!=="")&&((C=new g.default.TableRow).arr=I[G],C.obj=(function(Z,Q){if((Q=Q||[])===void 0)for(var le=0;le<Z.length;le++)Q[le.toString()]=le;return Object.fromEntries(Q.map(function(w,R){return[w,Z[R]]}))})(I[G],_.columns),_.addRow(C));typeof l=="function"&&l(_),T._decrementPreload()},function(j){g.default._friendlyFileLoadError(2,i),u?u(j):console.error(j)}),_},g.default.prototype.loadXML=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];for(var s,n,p=new g.default.XML,h=1;h<l.length;h++){var _=l[h];typeof _=="function"&&(s===void 0?s=_:n===void 0&&(n=_))}var T=this;return this.httpDo(l[0],"GET","xml",function(j){for(var S in j)p[S]=j[S];s!==void 0&&s(p),T._decrementPreload()},function(j){if(g.default._friendlyFileLoadError(1,j),!n)throw j;n(j)}),p},g.default.prototype.loadBytes=function(i,l,u){var s={},n=this;return this.httpDo(i,"GET","arrayBuffer",function(p){s.bytes=new Uint8Array(p),typeof l=="function"&&l(s),n._decrementPreload()},function(p){if(g.default._friendlyFileLoadError(6,i),!u)throw p;u(p)}),s},g.default.prototype.httpGet=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return g.default._validateParameters("httpGet",l),l.splice(1,0,"GET"),g.default.prototype.httpDo.apply(this,l)},g.default.prototype.httpPost=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return g.default._validateParameters("httpPost",l),l.splice(1,0,"POST"),g.default.prototype.httpDo.apply(this,l)},g.default.prototype.httpDo=function(){for(var i,l,u,s={},n=0,p="text/plain",h=arguments.length-1;0<h&&typeof(h<0||arguments.length<=h?void 0:arguments[h])=="function";h--)n++;var _=arguments.length-n,T=arguments.length<=0?void 0:arguments[0];if(_==2&&typeof T=="string"&&y(arguments.length<=1?void 0:arguments[1])==="object")I=new Request(T,arguments.length<=1?void 0:arguments[1]),l=arguments.length<=2?void 0:arguments[2],u=arguments.length<=3?void 0:arguments[3];else{for(var j,S="GET",C=1;C<arguments.length;C++){var L=C<0||arguments.length<=C?void 0:arguments[C];if(typeof L=="string")L==="GET"||L==="POST"||L==="PUT"||L==="DELETE"?S=L:L==="json"||L==="jsonp"||L==="binary"||L==="arrayBuffer"||L==="xml"||L==="text"||L==="table"?i=L:j=L;else if(typeof L=="number")j=L.toString();else if(y(L)==="object")if(L.hasOwnProperty("jsonpCallback")||L.hasOwnProperty("jsonpCallbackFunction"))for(var E in L)s[E]=L[E];else p=L instanceof g.default.XML?(j=L.serialize(),"application/xml"):(j=JSON.stringify(L),"application/json");else typeof L=="function"&&(l?u=L:l=L)}var _=S==="GET"?new Headers:new Headers({"Content-Type":p}),I=new Request(T,{method:S,mode:"cors",body:j,headers:_})}return(_=(_=(i=i||(T.includes("json")?"json":T.includes("xml")?"xml":"text"))==="jsonp"?(0,c.default)(T,s):fetch(I)).then(function(O){if(!O.ok)throw(U=new Error(O.body)).status=O.status,U.ok=!1,U;var U=0;switch((U=i!=="jsonp"?O.headers.get("content-length"):U)&&64e6<U&&g.default._friendlyFileLoadError(7,T),i){case"json":case"jsonp":return O.json();case"binary":return O.blob();case"arrayBuffer":return O.arrayBuffer();case"xml":return O.text().then(function(D){return D=new DOMParser().parseFromString(D,"text/xml"),new g.default.XML(D.documentElement)});default:return O.text()}})).then(l||function(){}),_.catch(u||console.error),_},window.URL=window.URL||window.webkitURL,g.default.prototype._pWriters=[],g.default.prototype.createWriter=function(i,l){var u,s;for(s in g.default.prototype._pWriters)if(g.default.prototype._pWriters[s].name===i)return u=new g.default.PrintWriter(i+this.millis(),l),g.default.prototype._pWriters.push(u),u;return u=new g.default.PrintWriter(i,l),g.default.prototype._pWriters.push(u),u},g.default.PrintWriter=function(i,l){var u=this;this.name=i,this.content="",this.write=function(s){this.content+=s},this.print=function(s){this.content+="".concat(s,`
`)},this.clear=function(){this.content=""},this.close=function(){var s,n=[];for(s in n.push(this.content),g.default.prototype.writeFile(n,i,l),g.default.prototype._pWriters)g.default.prototype._pWriters[s].name===this.name&&g.default.prototype._pWriters.splice(s,1);u.clear(),u={}}},g.default.prototype.save=function(i,l,u){var s=arguments,n=(this._curElement||this).elt;if(s.length===0)g.default.prototype.saveCanvas(n);else if(s[0]instanceof g.default.Renderer||s[0]instanceof g.default.Graphics)g.default.prototype.saveCanvas(s[0].elt,s[1],s[2]);else if(s.length===1&&typeof s[0]=="string")g.default.prototype.saveCanvas(n,s[0]);else switch(o(s[1],s[2])[1]){case"json":return void g.default.prototype.saveJSON(s[0],s[1],s[2]);case"txt":return void g.default.prototype.saveStrings(s[0],s[1],s[2]);default:s[0]instanceof Array?g.default.prototype.saveStrings(s[0],s[1],s[2]):s[0]instanceof g.default.Table?g.default.prototype.saveTable(s[0],s[1],s[2]):s[0]instanceof g.default.Image?g.default.prototype.saveCanvas(s[0].canvas,s[1]):s[0]instanceof g.default.SoundFile&&g.default.prototype.saveSound(s[0],s[1],s[2],s[3])}},g.default.prototype.saveJSON=function(i,l,u){g.default._validateParameters("saveJSON",arguments),u=u?JSON.stringify(i):JSON.stringify(i,void 0,2),this.saveStrings(u.split(`
`),l,"json")},g.default.prototype.saveJSONObject=g.default.prototype.saveJSON,g.default.prototype.saveJSONArray=g.default.prototype.saveJSON,g.default.prototype.saveStrings=function(i,l,u,s){g.default._validateParameters("saveStrings",arguments);for(var n=this.createWriter(l,u||"txt"),p=0;p<i.length;p++)s?n.write(i[p]+`\r
`):n.write(i[p]+`
`);n.close(),n.clear()},g.default.prototype.saveTable=function(i,l,u){g.default._validateParameters("saveTable",arguments),s=u===void 0?l.substring(l.lastIndexOf(".")+1,l.length):u;var s,n=this.createWriter(l,s),p=i.columns,h=s==="tsv"?"	":",";if(s!=="html"){if(p[0]!=="0"){for(var _=0;_<p.length;_++)_<p.length-1?n.write(p[_]+h):n.write(p[_]);n.write(`
`)}for(var T=0;T<i.rows.length;T++){for(var j=void 0,j=0;j<i.rows[T].arr.length;j++)j<i.rows[T].arr.length-1?s==="csv"&&String(i.rows[T].arr[j]).includes(",")?n.write('"'+i.rows[T].arr[j]+'"'+h):n.write(i.rows[T].arr[j]+h):s==="csv"&&String(i.rows[T].arr[j]).includes(",")?n.write('"'+i.rows[T].arr[j]+'"'):n.write(i.rows[T].arr[j]);n.write(`
`)}}else{if(n.print("<html>"),n.print("<head>"),n.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),n.print("</head>"),n.print("<body>"),n.print("  <table>"),p[0]!=="0"){n.print("    <tr>");for(var S=0;S<p.length;S++){var C=r(p[S]);n.print("      <td>".concat(C)),n.print("      </td>")}n.print("    </tr>")}for(var L=0;L<i.rows.length;L++){n.print("    <tr>");for(var E=0;E<i.columns.length;E++){var I=r(i.rows[L].getString(E));n.print("      <td>".concat(I)),n.print("      </td>")}n.print("    </tr>")}n.print("  </table>"),n.print("</body>"),n.print("</html>")}n.close(),n.clear()},g.default.prototype.writeFile=function(n,l,u){var s="application/octet-stream",n=(g.default.prototype._isSafari()&&(s="text/plain"),new Blob(n,{type:s}));g.default.prototype.downloadFile(n,l,u)},g.default.prototype.downloadFile=function(i,n,p){var s,n=o(n,p),p=n[0];i instanceof Blob?d.default.saveAs(i,p):((s=document.createElement("a")).href=i,s.download=p,s.onclick=function(h){document.body.removeChild(h.target),h.stopPropagation()},s.style.display="none",document.body.appendChild(s),g.default.prototype._isSafari()&&(i=(i=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(n[1],'"'),alert(i)),s.click())},g.default.prototype._checkFileExtension=o,g.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=g.default,A.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,H,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(c,d){for(var b=0;b<d.length;b++){var y=d[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}m.default.Table=(function(){function c(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],r=this,o=c;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=y}var d,b;return d=c,(b=[{key:"addRow",value:function(y){if(y=y||new m.default.TableRow,y.arr===void 0||y.obj===void 0)throw new Error("invalid TableRow: ".concat(y));return(y.table=this).rows.push(y),y}},{key:"removeRow",value:function(y){this.rows[y].table=null,y=this.rows.splice(y+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(y)}},{key:"getRow",value:function(y){return this.rows[y]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(y,r){if(typeof r=="string"){for(var o=0;o<this.rows.length;o++)if(this.rows[o].obj[r]===y)return this.rows[o]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[r]===y)return this.rows[i];return null}},{key:"findRows",value:function(y,r){var o=[];if(typeof r=="string")for(var i=0;i<this.rows.length;i++)this.rows[i].obj[r]===y&&o.push(this.rows[i]);else for(var l=0;l<this.rows.length;l++)this.rows[l].arr[r]===y&&o.push(this.rows[l]);return o}},{key:"matchRow",value:function(y,r){if(typeof r=="number"){for(var o=0;o<this.rows.length;o++)if(this.rows[o].arr[r].match(y))return this.rows[o]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[r].match(y))return this.rows[i];return null}},{key:"matchRows",value:function(y,r){var o=[];if(typeof r=="number")for(var i=0;i<this.rows.length;i++)this.rows[i].arr[r].match(y)&&o.push(this.rows[i]);else for(var l=0;l<this.rows.length;l++)this.rows[l].obj[r].match(y)&&o.push(this.rows[l]);return o}},{key:"getColumn",value:function(y){var r=[];if(typeof y=="string")for(var o=0;o<this.rows.length;o++)r.push(this.rows[o].obj[y]);else for(var i=0;i<this.rows.length;i++)r.push(this.rows[i].arr[y]);return r}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(y){this.columns.push(y||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(y,r){for(var o=[],i=0;i<y.length;i++)o.push(y.charAt(i).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var l=new RegExp(o.join("|"),"g");if(r===void 0)for(var u=0;u<this.columns.length;u++)for(var s=0;s<this.rows.length;s++){var n=(n=this.rows[s].arr[u]).replace(l,"");this.rows[s].arr[u]=n,this.rows[s].obj[this.columns[u]]=n}else if(typeof r=="string")for(var p=0;p<this.rows.length;p++){var h=(h=this.rows[p].obj[r]).replace(l,""),_=(this.rows[p].obj[r]=h,this.columns.indexOf(r));this.rows[p].arr[_]=h}else for(var T=0;T<this.rows.length;T++){var j=(j=this.rows[T].arr[r]).replace(l,"");this.rows[T].arr[r]=j,this.rows[T].obj[this.columns[r]]=j}}},{key:"trim",value:function(y){var r=new RegExp(" ","g");if(y===void 0)for(var o=0;o<this.columns.length;o++)for(var i=0;i<this.rows.length;i++){var l=(l=this.rows[i].arr[o]).replace(r,"");this.rows[i].arr[o]=l,this.rows[i].obj[this.columns[o]]=l}else if(typeof y=="string")for(var u=0;u<this.rows.length;u++){var s=(s=this.rows[u].obj[y]).replace(r,""),n=(this.rows[u].obj[y]=s,this.columns.indexOf(y));this.rows[u].arr[n]=s}else for(var p=0;p<this.rows.length;p++){var h=(h=this.rows[p].arr[y]).replace(r,"");this.rows[p].arr[y]=h,this.rows[p].obj[this.columns[y]]=h}}},{key:"removeColumn",value:function(i){typeof i=="string"?o=this.columns.indexOf(r=i):r=this.columns[o=i];var r,o,i=this.columns.splice(o+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(i);for(var l=0;l<this.rows.length;l++){var u=this.rows[l].arr,s=u.splice(o+1,u.length);u.pop(),this.rows[l].arr=u.concat(s),delete this.rows[l].obj[r]}}},{key:"set",value:function(y,r,o){this.rows[y].set(r,o)}},{key:"setNum",value:function(y,r,o){this.rows[y].setNum(r,o)}},{key:"setString",value:function(y,r,o){this.rows[y].setString(r,o)}},{key:"get",value:function(y,r){return this.rows[y].get(r)}},{key:"getNum",value:function(y,r){return this.rows[y].getNum(r)}},{key:"getString",value:function(y,r){return this.rows[y].getString(r)}},{key:"getObject",value:function(y){for(var r,o={},i=0;i<this.rows.length;i++)if(r=this.rows[i].obj,typeof y=="string"){if(!(0<=this.columns.indexOf(y)))throw new Error('This table has no column named "'.concat(y,'"'));o[r[y]]=r}else o[i]=this.rows[i].obj;return o}},{key:"getArray",value:function(){for(var y=[],r=0;r<this.rows.length;r++)y.push(this.rows[r].arr);return y}}])&&g(d.prototype,b),c})(),t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,H,A){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function m(g,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}t.default.TableRow=(function(){function g(b,y){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var r=[];b&&(r=b.split(y=y||",")),this.arr=r,this.obj=Object.fromEntries(r.entries()),this.table=null}var c,d;return c=g,(d=[{key:"set",value:function(b,y){if(typeof b=="string"){var r=this.table.columns.indexOf(b);if(!(0<=r))throw new Error('This table has no column named "'.concat(b,'"'));this.obj[b]=y,this.arr[r]=y}else{if(!(b<this.table.columns.length))throw new Error("Column #".concat(b," is out of the range of this table"));this.arr[b]=y,r=this.table.columns[b],this.obj[r]=y}}},{key:"setNum",value:function(b,y){y=parseFloat(y),this.set(b,y)}},{key:"setString",value:function(b,y){y=y.toString(),this.set(b,y)}},{key:"get",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b]}},{key:"getNum",value:function(b){var y=parseFloat(typeof b=="string"?this.obj[b]:this.arr[b]);if(y.toString()==="NaN")throw"Error: ".concat(this.obj[b]," is NaN (Not a Number)");return y}},{key:"getString",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b].toString()}}])&&m(c.prototype,d),g})(),t=t.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,H,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(d,b){for(var y=0;y<b.length;y++){var r=b[y];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(d,r.key,r)}}function c(d){for(var b=[],y=0;y<d.length;y++)b.push(new m.default.XML(d[y]));return b}m.default.XML=(function(){function d(r){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");r?this.DOM=r:(r=document.implementation.createDocument(null,"doc"),this.DOM=r.createElement("root"))}var b,y;return b=d,(y=[{key:"getParent",value:function(){return new m.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(r){var o=this.DOM.innerHTML,i=this.DOM.attributes,l=document.implementation.createDocument(null,"default").createElement(r);l.innerHTML=o;for(var u=0;u<i.length;u++)l.setAttribute(i[u].nodeName,i[u].nodeValue);this.DOM=l}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var r=[],o=0;o<this.DOM.childNodes.length;o++)r.push(this.DOM.childNodes[o].nodeName);return r}},{key:"getChildren",value:function(r){return c(r?this.DOM.getElementsByTagName(r):this.DOM.children)}},{key:"getChild",value:function(r){if(typeof r!="string")return new m.default.XML(this.DOM.children[r]);var o=!0,i=!1,l=void 0;try{for(var u,s=this.DOM.children[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var n=u.value;if(n.tagName===r)return new m.default.XML(n)}}catch(p){i=!0,l=p}finally{try{o||s.return==null||s.return()}finally{if(i)throw l}}}},{key:"addChild",value:function(r){r instanceof m.default.XML&&this.DOM.appendChild(r.DOM)}},{key:"removeChild",value:function(r){var o=-1;if(typeof r=="string"){for(var i=0;i<this.DOM.children.length;i++)if(this.DOM.children[i].tagName===r){o=i;break}}else o=r;o!==-1&&this.DOM.removeChild(this.DOM.children[o])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var r=[],o=!0,i=!1,l=void 0;try{for(var u,s=this.DOM.attributes[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var n=u.value;r.push(n.nodeName)}}catch(p){i=!0,l=p}finally{try{o||s.return==null||s.return()}finally{if(i)throw l}}return r}},{key:"hasAttribute",value:function(r){var o={},i=!0,l=!1,u=void 0;try{for(var s,n=this.DOM.attributes[Symbol.iterator]();!(i=(s=n.next()).done);i=!0){var p=s.value;o[p.nodeName]=p.nodeValue}}catch(h){l=!0,u=h}finally{try{i||n.return==null||n.return()}finally{if(l)throw u}}return!!o[r]}},{key:"getNum",value:function(r,o){var i={},l=!0,u=!1,s=void 0;try{for(var n,p=this.DOM.attributes[Symbol.iterator]();!(l=(n=p.next()).done);l=!0){var h=n.value;i[h.nodeName]=h.nodeValue}}catch(_){u=!0,s=_}finally{try{l||p.return==null||p.return()}finally{if(u)throw s}}return Number(i[r])||o||0}},{key:"getString",value:function(r,o){var i={},l=!0,u=!1,s=void 0;try{for(var n,p=this.DOM.attributes[Symbol.iterator]();!(l=(n=p.next()).done);l=!0){var h=n.value;i[h.nodeName]=h.nodeValue}}catch(_){u=!0,s=_}finally{try{l||p.return==null||p.return()}finally{if(u)throw s}}return i[r]?String(i[r]):o||null}},{key:"setAttribute",value:function(r,o){this.DOM.setAttribute(r,o)}},{key:"getContent",value:function(r){var o=this.DOM.textContent;return(o=o.replace(/\s\s+/g,","))||r||null}},{key:"setContent",value:function(r){this.DOM.children.length||(this.DOM.textContent=r)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&g(b.prototype,y),d})(),t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,H,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(c){return(function(d){if(Array.isArray(d)){for(var b=0,y=new Array(d.length);b<d.length;b++)y[b]=d[b];return y}})(c)||(function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)})(c)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}m.default.prototype.abs=Math.abs,m.default.prototype.ceil=Math.ceil,m.default.prototype.constrain=function(c,d,b){return m.default._validateParameters("constrain",arguments),Math.max(Math.min(c,b),d)},m.default.prototype.dist=function(){for(var c=arguments.length,d=new Array(c),b=0;b<c;b++)d[b]=arguments[b];return m.default._validateParameters("dist",d),d.length===4?Math.hypot(d[2]-d[0],d[3]-d[1]):d.length===6?Math.hypot(d[3]-d[0],d[4]-d[1],d[5]-d[2]):void 0},m.default.prototype.exp=Math.exp,m.default.prototype.floor=Math.floor,m.default.prototype.lerp=function(c,d,b){return m.default._validateParameters("lerp",arguments),b*(d-c)+c},m.default.prototype.log=Math.log,m.default.prototype.mag=function(c,d){return m.default._validateParameters("mag",arguments),Math.hypot(c,d)},m.default.prototype.map=function(c,d,b,y,r,o){return m.default._validateParameters("map",arguments),c=(c-d)/(b-d)*(r-y)+y,o?y<r?this.constrain(c,y,r):this.constrain(c,r,y):c},m.default.prototype.max=function(){for(var c=function(r){return Math.max.apply(Math,g(r))},d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];return Array.isArray(b[0])?c(b[0]):c(b)},m.default.prototype.min=function(){for(var c=function(r){return Math.min.apply(Math,g(r))},d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];return Array.isArray(b[0])?c(b[0]):c(b)},m.default.prototype.norm=function(c,d,b){return m.default._validateParameters("norm",arguments),this.map(c,d,b,0,1)},m.default.prototype.pow=Math.pow,m.default.prototype.round=function(c,d){return d?(d=Math.pow(10,d),Math.round(c*d)/d):Math.round(c)},m.default.prototype.sq=function(c){return c*c},m.default.prototype.sqrt=Math.sqrt,m.default.prototype.fract=function(y){m.default._validateParameters("fract",arguments);var d,b=0,y=Number(y);return isNaN(y)||Math.abs(y)===1/0?y:(y<0&&(y=-y,b=1),String(y).includes(".")&&!String(y).includes("e")?(d=String(y),d=+("0"+d.slice(d.indexOf("."))),Math.abs(b-d)):y<1?Math.abs(b-y):0)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,H,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(d,b,y){return(g=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?Reflect.construct:function(r,o,i){var l=[null];return l.push.apply(l,o),o=new(Function.bind.apply(r,l)),i&&c(o,i.prototype),o}).apply(null,arguments)}function c(d,b){return(c=Object.setPrototypeOf||function(y,r){return y.__proto__=r,y})(d,b)}m.default.prototype.createVector=function(d,b,y){return this instanceof m.default?g(m.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new m.default.Vector(d,b,y)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(y,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,y=(y=y("../core/main"))&&y.__esModule?y:{default:y};function m(r){return .5*(1-Math.cos(r*Math.PI))}var g,c=4095,d=4,b=.5,y=(y.default.prototype.noise=function(r){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(g==null){g=new Array(4096);for(var l=0;l<4096;l++)g[l]=Math.random()}r<0&&(r=-r),o<0&&(o=-o),i<0&&(i=-i);for(var u,s,n=Math.floor(r),p=Math.floor(o),h=Math.floor(i),_=r-n,T=o-p,j=i-h,S=0,C=.5,L=0;L<d;L++){var E=n+(p<<4)+(h<<8),I=m(_),O=m(T),U=g[E&c];U+=I*(g[E+1&c]-U),u=g[E+16&c],U+=O*((u+=I*(g[E+16+1&c]-u))-U),u=g[(E+=256)&c],u+=I*(g[E+1&c]-u),s=g[E+16&c],u+=O*((s+=I*(g[E+16+1&c]-s))-u),S+=(U+=m(j)*(u-U))*C,C*=b,n<<=1,p<<=1,h<<=1,1<=(_*=2)&&(n++,_--),1<=(T*=2)&&(p++,T--),1<=(j*=2)&&(h++,j--)}return S},y.default.prototype.noiseDetail=function(r,o){0<r&&(d=r),0<o&&(b=o)},y.default.prototype.noiseSeed=function(r){l=4294967296;var o,i,l,u={setSeed:function(n){i=o=(n??Math.random()*l)>>>0},getSeed:function(){return o},rand:function(){return(i=(1664525*i+1013904223)%l)/l}};u.setSeed(r),g=new Array(4096);for(var s=0;s<4096;s++)g[s]=u.rand()},y.default);A.default=y},{"../core/main":283}],316:[function(t,H,A){function m(o){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}function g(o){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(i){return m(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":m(i)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(r=t("../core/main"))&&r.__esModule?r:{default:r},d=(function(o){if(o&&o.__esModule)return o;if(o===null||g(o)!=="object"&&typeof o!="function")return{default:o};var i=b();if(i&&i.has(o))return i.get(o);var l,u={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in o){var n;Object.prototype.hasOwnProperty.call(o,l)&&((n=s?Object.getOwnPropertyDescriptor(o,l):null)&&(n.get||n.set)?Object.defineProperty(u,l,n):u[l]=o[l])}return u.default=o,i&&i.set(o,u),u})(t("../core/constants"));function b(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,b=function(){return o},o)}function y(o,i){for(var l=0;l<i.length;l++){var u=i[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}c.default.Vector=(function(){function o(){var h=this,s=o;if(!(h instanceof s))throw new TypeError("Cannot call a class as a function");var n,p,h=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],n=(arguments.length<=2?void 0:arguments[2])||0,p=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(n=(arguments.length<=0?void 0:arguments[0])||0,p=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=n,this.y=p,this.z=h}var i,l,u;return i=o,u=[{key:"fromAngle",value:function(s){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new c.default.Vector(n*Math.cos(s),n*Math.sin(s),0)}},{key:"fromAngles",value:function(j,_){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,h=Math.cos(_),_=Math.sin(_),T=Math.cos(j),j=Math.sin(j);return new c.default.Vector(p*j*_,-p*T,p*j*h)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*d.TWO_PI)}},{key:"random3D",value:function(){var s=Math.random()*d.TWO_PI,n=2*Math.random()-1,h=Math.sqrt(1-n*n),p=h*Math.cos(s),h=h*Math.sin(s);return new c.default.Vector(p,h,n)}},{key:"copy",value:function(s){return s.copy(s)}},{key:"add",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2];return T?T.set(h):(T=h.copy(),n.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),T.add(_),T}},{key:"rem",value:function(s,n){if(s instanceof c.default.Vector&&n instanceof c.default.Vector)return(s=s.copy()).rem(n),s}},{key:"sub",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2];return T?T.set(h):(T=h.copy(),n.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),T.sub(_),T}},{key:"mult",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2];return T?T.set(h):(T=h.copy(),n.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),T.mult(_),T}},{key:"rotate",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2];return n.length===2?T=h.copy():(T instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),T.set(h)),T.rotate(_),T}},{key:"div",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2];return T?T.set(h):(T=h.copy(),n.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),T.div(_),T}},{key:"dot",value:function(s,n){return s.dot(n)}},{key:"cross",value:function(s,n){return s.cross(n)}},{key:"dist",value:function(s,n){return s.dist(n)}},{key:"lerp",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2],j=n[3];return j?j.set(h):(j=h.copy(),n.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),j.lerp(_,T),j}},{key:"slerp",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2],j=n[3];return j?j.set(h):(j=h.copy(),n.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),j.slerp(_,T),j}},{key:"mag",value:function(s){return s.mag()}},{key:"magSq",value:function(s){return s.magSq()}},{key:"normalize",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1];return n.length<2?_=h.copy():(_ instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),_.set(h)),_.normalize()}},{key:"limit",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2];return n.length<3?T=h.copy():(T instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),T.set(h)),T.limit(_)}},{key:"setMag",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2];return n.length<3?T=h.copy():(T instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),T.set(h)),T.setMag(_)}},{key:"heading",value:function(s){return s.heading()}},{key:"angleBetween",value:function(s,n){return s.angleBetween(n)}},{key:"reflect",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2];return n.length<3?T=h.copy():(T instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),T.set(h)),T.reflect(_)}},{key:"array",value:function(s){return s.array()}},{key:"equals",value:function(s,n){var p;return s instanceof c.default.Vector?p=s:Array.isArray(s)?p=new c.default.Vector().set(s):c.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),p.equals(n)}}],(l=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(s,n,p){return s instanceof c.default.Vector?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):Array.isArray(s)?(this.x=s[0]||0,this.y=s[1]||0,this.z=s[2]||0):(this.x=s||0,this.y=n||0,this.z=p||0),this}},{key:"copy",value:function(){return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new c.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(s,n,p){return s instanceof c.default.Vector?(this.x+=s.x||0,this.y+=s.y||0,this.z+=s.z||0):Array.isArray(s)?(this.x+=s[0]||0,this.y+=s[1]||0,this.z+=s[2]||0):(this.x+=s||0,this.y+=n||0,this.z+=p||0),this}},{key:"calculateRemainder2D",value:function(s,n){return s!==0&&(this.x=this.x%s),n!==0&&(this.y=this.y%n),this}},{key:"calculateRemainder3D",value:function(s,n,p){return s!==0&&(this.x=this.x%s),n!==0&&(this.y=this.y%n),p!==0&&(this.z=this.z%p),this}},{key:"rem",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h,_,T,j=n[0],S=n[1],C=n[2];if(j instanceof c.default.Vector){if([j.x,j.y,j.z].every(Number.isFinite))return h=parseFloat(j.x),_=parseFloat(j.y),T=parseFloat(j.z),this.calculateRemainder3D(h,_,T)}else if(Array.isArray(j)){if(j.every(Number.isFinite))return j.length===2?this.calculateRemainder2D(j[0],j[1]):j.length===3?this.calculateRemainder3D(j[0],j[1],j[2]):void 0}else if(n.length===1){if(Number.isFinite(j)&&j!==0)return this.x=this.x%j,this.y=this.y%j,this.z=this.z%j,this}else if(n.length===2){if(n.every(Number.isFinite))return this.calculateRemainder2D(j,S)}else if(n.length===3&&n.every(Number.isFinite))return this.calculateRemainder3D(j,S,C)}},{key:"sub",value:function(s,n,p){return s instanceof c.default.Vector?(this.x-=s.x||0,this.y-=s.y||0,this.z-=s.z||0):Array.isArray(s)?(this.x-=s[0]||0,this.y-=s[1]||0,this.z-=s[2]||0):(this.x-=s||0,this.y-=n||0,this.z-=p||0),this}},{key:"mult",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h,_=n[0],T=n[1],j=n[2];return _ instanceof c.default.Vector?Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"?(this.x*=_.x,this.y*=_.y,this.z*=_.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(_)?_.every(function(S){return Number.isFinite(S)})&&_.every(function(S){return typeof S=="number"})?_.length===1?(this.x*=_[0],this.y*=_[0],this.z*=_[0]):_.length===2?(this.x*=_[0],this.y*=_[1]):_.length===3&&(this.x*=_[0],this.y*=_[1],this.z*=_[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(h=n).every(function(S){return Number.isFinite(S)})&&h.every(function(S){return typeof S=="number"})?(n.length===1&&(this.x*=_,this.y*=_,this.z*=_),n.length===2&&(this.x*=_,this.y*=T),n.length===3&&(this.x*=_,this.y*=T,this.z*=j)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var s=arguments.length,n=new Array(s),p=0;p<s;p++)n[p]=arguments[p];var h=n[0],_=n[1],T=n[2];if(h instanceof c.default.Vector)if(Number.isFinite(h.x)&&Number.isFinite(h.y)&&Number.isFinite(h.z)&&typeof h.x=="number"&&typeof h.y=="number"&&typeof h.z=="number"){var j=h.z===0&&this.z===0;if(h.x===0||h.y===0||!j&&h.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=h.x,this.y/=h.y,j||(this.z/=h.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(h))if(h.every(Number.isFinite)&&h.every(function(S){return typeof S=="number"})){if(h.some(function(S){return S===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;h.length===1?(this.x/=h[0],this.y/=h[0],this.z/=h[0]):h.length===2?(this.x/=h[0],this.y/=h[1]):h.length===3&&(this.x/=h[0],this.y/=h[1],this.z/=h[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(n.every(Number.isFinite)&&n.every(function(S){return typeof S=="number"})){if(n.some(function(S){return S===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;n.length===1&&(this.x/=h,this.y/=h,this.z/=h),n.length===2&&(this.x/=h,this.y/=_),n.length===3&&(this.x/=h,this.y/=_,this.z/=T)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var s=this.x,n=this.y,p=this.z;return s*s+n*n+p*p}},{key:"dot",value:function(s,n,p){return s instanceof c.default.Vector?this.dot(s.x,s.y,s.z):this.x*(s||0)+this.y*(n||0)+this.z*(p||0)}},{key:"cross",value:function(h){var n=this.y*h.z-this.z*h.y,p=this.z*h.x-this.x*h.z,h=this.x*h.y-this.y*h.x;return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,n,p,h):new c.default.Vector(n,p,h)}},{key:"dist",value:function(s){return s.copy().sub(this).mag()}},{key:"normalize",value:function(){var s=this.mag();return s!==0&&this.mult(1/s),this}},{key:"limit",value:function(s){var n=this.magSq();return s*s<n&&this.div(Math.sqrt(n)).mult(s),this}},{key:"setMag",value:function(s){return this.normalize().mult(s)}},{key:"heading",value:function(){var s=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(s):s}},{key:"setHeading",value:function(s){this.isPInst&&(s=this._toRadians(s));var n=this.mag();return this.x=n*Math.cos(s),this.y=n*Math.sin(s),this}},{key:"rotate",value:function(n){var n=this.heading()+n,p=(this.isPInst&&(n=this._toRadians(n)),this.mag());return this.x=Math.cos(n)*p,this.y=Math.sin(n)*p,this}},{key:"angleBetween",value:function(s){var n;return this.magSq()*s.magSq()==0?NaN:(n=this.cross(s),s=Math.atan2(n.mag(),this.dot(s))*Math.sign(n.z||1),this.isPInst?this._fromRadians(s):s)}},{key:"lerp",value:function(s,n,p,h){return s instanceof c.default.Vector?this.lerp(s.x,s.y,s.z,n):(this.x+=(s-this.x)*h||0,this.y+=(n-this.y)*h||0,this.z+=(p-this.z)*h||0,this)}},{key:"slerp",value:function(s,n){if(n!==0){if(n===1)return this.set(s);var p=this.mag(),h=s.mag();if(p*h==0)this.mult(1-n).add(s.x*n,s.y*n,s.z*n);else{var _=this.cross(s),T=_.mag(),j=Math.atan2(T,this.dot(s));if(0<T)_.x/=T,_.y/=T,_.z/=T;else{if(j<.5*Math.PI)return this.mult(1-n).add(s.x*n,s.y*n,s.z*n),this;this.z===0&&s.z===0?_.set(0,0,1):this.x!==0?_.set(this.y,-this.x,0).normalize():_.set(1,0,0)}T=_.cross(this),s=1-n+n*h/p,_=s*Math.cos(n*j),h=s*Math.sin(n*j),this.x=this.x*_+T.x*h,this.y=this.y*_+T.y*h,this.z=this.z*_+T.z*h}}return this}},{key:"reflect",value:function(s){return s=c.default.Vector.normalize(s),this.sub(s.mult(2*this.dot(s)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(T,n,p){var h,_,T=T instanceof c.default.Vector?(h=T.x||0,_=T.y||0,T.z||0):Array.isArray(T)?(h=T[0]||0,_=T[1]||0,T[2]||0):(h=T||0,_=n||0,p||0);return this.x===h&&this.y===_&&this.z===T}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(s){return Math.abs(+(s||0))<=Number.EPSILON?0:s}}])&&y(i.prototype,l),u&&y(i,u),o})();var r=c.default.Vector;A.default=r},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(b,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(b=b("../core/main"))&&b.__esModule?b:{default:b},g="_lcg_random_state",c=4294967296,d=0,b=(m.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%c,this[y]/c},m.default.prototype._lcgSetSeed=function(y,r){this[y]=(r??Math.random()*c)>>>0},m.default.prototype.randomSeed=function(y){this._lcgSetSeed(g,y),this._gaussian_previous=!1},m.default.prototype.random=function(y,r){var o,i;return m.default._validateParameters("random",arguments),o=this[g]!=null?this._lcg(g):Math.random(),y===void 0?o:r===void 0?Array.isArray(y)?y[Math.floor(o*y.length)]:o*y:(r<y&&(i=y,y=r,r=i),o*(r-y)+y)},m.default.prototype.randomGaussian=function(y){var r,o,i,l,u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)r=d,this._gaussian_previous=!1;else{for(;1<=(l=(o=this.random(2)-1)*o+(i=this.random(2)-1)*i););r=o*(l=Math.sqrt(-2*Math.log(l)/l)),d=i*l,this._gaussian_previous=!0}return r*u+(y||0)},m.default);A.default=b},{"../core/main":283}],318:[function(t,H,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(o){return m(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":m(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var o=b();if(o&&o.has(r))return o.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var s;Object.prototype.hasOwnProperty.call(r,i)&&((s=u?Object.getOwnPropertyDescriptor(r,i):null)&&(s.get||s.set)?Object.defineProperty(l,i,s):l[i]=r[i])}return l.default=r,o&&o.set(r,l),l})(t("../core/constants"));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}c.default.prototype._angleMode=d.RADIANS,c.default.prototype.acos=function(r){return this._fromRadians(Math.acos(r))},c.default.prototype.asin=function(r){return this._fromRadians(Math.asin(r))},c.default.prototype.atan=function(r){return this._fromRadians(Math.atan(r))},c.default.prototype.atan2=function(r,o){return this._fromRadians(Math.atan2(r,o))},c.default.prototype.cos=function(r){return Math.cos(this._toRadians(r))},c.default.prototype.sin=function(r){return Math.sin(this._toRadians(r))},c.default.prototype.tan=function(r){return Math.tan(this._toRadians(r))},c.default.prototype.degrees=function(r){return r*d.RAD_TO_DEG},c.default.prototype.radians=function(r){return r*d.DEG_TO_RAD},c.default.prototype.angleMode=function(r){if(c.default._validateParameters("angleMode",arguments),r===void 0)return this._angleMode;r!==d.DEGREES&&r!==d.RADIANS||r!==this._angleMode&&(r===d.RADIANS?(this._setProperty("pRotationX",this.pRotationX*d.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*d.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*d.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*d.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*d.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*d.RAD_TO_DEG)),this._angleMode=r)},c.default.prototype._toRadians=function(r){return this._angleMode===d.DEGREES?r*d.DEG_TO_RAD:r},c.default.prototype._toDegrees=function(r){return this._angleMode===d.RADIANS?r*d.RAD_TO_DEG:r},c.default.prototype._fromRadians=function(r){return this._angleMode===d.DEGREES?r*d.RAD_TO_DEG:r},c.default.prototype._fromDegrees=function(r){return this._angleMode===d.RADIANS?r*d.DEG_TO_RAD:r};var y=c.default;A.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,H,A){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype.textAlign=function(g,c){var d;return m.default._validateParameters("textAlign",arguments),(d=this._renderer).textAlign.apply(d,arguments)},m.default.prototype.textLeading=function(g){var c;return m.default._validateParameters("textLeading",arguments),(c=this._renderer).textLeading.apply(c,arguments)},m.default.prototype.textSize=function(g){var c;return m.default._validateParameters("textSize",arguments),(c=this._renderer).textSize.apply(c,arguments)},m.default.prototype.textStyle=function(g){var c;return m.default._validateParameters("textStyle",arguments),(c=this._renderer).textStyle.apply(c,arguments)},m.default.prototype.textWidth=function(){for(var g=arguments.length,c=new Array(g),d=0;d<g;d++)c[d]=arguments[d];if(c[0]+="",m.default._validateParameters("textWidth",c),c[0].length===0)return 0;for(var b=c[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),y=[],r=0;r<b.length;r++)y.push(this._renderer.textWidth(b[r]));return Math.max.apply(Math,y)},m.default.prototype.textAscent=function(){for(var g=arguments.length,c=new Array(g),d=0;d<g;d++)c[d]=arguments[d];return m.default._validateParameters("textAscent",c),this._renderer.textAscent()},m.default.prototype.textDescent=function(){for(var g=arguments.length,c=new Array(g),d=0;d<g;d++)c[d]=arguments[d];return m.default._validateParameters("textDescent",c),this._renderer.textDescent()},m.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},m.default.prototype.textWrap=function(g){return m.default._validateParameters("textWrap",[g]),this._renderer.textWrap(g)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,H,A){function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function g(i){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(l){return m(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":m(l)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(o=t("../core/main"))&&o.__esModule?o:{default:o},d=r(t("../core/constants")),b=r(t("opentype.js"));function y(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,y=function(){return i},i)}function r(i){if(i&&i.__esModule)return i;if(i===null||g(i)!=="object"&&typeof i!="function")return{default:i};var l=y();if(l&&l.has(i))return l.get(i);var u,s,n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&((s=p?Object.getOwnPropertyDescriptor(i,u):null)&&(s.get||s.set)?Object.defineProperty(n,u,s):n[u]=i[u]);return n.default=i,l&&l.set(i,n),n}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.loadFont=function(i,l,u){c.default._validateParameters("loadFont",arguments);var s=new c.default.Font(this),n=this;return b.load(i,function(_,T){if(_)return c.default._friendlyFileLoadError(4,i),u!==void 0?u(_):void console.error(_,i);s.font=T,l!==void 0&&l(s),n._decrementPreload();var _=i.split("\\").pop().split("/").pop(),T=_.lastIndexOf("."),j=T<1?null:_.slice(T+1);["ttf","otf","woff","woff2"].includes(j)&&(j=_.slice(0,T!==-1?T:0),(_=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(j,`;
src: url(`).concat(i,`);
}
`))),document.head.appendChild(_))}),s},c.default.prototype.text=function(i,l,u,s,n){var p;return c.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},c.default.prototype.textFont=function(i,l){if(c.default._validateParameters("textFont",arguments),arguments.length){if(i)return this._renderer._setProperty("_textFont",i),l&&(this._renderer._setProperty("_textSize",l),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",l*d._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var o=c.default;A.default=o},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,H,A){function m(S){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(S)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(g=t("../core/main"))&&g.__esModule?g:{default:g},c=(function(S){if(S&&S.__esModule)return S;if(S===null||b(S)!=="object"&&typeof S!="function")return{default:S};var C=d();if(C&&C.has(S))return C.get(S);var L,E={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in S){var O;Object.prototype.hasOwnProperty.call(S,L)&&((O=I?Object.getOwnPropertyDescriptor(S,L):null)&&(O.get||O.set)?Object.defineProperty(E,L,O):E[L]=S[L])}return E.default=S,C&&C.set(S,E),E})(t("../core/constants"));function d(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,d=function(){return S},S)}function b(S){return(b=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(C){return m(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":m(C)})(S)}function y(S,C){for(var L=0;L<C.length;L++){var E=C[L];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}function r(S,C){var L=S.length;return S[C<0?C%L+L:C%L]}function o(S,C,L,E){var I,O,U;return E?(o.tmpPoint1===void 0&&(o.tmpPoint1=[],o.tmpPoint2=[]),O=o.tmpPoint1,U=o.tmpPoint2,O.x=C.x-S.x,O.y=C.y-S.y,U.x=L.x-C.x,U.y=L.y-C.y,I=O.x*U.x+O.y*U.y,O=Math.sqrt(O.x*O.x+O.y*O.y),U=Math.sqrt(U.x*U.x+U.y*U.y),Math.acos(I/(O*U))<E):(C[0]-S[0])*(L[1]-S[1])-(L[0]-S[0])*(C[1]-S[1])==0}function i(R,q,N,J,re,O,U,D,B){var X=1-B,G=Math.pow(X,3),Z=Math.pow(X,2),w=B*B,Q=w*B,W=G*R+3*Z*B*N+3*X*B*B*re+Q*U,G=G*q+3*Z*B*J+3*X*B*B*O+Q*D,Z=R+2*B*(N-R)+w*(re-2*N+R),Q=q+2*B*(J-q)+w*(O-2*J+q),le=N+2*B*(re-N)+w*(U-2*re+N),w=J+2*B*(O-J)+w*(D-2*O+J),R=X*R+B*N,N=X*q+B*J,q=X*re+B*U,J=X*O+B*D,re=90-180*Math.atan2(Z-le,Q-w)/Math.PI;return(le<Z||Q<w)&&(re+=180),{x:W,y:G,m:{x:Z,y:Q},n:{x:le,y:w},start:{x:R,y:N},end:{x:q,y:J},alpha:re}}function l(S,C,L,E,I,O,U,D,B){return B==null?T(S,C,L,E,I,O,U,D):i(S,C,L,E,I,O,U,D,(function(X,W,G,Z,Q,le,w,R,N){if(!(N<0||T(X,W,G,Z,Q,le,w,R)<N)){var q,J=.5,re=1-J;for(q=T(X,W,G,Z,Q,le,w,R,re);.01<Math.abs(q-N);)q=T(X,W,G,Z,Q,le,w,R,re+=(q<N?1:-1)*(J/=2));return re}})(S,C,L,E,I,O,U,D,B))}function u(S,C,L){for(var E,I,O,U,D,B=0,X=0,W=(S=(function(G,Z){function Q(xe,Te,Pe){var qe,Re;if(!xe)return["C",Te.x,Te.y,Te.x,Te.y,Te.x,Te.y];switch(xe[0]in{T:1,Q:1}||(Te.qx=Te.qy=null),xe[0]){case"M":Te.X=xe[1],Te.Y=xe[2];break;case"A":xe=["C"].concat(n.apply(0,[Te.x,Te.y].concat(xe.slice(1))));break;case"S":Re=Pe==="C"||Pe==="S"?(qe=2*Te.x-Te.bx,2*Te.y-Te.by):(qe=Te.x,Te.y),xe=["C",qe,Re].concat(xe.slice(1));break;case"T":Pe==="Q"||Pe==="T"?(Te.qx=2*Te.x-Te.qx,Te.qy=2*Te.y-Te.qy):(Te.qx=Te.x,Te.qy=Te.y),xe=["C"].concat(_(Te.x,Te.y,Te.qx,Te.qy,xe[1],xe[2]));break;case"Q":Te.qx=xe[1],Te.qy=xe[2],xe=["C"].concat(_(Te.x,Te.y,xe[1],xe[2],xe[3],xe[4]));break;case"L":xe=["C"].concat(h(Te.x,Te.y,xe[1],xe[2]));break;case"H":xe=["C"].concat(h(Te.x,Te.y,xe[1],Te.y));break;case"V":xe=["C"].concat(h(Te.x,Te.y,Te.x,xe[1]));break;case"Z":xe=["C"].concat(h(Te.x,Te.y,Te.X,Te.Y))}return xe}function le(xe,Te){if(7<xe[Te].length){xe[Te].shift();for(var Pe=xe[Te];Pe.length;)ce[Te]="A",q&&(ge[Te]="A"),xe.splice(Te++,0,["C"].concat(Pe.splice(0,6)));xe.splice(Te,1),R=Math.max(N.length,q&&q.length||0)}}function w(xe,Te,Pe,qe,Re){xe&&Te&&xe[Re][0]==="M"&&Te[Re][0]!=="M"&&(Te.splice(Re,0,["M",qe.x,qe.y]),Pe.bx=0,Pe.by=0,Pe.x=xe[Re][1],Pe.y=xe[Re][2],R=Math.max(N.length,q&&q.length||0))}var R,N=s(G),q=Z&&s(Z),J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},re={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ce=[],ge=[],se="",pe="";R=Math.max(N.length,q&&q.length||0);for(var ye=0;ye<R;ye++){(se=N[ye]?N[ye][0]:se)!=="C"&&(ce[ye]=se,ye&&(pe=ce[ye-1])),N[ye]=Q(N[ye],J,pe),ce[ye]!=="A"&&se==="C"&&(ce[ye]="C"),le(N,ye),q&&((se=q[ye]?q[ye][0]:se)!=="C"&&(ge[ye]=se,ye&&(pe=ge[ye-1])),q[ye]=Q(q[ye],re,pe),ge[ye]!=="A"&&se==="C"&&(ge[ye]="C"),le(q,ye)),w(N,q,J,re,ye),w(q,N,re,J,ye);var te=N[ye],me=q&&q[ye],we=te.length,Ee=q&&me.length;J.x=te[we-2],J.y=te[we-1],J.bx=parseFloat(te[we-4])||J.x,J.by=parseFloat(te[we-3])||J.y,re.bx=q&&(parseFloat(me[Ee-4])||re.x),re.by=q&&(parseFloat(me[Ee-3])||re.y),re.x=q&&me[Ee-2],re.y=q&&me[Ee-1]}return q?[N,q]:N})(S)).length;X<W;X++){if((O=S[X])[0]==="M")E=+O[1],I=+O[2];else{if(C<B+(U=l(E,I,O[1],O[2],O[3],O[4],O[5],O[6]))&&!L)return{x:(D=l(E,I,O[1],O[2],O[3],O[4],O[5],O[6],C-B)).x,y:D.y,alpha:D.alpha};B+=U,E=+O[5],I=+O[6]}O.shift()}return D=(D=L?B:i(E,I,O[0],O[1],O[2],O[3],O[4],O[5],1)).alpha?{x:D.x,y:D.y,alpha:D.alpha}:D}function s(S){var C=[],L=0,E=0,I=0,O=0,U=0;if(S){S[0][0]==="M"&&(I=L=+S[0][1],O=E=+S[0][2],U++,C[0]=["M",L,E]);for(var D,B,X=S.length===3&&S[0][0]==="M"&&S[1][0].toUpperCase()==="R"&&S[2][0].toUpperCase()==="Z",W=U,G=S.length;W<G;W++){if(C.push(D=[]),(B=S[W])[0]!==B[0].toUpperCase())switch(D[0]=B[0].toUpperCase(),D[0]){case"A":D[1]=B[1],D[2]=B[2],D[3]=B[3],D[4]=B[4],D[5]=B[5],D[6]=+(B[6]+L),D[7]=+(B[7]+E);break;case"V":D[1]=+B[1]+E;break;case"H":D[1]=+B[1]+L;break;case"R":for(var Z,Q=2,le=(Z=[L,E].concat(B.slice(1))).length;Q<le;Q++)Z[Q]=+Z[Q]+L,Z[++Q]=+Z[Q]+E;C.pop(),C=C.concat(p(Z,X));break;case"M":I=+B[1]+L,O=+B[2]+E;break;default:for(var w=1,R=B.length;w<R;w++)D[w]=+B[w]+(w%2?L:E)}else if(B[0]==="R")Z=[L,E].concat(B.slice(1)),C.pop(),C=C.concat(p(Z,X)),D=["R"].concat(B.slice(-2));else for(var N=0,q=B.length;N<q;N++)D[N]=B[N];switch(D[0]){case"Z":L=I,E=O;break;case"H":L=D[1];break;case"V":E=D[1];break;case"M":I=D[D.length-2],O=D[D.length-1];break;default:L=D[D.length-2],E=D[D.length-1]}}}return C}function n(S,C,L,E,q,ce,J,D,B,X){function W(Ee,xe,Te){return{x:Ee*Math.cos(Te)-xe*Math.sin(Te),y:Ee*Math.sin(Te)+xe*Math.cos(Te)}}var G,R=Math.PI,N=120*R/180,Z=R/180*(+q||0),Q=[],le=(X?(ye=X[0],G=X[1],se=X[2],pe=X[3]):(S=(re=W(S,C,-Z)).x,C=re.y,1<(le=(w=(S-(D=(re=W(D,B,-Z)).x))/2)*w/(L*L)+(re=(C-(B=re.y))/2)*re/(E*E))&&(L*=le=Math.sqrt(le),E*=le),le=L*L,ge=E*E,se=(ce=(ce===J?-1:1)*Math.sqrt(Math.abs((le*ge-le*re*re-ge*w*w)/(le*re*re+ge*w*w))))*L*re/E+(S+D)/2,pe=ce*-E*w/L+(C+B)/2,ye=Math.asin(((C-pe)/E).toFixed(9)),G=Math.asin(((B-pe)/E).toFixed(9)),(ye=S<se?R-ye:ye)<0&&(ye=2*R+ye),(G=D<se?R-G:G)<0&&(G=2*R+G),J&&G<ye&&(ye-=2*R),!J&&ye<G&&(G-=2*R)),G-ye),w=(Math.abs(le)>N&&(ge=G,re=D,ce=B,G=ye+N*(J&&ye<G?1:-1),Q=n(D=se+L*Math.cos(G),B=pe+E*Math.sin(G),L,E,q,0,J,re,ce,[G,ge,se,pe])),le=G-ye,Math.cos(ye)),R=Math.sin(ye),N=Math.cos(G),q=Math.sin(G),J=Math.tan(le/4),re=4/3*L*J,ce=4/3*E*J,ge=[S,C],se=[S+re*R,C-ce*w],pe=[D+re*q,B-ce*N],ye=[D,B];if(se[0]=2*ge[0]-se[0],se[1]=2*ge[1]-se[1],X)return[se,pe,ye].concat(Q);for(var te=[],me=0,we=(Q=[se,pe,ye].concat(Q).join().split(",")).length;me<we;me++)te[me]=me%2?W(Q[me-1],Q[me],Z).y:W(Q[me],Q[me+1],Z).x;return te}function p(S,C){for(var L=[],E=0,I=S.length;E<I-2*!C;E+=2){var O=[{x:+S[E-2],y:+S[E-1]},{x:+S[E],y:+S[E+1]},{x:+S[E+2],y:+S[E+3]},{x:+S[E+4],y:+S[E+5]}];C?E?I-4===E?O[3]={x:+S[0],y:+S[1]}:I-2===E&&(O[2]={x:+S[0],y:+S[1]},O[3]={x:+S[2],y:+S[3]}):O[0]={x:+S[I-2],y:+S[I-1]}:I-4===E?O[3]=O[2]:E||(O[0]={x:+S[E],y:+S[E+1]}),L.push(["C",(-O[0].x+6*O[1].x+O[2].x)/6,(-O[0].y+6*O[1].y+O[2].y)/6,(O[1].x+6*O[2].x-O[3].x)/6,(O[1].y+6*O[2].y-O[3].y)/6,O[2].x,O[2].y])}return L}function h(S,C,L,E){return[S,C,L,E,L,E]}function _(S,C,L,E,I,O){return[1/3*S+2/3*L,1/3*C+2/3*E,1/3*I+2/3*L,1/3*O+2/3*E,I,O]}function T(S,C,L,E,I,O,U,D,B){for(var X=(B=1<(B=B??1)?1:B<0?0:B)/2,W=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=0,Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Q=0;Q<12;Q++){var w=X*W[Q]+X,le=j(w,S,L,I,U),w=j(w,C,E,O,D);G+=Z[Q]*Math.sqrt(le*le+w*w)}return X*G}function j(S,C,L,E,I){return S*(S*(-3*C+9*L-9*E+3*I)+6*C-12*L+6*E)-3*C+3*L}g.default.Font=(function(){function S(E){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");this.parent=E,this.cache={},this.font=void 0}var C,L;return C=S,(L=[{key:"textBounds",value:function(E){var I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,X=3<arguments.length?arguments[3]:void 0,U=4<arguments.length?arguments[4]:void 0,D=U&&U.renderer&&U.renderer._pInst||this.parent,B=D._renderer.drawingContext,X=(B.textAlign||c.LEFT,B.textBaseline||c.BASELINE,X||D._renderer._textSize);if(!re){for(var W=[],G=[],Z=[],Q=(Z[0]=[],[]),le=this._scale(X),w=D._renderer.textLeading(),R=0,N=(this.font.forEachGlyph(E,I,O,X,U,function(se,pe,ye,te){var me=se.getMetrics();se.index===0?Z[R+=1]=[]:(Z[R].push(pe+me.xMin*le),Z[R].push(pe+me.xMax*le),Q.push(ye+R*w+-me.yMin*le),Q.push(ye+R*w+-me.yMax*le))}),0<Z[R].length&&(W[R]=Math.min.apply(null,Z[R]),G[R]=Math.max.apply(null,Z[R])),0),q=0;q<=R;q++){W[q]=Math.min.apply(null,Z[q]),G[q]=Math.max.apply(null,Z[q]);var J=G[q]-W[q];N<J&&(N=J)}var B=Math.min.apply(null,W),re={x:B,y:O=Math.min.apply(null,Q),h:Math.max.apply(null,Q)-O,w:N,advance:B-I},X=this._handleAlignment(D._renderer,E,re.x,re.y,re.w+re.advance);re.x=X.x,re.y=X.y}return re}},{key:"textToPoints",value:function(E,I,O,U,D){var B,X=I,W=[],G=this.parent,Z=E.split(/\r?\n|\r|\n/g);U=U||this.parent._renderer._textSize;for(var Q,le,w,R=0;R<Z.length;R++){var N=0;I=X;for(var q=(q=Z[R]).replace(/\t/g,"  "),J=this._getGlyphs(q),re=0;re<J.length;re++){if(le=q,!((w=J)[Q=re].name&&w[Q].name==="space"||le.length===w.length&&le[Q]===" "))for(var ce=(function(ye){for(var te,me=[],we=0;we<ye.length;we++)ye[we].type==="M"&&(te&&me.push(te),te=[]),te.push((function(Ee){var xe=[Ee.type];return Ee.type==="M"||Ee.type==="L"?xe.push(Ee.x,Ee.y):Ee.type==="C"?xe.push(Ee.x1,Ee.y1,Ee.x2,Ee.y2,Ee.x,Ee.y):Ee.type==="Q"&&xe.push(Ee.x1,Ee.y1,Ee.x,Ee.y),xe})(ye[we]));return me.push(te),me})(J[re].getPath(I,O,U).commands),ge=0;ge<ce.length;ge++)for(var se=(function(ye,te){for(var te=(function(Pe,qe){if(b(Pe)!=="object")Pe=qe;else for(var Re in qe)Pe[Re]===void 0&&(Pe[Re]=qe[Re]);return Pe})(te,{sampleFactor:.1,simplifyThreshold:0}),me=u(ye,0,1),we=me/(me*te.sampleFactor),Ee=[],xe=0;xe<me;xe+=we)Ee.push(u(ye,xe));return te.simplifyThreshold&&(function(Te){for(var Pe=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,qe=0,Re=Te.length-1;3<Te.length&&0<=Re;--Re)o(r(Te,Re-1),r(Te,Re),r(Te,Re+1),Pe)&&(Te.splice(Re%Te.length,1),qe++)})(Ee,te.simplifyThreshold),Ee})(ce[ge],D),pe=0;pe<se.length;pe++)se[pe].x+=N,B=this._handleAlignment(G._renderer,q,se[pe].x,se[pe].y),se[pe].x=B.x,se[pe].y=B.y,W.push(se[pe]);N+=J[re].advanceWidth*this._scale(U)}O+=this.parent._renderer._textLeading}return W}},{key:"_getGlyphs",value:function(E){return this.font.stringToGlyphs(E)}},{key:"_getPath",value:function(E,B,O,U){var D=(U&&U.renderer&&U.renderer._pInst||this.parent)._renderer,B=this._handleAlignment(D,E,B,O);return this.font.getPath(E,B.x,B.y,D._textSize,U)}},{key:"_getPathData",value:function(E,I,O,U){var D=3;return typeof E=="string"&&2<arguments.length?E=this._getPath(E,I,O,U):b(I)==="object"&&(U=I),U&&typeof U.decimals=="number"&&(D=U.decimals),E.toPathData(D)}},{key:"_getSVG",value:function(E,I,O,U){var D=3;return typeof E=="string"&&2<arguments.length?E=this._getPath(E,I,O,U):b(I)==="object"&&(U=I),U&&(typeof U.decimals=="number"&&(D=U.decimals),typeof U.strokeWidth=="number"&&(E.strokeWidth=U.strokeWidth),U.fill!==void 0&&(E.fill=U.fill),U.stroke!==void 0&&(E.stroke=U.stroke)),E.toSVG(D)}},{key:"_renderPath",value:function(X,G,Z,U){var D=U&&U.renderer||this.parent._renderer,B=D.drawingContext,X=(b(X)==="object"&&X.commands?X:this._getPath(X,G,Z,U)).commands,W=(D._clipping||B.beginPath(),!0),G=!1,Z=void 0;try{for(var Q,le=X[Symbol.iterator]();!(W=(Q=le.next()).done);W=!0){var w=Q.value;w.type==="M"?B.moveTo(w.x,w.y):w.type==="L"?B.lineTo(w.x,w.y):w.type==="C"?B.bezierCurveTo(w.x1,w.y1,w.x2,w.y2,w.x,w.y):w.type==="Q"?B.quadraticCurveTo(w.x1,w.y1,w.x,w.y):w.type==="Z"&&B.closePath()}}catch(R){G=!0,Z=R}finally{try{W||le.return==null||le.return()}finally{if(G)throw Z}}return D._doStroke&&D._strokeSet&&!D._clipping&&B.stroke(),D._doFill&&!D._clipping&&(D._fillSet||D._setFill(c._DEFAULT_TEXT_FILL),B.fill()),this}},{key:"_textWidth",value:function(E,I){return this.font.getAdvanceWidth(E,I)}},{key:"_textAscent",value:function(E){return this.font.ascender*this._scale(E)}},{key:"_textDescent",value:function(E){return-this.font.descender*this._scale(E)}},{key:"_scale",value:function(E){return 1/this.font.unitsPerEm*(E||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(E,I,O,U,D){var B=E._textSize;switch(D===void 0&&(D=this._textWidth(I,B)),E._textAlign){case c.CENTER:O-=D/2;break;case c.RIGHT:O-=D}switch(E._textBaseline){case c.TOP:U+=this._textAscent(B);break;case c.CENTER:U+=this._textAscent(B)/2;break;case c.BOTTOM:U-=this._textDescent(B)}return{x:O,y:U}}}])&&y(C.prototype,L),S})(),t=g.default,A.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,H,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(m,g){return m.push(g),m},t.default.prototype.arrayCopy=function(m,g,c,d,b){var y,r;m=b!==void 0?(r=Math.min(b,m.length),y=d,m.slice(g,r+g)):(r=c!==void 0?(r=c,Math.min(r,m.length)):m.length,c=g,m.slice(y=0,r)),Array.prototype.splice.apply(c,[y,r].concat(m))},t.default.prototype.concat=function(m,g){return m.concat(g)},t.default.prototype.reverse=function(m){return m.reverse()},t.default.prototype.shorten=function(m){return m.pop(),m},t.default.prototype.shuffle=function(m,g){for(var c,d,b=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(m),y=(m=g||b?m:m.slice()).length;1<y;)c=this.random(0,1)*y|0,d=m[--y],m[y]=m[c],m[c]=d;return m},t.default.prototype.sort=function(m,d){var c=d?m.slice(0,Math.min(d,m.length)):m,d=d?m.slice(Math.min(d,m.length)):[];return(c=typeof c[0]=="string"?c.sort():c.sort(function(b,y){return b-y})).concat(d)},t.default.prototype.splice=function(m,g,c){return Array.prototype.splice.apply(m,[c,0].concat(g)),m},t.default.prototype.subset=function(m,g,c){return c!==void 0?m.slice(g,g+c):m.slice(g,m.length)},t=t.default,A.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,H,A){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype.float=function(g){return g instanceof Array?g.map(parseFloat):parseFloat(g)},m.default.prototype.int=function(g){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return g===1/0||g==="Infinity"?1/0:g===-1/0||g==="-Infinity"?-1/0:typeof g=="string"?parseInt(g,c):typeof g=="number"?0|g:typeof g=="boolean"?g?1:0:g instanceof Array?g.map(function(d){return m.default.prototype.int(d,c)}):void 0},m.default.prototype.str=function(g){return g instanceof Array?g.map(m.default.prototype.str):String(g)},m.default.prototype.boolean=function(g){return typeof g=="number"?g!==0:typeof g=="string"?g.toLowerCase()==="true":typeof g=="boolean"?g:g instanceof Array?g.map(m.default.prototype.boolean):void 0},m.default.prototype.byte=function(g){return g=m.default.prototype.int(g,10),typeof g=="number"?(g+128)%256-128:g instanceof Array?g.map(m.default.prototype.byte):void 0},m.default.prototype.char=function(g){return typeof g!="number"||isNaN(g)?g instanceof Array?g.map(m.default.prototype.char):typeof g=="string"?m.default.prototype.char(parseInt(g,10)):void 0:String.fromCharCode(g)},m.default.prototype.unchar=function(g){return typeof g=="string"&&g.length===1?g.charCodeAt(0):g instanceof Array?g.map(m.default.prototype.unchar):void 0},m.default.prototype.hex=function(g,c){if(c=c??8,g instanceof Array)return g.map(function(b){return m.default.prototype.hex(b,c)});if(g===1/0||g===-1/0)return(g===1/0?"F":"0").repeat(c);if(typeof g=="number"){g<0&&(g=4294967295+g+1);for(var d=Number(g).toString(16).toUpperCase();d.length<c;)d="0".concat(d);return d=d.length>=c?d.substring(d.length-c,d.length):d}},m.default.prototype.unhex=function(g){return g instanceof Array?g.map(m.default.prototype.unhex):parseInt("0x".concat(g),16)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,H,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(r=t("../core/main"))&&r.__esModule?r:{default:r};function g(o,i){return(function(l){if(Array.isArray(l))return l})(o)||(function(l,u){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]"){var s=[],n=!0,p=!1,h=void 0;try{for(var _,T=l[Symbol.iterator]();!(n=(_=T.next()).done)&&(s.push(_.value),!u||s.length!==u);n=!0);}catch(j){p=!0,h=j}finally{try{n||T.return==null||T.return()}finally{if(p)throw h}}return s}})(o,i)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function c(o,i,l){var u,s=o<0,p=g((o=Math.abs(o)).toString().split("."),2),n=p[0],p=p[1];return l===void 0?(n=n.padStart(i,"0"),u=p?n+"."+p:n,s?"-"+u:u):(n=(u=g(o.toFixed(l).toString().split("."),2))[0],p=u[1],n=n.padStart(i,"0"),o=p===void 0?n:n+"."+p,s?"-"+o:o)}function d(s,i){var l=(s=s.toString()).indexOf("."),u=l!==-1?s.substring(l):"",s=(s=l!==-1?s.substring(0,l):s).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(i===0)u="";else if(i!==void 0)if(i>u.length)for(var n=i-(u+=l===-1?".":"").length+1,p=0;p<n;p++)u+="0";else u=u.substring(0,i+1);return s+u}function b(o){return 0<parseFloat(o)?"+".concat(o.toString()):o.toString()}function y(o){return 0<=parseFloat(o)?" ".concat(o.toString()):o.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),m.default.prototype.join=function(o,i){return m.default._validateParameters("join",arguments),o.join(i)},m.default.prototype.match=function(o,i){return m.default._validateParameters("match",arguments),o.match(i)},m.default.prototype.matchAll=function(o,i){m.default._validateParameters("matchAll",arguments);for(var l=new RegExp(i,"g"),u=l.exec(o),s=[];u!==null;)s.push(u),u=l.exec(o);return s},m.default.prototype.nf=function(o,i,l){return m.default._validateParameters("nf",arguments),o instanceof Array?o.map(function(u){return c(u,i,l)}):Object.prototype.toString.call(o)==="[object Arguments]"?o.length===3?this.nf(o[0],o[1],o[2]):o.length===2?this.nf(o[0],o[1]):this.nf(o[0]):c(o,i,l)},m.default.prototype.nfc=function(o,i){return m.default._validateParameters("nfc",arguments),o instanceof Array?o.map(function(l){return d(l,i)}):d(o,i)},m.default.prototype.nfp=function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];m.default._validateParameters("nfp",i);var u=m.default.prototype.nf.apply(this,i);return u instanceof Array?u.map(b):b(u)},m.default.prototype.nfs=function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];m.default._validateParameters("nfs",i);var u=m.default.prototype.nf.apply(this,i);return u instanceof Array?u.map(y):y(u)},m.default.prototype.split=function(o,i){return m.default._validateParameters("split",arguments),o.split(i)},m.default.prototype.splitTokens=function(o,i){var l,u;return m.default._validateParameters("splitTokens",arguments),u=i!==void 0?(u=/\]/g.exec(i=i),(l=/\[/g.exec(i))&&u?(i=i.slice(0,u.index)+i.slice(u.index+1),l=/\[/g.exec(i),i=i.slice(0,l.index)+i.slice(l.index+1),new RegExp("[\\[".concat(i,"\\]]"),"g")):u?(i=i.slice(0,u.index)+i.slice(u.index+1),new RegExp("[".concat(i,"\\]]"),"g")):l?(i=i.slice(0,l.index)+i.slice(l.index+1),new RegExp("[".concat(i,"\\[]"),"g")):new RegExp("[".concat(i,"]"),"g")):/\s/g,o.split(u).filter(function(s){return s})},m.default.prototype.trim=function(o){return m.default._validateParameters("trim",arguments),o instanceof Array?o.map(this.trim):o.trim()};var r=m.default;A.default=r},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,A.default=t},{"../core/main":283}],326:[function(t,H,A){function m(o){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}function g(o){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(i){return m(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":m(i)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(r=t("../core/main"))&&r.__esModule?r:{default:r},d=(t("./p5.Geometry"),(function(o){if(o&&o.__esModule)return o;if(o===null||g(o)!=="object"&&typeof o!="function")return{default:o};var i=b();if(i&&i.has(o))return i.get(o);var l,u={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in o){var n;Object.prototype.hasOwnProperty.call(o,l)&&((n=s?Object.getOwnPropertyDescriptor(o,l):null)&&(n.get||n.set)?Object.defineProperty(u,l,n):u[l]=o[l])}return u.default=o,i&&i.set(o,u),u})(t("../core/constants")));function b(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,b=function(){return o},o)}c.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},c.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},c.default.prototype.buildGeometry=function(o){return this._renderer.buildGeometry(o)},c.default.prototype.freeGeometry=function(o){this._renderer._freeBuffers(o.gid)},c.default.prototype.plane=function(){var o,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,n=(this._assert3d("plane"),c.default._validateParameters("plane",arguments),"plane|".concat(u,"|").concat(s));return this._renderer.geometryInHash(n)||((o=new c.default.Geometry(u,s,function(){for(var p,h,_=0;_<=this.detailY;_++)for(var T=_/this.detailY,j=0;j<=this.detailX;j++)p=j/this.detailX,h=new c.default.Vector(p-.5,T-.5,0),this.vertices.push(h),this.uvs.push(p,T)})).computeFaces().computeNormals(),u<=1&&s<=1?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(n,o)),this._renderer.drawBuffersScaled(n,i,l,1),this},c.default.prototype.box=function(o,i,l,u,s){this._assert3d("box"),c.default._validateParameters("box",arguments),o===void 0&&(o=50),i===void 0&&(i=o),l===void 0&&(l=i);var n,p=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,p=(s===void 0&&(s=p?1:4),"box|".concat(u=u===void 0?p?1:4:u,"|").concat(s));return this._renderer.geometryInHash(p)||((n=new c.default.Geometry(u,s,function(){var h=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(_,T){for(var T=4*T,j=0;j<4;j++){var S=_[j],S=new c.default.Vector((2*(1&S)-1)/2,((2&S)-1)/2,((4&S)/2-1)/2);h.vertices.push(S),h.uvs.push(1&j,(2&j)/2)}h.faces.push([T,1+T,2+T]),h.faces.push([2+T,1+T,3+T])})})).computeNormals(),u<=4&&s<=4?n._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(p,n)),this._renderer.drawBuffersScaled(p,o,i,l),this},c.default.prototype.sphere=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),c.default._validateParameters("sphere",arguments),this.ellipsoid(o,o,o,i,l),this};function y(o,i,l,u,s,n,p){o=o<=0?1:o,i=i<0?0:i,l=l<=0?o:l,u=u<3?3:u;for(var h,_,T=(n=n===void 0||n)?-2:0,j=(s=s<1?1:s)+((p=p===void 0?i!==0:p)?2:0),S=Math.atan2(o-i,l),C=Math.sin(S),L=Math.cos(S),E=T;E<=j;++E){var I=E/s,O=l*I,U=void 0,U=E<0?(I=O=0,o):s<E?(O=l,I=1,i):o+(i-o)*I;for(E!==-2&&E!==s+2||(U=0),O-=l/2,h=0;h<u;++h){var D=h/(u-1),X=2*Math.PI*D,B=Math.sin(X),X=Math.cos(X),W=(this.vertices.push(new c.default.Vector(B*U,O,X*U)),void 0),W=E<0?new c.default.Vector(0,-1,0):s<E&&i?new c.default.Vector(0,1,0):new c.default.Vector(B*L,C,X*L);this.vertexNormals.push(W),this.uvs.push(D,I)}}var G=0;if(n){for(_=0;_<u;++_)this.faces.push([G+_,G+u+(_+1)%u,G+u+_]);G+=2*u}for(E=0;E<s;++E){for(h=0;h<u;++h){var Z=(h+1)%u;this.faces.push([G+h,G+Z,G+u+Z]),this.faces.push([G+h,G+u+Z,G+u+h])}G+=u}if(p)for(G+=u,h=0;h<u;++h)this.faces.push([G+h,G+(h+1)%u,G+u])}c.default.prototype.cylinder=function(){var o,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,n=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],p=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],h=(this._assert3d("cylinder"),c.default._validateParameters("cylinder",arguments),"cylinder|".concat(u,"|").concat(s,"|").concat(n,"|").concat(p));return this._renderer.geometryInHash(h)||(o=new c.default.Geometry(u,s),y.call(o,1,1,1,u,s,n,p),u<=24&&s<=16?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(h,o)),this._renderer.drawBuffersScaled(h,i,l,i),this},c.default.prototype.cone=function(){var o,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,n=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],p=(this._assert3d("cone"),c.default._validateParameters("cone",arguments),"cone|".concat(u,"|").concat(s,"|").concat(n));return this._renderer.geometryInHash(p)||(o=new c.default.Geometry(u,s),y.call(o,1,0,1,u,s,n,!1),u<=24&&s<=16?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,o)),this._renderer.drawBuffersScaled(p,i,l,i),this},c.default.prototype.ellipsoid=function(){var o,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:i,s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,n=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,p=(this._assert3d("ellipsoid"),c.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(s,"|").concat(n));return this._renderer.geometryInHash(p)||((o=new c.default.Geometry(s,n,function(){for(var h=0;h<=this.detailY;h++)for(var _=h/this.detailY,T=Math.PI*_-Math.PI/2,j=Math.cos(T),S=Math.sin(T),C=0;C<=this.detailX;C++){var L=C/this.detailX,I=2*Math.PI*L,E=Math.cos(I),I=Math.sin(I),I=new c.default.Vector(j*I,S,j*E);this.vertices.push(I),this.vertexNormals.push(I),this.uvs.push(L,_)}})).computeFaces(),s<=24&&n<=24?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(p,o)),this._renderer.drawBuffersScaled(p,i,l,u),this},c.default.prototype.torus=function(o,p,l,u){if(this._assert3d("torus"),c.default._validateParameters("torus",arguments),o===void 0)o=50;else if(!o)return;if(p===void 0)p=10;else if(!p)return;l===void 0&&(l=24),u===void 0&&(u=16);var s,n=(p/o).toPrecision(4),p="torus|".concat(n,"|").concat(l,"|").concat(u);return this._renderer.geometryInHash(p)||((s=new c.default.Geometry(l,u,function(){for(var h=0;h<=this.detailY;h++)for(var _=h/this.detailY,T=2*Math.PI*_,j=Math.cos(T),S=Math.sin(T),C=1+n*j,L=0;L<=this.detailX;L++){var E=L/this.detailX,I=2*Math.PI*E,U=Math.cos(I),I=Math.sin(I),O=new c.default.Vector(C*U,C*I,n*S),U=new c.default.Vector(j*U,j*I,S);this.vertices.push(O),this.vertexNormals.push(U),this.uvs.push(E,_)}})).computeFaces(),l<=24&&u<=16?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,s)),this._renderer.drawBuffersScaled(p,o,o,o),this},c.default.RendererGL.prototype.point=function(o,i){var l=[];return l.push(new c.default.Vector(o,i,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(l,this.immediateMode.buffers.point),this},c.default.RendererGL.prototype.triangle=function(p){var i=p[0],l=p[1],u=p[2],s=p[3],n=p[4],p=p[5],h=(this.geometryInHash("tri")||((h=new c.default.Geometry(1,1,function(){var j=[];j.push(new c.default.Vector(0,0,0)),j.push(new c.default.Vector(1,0,0)),j.push(new c.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=j,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),h.computeNormals(),this.createBuffers("tri",h)),this.uModelMatrix.copy());try{var _=Math.sign(i*s-u*l+u*p-n*s+n*l-i*p),T=new c.default.Matrix([u-i,s-l,0,0,n-i,p-l,0,0,0,0,_,0,i,l,0,1]).mult(this.uModelMatrix);this.uModelMatrix=T,this.drawBuffers("tri")}finally{this.uModelMatrix=h}return this},c.default.RendererGL.prototype.ellipse=function(o){this.arc(o[0],o[1],o[2],o[3],0,d.TWO_PI,d.OPEN,o[4])},c.default.RendererGL.prototype.arc=function(){var o,i=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1],u=arguments.length<=2?void 0:arguments[2],s=arguments.length<=3?void 0:arguments[3],n=arguments.length<=4?void 0:arguments[4],p=arguments.length<=5?void 0:arguments[5],h=arguments.length<=6?void 0:arguments[6],_=(arguments.length<=7?void 0:arguments[7])||25,T=(Math.abs(p-n)>=d.TWO_PI?"".concat(j="ellipse","|"):"".concat(j="arc","|").concat(n,"|").concat(p,"|").concat(h,"|")).concat(_,"|"),j=(this.geometryInHash(T)||((o=new c.default.Geometry(_,1,function(){if(n.toFixed(10)!==p.toFixed(10)){h!==d.PIE&&h!==void 0||(this.vertices.push(new c.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var S=0;S<=_;S++){var L=(p-n)*(S/_)+n,C=.5+Math.cos(L)/2,L=.5+Math.sin(L)/2;this.vertices.push(new c.default.Vector(C,L,0)),this.uvs.push([C,L]),S<_-1&&(this.faces.push([0,S+1,S+2]),this.edges.push([S+1,S+2]))}switch(h){case d.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case d.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case d.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),_<=50?o._edgesToVertices(o):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(j," with more than 50 detail")),this.createBuffers(T,o)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([i,l,0]),this.uModelMatrix.scale(u,s,1),this.drawBuffers(T)}finally{this.uModelMatrix=j}return this},c.default.RendererGL.prototype.rect=function(o){var i=o[0],l=o[1],u=o[2],s=o[3];if(o[4]===void 0){var h=this._pInst._glAttributes.perPixelLighting,n=o[4]||(h?1:24),p=o[5]||(h?1:16),h="rect|".concat(n,"|").concat(p),_=(this.geometryInHash(h)||((_=new c.default.Geometry(n,p,function(){for(var W=0;W<=this.detailY;W++)for(var G=W/this.detailY,Z=0;Z<=this.detailX;Z++){var Q=Z/this.detailX,le=new c.default.Vector(Q,G,0);this.vertices.push(le),this.uvs.push(Q,G)}0<n&&0<p&&(this.edges=[[0,n],[n,(n+1)*(p+1)-1],[(n+1)*(p+1)-1,(n+1)*p],[(n+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(h,_)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([i,l,0]),this.uModelMatrix.scale(u,s,1),this.drawBuffers(h)}finally{this.uModelMatrix=_}}else{var h=o[4],_=o[5]===void 0?h:o[5],T=o[6]===void 0?_:o[6],o=o[7]===void 0?T:o[7],I=u,j=s,L=((I+=i)<i&&(L=i,i=I,I=L),(j+=l)<l&&(L=l,l=j,j=L),Math.min((I-i)/2,(j-l)/2)),S=(L<h&&(h=L),L<_&&(_=L),L<T&&(T=L),L<o&&(o=L),i),C=l,L=I,i=j,E=(this.beginShape(),_!==0?(this.vertex(L-_,C),this.quadraticVertex(L,C,L,C+_)):this.vertex(L,C),T!==0?(this.vertex(L,i-T),this.quadraticVertex(L,i,L-T,i)):this.vertex(L,i),o!==0?(this.vertex(S+o,i),this.quadraticVertex(S,i,S,i-o)):this.vertex(S,i),h!==0?(this.vertex(S,C+h),this.quadraticVertex(S,C,S+h,C)):this.vertex(S,C),!(this.immediateMode.geometry.uvs.length=0)),l=!1,I=void 0;try{for(var O,U=this.immediateMode.geometry.vertices[Symbol.iterator]();!(E=(O=U.next()).done);E=!0){var D=O.value,B=(D.x-S)/u,X=(D.y-C)/s;this.immediateMode.geometry.uvs.push(B,X)}}catch(w){l=!0,I=w}finally{try{E||U.return==null||U.return()}finally{if(l)throw I}}this.endShape(d.CLOSE)}return this},c.default.RendererGL.prototype.quad=function(o,i,l,u,s,n,p,h,_,T,j,S){var C=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,L=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,E="quad|".concat(o,"|").concat(i,"|").concat(l,"|").concat(u,"|").concat(s,"|").concat(n,"|").concat(p,"|").concat(h,"|").concat(_,"|").concat(T,"|").concat(j,"|").concat(S,"|").concat(C,"|").concat(L);if(!this.geometryInHash(E)){var I=new c.default.Geometry(C,L,function(){for(var Z=1/(this.detailX-1),Q=1/(this.detailY-1),le=0;le<this.detailY;le++)for(var w=0;w<this.detailX;w++){var R=w*Z,N=le*Q;this.vertices.push(new c.default.Vector((1-R)*((1-N)*o+N*T)+R*((1-N)*u+N*p),(1-R)*((1-N)*i+N*j)+R*((1-N)*s+N*h),(1-R)*((1-N)*l+N*S)+R*((1-N)*n+N*_))),this.uvs.push([R,N])}});I.faces=[];for(var O=0;O<L-1;O++)for(var U=0;U<C-1;U++){var D=U+O*C,B=U+1+(O+1)*C,X=U+(O+1)*C;I.faces.push([D,U+1+O*C,B]),I.faces.push([D,B,X])}I.computeNormals();for(var W=[I.edges.length=0,2,3,1],G=0;G<W.length;G++)I.edges.push([W[G],W[(G+1)%W.length]]);I._edgesToVertices(),this.createBuffers(E,I)}return this.drawBuffers(E),this},c.default.RendererGL.prototype.bezier=function(o,i,l,u,s,n,p,h,_,T,j,S){arguments.length===8&&(j=h,T=p,h=n,p=s,s=u,u=l,l=n=_=S=0);var C=this._pInst._bezierDetail||20;this.beginShape();for(var L=0;L<=C;L++){var E=Math.pow(1-L/C,3),I=L/C*3*Math.pow(1-L/C,2),O=3*Math.pow(L/C,2)*(1-L/C),U=Math.pow(L/C,3);this.vertex(o*E+u*I+p*O+T*U,i*E+s*I+h*O+j*U,l*E+n*I+_*O+S*U)}return this.endShape(),this},c.default.RendererGL.prototype.curve=function(o,i,l,u,s,n,p,h,_,T,j,S){arguments.length===8&&(T=p,j=h,p=s,h=u,s=u=l,l=n=_=S=0);var C=this._pInst._curveDetail;this.beginShape();for(var L=0;L<=C;L++){var E=.5*Math.pow(L/C,3),I=.5*Math.pow(L/C,2),O=L/C*.5;this.vertex(E*(3*u-o-3*p+T)+I*(2*o-5*u+4*p-T)+O*(-o+p)+2*u*.5,E*(3*s-i-3*h+j)+I*(2*i-5*s+4*h-j)+O*(-i+h)+2*s*.5,E*(3*n-l-3*_+S)+I*(2*l-5*n+4*_-S)+O*(-l+_)+2*n*.5)}return this.endShape(),this},c.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},c.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var o,i,l,u,s,n,p=[],h=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var T=1/this._lutBezierDetail,j=T,S=1,C=0;j<1;){if(n=parseFloat(j.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(n),S.toFixed(6)===T.toFixed(6)){n=parseFloat(S.toFixed(6))+parseFloat(j.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(n);break}j+=T,S-=T,++C}}for(var L=this._lookUpTableBezier.length,E=[],I=0;I<4;I++)E.push([]);E[0]=this.immediateMode.geometry.vertexColors.slice(-4),E[3]=this.curFillColor.slice();var O=[];for(I=0;I<4;I++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[3]=this.curStrokeColor.slice(),_===6){this.isBezier=!0;var p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],h=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],U=Math.hypot(p[0]-p[1],h[0]-h[1]),B=Math.hypot(p[1]-p[2],h[1]-h[2]),D=Math.hypot(p[2]-p[3],h[2]-h[3]),B=U+B+D;for(U/=B,D/=B,s=0;s<4;s++)E[1].push(E[0][s]*(1-U)+E[3][s]*U),E[2].push(E[0][s]*D+E[3][s]*(1-D)),O[1].push(O[0][s]*(1-U)+O[3][s]*U),O[2].push(O[0][s]*D+O[3][s]*(1-D));for(u=0;u<L;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=o=i=0;I<4;I++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableBezier[u][I]*E[I][s],this.curStrokeColor[s]+=this._lookUpTableBezier[u][I]*O[I][s];o+=p[I]*this._lookUpTableBezier[u][I],i+=h[I]*this._lookUpTableBezier[u][I]}this.vertex(o,i)}this.curFillColor=E[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(_===9){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],h=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var X=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],W=Math.hypot(p[0]-p[1],h[0]-h[1],X[0]-X[1]),B=Math.hypot(p[1]-p[2],h[1]-h[2],X[1]-X[2]),G=Math.hypot(p[2]-p[3],h[2]-h[3],X[2]-X[3]),_=W+B+G;for(W/=_,G/=_,s=0;s<4;s++)E[1].push(E[0][s]*(1-W)+E[3][s]*W),E[2].push(E[0][s]*G+E[3][s]*(1-G)),O[1].push(O[0][s]*(1-W)+O[3][s]*W),O[2].push(O[0][s]*G+O[3][s]*(1-G));for(u=0;u<L;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=o=i=l=0;I<4;I++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableBezier[u][I]*E[I][s],this.curStrokeColor[s]+=this._lookUpTableBezier[u][I]*O[I][s];o+=p[I]*this._lookUpTableBezier[u][I],i+=h[I]*this._lookUpTableBezier[u][I],l+=X[I]*this._lookUpTableBezier[u][I]}this.vertex(o,i,l)}this.curFillColor=E[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},c.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var o,i,l,u,s,n,p=[],h=[],_=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var T=1/this._lutQuadraticDetail,j=T,S=1,C=0;j<1;){if(n=parseFloat(j.toFixed(6)),this._lookUpTableQuadratic[C]=this._quadraticCoefficients(n),S.toFixed(6)===T.toFixed(6)){n=parseFloat(S.toFixed(6))+parseFloat(j.toFixed(6)),++C,this._lookUpTableQuadratic[C]=this._quadraticCoefficients(n);break}j+=T,S-=T,++C}}for(var L=this._lookUpTableQuadratic.length,E=[],I=0;I<3;I++)E.push([]);E[0]=this.immediateMode.geometry.vertexColors.slice(-4),E[2]=this.curFillColor.slice();var O=[];for(I=0;I<3;I++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[2]=this.curStrokeColor.slice(),_===4){this.isQuadratic=!0;var p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],h=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],U=Math.hypot(p[0]-p[1],h[0]-h[1]);for(U/=U+Math.hypot(p[1]-p[2],h[1]-h[2]),s=0;s<4;s++)E[1].push(E[0][s]*(1-U)+E[2][s]*U),O[1].push(O[0][s]*(1-U)+O[2][s]*U);for(u=0;u<L;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=o=i=0;I<3;I++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableQuadratic[u][I]*E[I][s],this.curStrokeColor[s]+=this._lookUpTableQuadratic[u][I]*O[I][s];o+=p[I]*this._lookUpTableQuadratic[u][I],i+=h[I]*this._lookUpTableQuadratic[u][I]}this.vertex(o,i)}this.curFillColor=E[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(_===6){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],h=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var D=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(p[0]-p[1],h[0]-h[1],D[0]-D[1]);for(B/=B+Math.hypot(p[1]-p[2],h[1]-h[2],D[1]-D[2]),s=0;s<4;s++)E[1].push(E[0][s]*(1-B)+E[2][s]*B),O[1].push(O[0][s]*(1-B)+O[2][s]*B);for(u=0;u<L;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=o=i=l=0;I<3;I++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableQuadratic[u][I]*E[I][s],this.curStrokeColor[s]+=this._lookUpTableQuadratic[u][I]*O[I][s];o+=p[I]*this._lookUpTableQuadratic[u][I],i+=h[I]*this._lookUpTableQuadratic[u][I],l+=D[I]*this._lookUpTableQuadratic[u][I]}this.vertex(o,i,l)}this.curFillColor=E[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},c.default.RendererGL.prototype.curveVertex=function(){var o,i,l,u,s,n,p=[],h=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var T=1/this._lutBezierDetail,j=T,S=1,C=0;j<1;){if(n=parseFloat(j.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(n),S.toFixed(6)===T.toFixed(6)){n=parseFloat(S.toFixed(6))+parseFloat(j.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(n);break}j+=T,S-=T,++C}}var L=this._lookUpTableBezier.length;if(_===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),s=0;s<L;s++)i=p[0]*this._lookUpTableBezier[s][0]+p[1]*this._lookUpTableBezier[s][1]+p[2]*this._lookUpTableBezier[s][2]+p[3]*this._lookUpTableBezier[s][3],l=h[0]*this._lookUpTableBezier[s][0]+h[1]*this._lookUpTableBezier[s][1]+h[2]*this._lookUpTableBezier[s][2]+h[3]*this._lookUpTableBezier[s][3],this.vertex(i,l);for(s=0;s<_;s++)this.immediateMode._curveVertex.shift()}}else if(_===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),o=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),s=0;s<L;s++)i=p[0]*this._lookUpTableBezier[s][0]+p[1]*this._lookUpTableBezier[s][1]+p[2]*this._lookUpTableBezier[s][2]+p[3]*this._lookUpTableBezier[s][3],l=h[0]*this._lookUpTableBezier[s][0]+h[1]*this._lookUpTableBezier[s][1]+h[2]*this._lookUpTableBezier[s][2]+h[3]*this._lookUpTableBezier[s][3],u=o[0]*this._lookUpTableBezier[s][0]+o[1]*this._lookUpTableBezier[s][1]+o[2]*this._lookUpTableBezier[s][2]+o[3]*this._lookUpTableBezier[s][3],this.vertex(i,l,u);for(s=0;s<_;s++)this.immediateMode._curveVertex.shift()}},c.default.RendererGL.prototype.image=function(o,S,l,C,s,n,p,h,_){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(o),this._pInst.textureMode(d.NORMAL);var T=0,j=(S<=o.width&&(T=S/o.width),1),S=(S+C<=o.width&&(j=(S+C)/o.width),0),C=(l<=o.height&&(S=l/o.height),1);l+s<=o.height&&(C=(l+s)/o.height),this.beginShape(),this.vertex(n,p,0,T,S),this.vertex(n+h,p,0,j,S),this.vertex(n+h,p+_,0,j,C),this.vertex(n,p+_,0,T,C),this.endShape(d.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(d.REMOVE)};var r=c.default;A.default=r},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,H,A){function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function g(i){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(l){return m(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":m(l)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(o=t("../core/main"))&&o.__esModule?o:{default:o},d=(function(i){if(i&&i.__esModule)return i;if(i===null||g(i)!=="object"&&typeof i!="function")return{default:i};var l=b();if(l&&l.has(i))return l.get(i);var u,s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var p;Object.prototype.hasOwnProperty.call(i,u)&&((p=n?Object.getOwnPropertyDescriptor(i,u):null)&&(p.get||p.set)?Object.defineProperty(s,u,p):s[u]=i[u])}return s.default=i,l&&l.set(i,s),s})(t("../core/constants"));function b(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,b=function(){return i},i)}function y(i){return(function(l){if(Array.isArray(l)){for(var u=0,s=new Array(l.length);u<l.length;u++)s[u]=l[u];return s}})(i)||(function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)})(i)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function r(i,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}var o=(function(){function i(s){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");(this.renderer=s)._pInst.push(),this.identityMatrix=new c.default.Matrix,s.uModelMatrix=new c.default.Matrix,this.geometry=new c.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(i.nextGeometryId),i.nextGeometryId++,this.hasTransform=!1}var l,u;return l=i,(u=[{key:"transformVertices",value:function(s){var n=this;return this.hasTransform?s.map(function(p){return n.renderer.uModelMatrix.multiplyPoint(p)}):s}},{key:"transformNormals",value:function(s){var n=this;return this.hasTransform?s.map(function(p){return n.renderer.uNMatrix.multiplyVec3(p)}):s}},{key:"addGeometry",value:function(s){for(var n,p=this,h=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(T,j){return T===p.identityMatrix.mat4[j]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),_=((n=this.geometry.vertices).push.apply(n,y(this.transformVertices(s.vertices))),(n=this.geometry.vertexNormals).push.apply(n,y(this.transformNormals(s.vertexNormals))),(n=this.geometry.uvs).push.apply(n,y(s.uvs)),this.renderer._doFill&&(n=this.geometry.faces).push.apply(n,y(s.faces.map(function(T){return T.map(function(j){return j+h})}))),this.renderer._doStroke&&(n=this.geometry.edges).push.apply(n,y(s.edges.map(function(T){return T.map(function(j){return j+h})}))),y(s.vertexColors));_.length<4*s.vertices.length;)_.push.apply(_,y(this.renderer.curFillColor));(n=this.geometry.vertexColors).push.apply(n,y(_))}},{key:"addImmediate",value:function(){var s=this.renderer.immediateMode.geometry,n=this.renderer.immediateMode.shapeMode,p=[];if(this.renderer._doFill)if(n===d.TRIANGLE_STRIP||n===d.QUAD_STRIP)for(var h=2;h<s.vertices.length;h++)h%2==0?p.push([h,h-1,h-2]):p.push([h,h-2,h-1]);else if(n===d.TRIANGLE_FAN)for(var _=2;_<s.vertices.length;_++)p.push([0,_-1,_]);else for(var T=0;T<s.vertices.length;T+=3)p.push([T,T+1,T+2]);this.addGeometry(Object.assign({},s,{faces:p}))}},{key:"addRetained",value:function(s){this.addGeometry(s.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&r(l.prototype,u),i})();o.nextGeometryId=0,A.default=o},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,H,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=(function(r){if(r&&r.__esModule)return r;if(r===null||b(r)!=="object"&&typeof r!="function")return{default:r};var o=d();if(o&&o.has(r))return o.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var s;Object.prototype.hasOwnProperty.call(r,i)&&((s=u?Object.getOwnPropertyDescriptor(r,i):null)&&(s.get||s.set)?Object.defineProperty(l,i,s):l[i]=r[i])}return l.default=r,o&&o.set(r,l),l})(t("../core/constants"));function d(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,d=function(){return r},r)}function b(r){return(b=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(o){return m(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":m(o)})(r)}g.default.prototype.orbitControl=function(r,o,i,_){var u=this,s=(this._assert3d("orbitControl"),g.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);r===void 0&&(r=1),o===void 0&&(o=r),i===void 0&&(i=1),b(_)!=="object"&&(_={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var j=_.disableTouchActions;this.touchActionsDisabled===!0||j!==void 0&&!j||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var n,p,h,j=_.freeRotation,_=j!==void 0&&j,T=[],j=(this.touches.forEach(function(U){u._renderer.prevTouches.forEach(function(D){U.id===D.id&&(D={x:U.x,y:U.y,px:D.x,py:D.y},T.push(D))})}),this._renderer.prevTouches=this.touches,0),S=0,C=0,L=0,E=0,I=this.height<this.width?this.height:this.width,O=!1;return 0<T.length?(O=0<T[0].x&&T[0].x<this.width&&0<T[0].y&&T[0].y<this.height,T.length===1?(S=-r*((n=T[0]).x-n.px)/I,C=o*(n.y-n.py)/I):(n=T[0],p=T[1],j=-(Math.hypot(n.x-p.x,n.y-p.y)-Math.hypot(n.px-p.px,n.py-p.py))*i*4e-4,L=.5*(n.x+p.x)-.5*(n.px+p.px),E=.5*(n.y+p.y)-.5*(n.py+p.py)),0<this.touches.length?O&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(O=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(j=Math.sign(this._mouseWheelDeltaY)*i,j*=.01,this._mouseWheelDeltaY=0,O&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(S=-r*this.movedX/I,C=o*this.movedY/I):this.mouseButton===this.RIGHT&&(L=this.movedX,E=this.movedY*s.yScale),O&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),j!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=j),.001<Math.abs(this._renderer.zoomVelocity)?(_?s._orbitFree(0,0,this._renderer.zoomVelocity):s._orbit(0,0,this._renderer.zoomVelocity),s.projMatrix.mat4[15]!==0&&(s.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),s.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=s.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=s.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,S===0&&C===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*S,.6*C),1e-6<this._renderer.rotateVelocity.magSq()?(_?s._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):s._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),L===0&&E===0||!this._renderer.executeRotateAndMove||(n=2*L/this.width,p=2*-E/this.height,this._renderer.moveVelocity.add(.15*n,.15*p)),1e-6<this._renderer.moveVelocity.magSq()?(i=s._getLocalAxes(),r=s.eyeX-s.centerX,o=s.eyeY-s.centerY,I=s.eyeZ-s.centerZ,O=Math.sqrt(r*r+o*o+I*I),j=new g.default.Vector(s.centerX,s.centerY,s.centerZ),j=s.cameraMatrix.multiplyPoint(j),(j=this._renderer.uPMatrix.multiplyAndNormalizePoint(j)).x-=this._renderer.moveVelocity.x,j.y-=this._renderer.moveVelocity.y,C=(S=this._renderer.uPMatrix.mat4)[15]===0?(h=(S[8]+j.x)/S[0]*O,(S[9]+j.y)/S[5]*O):(h=(j.x-S[12])/S[0],(j.y-S[13])/S[5]),s.setPosition(s.eyeX+h*i.x[0]+C*i.y[0],s.eyeY+h*i.x[1]+C*i.y[1],s.eyeZ+h*i.x[2]+C*i.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},g.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];g.default._validateParameters("debugMode",o);for(var l=this._registeredMethods.post.length-1;0<=l;l--)this._registeredMethods.post[l].toString()!==this._grid().toString()&&this._registeredMethods.post[l].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(l,1);o[0]===c.GRID?this.registerMethod("post",this._grid(o[1],o[2],o[3],o[4],o[5])):o[0]===c.AXES?this.registerMethod("post",this._axesIcon(o[1],o[2],o[3],o[4])):(this.registerMethod("post",this._grid(o[0],o[1],o[2],o[3],o[4])),this.registerMethod("post",this._axesIcon(o[5],o[6],o[7],o[8])))},g.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var r=this._registeredMethods.post.length-1;0<=r;r--)this._registeredMethods.post[r].toString()!==this._grid().toString()&&this._registeredMethods.post[r].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(r,1)},g.default.prototype._grid=function(r,o,i,l,u){r===void 0&&(r=this.width/2),o===void 0&&(o=Math.round(r/30)<4?4:Math.round(r/30)),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0);var s=r/o,n=r/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var p=0;p<=o;p++)this.beginShape(this.LINES),this.vertex(-n+i,l,p*s-n+u),this.vertex(n+i,l,p*s-n+u),this.endShape();for(var h=0;h<=o;h++)this.beginShape(this.LINES),this.vertex(h*s-n+i,l,-n+u),this.vertex(h*s-n+i,l,n+u),this.endShape();this.pop()}},g.default.prototype._axesIcon=function(r,o,i,l){return r===void 0&&(r=40<this.width/20?this.width/20:40),o===void 0&&(o=-this.width/4),i===void 0&&(i=o),l===void 0&&(l=o),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(o,i,l),this.vertex(o+r,i,l),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(o,i,l),this.vertex(o,i+r,l),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(o,i,l),this.vertex(o,i,l+r),this.endShape(),this.pop()}};var y=g.default;A.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,H,A){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype.ambientLight=function(g,c,d,b){this._assert3d("ambientLight"),m.default._validateParameters("ambientLight",arguments);var y=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(y._array[0],y._array[1],y._array[2]),this._renderer._enableLighting=!0,this},m.default.prototype.specularColor=function(g,c,d){this._assert3d("specularColor"),m.default._validateParameters("specularColor",arguments);var b=this.color.apply(this,arguments);return this._renderer.specularColors=[b._array[0],b._array[1],b._array[2]],this},m.default.prototype.directionalLight=function(g,u,l,b,y,r){this._assert3d("directionalLight"),m.default._validateParameters("directionalLight",arguments),g=g instanceof m.default.Color?g:this.color(g,u,l);var o,i,u=arguments[arguments.length-1],l=typeof u=="number"?(o=arguments[arguments.length-3],i=arguments[arguments.length-2],arguments[arguments.length-1]):(o=u.x,i=u.y,u.z),u=Math.sqrt(o*o+i*i+l*l);return this._renderer.directionalLightDirections.push(o/u,i/u,l/u),this._renderer.directionalLightDiffuseColors.push(g._array[0],g._array[1],g._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},m.default.prototype.pointLight=function(g,l,u,b,y,r){this._assert3d("pointLight"),m.default._validateParameters("pointLight",arguments),g=g instanceof m.default.Color?g:this.color(g,l,u);var o,i,l=arguments[arguments.length-1],u=typeof l=="number"?(o=arguments[arguments.length-3],i=arguments[arguments.length-2],arguments[arguments.length-1]):(o=l.x,i=l.y,l.z);return this._renderer.pointLightPositions.push(o,i,u),this._renderer.pointLightDiffuseColors.push(g._array[0],g._array[1],g._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},m.default.prototype.imageLight=function(g){this._renderer.activeImageLight=g,this._renderer._enableLighting=!0},m.default.prototype.panorama=function(g){this.filter(this._renderer._getSphereMapping(g))},m.default.prototype.lights=function(){this._assert3d("lights");var g=this.color("rgb(128,128,128)");return this.ambientLight(g),this.directionalLight(g,0,0,-1),this},m.default.prototype.lightFalloff=function(g,c,d){return this._assert3d("lightFalloff"),m.default._validateParameters("lightFalloff",arguments),g<0&&(g=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),d<0&&(d=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),g===0&&c===0&&d===0&&(g=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=g,this._renderer.linearAttenuation=c,this._renderer.quadraticAttenuation=d,this},m.default.prototype.spotLight=function(g,c,d,b,y,r,o,i,l,u,s){this._assert3d("spotLight"),m.default._validateParameters("spotLight",arguments);var n,p,h,_=arguments.length;switch(_){case 11:case 10:n=this.color(g,c,d),p=new m.default.Vector(b,y,r),h=new m.default.Vector(o,i,l);break;case 9:g instanceof m.default.Color?(n=g,p=new m.default.Vector(c,d,b),h=new m.default.Vector(y,r,o),u=i,s=l):b instanceof m.default.Vector?(n=this.color(g,c,d),p=b,h=new m.default.Vector(y,r,o),u=i,s=l):o instanceof m.default.Vector?(n=this.color(g,c,d),p=new m.default.Vector(b,y,r),h=o,u=i,s=l):(n=this.color(g,c,d),p=new m.default.Vector(b,y,r),h=new m.default.Vector(o,i,l));break;case 8:u=(h=g instanceof m.default.Color?(n=g,p=new m.default.Vector(c,d,b),new m.default.Vector(y,r,o)):b instanceof m.default.Vector?(n=this.color(g,c,d),p=b,new m.default.Vector(y,r,o)):(n=this.color(g,c,d),p=new m.default.Vector(b,y,r),o),i);break;case 7:g instanceof m.default.Color&&c instanceof m.default.Vector?(n=g,p=c,h=new m.default.Vector(d,b,y),u=r,s=o):g instanceof m.default.Color&&y instanceof m.default.Vector?(n=g,p=new m.default.Vector(c,d,b),h=y,u=r,s=o):b instanceof m.default.Vector&&y instanceof m.default.Vector?(n=this.color(g,c,d),p=b,h=y,u=r,s=o):h=g instanceof m.default.Color?(n=g,p=new m.default.Vector(c,d,b),new m.default.Vector(y,r,o)):b instanceof m.default.Vector?(n=this.color(g,c,d),p=b,new m.default.Vector(y,r,o)):(n=this.color(g,c,d),p=new m.default.Vector(b,y,r),o);break;case 6:b instanceof m.default.Vector&&y instanceof m.default.Vector?(n=this.color(g,c,d),p=b,h=y,u=r):g instanceof m.default.Color&&y instanceof m.default.Vector?(n=g,p=new m.default.Vector(c,d,b),h=y,u=r):g instanceof m.default.Color&&c instanceof m.default.Vector&&(n=g,p=c,h=new m.default.Vector(d,b,y),u=r);break;case 5:g instanceof m.default.Color&&c instanceof m.default.Vector&&d instanceof m.default.Vector?(n=g,p=c,h=d,u=b,s=y):b instanceof m.default.Vector&&y instanceof m.default.Vector?(n=this.color(g,c,d),p=b,h=y):g instanceof m.default.Color&&y instanceof m.default.Vector?(n=g,p=new m.default.Vector(c,d,b),h=y):g instanceof m.default.Color&&c instanceof m.default.Vector&&(n=g,p=c,h=new m.default.Vector(d,b,y));break;case 4:n=g,p=c,h=d,u=b;break;case 3:n=g,p=c,h=d;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(_<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(n._array[0],n._array[1],n._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),h.normalize(),this._renderer.spotLightDirections.push(h.x,h.y,h.z),u===void 0&&(u=Math.PI/3),s!==void 0&&s<1?(s=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):s===void 0&&(s=100),u=this._renderer._pInst._toRadians(u),this._renderer.spotLightAngle.push(Math.cos(u)),this._renderer.spotLightConc.push(s),this._renderer._enableLighting=!0,this},m.default.prototype.noLights=function(){this._assert3d("noLights");for(var g=arguments.length,c=new Array(g),d=0;d<g;d++)c[d]=arguments[d];return m.default._validateParameters("noLights",c),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,H,A){function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t("regenerator-runtime/runtime");var g=(l=t("../core/main"))&&l.__esModule?l:{default:l};function c(u){return(function(s){if(Array.isArray(s)){for(var n=0,p=new Array(s.length);n<s.length;n++)p[n]=s[n];return p}})(u)||(function(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)})(u)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function d(u,s,n,p,h,_,T){try{var j=u[_](T),S=j.value}catch(C){return void n(C)}j.done?s(S):Promise.resolve(S).then(p,h)}function b(u){return function(){var s=this,n=arguments;return new Promise(function(p,h){var _=u.apply(s,n);function T(S){d(_,p,h,T,j,"next",S)}function j(S){d(_,p,h,T,j,"throw",S)}T(void 0)})}}function y(u){return(y=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(s){return m(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":m(s)})(u)}function r(u,s,n){for(var p=2<arguments.length&&n!==void 0?n:{},h={v:[],vt:[],vn:[]},_={},T=null,j=new Set,S=!1,C=!1,L=0;L<s.length;++L){var E=s[L].trim().split(/\b\s+/);if(0<E.length){if(E[0]==="usemtl")T=E[1];else if(E[0]==="v"||E[0]==="vn"){var I=new g.default.Vector(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3]));h[E[0]].push(I)}else if(E[0]==="vt")I=[parseFloat(E[1]),1-parseFloat(E[2])],h[E[0]].push(I);else if(E[0]==="f")for(var O=3;O<E.length;++O){for(var U=[],D=[1,O-1,O],B=0;B<D.length;++B){for(var X,W=E[D[B]],G=W.split("/"),Z=0;Z<G.length;Z++)G[Z]=parseInt(G[Z])-1;_[W]||(_[W]={}),_[W][T]===void 0?(X=u.vertices.length,u.vertices.push(h.v[G[0]].copy()),u.uvs.push(h.vt[G[1]]?h.vt[G[1]].slice():[0,0]),u.vertexNormals.push(h.vn[G[2]]?h.vn[G[2]].copy():new g.default.Vector),_[W][T]=X,U.push(X),T&&p[T]&&p[T].diffuseColor&&j.add(h.v[G[0]])):U.push(_[W][T])}if(U[0]!==U[1]&&U[0]!==U[2]&&U[1]!==U[2])if(u.faces.push(U),T&&p[T]&&p[T].diffuseColor)for(var S=S=!0,Q=p[T].diffuseColor,le=0;le<U.length;le++)u.vertexColors.push(Q[0]),u.vertexColors.push(Q[1]),u.vertexColors.push(Q[2]);else C=!0}}}if(u.vertexNormals.length===0&&u.computeNormals(),S===C)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function o(u,s){if((function(ye){for(var te=new DataView(ye),me=[115,111,108,105,100],we=0;we<5;we++)if((function(Ee,xe,Te){for(var Pe=0,qe=Ee.length;Pe<qe;Pe++)if(Ee[Pe]!==xe.getUint8(Te+Pe,!1))return;return 1})(me,te,we))return;return 1})(s)){for(var n,p,h,_,T,j,S,C=u,L=new DataView(s),E=L.getUint32(80,!0),I=!1,O=0;O<70;O++)L.getUint32(O,!1)===1129270351&&L.getUint8(O+4)===82&&L.getUint8(O+5)===61&&(I=!0,_=[],T=L.getUint8(O+6)/255,j=L.getUint8(O+7)/255,S=L.getUint8(O+8)/255);for(var U=0;U<E;U++){for(var D,B=84+50*U,X=L.getFloat32(B,!0),W=L.getFloat32(4+B,!0),G=L.getFloat32(8+B,!0),Z=(I&&(D=L.getUint16(48+B,!0),h=(32768&D)==0?(n=(31&D)/31,p=(D>>5&31)/31,(D>>10&31)/31):(n=T,p=j,S)),new g.default.Vector(X,W,G)),Q=1;Q<=3;Q++){var le=B+12*Q,le=new g.default.Vector(L.getFloat32(le,!0),L.getFloat32(4+le,!0),L.getFloat32(8+le,!0));C.vertices.push(le),C.vertexNormals.push(Z),I&&_.push(n,p,h)}C.faces.push([3*U,3*U+1,3*U+2]),C.uvs.push([0,0],[0,0],[0,0])}}else if(s=new DataView(s),"TextDecoder"in window)for(var w,R,N=u,q=new TextDecoder("utf-8").decode(s).split(`
`),J="",re=[],ce=0;ce<q.length;++ce){for(var ge=q[ce].trim(),se=ge.split(" "),pe=0;pe<se.length;++pe)se[pe]===""&&se.splice(pe,1);if(se.length!==0)switch(J){case"":if(se[0]!=="solid")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "solid"'));J="solid";break;case"solid":if(se[0]!=="facet"||se[1]!=="normal")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "facet normal"'));w=new g.default.Vector(parseFloat(se[2]),parseFloat(se[3]),parseFloat(se[4])),N.vertexNormals.push(w,w,w),J="facet normal";break;case"facet normal":if(se[0]!=="outer"||se[1]!=="loop")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "outer loop"'));J="vertex";break;case"vertex":if(se[0]==="vertex")R=new g.default.Vector(parseFloat(se[1]),parseFloat(se[2]),parseFloat(se[3])),N.vertices.push(R),N.uvs.push([0,0]),re.push(N.vertices.indexOf(R));else{if(se[0]!=="endloop")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "vertex" or "endloop"'));N.faces.push(re),re=[],J="endloop"}break;case"endloop":if(se[0]!=="endfacet")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "endfacet"'));J="endfacet";break;case"endfacet":if(se[0]!=="endsolid"){if(se[0]!=="facet"||se[1]!=="normal")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "endsolid" or "facet normal"'));w=new g.default.Vector(parseFloat(se[2]),parseFloat(se[3]),parseFloat(se[4])),N.vertexNormals.push(w,w,w),J="facet normal"}break;default:console.error('Invalid state "'.concat(J,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),g.default.prototype.loadModel=function(u,s){g.default._validateParameters("loadModel",arguments);var n,p,h=!1,_=!1,T=!1,j=u.slice(-4),S=(s&&y(s)==="object"?(h=s.normalize||!1,n=s.successCallback,p=s.failureCallback,j=s.fileType||j,_=s.flipU||!1,T=s.flipV||!1):typeof s=="boolean"?(h=s,n=arguments[2],p=arguments[3],arguments[4]!==void 0&&(j=arguments[4])):(n=typeof s=="function"?s:void 0,p=arguments[2],arguments[3]!==void 0&&(j=arguments[3])),new g.default.Geometry),C=(S.gid="".concat(u,"|").concat(h),this);function L(){return(L=b(regeneratorRuntime.mark(function I(O){var U,D,B,X;return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:for(U=[],D=0;D<O.length;D++)(B=O[D].match(/^mtllib (.+)/))&&(function(){var G="",Z=B[1],Q=u.split("/");G=1<Q.length?(Q.pop(),Q.join("/")+"/"+Z):Z,U.push((function(){return E.apply(this,arguments)})(G).then(function(le){return le?(w=C,R=G,new Promise(function(N,q){var J=null,re={};w.loadStrings(R,function(ce){for(var ge=0;ge<ce.length;++ge){var se,pe=ce[ge].trim().split(/\s+/);pe[0]==="newmtl"?(se=pe[1],re[J=se]={}):pe[0]==="Kd"?re[J].diffuseColor=[parseFloat(pe[1]),parseFloat(pe[2]),parseFloat(pe[3])]:pe[0]==="Ka"?re[J].ambientColor=[parseFloat(pe[1]),parseFloat(pe[2]),parseFloat(pe[3])]:pe[0]==="Ks"?re[J].specularColor=[parseFloat(pe[1]),parseFloat(pe[2]),parseFloat(pe[3])]:pe[0]==="map_Kd"&&(re[J].texturePath=pe[1])}N(re)},q)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(G)),{});var w,R}).catch(function(le){return console.warn("Error loading MTL file: ".concat(G),le),{}}))})();return W.prev=2,W.next=5,Promise.all(U);case 5:return X=W.sent,X=Object.assign.apply(Object,[{}].concat(c(X))),W.abrupt("return",X);case 10:return W.prev=10,W.t0=W.catch(2),W.abrupt("return",{});case 13:case"end":return W.stop()}},I,null,[[2,10]])}))).apply(this,arguments)}function E(){return(E=b(regeneratorRuntime.mark(function I(O){var U;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,fetch(O,{method:"HEAD"});case 3:return U=D.sent,D.abrupt("return",U.ok);case 7:return D.prev=7,D.t0=D.catch(0),D.abrupt("return",!1);case 10:case"end":return D.stop()}},I,null,[[0,7]])}))).apply(this,arguments)}return j.match(/\.stl$/i)?this.httpDo(u,"GET","arrayBuffer",function(I){o(S,I),h&&S.normalize(),_&&S.flipU(),T&&S.flipV(),C._decrementPreload(),typeof n=="function"&&n(S)},p):j.match(/\.obj$/i)?this.loadStrings(u,(function(){var I=b(regeneratorRuntime.mark(function O(U){var D;return regeneratorRuntime.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,(function(){return L.apply(this,arguments)})(U);case 3:D=B.sent,r(S,U,D),B.next=11;break;case 7:return B.prev=7,B.t0=B.catch(0),p?p(B.t0):g.default._friendlyError("Error during parsing: "+B.t0.message),B.abrupt("return");case 11:return B.prev=11,h&&S.normalize(),_&&S.flipU(),T&&S.flipV(),S._makeTriangleEdges(),C._decrementPreload(),typeof n=="function"&&n(S),B.finish(11);case 19:case"end":return B.stop()}},O,null,[[0,7,11,19]])}));return function(O){return I.apply(this,arguments)}})(),p):(g.default._friendlyFileLoadError(3,u),p?p():g.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),S},g.default.prototype.model=function(u){this._assert3d("model"),g.default._validateParameters("model",arguments),0<u.vertices.length&&(this._renderer.geometryInHash(u.gid)||(u._edgesToVertices(),this._renderer.createBuffers(u.gid,u)),this._renderer.drawBuffers(u.gid))};var i=0,l=(g.default.prototype.createModel=function(u){var s,n,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",j=2<arguments.length?arguments[2]:void 0,h=(g.default._validateParameters("createModel",arguments),!1),_=!1,T=!1,j=(j&&y(j)==="object"?(h=j.normalize||!1,s=j.successCallback,n=j.failureCallback,_=j.flipU||!1,T=j.flipV||!1):n=typeof j=="boolean"?(h=j,s=arguments[3],arguments[4]):(s=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new g.default.Geometry);if(j.gid="".concat(p,"|").concat(h,"|").concat(i++),p.match(/\.stl$/i))try{o(j,new TextEncoder().encode(u).buffer)}catch(S){return void(n?n(S):g.default._friendlyError("Error during parsing: "+S.message))}else if(p.match(/\.obj$/i))try{r(j,u.split(`
`))}catch(S){return void(n?n(S):g.default._friendlyError("Error during parsing: "+S.message))}else g.default._friendlyFileLoadError(3,u),n?n():g.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return h&&j.normalize(),_&&j.flipU(),T&&j.flipV(),j._makeTriangleEdges(),typeof s=="function"&&s(j),j},g.default);A.default=l},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,H,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(o){return m(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":m(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var o=b();if(o&&o.has(r))return o.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var s;Object.prototype.hasOwnProperty.call(r,i)&&((s=u?Object.getOwnPropertyDescriptor(r,i):null)&&(s.get||s.set)?Object.defineProperty(l,i,s):l[i]=r[i])}return l.default=r,o&&o.set(r,l),l})(t("../core/constants"));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}t("./p5.Texture"),c.default.prototype.loadShader=function(r,o,i,l){c.default._validateParameters("loadShader",arguments),l=l||console.error;function u(){n._decrementPreload(),i&&i(s)}var s=new c.default.Shader,n=this,p=!1,h=!1;return this.loadStrings(r,function(_){s._vertSrc=_.join(`
`),h=!0,p&&u()},l),this.loadStrings(o,function(_){s._fragSrc=_.join(`
`),p=!0,h&&u()},l),s},c.default.prototype.createShader=function(r,o,i){return c.default._validateParameters("createShader",arguments),new c.default.Shader(this._renderer,r,o,i)},c.default.prototype.createFilterShader=function(r){c.default._validateParameters("createFilterShader",arguments);var o=r.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,o=new c.default.Shader(this._renderer,o,r);return this._renderer.GL?o.ensureCompiledOnContext(this):o.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),o},c.default.prototype.shader=function(r){return this._assert3d("shader"),c.default._validateParameters("shader",arguments),r.ensureCompiledOnContext(this),r.isStrokeShader()?this._renderer.userStrokeShader=r:(this._renderer.userFillShader=r,this._renderer._useNormalMaterial=!1),r.setDefaultUniforms(),this},c.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},c.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},c.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},c.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},c.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},c.default.prototype.texture=function(r){return this._assert3d("texture"),c.default._validateParameters("texture",arguments),r.gifProperties&&r._animateGif(this),this._renderer.drawMode=d.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=r,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.textureMode=function(r){r!==d.IMAGE&&r!==d.NORMAL?console.warn("You tried to set ".concat(r," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=r},c.default.prototype.textureWrap=function(r){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r,i=(this._renderer.textureWrapX=r,this._renderer.textureWrapY=o,!0),l=!1,u=void 0;try{for(var s,n=this._renderer.textures.values()[Symbol.iterator]();!(i=(s=n.next()).done);i=!0)s.value.setWrapMode(r,o)}catch(p){l=!0,u=p}finally{try{i||n.return==null||n.return()}finally{if(l)throw u}}},c.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return c.default._validateParameters("normalMaterial",o),this._renderer.drawMode=d.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},c.default.prototype.ambientMaterial=function(r,o,i){this._assert3d("ambientMaterial"),c.default._validateParameters("ambientMaterial",arguments);var l=c.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=l._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.emissiveMaterial=function(r,o,i,l){this._assert3d("emissiveMaterial"),c.default._validateParameters("emissiveMaterial",arguments);var u=c.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=u._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},c.default.prototype.specularMaterial=function(r,o,i,l){this._assert3d("specularMaterial"),c.default._validateParameters("specularMaterial",arguments);var u=c.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=u._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},c.default.prototype.shininess=function(r){return this._assert3d("shininess"),c.default._validateParameters("shininess",arguments),this._renderer._useShininess=r=r<1?1:r,this},c.default.prototype.metalness=function(r){return this._assert3d("metalness"),r=1-Math.exp(-r/100),this._renderer._useMetalness=r,this},c.default.RendererGL.prototype._applyColorBlend=function(r,u){var i=this.GL,l=this.drawMode===d.TEXTURE,u=u||this.userFillShader||this.userStrokeShader||this.userPointShader||l||this.curBlendMode!==d.BLEND||r[r.length-1]<1||this._isErasing;return u!==this._isBlending&&(u||this.curBlendMode!==d.BLEND&&this.curBlendMode!==d.ADD?i.enable(i.BLEND):i.disable(i.BLEND),i.depthMask(!0),this._isBlending=u),this._applyBlendMode(),r},c.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var r=this.GL;switch(this.curBlendMode){case d.BLEND:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case d.ADD:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case d.REMOVE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case d.MULTIPLY:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case d.SCREEN:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case d.EXCLUSION:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case d.REPLACE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case d.SUBTRACT:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case d.DARKEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case d.LIGHTEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=c.default;A.default=y},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,H,A){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(c,d){for(var b=0;b<d.length;b++){var y=d[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}m.default.prototype.camera=function(){var c;this._assert3d("camera");for(var d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];return m.default._validateParameters("camera",b),(c=this._renderer._curCamera).camera.apply(c,b),this},m.default.prototype.perspective=function(){var c;this._assert3d("perspective");for(var d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];return m.default._validateParameters("perspective",b),(c=this._renderer._curCamera).perspective.apply(c,b),this},m.default.prototype.linePerspective=function(c){if(m.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof m.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(c===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=c},m.default.prototype.ortho=function(){var c;this._assert3d("ortho");for(var d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];return m.default._validateParameters("ortho",b),(c=this._renderer._curCamera).ortho.apply(c,b),this},m.default.prototype.frustum=function(){var c;this._assert3d("frustum");for(var d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];return m.default._validateParameters("frustum",b),(c=this._renderer._curCamera).frustum.apply(c,b),this},m.default.prototype.createCamera=function(){this._assert3d("createCamera");var c=new m.default.Camera(this._renderer);return c._computeCameraDefaultSettings(),c._setDefaultCamera(),this._renderer._curCamera=c},m.default.Camera=(function(){function c(y){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._renderer=y,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new m.default.Matrix,this.projMatrix=new m.default.Matrix,this.yScale=1}var d,b;return d=c,(b=[{key:"perspective",value:function(l,r,o,i){this.cameraType=0<arguments.length?"custom":"default",l===void 0?(l=this.defaultCameraFOV,this.cameraFOV=l):this.cameraFOV=this._renderer._pInst._toRadians(l),r===void 0&&(r=this.defaultAspectRatio),o===void 0&&(o=this.defaultCameraNear),i===void 0&&(i=this.defaultCameraFar),o<=1e-4&&(o=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<o&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=r,this.cameraNear=o,this.cameraFar=i,this.projMatrix=m.default.Matrix.identity();var l=1/Math.tan(this.cameraFOV/2),u=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(l/r,0,0,0,0,-l*this.yScale,0,0,0,0,(i+o)*u,-1,0,0,2*i*o*u,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(j,T,o,i,l,u){var S=this.fbo||this._renderer,S=(j===void 0&&(j=-S.width/2),T===void 0&&(T=+S.width/2),o===void 0&&(o=-S.height/2),i===void 0&&(i=+S.height/2),l===void 0&&(l=0),u===void 0&&(u=Math.max(S.width,S.height)+800),this.cameraNear=l,T-j),s=i-o,n=(this.cameraFar=u)-l,p=2/S,h=2/s*this.yScale,_=-2/n,T=-(T+j)/S,j=-(i+o)/s,S=-(u+l)/n;this.projMatrix=m.default.Matrix.identity(),this.projMatrix.set(p,0,0,0,0,-h,0,0,0,0,_,0,T,j,S,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(j,T,o,i,l,u){j===void 0&&(j=.05*-this._renderer.width),T===void 0&&(T=.05*+this._renderer.width),o===void 0&&(o=.05*+this._renderer.height),i===void 0&&(i=.05*-this._renderer.height),l===void 0&&(l=this.defaultCameraNear),u===void 0&&(u=this.defaultCameraFar),this.cameraNear=l;var S=T-j,s=i-o,n=(this.cameraFar=u)-l,p=2*l/S,h=2*l/s*this.yScale,_=-2*u*l/n,T=(T+j)/S,j=(i+o)/s,S=-(u+l)/n;this.projMatrix=m.default.Matrix.identity(),this.projMatrix.set(p,0,0,0,0,-h,0,0,T,j,S,-1,0,0,_,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(p,h,_,T){var l=this.centerX,u=this.centerY,s=this.centerZ,n=(l-=this.eyeX,u-=this.eyeY,s-=this.eyeZ,m.default.Matrix.identity(this._renderer._pInst)),p=(n.rotate(this._renderer._pInst._toRadians(p),h,_,T),[l*n.mat4[0]+u*n.mat4[4]+s*n.mat4[8],l*n.mat4[1]+u*n.mat4[5]+s*n.mat4[9],l*n.mat4[2]+u*n.mat4[6]+s*n.mat4[10]]),h=(p[0]+=this.eyeX,p[1]+=this.eyeY,p[2]+=this.eyeZ,this.upX*n.mat4[0]+this.upY*n.mat4[4]+this.upZ*n.mat4[8]),_=this.upX*n.mat4[1]+this.upY*n.mat4[5]+this.upZ*n.mat4[9],T=this.upX*n.mat4[2]+this.upY*n.mat4[6]+this.upZ*n.mat4[10];this.camera(this.eyeX,this.eyeY,this.eyeZ,p[0],p[1],p[2],h,_,T)}},{key:"roll",value:function(o){var r=this._getLocalAxes(),o=m.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(o),r.z[0],r.z[1],r.z[2]).rotateVector(new m.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,o.x,o.y,o.z)}},{key:"pan",value:function(y){var r=this._getLocalAxes();this._rotateView(y,r.y[0],r.y[1],r.y[2])}},{key:"tilt",value:function(y){var r=this._getLocalAxes();this._rotateView(y,r.x[0],r.x[1],r.x[2])}},{key:"lookAt",value:function(y,r,o){this.camera(this.eyeX,this.eyeY,this.eyeZ,y,r,o,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(y,r,o,i,l,u,s,n,p){return y===void 0&&(y=this.defaultEyeX,r=this.defaultEyeY,o=this.defaultEyeZ,i=y,l=r,n=1,p=s=u=0),this.eyeX=y,this.eyeY=r,this.eyeZ=o,i!==void 0&&(this.centerX=i,this.centerY=l,this.centerZ=u),s!==void 0&&(this.upX=s,this.upY=n,this.upZ=p),i=this._getLocalAxes(),this.cameraMatrix.set(i.x[0],i.y[0],i.z[0],0,i.x[1],i.y[1],i.z[1],0,i.x[2],i.y[2],i.z[2],0,0,0,0,1),l=-y,this.cameraMatrix.translate([l,-r,-o]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(i,l,o){var u=this._getLocalAxes(),i=[u.x[0]*i,u.x[1]*i,u.x[2]*i],l=[u.y[0]*l,u.y[1]*l,u.y[2]*l],u=[u.z[0]*o,u.z[1]*o,u.z[2]*o];this.camera(this.eyeX+i[0]+l[0]+u[0],this.eyeY+i[1]+l[1]+u[1],this.eyeZ+i[2]+l[2]+u[2],this.centerX+i[0]+l[0]+u[0],this.centerY+i[1]+l[1]+u[1],this.centerZ+i[2]+l[2]+u[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(y,r,o){var i=y-this.eyeX,l=r-this.eyeY,u=o-this.eyeZ;this.camera(y,r,o,this.centerX+i,this.centerY+l,this.centerZ+u,this.upX,this.upY,this.upZ)}},{key:"set",value:function(y){for(var r=0,o=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];r<o.length;r++){var i=o[r];this[i]=y[i]}this.cameraMatrix=y.cameraMatrix.copy(),this.projMatrix=y.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(y,r,o){var i,l,u,s,n,p,h,_,T,j,S,C,L,E,I,O,U,D;o===0?this.set(y):o===1?this.set(r):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=y.projMatrix.mat4[0]*Math.pow(r.projMatrix.mat4[0]/y.projMatrix.mat4[0],o),this.projMatrix.mat4[5]=y.projMatrix.mat4[5]*Math.pow(r.projMatrix.mat4[5]/y.projMatrix.mat4[5],o),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),s=new m.default.Vector(y.eyeX,y.eyeY,y.eyeZ),n=new m.default.Vector(r.eyeX,r.eyeY,r.eyeZ),O=new m.default.Vector(y.centerX,y.centerY,y.centerZ),D=new m.default.Vector(r.centerX,r.centerY,r.centerZ),u=m.default.Vector.dist(s,O),i=m.default.Vector.dist(n,D),i=u*Math.pow(i/u,o),u=m.default.Vector.sub(s,n),l=1,1e-6<(U=(E=s.copy().sub(n).sub(O).add(D)).magSq())&&(l=m.default.Vector.dot(u,E)/U,l=Math.max(0,Math.min(l,1))),u=m.default.Vector.lerp(m.default.Vector.lerp(s,O,l),m.default.Vector.lerp(n,D,l),o),E=y.cameraMatrix.createSubMatrix3x3(),U=r.cameraMatrix.createSubMatrix3x3(),s=E.row(2),O=U.row(2),n=E.row(1),D=U.row(1),y=new m.default.Vector,r=new m.default.Vector,p=new m.default.Vector,h=new m.default.Vector,1-(_=.5*((E=(U=U.mult3x3(E.copy().transpose3x3())).diagonal())[0]+E[1]+E[2]-1))<1e-7?(y.set(m.default.Vector.lerp(s,O,o)).normalize(),p.set(y).mult(l*i).add(u),h.set(y).mult((l-1)*i).add(u),r.set(m.default.Vector.lerp(n,D,o)).normalize()):(O=1/(1-_),D=Math.max(E[0],E[1],E[2]),C=U.mat3[1]+U.mat3[3],L=U.mat3[2]+U.mat3[6],I=U.mat3[5]+U.mat3[7],D=D===E[0]?(j=.5*C*(O/=T=Math.sqrt((E[0]-_)*O)),S=.5*L*O,.5*(U.mat3[7]-U.mat3[5])/T):D===E[1]?(S=.5*I*(O/=j=Math.sqrt((E[1]-_)*O)),T=.5*C*O,.5*(U.mat3[2]-U.mat3[6])/j):(T=.5*L*(O/=S=Math.sqrt((E[2]-_)*O)),j=.5*I*O,.5*(U.mat3[3]-U.mat3[1])/S),C=o*Math.atan2(D,_),L=Math.cos(C),E=Math.sin(C),(D=new m.default.Matrix("mat3",[L+(I=1-L)*T*T,I*(O=T*j)+E*S,I*(U=S*T)-E*j,I*O-E*S,L+I*j*j,I*(o=j*S)+E*T,I*U+E*j,I*o-E*T,L+I*S*S])).multiplyVec3(s,y),p.set(y).mult(l*i).add(u),h.set(y).mult((l-1)*i).add(u),D.multiplyVec3(n,r)),this.camera(p.x,p.y,p.z,h.x,h.y,h.z,r.x,r.y,r.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var y=new m.default.Camera(this._renderer);return y.cameraFOV=this.cameraFOV,y.aspectRatio=this.aspectRatio,y.eyeX=this.eyeX,y.eyeY=this.eyeY,y.eyeZ=this.eyeZ,y.centerX=this.centerX,y.centerY=this.centerY,y.centerZ=this.centerZ,y.upX=this.upX,y.upY=this.upY,y.upZ=this.upZ,y.cameraNear=this.cameraNear,y.cameraFar=this.cameraFar,y.cameraType=this.cameraType,y.useLinePerspective=this.useLinePerspective,y.cameraMatrix=this.cameraMatrix.copy(),y.projMatrix=this.projMatrix.copy(),y.yScale=this.yScale,y}},{key:"_getLocalAxes",value:function(){var y=this.eyeX-this.centerX,r=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,s=Math.sqrt(y*y+r*r+o*o),s=(s!==0&&(y/=s,r/=s,o/=s),this.upX),i=(n=this.upY)*o-(p=this.upZ)*r,l=-s*o+p*y,u=s*r-n*y,s=r*u-o*l,n=-y*u+o*i,p=y*l-r*i,h=Math.sqrt(i*i+l*l+u*u),h=(h!==0&&(i/=h,l/=h,u/=h),Math.sqrt(s*s+n*n+p*p));return h!==0&&(s/=h,n/=h,p/=h),{x:[i,l,u],y:[s,n,p],z:[y,r,o]}}},{key:"_orbit",value:function(y,h,p){var l=this.eyeX-this.centerX,u=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,i=Math.hypot(l,u,s),l=new m.default.Vector(l,u,s).normalize(),u=new m.default.Vector(this.upX,this.upY,this.upZ).normalize(),s=m.default.Vector.cross(u,l).normalize(),n=m.default.Vector.cross(s,u),p=((i=(i*=Math.pow(10,p))<this.cameraNear?this.cameraNear:i)>this.cameraFar&&(i=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,m.default.Vector.dot(l,u))))+h),h=y;(p<=0||p>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),u.mult(Math.cos(p)),n.mult(Math.cos(h)*Math.sin(p)),s.mult(Math.sin(h)*Math.sin(p)),l.set(u).add(n).add(s),this.eyeX=i*l.x+this.centerX,this.eyeY=i*l.y+this.centerY,this.eyeZ=i*l.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(p,h,T){var l=this.eyeX-this.centerX,u=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,i=Math.hypot(l,u,s),l=new m.default.Vector(l,u,s).normalize(),u=new m.default.Vector(this.upX,this.upY,this.upZ),s=m.default.Vector.cross(u,l).normalize(),n=m.default.Vector.cross(l,s),j=Math.atan2(h,p),j=(n.mult(Math.sin(j)),s.mult(Math.cos(j)).add(n),Math.sqrt(p*p+h*h)),n=m.default.Vector.cross(l,s),p=((i=(i*=Math.pow(10,T))<this.cameraNear?this.cameraNear:i)>this.cameraFar&&(i=this.cameraFar),Math.cos(j)),h=Math.sin(j),T=u.dot(l),j=u.dot(s),_=T*p+j*h,T=-T*h+j*p,j=u.dot(n);u.x=_*l.x+T*s.x+j*n.x,u.y=_*l.y+T*s.y+j*n.y,u.z=_*l.z+T*s.z+j*n.z,s.mult(-h),l.mult(p).add(s).mult(i),this.camera(l.x+this.centerX,l.y+this.centerY,l.z+this.centerZ,this.centerX,this.centerY,this.centerZ,u.x,u.y,u.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&g(d.prototype,b),c})(),m.default.prototype.setCamera=function(c){this._renderer._curCamera=c,this._renderer.uPMatrix.set(c.projMatrix),this._renderer.uViewMatrix.set(c.cameraMatrix)},t=m.default.Camera,A.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,H,A){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function m(g,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}t.default.DataArray=(function(){function g(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,y=this,r=g;if(!(y instanceof r))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(b),this.initialLength=b}var c,d;return c=g,(d=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var b;this.length<this.data.length/2&&(b=1<<Math.ceil(Math.log2(this.length)),(b=new Float32Array(b)).set(this.data.subarray(0,this.length),0),this.data=b)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var b=arguments.length,y=new Array(b),r=0;r<b;r++)y[r]=arguments[r];this.ensureLength(this.length+y.length),this.data.set(y,this.length),this.length+=y.length}},{key:"slice",value:function(b,y){return this.data.slice(b,Math.min(y,this.length))}},{key:"subArray",value:function(b,y){return this.data.subarray(b,Math.min(y,this.length))}},{key:"ensureLength",value:function(b){for(;this.data.length<b;){var y=new Float32Array(2*this.data.length);y.set(this.data,0),this.data=y}}}])&&m(c.prototype,d),g})(),t=t.default.DataArray,A.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(C,H,A){function m(L){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(L)}function g(L){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(E){return m(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":m(E)})(L)}C("core-js/modules/es.symbol"),C("core-js/modules/es.symbol.description"),C("core-js/modules/es.symbol.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-own-property-descriptor"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.reflect.construct"),C("core-js/modules/es.reflect.get"),C("core-js/modules/es.regexp.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.string.iterator"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.weak-map"),C("core-js/modules/web.dom-collections.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(S=C("../core/main"))&&S.__esModule?S:{default:S},d=(function(L){if(L&&L.__esModule)return L;if(L===null||g(L)!=="object"&&typeof L!="function")return{default:L};var E=r();if(E&&E.has(L))return E.get(L);var I,O={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in L){var D;Object.prototype.hasOwnProperty.call(L,I)&&((D=U?Object.getOwnPropertyDescriptor(L,I):null)&&(D.get||D.set)?Object.defineProperty(O,I,D):O[I]=L[I])}return O.default=L,E&&E.set(L,O),O})(C("../core/constants")),b=C("./p5.Texture"),y=C("./p5.RendererGL");function r(){var L;return typeof WeakMap!="function"?null:(L=new WeakMap,r=function(){return L},L)}function o(L,E){return(function(I){if(Array.isArray(I))return I})(L)||(function(I,O){if(Symbol.iterator in Object(I)||Object.prototype.toString.call(I)==="[object Arguments]"){var U=[],D=!0,B=!1,X=void 0;try{for(var W,G=I[Symbol.iterator]();!(D=(W=G.next()).done)&&(U.push(W.value),!O||U.length!==O);D=!0);}catch(Z){B=!0,X=Z}finally{try{D||G.return==null||G.return()}finally{if(B)throw X}}return U}})(L,E)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function i(L,E,I){return E in L?Object.defineProperty(L,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):L[E]=I,L}function l(L,E){if(!(L instanceof E))throw new TypeError("Cannot call a class as a function")}function u(L,E){for(var I=0;I<E.length;I++){var O=E[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(L,O.key,O)}}function s(L,E,I){E&&u(L.prototype,E)}function n(L,E,I){return(n=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(B,U,D){var B=(function(X,W){for(;!Object.prototype.hasOwnProperty.call(X,W)&&(X=_(X))!==null;);return X})(B,U);if(B)return(B=Object.getOwnPropertyDescriptor(B,U)).get?B.get.call(D):B.value})(L,E,I||L)}function p(L,E){return(p=Object.setPrototypeOf||function(I,O){return I.__proto__=O,I})(L,E)}function h(L){return function(){var E,I=_(L),I=(E=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(E=_(this).constructor,Reflect.construct(I,arguments,E)):I.apply(this,arguments),this);if(!E||g(E)!=="object"&&typeof E!="function"){if(I!==void 0)return I;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return E}}function _(L){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(L)}var T=(function(L){var E=O;if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),L&&p(E,L);var I=h(O);function O(U){var D;return l(this,O),(D=I.call(this,U.target._renderer)).fbo=U,D.yScale=-1,D}return s(O,[{key:"_computeCameraDefaultSettings",value:function(){n(_(O.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),O})(c.default.Camera),j=(c.default.FramebufferCamera=T,(function(){function L(E,I){l(this,L),this.framebuffer=E,this.property=I}return s(L,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),L})()),S=(c.default.FramebufferTexture=j,(function(){function L(E){var I=this,O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},U=(l(this,L),this.target=E,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=O.format||d.UNSIGNED_BYTE,this.channels=O.channels||(E._renderer._pInst._glAttributes.alpha?d.RGBA:d.RGB),this.useDepth=O.depth===void 0||O.depth,this.depthFormat=O.depthFormat||d.FLOAT,this.textureFiltering=O.textureFiltering||d.LINEAR,O.antialias===void 0?this.antialiasSamples=E._renderer._pInst._glAttributes.antialias?2:0:typeof O.antialias=="number"?this.antialiasSamples=O.antialias:this.antialiasSamples=O.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&E.webglVersion!==d.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=O.density||E.pixelDensity(),E._renderer.GL);if(this.gl=U,O.width&&O.height?(D=E._renderer._adjustDimensions(O.width,O.height),this.width=D.adjustedWidth,this.height=D.adjustedHeight,this._autoSized=!1):(O.width===void 0!=(O.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=E.width,this.height=E.height,this._autoSized=!0),this._checkIfFormatsAvailable(),O.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(O.stencil===void 0||O.stencil),this.framebuffer=U.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=U.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var D=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=D,this.draw(function(){return I.target.clear()})}return s(L,[{key:"resize",value:function(E,I){this._autoSized=!1;var O=this.target._renderer._adjustDimensions(E,I);E=O.adjustedWidth,I=O.adjustedHeight,this.width=E,this.height=I,this._handleResize()}},{key:"pixelDensity",value:function(E){if(!E)return this.density;this._autoSized=!1,this.density=E,this._handleResize()}},{key:"autoSized",value:function(E){if(E===void 0)return this._autoSized;this._autoSized=E,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var E=this.gl,E=(this.useDepth&&this.target.webglVersion===d.WEBGL&&!E.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===d.WEBGL&&this.depthFormat===d.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),[d.UNSIGNED_BYTE,d.FLOAT,d.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&![d.UNSIGNED_INT,d.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=d.FLOAT),(0,b.checkWebGLCapabilities)(this.target._renderer));E.float||this.format!==d.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&!E.float&&this.depthFormat===d.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),E.halfFloat||this.format!==d.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.channels===d.RGB&&[d.FLOAT,d.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=d.RGBA)}},{key:"_recreateTextures",value:function(){var E=this.gl,I=(this._updateSize(),E.getParameter(E.TEXTURE_BINDING_2D)),O=E.getParameter(E.FRAMEBUFFER_BINDING),U=E.createTexture();if(!U)throw new Error("Unable to create color texture");E.bindTexture(E.TEXTURE_2D,U);var D=this._glColorFormat();if(E.texImage2D(E.TEXTURE_2D,0,D.internalFormat,this.width*this.density,this.height*this.density,0,D.format,D.type,null),this.colorTexture=U,E.bindFramebuffer(E.FRAMEBUFFER,this.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,U,0),this.useDepth){var U=E.createTexture();if(!U)throw new Error("Unable to create depth texture");var B=this._glDepthFormat();E.bindTexture(E.TEXTURE_2D,U),E.texImage2D(E.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,null),E.framebufferTexture2D(E.FRAMEBUFFER,this.useStencil?E.DEPTH_STENCIL_ATTACHMENT:E.DEPTH_ATTACHMENT,E.TEXTURE_2D,U,0),this.depthTexture=U}this.antialias&&(this.colorRenderbuffer=E.createRenderbuffer(),E.bindRenderbuffer(E.RENDERBUFFER,this.colorRenderbuffer),E.renderbufferStorageMultisample(E.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,E.getParameter(E.MAX_SAMPLES))),D.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(B=this._glDepthFormat(),this.depthRenderbuffer=E.createRenderbuffer(),E.bindRenderbuffer(E.RENDERBUFFER,this.depthRenderbuffer),E.renderbufferStorageMultisample(E.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,E.getParameter(E.MAX_SAMPLES))),B.internalFormat,this.width*this.density,this.height*this.density)),E.bindFramebuffer(E.FRAMEBUFFER,this.aaFramebuffer),E.framebufferRenderbuffer(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&E.framebufferRenderbuffer(E.FRAMEBUFFER,this.useStencil?E.DEPTH_STENCIL_ATTACHMENT:E.DEPTH_ATTACHMENT,E.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new j(this,"depthTexture"),U=E.NEAREST,this.depthP5Texture=new c.default.Texture(this.target._renderer,this.depth,{minFilter:U,magFilter:U}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new j(this,"colorTexture"),D=this.textureFiltering===d.LINEAR?E.LINEAR:E.NEAREST,this.colorP5Texture=new c.default.Texture(this.target._renderer,this.color,{minFilter:D,magFilter:D}),this.target._renderer.textures.set(this.color,this.colorP5Texture),E.bindTexture(E.TEXTURE_2D,I),E.bindFramebuffer(E.FRAMEBUFFER,O)}},{key:"_glColorFormat",value:function(){var E,I,O=this.gl,U=this.format===d.FLOAT?O.FLOAT:this.format===d.HALF_FLOAT?this.target.webglVersion===d.WEBGL2?O.HALF_FLOAT:O.getExtension("OES_texture_half_float").HALF_FLOAT_OES:O.UNSIGNED_BYTE,D=this.channels===d.RGBA?O.RGBA:O.RGB;return{internalFormat:this.target.webglVersion===d.WEBGL2?(i(I={},O.FLOAT,i({},O.RGBA,O.RGBA32F)),i(I,O.HALF_FLOAT,i({},O.RGBA,O.RGBA16F)),i(I,O.UNSIGNED_BYTE,(i(E={},O.RGBA,O.RGBA8),i(E,O.RGB,O.RGB8),E)),I[U][D]):this.format===d.HALF_FLOAT?O.RGBA:D,format:D,type:U}}},{key:"_glDepthFormat",value:function(){var O=this.gl,E=this.useStencil?this.depthFormat===d.FLOAT?O.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===d.WEBGL2?O.UNSIGNED_INT_24_8:O.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===d.FLOAT?O.FLOAT:O.UNSIGNED_INT,I=this.useStencil?O.DEPTH_STENCIL:O.DEPTH_COMPONENT,O=this.useStencil?this.depthFormat===d.FLOAT?O.DEPTH32F_STENCIL8:this.target.webglVersion===d.WEBGL2?O.DEPTH24_STENCIL8:O.DEPTH_STENCIL:this.target.webglVersion===d.WEBGL2?this.depthFormat===d.FLOAT?O.DEPTH_COMPONENT32F:O.DEPTH_COMPONENT24:O.DEPTH_COMPONENT;return{internalFormat:O,format:I,type:E}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var U=this.color,E=this.depth,I=this.colorRenderbuffer,O=this.depthRenderbuffer,U=(this._deleteTexture(U),E&&this._deleteTexture(E),this.gl);I&&U.deleteRenderbuffer(I),O&&U.deleteRenderbuffer(O),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var E=new T(this);return E._computeCameraDefaultSettings(),E._setDefaultCamera(),this.target._renderer._curCamera=E}},{key:"_deleteTexture",value:function(E){this.gl.deleteTexture(E.rawTexture()),this.target._renderer.textures.delete(E)}},{key:"remove",value:function(){var E=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),E.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&E.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&E.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&E.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var E=this.gl,I=(E.bindFramebuffer(E.READ_FRAMEBUFFER,this.aaFramebuffer),E.bindFramebuffer(E.DRAW_FRAMEBUFFER,this.framebuffer),[[E.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&I.push([E.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var O=0,U=I;O<U.length;O++){var B=o(U[O],2),D=B[0],B=B[1];E.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,D,B)}}}},{key:"end",value:function(){var E=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(E.bindFramebuffer(E.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(E){this.begin(),E(),this.end()}},{key:"loadPixels",value:function(){var E=this.gl,I=this.target._renderer.activeFramebuffer(),O=(E.bindFramebuffer(E.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,y.readPixelsWebGL)(this.pixels,E,this.framebuffer,0,0,this.width*this.density,this.height*this.density,O.format,O.type),I?E.bindFramebuffer(E.FRAMEBUFFER,I._framebufferToBind()):E.bindFramebuffer(E.FRAMEBUFFER,null)}},{key:"get",value:function(E,I,O,U){c.default._validateParameters("p5.Framebuffer.get",arguments);var D=this._glColorFormat();if(E===void 0&&I===void 0)I=E=0,O=this.width,U=this.height;else if(O===void 0&&U===void 0)return(E<0||I<0||E>=this.width||I>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),E=this.target.constrain(E,0,this.width-1),I=this.target.constrain(I,0,this.height-1)),(0,y.readPixelWebGL)(this.gl,this.framebuffer,E*this.density,I*this.density,D.format,D.type);E=this.target.constrain(E,0,this.width-1),I=this.target.constrain(I,0,this.height-1),O=this.target.constrain(O,1,this.width-E),U=this.target.constrain(U,1,this.height-I);for(var B=(0,y.readPixelsWebGL)(void 0,this.gl,this.framebuffer,E*this.density,I*this.density,O*this.density,U*this.density,D.format,D.type),X=new Uint8ClampedArray(O*U*this.density*this.density*4),W=(X.fill(255),D.type===this.gl.RGB?3:4),G=0;G<U*this.density;G++)for(var Z=0;Z<O*this.density;Z++)for(var Q=0;Q<4;Q++){var le,w=4*(G*O*this.density+Z)+Q;Q<W&&(le=W==4?w:(G*O*this.density+Z)*W+Q,X[w]=B[le])}return E=new c.default.Image(O*this.density,U*this.density),E.imageData=E.canvas.getContext("2d").createImageData(E.width,E.height),E.imageData.data.set(X),E.pixels=E.imageData.data,E.updatePixels(),this.density!==1&&E.resize(O,U),E}},{key:"updatePixels",value:function(){var E=this.gl,I=(this.colorP5Texture.bindTexture(),this._glColorFormat()),O=I.format===E.RGBA?4:3,O=this.width*this.height*this.density*this.density*O,U=I.type===E.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof U)||this.pixels.length!==O)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");E.texImage2D(E.TEXTURE_2D,0,I.internalFormat,this.width*this.density,this.height*this.density,0,I.format,I.type,this.pixels),this.colorP5Texture.unbindTexture(),U=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(E.clearDepth(1),E.clear(E.DEPTH_BUFFER_BIT)),this.end()):(E.bindFramebuffer(E.FRAMEBUFFER,this.framebuffer),this.useDepth&&(E.clearDepth(1),E.clear(E.DEPTH_BUFFER_BIT)),U?E.bindFramebuffer(E.FRAMEBUFFER,U._framebufferToBind()):E.bindFramebuffer(E.FRAMEBUFFER,null))}}]),L})()),C=c.default.Framebuffer=S;A.default=C},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,H,A){function m(l){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function g(l){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(u){return m(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":m(u)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(i=t("../core/main"))&&i.__esModule?i:{default:i},d=(function(l){if(l&&l.__esModule)return l;if(l===null||g(l)!=="object"&&typeof l!="function")return{default:l};var u=b();if(u&&u.has(l))return u.get(l);var s,n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in l){var h;Object.prototype.hasOwnProperty.call(l,s)&&((h=p?Object.getOwnPropertyDescriptor(l,s):null)&&(h.get||h.set)?Object.defineProperty(n,s,h):n[s]=l[s])}return n.default=l,u&&u.set(l,n),n})(t("../core/constants"));function b(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,b=function(){return l},l)}function y(l){return(function(u){if(Array.isArray(u)){for(var s=0,n=new Array(u.length);s<u.length;s++)n[s]=u[s];return n}})(l)||(function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)})(l)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function r(l,u){return(function(s){if(Array.isArray(s))return s})(l)||(function(s,n){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]"){var p=[],h=!0,_=!1,T=void 0;try{for(var j,S=s[Symbol.iterator]();!(h=(j=S.next()).done)&&(p.push(j.value),!n||p.length!==n);h=!0);}catch(C){_=!0,T=C}finally{try{h||S.return==null||S.return()}finally{if(_)throw T}}return p}})(l,u)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function o(l,u){for(var s=0;s<u.length;s++){var n=u[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,n.key,n)}}c.default.Geometry=(function(){function l(n,p,h){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new c.default.DataArray,this.lineTangentsIn=new c.default.DataArray,this.lineTangentsOut=new c.default.DataArray,this.lineSides=new c.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new c.default.DataArray,this.detailX=n!==void 0?n:1,this.detailY=p!==void 0?p:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,h instanceof Function&&h.call(this)}var u,s;return u=l,(s=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var n=new c.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),p=new c.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),h=0;h<this.vertices.length;h++){var _=this.vertices[h];n.x=Math.min(n.x,_.x),n.y=Math.min(n.y,_.y),n.z=Math.min(n.z,_.z),p.x=Math.max(p.x,_.x),p.y=Math.max(p.y,_.y),p.z=Math.max(p.z,_.z)}var T=new c.default.Vector(p.x-n.x,p.y-n.y,p.z-n.z),j=new c.default.Vector((n.x+p.x)/2,(n.y+p.y)/2,(n.z+p.z)/2);this.boundingBoxCache={min:n,max:p,size:T,offset:j}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var n=0;n<this.vertexColors.length;n+=4)if(this.vertexColors[n+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var n=0;n<this.lineVertexColors.length;n+=4)if(this.lineVertexColors[n+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var n=this,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",h="";if(this.vertices.forEach(function(j){h+="v ".concat(j.x," ").concat(j.y," ").concat(j.z,`
`)}),this.uvs&&0<this.uvs.length)for(var _=0;_<this.uvs.length;_+=2)h+="vt ".concat(this.uvs[_]," ").concat(this.uvs[_+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(j){h+="vn ".concat(j.x," ").concat(j.y," ").concat(j.z,`
`)}),this.faces.forEach(function(j){var S="f";j.forEach(function(C){S=S+" "+(C+1),(0<n.vertexNormals.length||0<n.uvs.length)&&(S+="/",0<n.uvs.length&&(S+=C+1),S+="/",0<n.vertexNormals.length&&(S+=C+1))}),h+=S+`
`});var T=new Blob([h],{type:"text/plain"});c.default.prototype.downloadFile(T,p,"obj")}},{key:"saveStl",value:function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",p=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,p=p!==void 0&&p,h=n.substring(0,n.lastIndexOf(".")),_=[],T=!0,j=!1,S=void 0;try{for(var C,L=this.faces[Symbol.iterator]();!(T=(C=L.next()).done);T=!0){var E=C.value,I=c.default.Vector.sub(this.vertices[E[1]],this.vertices[E[0]]),O=c.default.Vector.sub(this.vertices[E[2]],this.vertices[E[0]]),U=I.y*O.z-I.z*O.y,D=I.z*O.x-I.x*O.z,B=I.x*O.y-I.y*O.x;_.push(new c.default.Vector(U,D,B).normalize())}}catch(Te){j=!0,S=Te}finally{try{T||L.return==null||L.return()}finally{if(j)throw S}}if(p){var X,W=80,j=2*this.faces.length+3*this.faces.length*4*4+80+4,S=new ArrayBuffer(j);(X=new DataView(S)).setUint32(W,this.faces.length,!0),W+=4;for(var G=0,Z=Object.entries(this.faces);G<Z.length;G++){var Q=r(Z[G],2),w=Q[0],Q=Q[1],w=_[w],le=(X.setFloat32(W,w.x,!0),W+=4,X.setFloat32(W,w.y,!0),W+=4,X.setFloat32(W,w.z,!0),W+=4,!0),w=!1,R=void 0;try{for(var N,q=Q[Symbol.iterator]();!(le=(N=q.next()).done);le=!0){var J=N.value,re=this.vertices[J];X.setFloat32(W,re.x,!0),W+=4,X.setFloat32(W,re.y,!0),W+=4,X.setFloat32(W,re.z,!0),W+=4}}catch(qe){w=!0,R=qe}finally{try{le||q.return==null||q.return()}finally{if(w)throw R}}X.setUint16(W,0,!0),W+=2}}else{X="solid "+h+`
`;for(var ce=0,ge=Object.entries(this.faces);ce<ge.length;ce++){var se=r(ge[ce],2),ye=se[0],se=se[1],ye=_[ye],pe=(X=X+(" facet norm "+ye.x+" "+ye.y+" "+ye.z+`
`)+`  outer loop
`,!0),ye=!1,te=void 0;try{for(var me,we=se[Symbol.iterator]();!(pe=(me=we.next()).done);pe=!0){var Ee=me.value,xe=this.vertices[Ee];X+="   vertex "+xe.x+" "+xe.y+" "+xe.z+`
`}}catch(Te){ye=!0,te=Te}finally{try{pe||we.return==null||we.return()}finally{if(ye)throw te}}X=X+`  endloop
 endfacet
`}X+="endsolid "+h+`
`}p=new Blob([X],{type:"text/plain"}),c.default.prototype.downloadFile(p,n,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(n,p){return p%2==0?1-n:n})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(n,p){return p%2==0?n:1-n})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var n,p,h,_=this.detailX+1,T=0;T<this.detailY;T++)for(var j=0;j<this.detailX;j++)p=(T+1)*_+j+1,this.faces.push([T*_+j,n=T*_+j+1,h=(T+1)*_+j]),this.faces.push([h,n,p]);return this}},{key:"_getFaceNormal",value:function(p){var p=this.faces[p],h=this.vertices[p[0]],T=this.vertices[p[1]],p=this.vertices[p[2]],T=c.default.Vector.sub(T,h),p=c.default.Vector.sub(p,h),h=c.default.Vector.cross(T,p),_=c.default.Vector.mag(h),T=_/(c.default.Vector.mag(T)*c.default.Vector.mag(p));return T===0||isNaN(T)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),h):(1<T&&(T=1),h.mult(Math.asin(T)/_))}},{key:"computeNormals",value:function(){var n,p=this,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:d.FLAT,_=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,T=this.vertexNormals,j=this.vertices,S=this.faces;if(h===d.SMOOTH){for(var C={},L=[],E=Math.pow(10,_===void 0?3:_),I=function(X){return Math.round(X*E)/E},O=function(X){return"".concat(I(X.x),",").concat(I(X.y),",").concat(I(X.z))},U=0;U<j.length;U++){var D=j[U],B=O(D);C[B]===void 0&&(C[B]=L.length,L.push(D))}S.forEach(function(X){for(var W=0;W<3;++W){var G=X[W],G=j[G],G=O(G);X[W]=C[G]}}),this.edges.forEach(function(X){for(var W=0;W<2;++W){var G=X[W],G=j[G],G=O(G);X[W]=C[G]}}),this.vertices=j=L}for(n=T.length=0;n<j.length;++n)T.push(new c.default.Vector);for(S.forEach(function(X,W){for(var G=p._getFaceNormal(W),Z=0;Z<3;++Z){var Q=X[Z];T[Q].add(G)}}),n=0;n<j.length;++n)T[n].normalize();return this}},{key:"averageNormals",value:function(){for(var n=0;n<=this.detailY;n++){var p=this.detailX+1,h=c.default.Vector.add(this.vertexNormals[n*p],this.vertexNormals[n*p+this.detailX]),h=c.default.Vector.div(h,2);this.vertexNormals[n*p]=h,this.vertexNormals[n*p+this.detailX]=h}return this}},{key:"averagePoleNormals",value:function(){for(var n=new c.default.Vector(0,0,0),p=0;p<this.detailX;p++)n.add(this.vertexNormals[p]);for(var n=c.default.Vector.div(n,this.detailX),h=0;h<this.detailX;h++)this.vertexNormals[h]=n;n=new c.default.Vector(0,0,0);for(var _=this.vertices.length-1;_>this.vertices.length-1-this.detailX;_--)n.add(this.vertexNormals[_]);n=c.default.Vector.div(n,this.detailX);for(var T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)this.vertexNormals[T]=n;return this}},{key:"_makeTriangleEdges",value:function(){for(var n=this.edges.length=0;n<this.faces.length;n++)this.edges.push([this.faces[n][0],this.faces[n][1]]),this.edges.push([this.faces[n][1],this.faces[n][2]]),this.edges.push([this.faces[n][2],this.faces[n][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var n,p=new Map,h=new Set,_=0;_<this.edges.length;_++){var T,j=this.edges[_-1],S=this.edges[_],C=this.vertices[S[0]],L=this.vertices[S[1]],E=0<this.vertexStrokeColors.length&&j?this.vertexStrokeColors.slice(4*j[1],4*(j[1]+1)):[0,0,0,0],I=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*S[0],4*(S[0]+1)):[0,0,0,0],O=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*S[1],4*(S[1]+1)):[0,0,0,0],U=L.copy().sub(C).normalize(),D=0<U.magSq();D&&this._addSegment(C,L,I,O,U),0<_&&j[1]===S[0]?h.has(S[0])||(h.add(S[0]),p.delete(S[0]),n&&D&&U.dot(n)<1-1e-8&&this._addJoin(C,n,U,I)):(D&&!h.has(S[0])&&((T=p.get(S[0]))?(this._addJoin(C,T.dir,U,I),p.delete(S[0]),h.add(S[0])):p.set(S[0],{point:C,dir:U.copy().mult(-1),color:I})),n&&!h.has(j[1])&&((T=p.get(j[1]))?(this._addJoin(this.vertices[j[1]],n,T.dir.copy().mult(-1),E),p.delete(j[1]),h.add(j[1])):p.set(j[1],{point:this.vertices[j[1]],dir:n,color:E}),n=void 0)),_!==this.edges.length-1||h.has(S[1])||((C=p.get(S[1]))?(this._addJoin(L,U,C.dir.copy().mult(-1),O),p.delete(S[1]),h.add(S[1])):p.set(S[1],{point:L,dir:U,color:O})),D&&(n=U)}var B=!0,X=!1,W=void 0;try{for(var G,Z=p.values()[Symbol.iterator]();!(B=(G=Z.next()).done);B=!0){var Q=G.value,le=Q.point,w=Q.dir,R=Q.color;this._addCap(le,w,R)}}catch(N){X=!0,W=N}finally{try{B||Z.return==null||Z.return()}finally{if(X)throw W}}return this}},{key:"_addSegment",value:function(j,S,h,_,T){var j=j.array(),S=S.array(),C=T.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var L=0,E=[this.lineTangentsIn,this.lineTangentsOut];L<E.length;L++)for(var I=E[L],O=0;O<6;O++)I.push.apply(I,y(C));return(T=this.lineVertices).push.apply(T,y(j).concat(y(S),y(j),y(S),y(S),y(j))),(T=this.lineVertexColors).push.apply(T,y(h).concat(y(_),y(h),y(_),y(_),y(h))),this}},{key:"_addCap",value:function(n,p,h){for(var _,T=n.array(),j=p.array(),S=[0,0,0],C=0;C<6;C++)(_=this.lineVertices).push.apply(_,y(T)),(_=this.lineTangentsIn).push.apply(_,y(j)),(_=this.lineTangentsOut).push.apply(_,S),(_=this.lineVertexColors).push.apply(_,y(h));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(n,p,h,_){for(var T,j=n.array(),S=p.array(),C=h.array(),L=0;L<12;L++)(T=this.lineVertices).push.apply(T,y(j)),(T=this.lineTangentsIn).push.apply(T,y(S)),(T=this.lineTangentsOut).push.apply(T,y(C)),(T=this.lineVertexColors).push.apply(T,y(_));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var n=this.vertices[0].copy(),p=this.vertices[0].copy(),h=0;h<this.vertices.length;h++)n.x=Math.max(n.x,this.vertices[h].x),p.x=Math.min(p.x,this.vertices[h].x),n.y=Math.max(n.y,this.vertices[h].y),p.y=Math.min(p.y,this.vertices[h].y),n.z=Math.max(n.z,this.vertices[h].z),p.z=Math.min(p.z,this.vertices[h].z);for(var _=c.default.Vector.lerp(n,p,.5),T=c.default.Vector.sub(n,p),j=200/Math.max(Math.max(T.x,T.y),T.z),S=0;S<this.vertices.length;S++)this.vertices[S].sub(_),this.vertices[S].mult(j)}return this}}])&&o(u.prototype,s),l})();var i=c.default.Geometry;A.default=i},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(b,H,A){b("core-js/modules/es.array.iterator"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),b("core-js/modules/es.array.iterator"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(b=b("../core/main"))&&b.__esModule?b:{default:b};function g(y,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(y,i.key,i)}}var c=Array,d=function(y){return Array.isArray(y)},b=(typeof Float32Array<"u"&&(c=Float32Array,d=function(y){return Array.isArray(y)||y instanceof Float32Array}),m.default.Matrix=(function(){function y(){var l=this,u=y;if(l instanceof u)return arguments.length&&((l=arguments.length-1)<0||arguments.length<=l?void 0:arguments[l])instanceof m.default&&(this.p5=(u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new c([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new c([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var r,o,i;return r=y,i=[{key:"identity",value:function(l){return new m.default.Matrix(l)}}],(o=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(l){var u=arguments;if(l instanceof m.default.Matrix?u=l.mat4:d(l)&&(u=l),u.length!==16)m.default._friendlyError("Expected 16 values but received ".concat(u.length,"."),"p5.Matrix.set");else for(var s=0;s<16;s++)this.mat4[s]=u[s];return this}},{key:"get",value:function(){return new m.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var l;return this.mat3!==void 0?((l=new m.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],l.mat3[1]=this.mat3[1],l.mat3[2]=this.mat3[2],l.mat3[3]=this.mat3[3],l.mat3[4]=this.mat3[4],l.mat3[5]=this.mat3[5],l.mat3[6]=this.mat3[6],l.mat3[7]=this.mat3[7],l.mat3[8]=this.mat3[8]):((l=new m.default.Matrix(this.p5)).mat4[0]=this.mat4[0],l.mat4[1]=this.mat4[1],l.mat4[2]=this.mat4[2],l.mat4[3]=this.mat4[3],l.mat4[4]=this.mat4[4],l.mat4[5]=this.mat4[5],l.mat4[6]=this.mat4[6],l.mat4[7]=this.mat4[7],l.mat4[8]=this.mat4[8],l.mat4[9]=this.mat4[9],l.mat4[10]=this.mat4[10],l.mat4[11]=this.mat4[11],l.mat4[12]=this.mat4[12],l.mat4[13]=this.mat4[13],l.mat4[14]=this.mat4[14],l.mat4[15]=this.mat4[15]),l}},{key:"transpose",value:function(l){var u,s,n,p,h,_;return l instanceof m.default.Matrix?(u=l.mat4[1],s=l.mat4[2],n=l.mat4[3],p=l.mat4[6],h=l.mat4[7],_=l.mat4[11],this.mat4[0]=l.mat4[0],this.mat4[1]=l.mat4[4],this.mat4[2]=l.mat4[8],this.mat4[3]=l.mat4[12],this.mat4[4]=u,this.mat4[5]=l.mat4[5],this.mat4[6]=l.mat4[9],this.mat4[7]=l.mat4[13],this.mat4[8]=s,this.mat4[9]=p,this.mat4[10]=l.mat4[10],this.mat4[11]=l.mat4[14],this.mat4[12]=n,this.mat4[13]=h,this.mat4[14]=_,this.mat4[15]=l.mat4[15]):d(l)&&(u=l[1],s=l[2],n=l[3],p=l[6],h=l[7],_=l[11],this.mat4[0]=l[0],this.mat4[1]=l[4],this.mat4[2]=l[8],this.mat4[3]=l[12],this.mat4[4]=u,this.mat4[5]=l[5],this.mat4[6]=l[9],this.mat4[7]=l[13],this.mat4[8]=s,this.mat4[9]=p,this.mat4[10]=l[10],this.mat4[11]=l[14],this.mat4[12]=n,this.mat4[13]=h,this.mat4[14]=_,this.mat4[15]=l[15]),this}},{key:"invert",value:function(B){B instanceof m.default.Matrix?(u=B.mat4[0],s=B.mat4[1],n=B.mat4[2],p=B.mat4[3],h=B.mat4[4],_=B.mat4[5],T=B.mat4[6],j=B.mat4[7],S=B.mat4[8],C=B.mat4[9],L=B.mat4[10],E=B.mat4[11],I=B.mat4[12],O=B.mat4[13],U=B.mat4[14],D=B.mat4[15]):d(B)&&(u=B[0],s=B[1],n=B[2],p=B[3],h=B[4],_=B[5],T=B[6],j=B[7],S=B[8],C=B[9],L=B[10],E=B[11],I=B[12],O=B[13],U=B[14],D=B[15]);var u,s,n,p,h,_,T,j,S,C,L,E,I,O,U,D,B=u*_-s*h,X=u*T-n*h,W=u*j-p*h,G=s*T-n*_,Z=s*j-p*_,Q=n*j-p*T,le=S*O-C*I,w=S*U-L*I,R=S*D-E*I,N=C*U-L*O,q=C*D-E*O,J=L*D-E*U,re=B*J-X*q+W*N+G*R-Z*w+Q*le;return re?(this.mat4[0]=(_*J-T*q+j*N)*(re=1/re),this.mat4[1]=(n*q-s*J-p*N)*re,this.mat4[2]=(O*Q-U*Z+D*G)*re,this.mat4[3]=(L*Z-C*Q-E*G)*re,this.mat4[4]=(T*R-h*J-j*w)*re,this.mat4[5]=(u*J-n*R+p*w)*re,this.mat4[6]=(U*W-I*Q-D*X)*re,this.mat4[7]=(S*Q-L*W+E*X)*re,this.mat4[8]=(h*q-_*R+j*le)*re,this.mat4[9]=(s*R-u*q-p*le)*re,this.mat4[10]=(I*Z-O*W+D*B)*re,this.mat4[11]=(C*W-S*Z-E*B)*re,this.mat4[12]=(_*w-h*N-T*le)*re,this.mat4[13]=(u*N-s*w+n*le)*re,this.mat4[14]=(O*X-I*G-U*B)*re,this.mat4[15]=(S*G-C*X+L*B)*re,this):null}},{key:"invert3x3",value:function(){var l=this.mat3[0],u=this.mat3[1],s=this.mat3[2],n=this.mat3[3],p=this.mat3[4],h=this.mat3[5],_=this.mat3[6],T=this.mat3[7],j=this.mat3[8],S=j*p-h*T,C=-j*n+h*_,L=T*n-p*_,E=l*S+u*C+s*L;return E?(this.mat3[0]=S*(E=1/E),this.mat3[1]=(-j*u+s*T)*E,this.mat3[2]=(h*u-s*p)*E,this.mat3[3]=C*E,this.mat3[4]=(j*l-s*_)*E,this.mat3[5]=(-h*l+s*n)*E,this.mat3[6]=L*E,this.mat3[7]=(-T*l+u*_)*E,this.mat3[8]=(p*l-u*n)*E,this):null}},{key:"transpose3x3",value:function(l){var u=(l=l===void 0?this.mat3:l)[1],s=l[2],n=l[5];return this.mat3[0]=l[0],this.mat3[1]=l[3],this.mat3[2]=l[6],this.mat3[3]=u,this.mat3[4]=l[4],this.mat3[5]=l[7],this.mat3[6]=s,this.mat3[7]=n,this.mat3[8]=l[8],this}},{key:"inverseTranspose",value:function(l){if(l=l.mat4,this.mat3===void 0?m.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=l[0],this.mat3[1]=l[1],this.mat3[2]=l[2],this.mat3[3]=l[4],this.mat3[4]=l[5],this.mat3[5]=l[6],this.mat3[6]=l[8],this.mat3[7]=l[9],this.mat3[8]=l[10]),l=this.invert3x3(),l)l.transpose3x3(this.mat3);else for(var u=0;u<9;u++)this.mat3[u]=0;return this}},{key:"determinant",value:function(){var l=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],u=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],s=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],n=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],p=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],h=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],_=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],T=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],j=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],S=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],C=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return l*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-u*C+s*S+n*j-p*T+h*_}},{key:"mult",value:function(s){var u;if(s===this||s===this.mat4)u=this.copy().mat4;else if(s instanceof m.default.Matrix)u=s.mat4;else if(d(s))u=s;else{if(arguments.length!==16)return;u=arguments}var s=this.mat4[0],n=this.mat4[1],p=this.mat4[2],h=this.mat4[3];return this.mat4[0]=s*u[0]+n*u[4]+p*u[8]+h*u[12],this.mat4[1]=s*u[1]+n*u[5]+p*u[9]+h*u[13],this.mat4[2]=s*u[2]+n*u[6]+p*u[10]+h*u[14],this.mat4[3]=s*u[3]+n*u[7]+p*u[11]+h*u[15],s=this.mat4[4],n=this.mat4[5],p=this.mat4[6],h=this.mat4[7],this.mat4[4]=s*u[0]+n*u[4]+p*u[8]+h*u[12],this.mat4[5]=s*u[1]+n*u[5]+p*u[9]+h*u[13],this.mat4[6]=s*u[2]+n*u[6]+p*u[10]+h*u[14],this.mat4[7]=s*u[3]+n*u[7]+p*u[11]+h*u[15],s=this.mat4[8],n=this.mat4[9],p=this.mat4[10],h=this.mat4[11],this.mat4[8]=s*u[0]+n*u[4]+p*u[8]+h*u[12],this.mat4[9]=s*u[1]+n*u[5]+p*u[9]+h*u[13],this.mat4[10]=s*u[2]+n*u[6]+p*u[10]+h*u[14],this.mat4[11]=s*u[3]+n*u[7]+p*u[11]+h*u[15],s=this.mat4[12],n=this.mat4[13],p=this.mat4[14],h=this.mat4[15],this.mat4[12]=s*u[0]+n*u[4]+p*u[8]+h*u[12],this.mat4[13]=s*u[1]+n*u[5]+p*u[9]+h*u[13],this.mat4[14]=s*u[2]+n*u[6]+p*u[10]+h*u[14],this.mat4[15]=s*u[3]+n*u[7]+p*u[11]+h*u[15],this}},{key:"apply",value:function(s){var u;if(s===this||s===this.mat4)u=this.copy().mat4;else if(s instanceof m.default.Matrix)u=s.mat4;else if(d(s))u=s;else{if(arguments.length!==16)return;u=arguments}var s=this.mat4,n=s[0],p=s[4],h=s[8],_=s[12],n=(s[0]=u[0]*n+u[1]*p+u[2]*h+u[3]*_,s[4]=u[4]*n+u[5]*p+u[6]*h+u[7]*_,s[8]=u[8]*n+u[9]*p+u[10]*h+u[11]*_,s[12]=u[12]*n+u[13]*p+u[14]*h+u[15]*_,s[1]),p=s[5],h=s[9],_=s[13],n=(s[1]=u[0]*n+u[1]*p+u[2]*h+u[3]*_,s[5]=u[4]*n+u[5]*p+u[6]*h+u[7]*_,s[9]=u[8]*n+u[9]*p+u[10]*h+u[11]*_,s[13]=u[12]*n+u[13]*p+u[14]*h+u[15]*_,s[2]),p=s[6],h=s[10],_=s[14],n=(s[2]=u[0]*n+u[1]*p+u[2]*h+u[3]*_,s[6]=u[4]*n+u[5]*p+u[6]*h+u[7]*_,s[10]=u[8]*n+u[9]*p+u[10]*h+u[11]*_,s[14]=u[12]*n+u[13]*p+u[14]*h+u[15]*_,s[3]),p=s[7],h=s[11],_=s[15];return s[3]=u[0]*n+u[1]*p+u[2]*h+u[3]*_,s[7]=u[4]*n+u[5]*p+u[6]*h+u[7]*_,s[11]=u[8]*n+u[9]*p+u[10]*h+u[11]*_,s[15]=u[12]*n+u[13]*p+u[14]*h+u[15]*_,this}},{key:"scale",value:function(l,u,s){return l instanceof m.default.Vector?(u=l.y,s=l.z,l=l.x):l instanceof Array&&(u=l[1],s=l[2],l=l[0]),this.mat4[0]*=l,this.mat4[1]*=l,this.mat4[2]*=l,this.mat4[3]*=l,this.mat4[4]*=u,this.mat4[5]*=u,this.mat4[6]*=u,this.mat4[7]*=u,this.mat4[8]*=s,this.mat4[9]*=s,this.mat4[10]*=s,this.mat4[11]*=s,this}},{key:"rotate",value:function(B,q,N,n){q instanceof m.default.Vector?(N=q.y,n=q.z,q=q.x):q instanceof Array&&(N=q[1],n=q[2],q=q[0]);var p=Math.sqrt(q*q+N*N+n*n),p=(q*=1/p,N*=1/p,n*=1/p,this.mat4[0]),h=this.mat4[1],_=this.mat4[2],T=this.mat4[3],j=this.mat4[4],S=this.mat4[5],C=this.mat4[6],L=this.mat4[7],E=this.mat4[8],I=this.mat4[9],O=this.mat4[10],U=this.mat4[11],D=Math.sin(B),B=Math.cos(B),X=1-B,W=q*q*X+B,G=N*q*X+n*D,Z=n*q*X-N*D,Q=q*N*X-n*D,le=N*N*X+B,w=n*N*X+q*D,R=q*n*X+N*D,N=N*n*X-q*D,q=n*n*X+B;return this.mat4[0]=p*W+j*G+E*Z,this.mat4[1]=h*W+S*G+I*Z,this.mat4[2]=_*W+C*G+O*Z,this.mat4[3]=T*W+L*G+U*Z,this.mat4[4]=p*Q+j*le+E*w,this.mat4[5]=h*Q+S*le+I*w,this.mat4[6]=_*Q+C*le+O*w,this.mat4[7]=T*Q+L*le+U*w,this.mat4[8]=p*R+j*N+E*q,this.mat4[9]=h*R+S*N+I*q,this.mat4[10]=_*R+C*N+O*q,this.mat4[11]=T*R+L*N+U*q,this}},{key:"translate",value:function(n){var u=n[0],s=n[1],n=n[2]||0;this.mat4[12]+=this.mat4[0]*u+this.mat4[4]*s+this.mat4[8]*n,this.mat4[13]+=this.mat4[1]*u+this.mat4[5]*s+this.mat4[9]*n,this.mat4[14]+=this.mat4[2]*u+this.mat4[6]*s+this.mat4[10]*n,this.mat4[15]+=this.mat4[3]*u+this.mat4[7]*s+this.mat4[11]*n}},{key:"rotateX",value:function(l){this.rotate(l,1,0,0)}},{key:"rotateY",value:function(l){this.rotate(l,0,1,0)}},{key:"rotateZ",value:function(l){this.rotate(l,0,0,1)}},{key:"perspective",value:function(p,u,s,n){var p=1/Math.tan(p/2),h=1/(s-n);return this.mat4[0]=p/u,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(n+s)*h,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*n*s*h,this.mat4[15]=0,this}},{key:"ortho",value:function(l,u,s,n,p,h){var _=1/(l-u),T=1/(s-n),j=1/(p-h);return this.mat4[0]=-2*_,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*T,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*j,this.mat4[11]=0,this.mat4[12]=(l+u)*_,this.mat4[13]=(n+s)*T,this.mat4[14]=(h+p)*j,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(l,u,s,n){var p=new Array(4),h=this.mat4;return p[0]=h[0]*l+h[4]*u+h[8]*s+h[12]*n,p[1]=h[1]*l+h[5]*u+h[9]*s+h[13]*n,p[2]=h[2]*l+h[6]*u+h[10]*s+h[14]*n,p[3]=h[3]*l+h[7]*u+h[11]*s+h[15]*n,p}},{key:"multiplyPoint",value:function(s){var n=s.x,u=s.y,s=s.z,n=this.multiplyVec4(n,u,s,1);return new m.default.Vector(n[0],n[1],n[2])}},{key:"multiplyAndNormalizePoint",value:function(s){var n=s.x,u=s.y,s=s.z,n=this.multiplyVec4(n,u,s,1);return n[0]/=n[3],n[1]/=n[3],n[2]/=n[3],new m.default.Vector(n[0],n[1],n[2])}},{key:"multiplyDirection",value:function(s){var n=s.x,u=s.y,s=s.z,n=this.multiplyVec4(n,u,s,0);return new m.default.Vector(n[0],n[1],n[2])}},{key:"mult3x3",value:function(s){var u;if(s===this||s===this.mat3)u=this.copy().mat3;else if(s instanceof m.default.Matrix)u=s.mat3;else if(d(s))u=s;else{if(arguments.length!==9)return;u=arguments}var s=this.mat3[0],n=this.mat3[1],p=this.mat3[2];return this.mat3[0]=s*u[0]+n*u[3]+p*u[6],this.mat3[1]=s*u[1]+n*u[4]+p*u[7],this.mat3[2]=s*u[2]+n*u[5]+p*u[8],s=this.mat3[3],n=this.mat3[4],p=this.mat3[5],this.mat3[3]=s*u[0]+n*u[3]+p*u[6],this.mat3[4]=s*u[1]+n*u[4]+p*u[7],this.mat3[5]=s*u[2]+n*u[5]+p*u[8],s=this.mat3[6],n=this.mat3[7],p=this.mat3[8],this.mat3[6]=s*u[0]+n*u[3]+p*u[6],this.mat3[7]=s*u[1]+n*u[4]+p*u[7],this.mat3[8]=s*u[2]+n*u[5]+p*u[8],this}},{key:"column",value:function(l){return new m.default.Vector(this.mat3[3*l],this.mat3[3*l+1],this.mat3[3*l+2])}},{key:"row",value:function(l){return new m.default.Vector(this.mat3[l],this.mat3[l+3],this.mat3[l+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(l,u){return(u=u===void 0?l.copy():u).x=this.row(0).dot(l),u.y=this.row(1).dot(l),u.z=this.row(2).dot(l),u}},{key:"createSubMatrix3x3",value:function(){var l=new m.default.Matrix("mat3");return l.mat3[0]=this.mat4[0],l.mat3[1]=this.mat4[1],l.mat3[2]=this.mat4[2],l.mat3[3]=this.mat4[4],l.mat3[4]=this.mat4[5],l.mat3[5]=this.mat4[6],l.mat3[6]=this.mat4[8],l.mat3[7]=this.mat4[9],l.mat3[8]=this.mat4[10],l}}])&&g(r.prototype,o),i&&g(r,i),y})(),m.default.Matrix);A.default=b},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,H,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(c,d){for(var b=0;b<d.length;b++){var y=d[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}m.default.Quat=(function(){function c(r,o,i,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.w=r,this.vec=new m.default.Vector(o,i,l)}var d,b,y;return d=c,y=[{key:"fromAxisAngle",value:function(r,s,i,l){var u=Math.cos(r/2),s=new m.default.Vector(s,i,l).normalize().mult(Math.sin(r/2));return new m.default.Quat(u,s.x,s.y,s.z)}}],(b=[{key:"conjugate",value:function(){return new m.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(r){return new m.default.Quat(this.w*r.w-this.vec.x*r.vec.x-this.vec.y*r.vec.y-this.vec.z-r.vec.z,this.w*r.vec.x+this.vec.x*r.w+this.vec.y*r.vec.z-this.vec.z*r.vec.y,this.w*r.vec.y-this.vec.x*r.vec.z+this.vec.y*r.w+this.vec.z*r.vec.x,this.w*r.vec.z+this.vec.x*r.vec.y-this.vec.y*r.vec.x+this.vec.z*r.w)}},{key:"rotateVector",value:function(r){return new m.default.Vector.mult(r,this.w*this.w-this.vec.dot(this.vec)).add(m.default.Vector.mult(this.vec,2*r.dot(this.vec))).add(m.default.Vector.mult(this.vec,2*this.w).cross(r)).clampToZero()}},{key:"rotateBy",value:function(r){return r.multiply(this).multiply(r.conjugate()).vec.clampToZero()}}])&&g(d.prototype,b),y&&g(d,y),c})(),t=m.default.Quat,A.default=t},{"../core/main":283}],338:[function(t,H,A){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function m(g,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}t.default.RenderBuffer=(function(){function g(b,y,r,o,i,l){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.size=b,this.src=y,this.dst=r,this.attr=o,this._renderer=i,this.map=l}var c,d;return c=g,(d=[{key:"_prepareBuffer",value:function(b,y){var r,o,i,s=y.attributes,l=this._renderer.GL,u=b.model||b,s=s[this.attr];s&&(r=b[this.dst],0<(o=u[this.src]).length?((i=!r)&&(b[this.dst]=r=l.createBuffer()),l.bindBuffer(l.ARRAY_BUFFER,r),!i&&u.dirtyFlags[this.src]===!1||(i=(b=this.map)?b(o):o,this._renderer._bindBuffer(r,l.ARRAY_BUFFER,i),u.dirtyFlags[this.src]=!1),y.enableAttrib(s,this.size)):(b=s.location)!==-1&&this._renderer.registerEnabled.has(b)&&(l.disableVertexAttribArray(b),this._renderer.registerEnabled.delete(b)))}}])&&m(c.prototype,d),g})(),t=t.default.RenderBuffer,A.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,H,A){function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function g(i){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(l){return m(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":m(l)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(o=t("../core/main"))&&o.__esModule?o:{default:o},d=(function(i){if(i&&i.__esModule)return i;if(i===null||g(i)!=="object"&&typeof i!="function")return{default:i};var l=b();if(l&&l.has(i))return l.get(i);var u,s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var p;Object.prototype.hasOwnProperty.call(i,u)&&((p=n?Object.getOwnPropertyDescriptor(i,u):null)&&(p.get||p.set)?Object.defineProperty(s,u,p):s[u]=i[u])}return s.default=i,l&&l.set(i,s),s})(t("../core/constants"));function b(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,b=function(){return i},i)}function y(i){return(function(l){if(Array.isArray(l)){for(var u=0,s=new Array(l.length);u<l.length;u++)s[u]=l[u];return s}})(i)||(function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)})(i)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}t("./p5.RenderBuffer"),c.default.RendererGL.prototype.beginShape=function(i){return this.immediateMode.shapeMode=i!==void 0?i:d.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var r={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},o=(c.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==d.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},c.default.RendererGL.prototype.vertex=function(i,l){if(this.immediateMode.shapeMode===d.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var u in r){var s=r[u],u=this.immediateMode.geometry[u];u.push.apply(u,y(u.slice(u.length-3*s,u.length-2*s)).concat(y(u.slice(u.length-s,u.length))))}var n,p,h=n=p=0,_=(arguments.length===3?h=arguments[2]:arguments.length===4?(n=arguments[2],p=arguments[3]):arguments.length===5&&(h=arguments[2],n=arguments[3],p=arguments[4]),new c.default.Vector(i,l,h)),_=(this.immediateMode.geometry.vertices.push(_),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),_=(this.immediateMode.geometry.vertexColors.push(_[0],_[1],_[2],_[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(_[0],_[1],_[2],_[3]),this.textureMode!==d.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(n/=this._tex.width,p/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(n,p),this.immediateMode._bezierVertex[0]=i,this.immediateMode._bezierVertex[1]=l,this.immediateMode._bezierVertex[2]=h,this.immediateMode._quadraticVertex[0]=i,this.immediateMode._quadraticVertex[1]=l,this.immediateMode._quadraticVertex[2]=h,this},c.default.RendererGL.prototype.normal=function(i,l,u){return i instanceof c.default.Vector?this._currentNormal=i:this._currentNormal=new c.default.Vector(i,l,u),this},c.default.RendererGL.prototype.endShape=function(i,l,u,s,n,p){var h,_=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===d.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===d.TESS&&(this.immediateMode.shapeMode=d.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),h=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==d.LINE_STRIP&&this.immediateMode.shapeMode!==d.LINES||(this.immediateMode.shapeMode=d.TRIANGLE_FAN,h=!0),this.immediateMode.shapeMode===d.QUADS?this.immediateMode.shapeMode=d.TRIANGLES:this.immediateMode.shapeMode===d.QUAD_STRIP&&(this.immediateMode.shapeMode=d.TRIANGLE_STRIP),this._doFill&&!h&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(_),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},c.default.RendererGL.prototype._processVertices=function(i){var l;this.immediateMode.geometry.vertices.length!==0&&(l=this._doStroke,i=i===d.CLOSE,l&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,i),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),l=this.immediateMode.shapeMode===d.TESS,i=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||l||i)&&this.immediateMode.shapeMode!==d.LINES&&this._tesselateShape())},c.default.RendererGL.prototype._calculateEdges=function(i,l,u){var s=[],n=0,p=this.immediateMode.contourIndices.slice(),h=0;switch(i){case d.TRIANGLE_STRIP:for(n=0;n<l.length-2;n++)s.push([n,n+1]),s.push([n,n+2]);s.push([n,n+1]);break;case d.TRIANGLE_FAN:for(n=1;n<l.length-1;n++)s.push([0,n]),s.push([n,n+1]);s.push([0,l.length-1]);break;case d.TRIANGLES:for(n=0;n<l.length-2;n+=3)s.push([n,n+1]),s.push([n+1,n+2]),s.push([n+2,n]);break;case d.LINES:for(n=0;n<l.length-1;n+=2)s.push([n,n+1]);break;case d.QUADS:for(n=0;n<l.length-5;n+=6)s.push([n,n+1]),s.push([n+1,n+2]),s.push([n+3,n+5]),s.push([n+4,n+5]);break;case d.QUAD_STRIP:for(n=0;n<l.length-2;n+=2)s.push([n,n+1]),s.push([n,n+2]),s.push([n+1,n+3]);s.push([n,n+1]);break;default:for(n=0;n<l.length;n++)n+1<l.length&&n+1!==p[0]?s.push([n,n+1]):((u||h)&&s.push([n,h]),0<p.length&&(h=p.shift()))}return i!==d.TESS&&u&&s.push([l.length-1,0]),s},c.default.RendererGL.prototype._tesselateShape=function(){for(var i=this,l=(this.immediateMode.shapeMode=d.TRIANGLES,[[]]),u=0;u<this.immediateMode.geometry.vertices.length;u++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===u&&(this.immediateMode.contourIndices.shift(),l.push([])),l[l.length-1].push(this.immediateMode.geometry.vertices[u].x,this.immediateMode.geometry.vertices[u].y,this.immediateMode.geometry.vertices[u].z,this.immediateMode.geometry.uvs[2*u],this.immediateMode.geometry.uvs[2*u+1],this.immediateMode.geometry.vertexColors[4*u],this.immediateMode.geometry.vertexColors[4*u+1],this.immediateMode.geometry.vertexColors[4*u+2],this.immediateMode.geometry.vertexColors[4*u+3],this.immediateMode.geometry.vertexNormals[u].x,this.immediateMode.geometry.vertexNormals[u].y,this.immediateMode.geometry.vertexNormals[u].z);for(var s,n=this._triangulate(l),p=this.immediateMode.geometry.vertices,h=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),_=0,T=n.length;_<T;_+=c.default.RendererGL.prototype.tessyVertexSize)h.push.apply(h,y(n.slice(_+5,_+9))),this.normal.apply(this,y(n.slice(_+9,_+12))),this.vertex.apply(this,y(n.slice(_,_+5)));this.geometryBuilder&&(s=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(j){return j.map(function(S){if(!s.has(S)){var C=p[S],L=i.immediateMode.geometry.vertices.findIndex(function(X){return C.x===X.x&&C.y===X.y&&C.z===X.z});if(L===-1){for(var E=1/0,I=0,O=0;O<i.immediateMode.geometry.vertices.length;O++){var D=i.immediateMode.geometry.vertices[O],B=C.x-D.x,U=C.y-D.y,D=C.z-D.z,B=B*B+U*U+D*D;B<E&&(E=B,I=O)}L=I}s.set(S,L)}return s.get(S)})})),this.immediateMode.geometry.vertexColors=h},c.default.RendererGL.prototype._drawImmediateFill=function(){var i,l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,u=this.GL,s=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,i=this._getImmediateFillShader(),this._setFillUniforms(i),!0),n=!1,p=void 0;try{for(var h,_=this.immediateMode.buffers.fill[Symbol.iterator]();!(s=(h=_.next()).done);s=!0)h.value._prepareBuffer(this.immediateMode.geometry,i)}catch(T){n=!0,p=T}finally{try{s||_.return==null||_.return()}finally{if(n)throw p}}if(i.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),l===1)u.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{u.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,l)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}i.unbindShader()},c.default.RendererGL.prototype._drawImmediateStroke=function(){var i=this.GL,l=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),u=(this._setStrokeUniforms(l),!0),s=!1,n=void 0;try{for(var p,h=this.immediateMode.buffers.stroke[Symbol.iterator]();!(u=(p=h.next()).done);u=!0)p.value._prepareBuffer(this.immediateMode.geometry,l)}catch(_){s=!0,n=_}finally{try{u||h.return==null||h.return()}finally{if(s)throw n}}l.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),i.drawArrays(i.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),l.unbindShader()},c.default.RendererGL);A.default=o},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,H,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(o){return m(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":m(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var o=b();if(o&&o.has(r))return o.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var s;Object.prototype.hasOwnProperty.call(r,i)&&((s=u?Object.getOwnPropertyDescriptor(r,i):null)&&(s.get||s.set)?Object.defineProperty(l,i,s):l[i]=r[i])}return l.default=r,o&&o.set(r,l),l})(t("../core/constants")));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}c.default.RendererGL.prototype.freeGeometry=function(r){r.gid?this._freeBuffers(r.gid):console.warn("The model you passed to freeGeometry does not have an id!")},c.default.RendererGL.prototype._initBufferDefaults=function(r){var o;return this._freeBuffers(r),1e3<Object.keys(this.retainedMode.geometry).length&&(o=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(o)),this.retainedMode.geometry[r]={}},c.default.RendererGL.prototype._freeBuffers=function(r){var o,i=this.retainedMode.geometry[r];function l(u){var s=!0,n=!1,p=void 0;try{for(var h,_=u[Symbol.iterator]();!(s=(h=_.next()).done);s=!0){var T=h.value;i[T.dst]&&(o.deleteBuffer(i[T.dst]),i[T.dst]=null)}}catch(j){n=!0,p=j}finally{try{s||_.return==null||_.return()}finally{if(n)throw p}}}i&&(delete this.retainedMode.geometry[r],o=this.GL,i.indexBuffer&&o.deleteBuffer(i.indexBuffer),l(this.retainedMode.buffers.stroke),l(this.retainedMode.buffers.fill))},c.default.RendererGL.prototype.createBuffers=function(n,o){var i,l,u,s=this.GL,n=this._initBufferDefaults(n),p=(n.model=o,n.indexBuffer);return o.faces.length?(p=p||(n.indexBuffer=s.createBuffer()),u=(l=(i=c.default.RendererGL.prototype._flatten(o.faces)).some(function(h){return 65535<h}))?Uint32Array:Uint16Array,this._bindBuffer(p,s.ELEMENT_ARRAY_BUFFER,i,u),n.indexBufferType=l?s.UNSIGNED_INT:s.UNSIGNED_SHORT,n.vertexCount=3*o.faces.length):(p&&(s.deleteBuffer(p),n.indexBuffer=null),n.vertexCount=o.vertices?o.vertices.length:0),n.lineVertexCount=o.lineVertices?o.lineVertices.length/3:0,n},c.default.RendererGL.prototype.drawBuffers=function(r){var o=this.GL,i=this.retainedMode.geometry[r];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[r].vertexCount){this._useVertexColor=0<i.model.vertexColors.length;var l=this._getRetainedFillShader(),u=(this._setFillUniforms(l),!0),s=!1,n=void 0;try{for(var p,h=this.retainedMode.buffers.fill[Symbol.iterator]();!(u=(p=h.next()).done);u=!0)p.value._prepareBuffer(i,l)}catch(C){s=!0,n=C}finally{try{u||h.return==null||h.return()}finally{if(s)throw n}}l.disableRemainingAttributes(),i.indexBuffer&&this._bindBuffer(i.indexBuffer,o.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,i.model.hasFillTransparency()),this._drawElements(o.TRIANGLES,r),l.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<i.lineVertexCount){this._useLineColor=0<i.model.vertexStrokeColors.length;var _=this._getRetainedStrokeShader(),T=(this._setStrokeUniforms(_),!0),s=!1,n=void 0;try{for(var j,S=this.retainedMode.buffers.stroke[Symbol.iterator]();!(T=(j=S.next()).done);T=!0)j.value._prepareBuffer(i,_)}catch(E){s=!0,n=E}finally{try{T||S.return==null||S.return()}finally{if(s)throw n}}_.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,i.model.hasStrokeTransparency()),this._drawArrays(o.TRIANGLES,r),_.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(i),this},c.default.RendererGL.prototype.drawBuffersScaled=function(r,o,i,l){var u=this.uModelMatrix.copy();try{this.uModelMatrix.scale(o,i,l),this.drawBuffers(r)}finally{this.uModelMatrix=u}},c.default.RendererGL.prototype._drawArrays=function(r,o){return this.GL.drawArrays(r,0,this.retainedMode.geometry[o].lineVertexCount),this},c.default.RendererGL.prototype._drawElements=function(r,i){var i=this.retainedMode.geometry[i],l=this.GL;if(i.indexBuffer){if(this._pInst.webglVersion!==d.WEBGL2&&i.indexBufferType===l.UNSIGNED_INT&&!l.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");l.drawElements(l.TRIANGLES,i.vertexCount,i.indexBufferType,0)}else l.drawArrays(r||l.TRIANGLES,0,i.vertexCount)},c.default.RendererGL.prototype._drawPoints=function(r,o){var i=this.GL,l=this._getImmediatePointShader();this._setPointUniforms(l),this._bindBuffer(o,i.ARRAY_BUFFER,this._vToNArray(r),Float32Array,i.STATIC_DRAW),l.enableAttrib(l.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),i.drawArrays(i.Points,0,r.length),l.unbindShader()};var y=c.default.RendererGL;A.default=y},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(O,H,A){function m(G){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(G)}function g(G){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(Z){return m(Z)}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":m(Z)})(G)}O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.get-own-property-descriptor"),O("core-js/modules/es.object.get-prototype-of"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.reflect.construct"),O("core-js/modules/es.reflect.get"),O("core-js/modules/es.regexp.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/es.weak-map"),O("core-js/modules/web.dom-collections.iterator"),O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.readPixelsWebGL=X,A.readPixelWebGL=W,A.default=void 0;var c=i(O("../core/main")),d=(function(G){if(G&&G.__esModule)return G;if(G===null||g(G)!=="object"&&typeof G!="function")return{default:G};var Z=o();if(Z&&Z.has(G))return Z.get(G);var Q,le={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Q in G){var R;Object.prototype.hasOwnProperty.call(G,Q)&&((R=w?Object.getOwnPropertyDescriptor(G,Q):null)&&(R.get||R.set)?Object.defineProperty(le,Q,R):le[Q]=G[Q])}return le.default=G,Z&&Z.set(G,le),le})(O("../core/constants")),b=i(O("./GeometryBuilder")),y=i(O("libtess")),r=(O("./p5.Shader"),O("./p5.Camera"),O("../core/p5.Renderer"),O("./p5.Matrix"),O("./p5.Framebuffer"),O("path"),O("./p5.Texture"));function o(){var G;return typeof WeakMap!="function"?null:(G=new WeakMap,o=function(){return G},G)}function i(G){return G&&G.__esModule?G:{default:G}}function l(G){return(function(Z){if(Array.isArray(Z)){for(var Q=0,le=new Array(Z.length);Q<Z.length;Q++)le[Q]=Z[Q];return le}})(G)||(function(Z){if(Symbol.iterator in Object(Z)||Object.prototype.toString.call(Z)==="[object Arguments]")return Array.from(Z)})(G)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function u(G,Z){for(var Q=0;Q<Z.length;Q++){var le=Z[Q];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(G,le.key,le)}}function s(G,Z,Q){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(N,w,R){var N=(function(q,J){for(;!Object.prototype.hasOwnProperty.call(q,J)&&(q=_(q))!==null;);return q})(N,w);if(N)return(N=Object.getOwnPropertyDescriptor(N,w)).get?N.get.call(R):N.value})(G,Z,Q||G)}function n(G,Z){return(n=Object.setPrototypeOf||function(Q,le){return Q.__proto__=le,Q})(G,Z)}function p(G){return function(){var Z,Q,le=_(G);return Z=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(Z=_(this).constructor,Reflect.construct(le,arguments,Z)):le.apply(this,arguments),le=this,!(Q=Z)||g(Q)!=="object"&&typeof Q!="function"?h(le):Q}}function h(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function _(G){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)})(G)}function T(G,Z,Q){Z in G?Object.defineProperty(G,Z,{value:Q,enumerable:!0,configurable:!0,writable:!0}):G[Z]=Q}function j(G,Z){I+="#define STROKE_CAP_".concat(G," ").concat(Z,`
`),L[d[G]]=Z}function S(G,Z){I+="#define STROKE_JOIN_".concat(G," ").concat(Z,`
`),E[d[G]]=Z}var C,L={},E={},I="",O=(j("ROUND",0),j("PROJECT",1),j("SQUARE",2),S("ROUND",0),S("MITER",1),S("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 separate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),U={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:O+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:O+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:I+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision highp int;
precision highp float;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(0., -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:I+`precision highp int;
precision highp float;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},D=U.sphereMappingFrag;for(C in U)U[C]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+U[C];T(O={},d.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),T(O,d.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),T(O,d.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),T(O,d.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),T(O,d.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),T(O,d.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),T(O,d.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),T(O,d.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var B=O;function X(G,Z,ge,le,w,R,N,q,J,re){var ce=Z.getParameter(Z.FRAMEBUFFER_BINDING),ge=(Z.bindFramebuffer(Z.FRAMEBUFFER,ge),q===Z.RGBA?4:3),se=R*N*ge,pe=J===Z.UNSIGNED_BYTE?Uint8Array:Float32Array;if(G instanceof pe&&G.length===se||(G=new pe(se)),Z.readPixels(le,re?re-w-N:w,R,N,q,J,G),Z.bindFramebuffer(Z.FRAMEBUFFER,ce),re)for(var ye=Math.floor(N/2),te=new pe(R*ge),me=0;me<ye;me++){var we=me*R*4,Ee=(N-me-1)*R*4;te.set(G.subarray(we,we+4*R)),G.copyWithin(we,Ee,Ee+4*R),G.set(te,Ee)}return G}function W(G,J,Q,le,w,R,N){var q=G.getParameter(G.FRAMEBUFFER_BINDING),J=(G.bindFramebuffer(G.FRAMEBUFFER,J),w===G.RGBA?4:3),J=new(R===G.UNSIGNED_BYTE?Uint8Array:Float32Array)(J);return G.readPixels(Q,N?N-le-1:le,1,1,w,R,J),G.bindFramebuffer(G.FRAMEBUFFER,q),Array.from(J)}c.default.prototype.setAttributes=function(G,Z){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Q=!0;if(Z!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[G]!==Z&&(this._glAttributes[G]=Z,Q=!1)):G instanceof Object&&this._glAttributes!==G&&(this._glAttributes=G,Q=!1),this._renderer.isP3D&&!Q){if(!this._setupDone){for(var le in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(le))return void c.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},c.default.RendererGL=(function(G){var Z=le;if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(G&&G.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),G&&n(Z,G);var Q=p(le);function le(w,R,N,q){if(this instanceof le)return(w=Q.call(this,w,R,N))._setAttributeDefaults(R),w._initContext(),w.isP3D=!0,w.geometryBuilder=void 0,w.GL=w.drawingContext,w._pInst._setProperty("drawingContext",w.drawingContext),w._isErasing=!1,w._clipDepths=[],w._isClipApplied=!1,w._stencilTestOn=!1,w._enableLighting=!1,w.ambientLightColors=[],w.mixedAmbientLight=[],w.mixedSpecularColor=[],w.specularColors=[1,1,1],w.directionalLightDirections=[],w.directionalLightDiffuseColors=[],w.directionalLightSpecularColors=[],w.pointLightPositions=[],w.pointLightDiffuseColors=[],w.pointLightSpecularColors=[],w.spotLightPositions=[],w.spotLightDirections=[],w.spotLightDiffuseColors=[],w.spotLightSpecularColors=[],w.spotLightAngle=[],w.spotLightConc=[],w.activeImageLight=null,w.diffusedTextures=new Map,w.specularTextures=new Map,w.drawMode=d.FILL,w.curFillColor=w._cachedFillStyle=[1,1,1,1],w.curAmbientColor=w._cachedFillStyle=[1,1,1,1],w.curSpecularColor=w._cachedFillStyle=[0,0,0,0],w.curEmissiveColor=w._cachedFillStyle=[0,0,0,0],w.curStrokeColor=w._cachedStrokeStyle=[0,0,0,1],w.curBlendMode=d.BLEND,w.preEraseBlend=void 0,w._cachedBlendMode=void 0,w.webglVersion===d.WEBGL2?w.blendExt=w.GL:w.blendExt=w.GL.getExtension("EXT_blend_minmax"),w._isBlending=!1,w._hasSetAmbient=!1,w._useSpecularMaterial=!1,w._useEmissiveMaterial=!1,w._useNormalMaterial=!1,w._useShininess=1,w._useMetalness=0,w._useLineColor=!1,w._useVertexColor=!1,w.registerEnabled=new Set,w._tint=[255,255,255,255],w.constantAttenuation=1,w.linearAttenuation=0,w.quadraticAttenuation=0,w.uModelMatrix=new c.default.Matrix,w.uViewMatrix=new c.default.Matrix,w.uMVMatrix=new c.default.Matrix,w.uPMatrix=new c.default.Matrix,w.uNMatrix=new c.default.Matrix("mat3"),w.curMatrix=new c.default.Matrix("mat3"),w._currentNormal=new c.default.Vector(0,0,1),w._curCamera=new c.default.Camera(h(w)),w._curCamera._computeCameraDefaultSettings(),w._curCamera._setDefaultCamera(),w.filterCamera=new c.default.Camera(h(w)),w.filterCamera._computeCameraDefaultSettings(),w.filterCamera._setDefaultCamera(),w.prevTouches=[],w.zoomVelocity=0,w.rotateVelocity=new c.default.Vector(0,0),w.moveVelocity=new c.default.Vector(0,0),w.executeZoom=!1,w.executeRotateAndMove=!1,w.specularShader=void 0,w.sphereMapping=void 0,w.diffusedShader=void 0,w._defaultLightShader=void 0,w._defaultImmediateModeShader=void 0,w._defaultNormalShader=void 0,w._defaultColorShader=void 0,w._defaultPointShader=void 0,w.userFillShader=void 0,w.userStrokeShader=void 0,w.userPointShader=void 0,w.retainedMode={geometry:{},buffers:{stroke:[new c.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",h(w)),new c.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",h(w)),new c.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",h(w)),new c.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",h(w)),new c.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",h(w))],fill:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",h(w),w._vToNArray),new c.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",h(w),w._vToNArray),new c.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",h(w)),new c.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",h(w)),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",h(w),w._flatten)],text:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",h(w),w._vToNArray),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",h(w),w._flatten)]}},w.immediateMode={geometry:new c.default.Geometry,shapeMode:d.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",h(w),w._vToNArray),new c.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",h(w),w._vToNArray),new c.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",h(w)),new c.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",h(w)),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",h(w),w._flatten)],stroke:[new c.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",h(w)),new c.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",h(w)),new c.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",h(w)),new c.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",h(w)),new c.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",h(w))],point:w.GL.createBuffer()}},w.pointSize=5,w.curStrokeWeight=1,w.curStrokeCap=d.ROUND,w.curStrokeJoin=d.ROUND,w.textures=new Map,w.framebuffers=new Set,w.activeFramebuffers=[],w.filterShader=void 0,w.filterLayer=void 0,w.filterLayerTemp=void 0,w.defaultFilterShaders={},w.textureMode=d.IMAGE,w.textureWrapX=d.CLAMP,w.textureWrapY=d.CLAMP,w._tex=null,w._curveTightness=6,w._lookUpTableBezier=[],w._lookUpTableQuadratic=[],w._lutBezierDetail=0,w._lutQuadraticDetail=0,w.isProcessingVertices=!1,w._tessy=w._initTessy(),w.fontInfos={},w._curShader=void 0,w;throw new TypeError("Cannot call a class as a function")}return Z=le,(G=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new b.default(this)}},{key:"endGeometry",value:function(){var w;if(this.geometryBuilder)return w=this.geometryBuilder.finish(),this.geometryBuilder=void 0,w;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(w){return this.beginGeometry(),w(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(w){var R={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};w._glAttributes===null?w._glAttributes=R:w._glAttributes=Object.assign(R,w._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?d.WEBGL2:d.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var w=this.drawingContext;w.enable(w.DEPTH_TEST),w.depthFunc(w.LEQUAL),w.viewport(0,0,w.drawingBufferWidth,w.drawingBufferHeight),w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var w=this.drawingContext;return w.getParameter(w.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(w,R){this._maxTextureSize||(this._maxTextureSize=this._getParam());var q=this._maxTextureSize,q=(c.default.prototype._maxAllowedPixelDimensions,Math.floor(q/this.pixelDensity())),N=Math.min(w,q),q=Math.min(R,q);return N===w&&q===R||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(N,", height: ").concat(q,".")),{adjustedWidth:N,adjustedHeight:q}}},{key:"_resetContext",value:function(w,R){var N,q=this.width,J=this.height,ce=this.canvas.id,re=this._pInst instanceof c.default.Graphics,ce=(re?((N=this._pInst).canvas.parentNode.removeChild(N.canvas),N.canvas=document.createElement("canvas"),(N._pInst._userNode||document.body).appendChild(N.canvas),c.default.Element.call(N,N.canvas,N._pInst),N.width=q,N.height=J):((N=this.canvas)&&N.parentNode.removeChild(N),(N=document.createElement("canvas")).id=ce,(this._pInst._userNode||document.body).appendChild(N),this._pInst.canvas=N,this.canvas=N),new c.default.RendererGL(this._pInst.canvas,this._pInst,!re));this._pInst._setProperty("_renderer",ce),ce.resize(q,J),ce._applyDefaults(),re||this._pInst._elements.push(ce),typeof R=="function"&&setTimeout(function(){R.apply(window._renderer,w)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var q=(q=this._pInst).color.apply(q,arguments),w=q.levels[0]/255,R=q.levels[1]/255,N=q.levels[2]/255,q=q.levels[3]/255;this.clear(w,R,N,q)}},{key:"fill",value:function(w,R,N,q){var J=c.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=J._array,this.drawMode=d.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(w,R,N,q){var J=c.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=J._array}},{key:"strokeCap",value:function(w){this.curStrokeCap=w}},{key:"strokeJoin",value:function(w){this.curStrokeJoin=w}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(w,R){w.width===R.width&&w.height===R.height||w.resize(R.width,R.height),w.pixelDensity()!==R.pixelDensity()&&w.pixelDensity(R.pixelDensity())}},{key:"filter",value:function(){var w,R,N=this,q=this.getFilterLayer(),J=void 0,re=void 0,ce=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(re=arguments.length<=0?void 0:arguments[0],T(w={},d.BLUR,3),T(w,d.POSTERIZE,4),T(w,d.THRESHOLD,.5),J=re in(w=w)&&(arguments.length<=1?void 0:arguments[1])===void 0?w[re]:arguments.length<=1?void 0:arguments[1],re in this.defaultFilterShaders||(this.defaultFilterShaders[re]=new c.default.Shader(q._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,B[re])),this.filterShader=this.defaultFilterShaders[re]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ge=(this.matchSize(q,ce),q.draw(function(){return N._pInst.clear()}),[1/(ce.width*ce.pixelDensity()),1/(ce.height*ce.pixelDensity())]);re===d.BLUR?(R=this.getFilterLayerTemp(),this.matchSize(R,ce),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(d.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ge),this.filterShader.setUniform("canvasSize",[ce.width,ce.height]),this.filterShader.setUniform("radius",Math.max(1,J)),R.draw(function(){N.filterShader.setUniform("direction",[1,0]),N.filterShader.setUniform("tex0",ce),N._pInst.clear(),N._pInst.shader(N.filterShader),N._pInst.noLights(),N._pInst.plane(ce.width,ce.height)}),q.draw(function(){N.filterShader.setUniform("direction",[0,1]),N.filterShader.setUniform("tex0",R),N._pInst.clear(),N._pInst.shader(N.filterShader),N._pInst.noLights(),N._pInst.plane(ce.width,ce.height)}),this._pInst.pop()):q.draw(function(){N._pInst.noStroke(),N._pInst.blendMode(d.BLEND),N._pInst.shader(N.filterShader),N.filterShader.setUniform("tex0",ce),N.filterShader.setUniform("texelSize",ge),N.filterShader.setUniform("canvasSize",[ce.width,ce.height]),N.filterShader.setUniform("filterParameter",J),N._pInst.noLights(),N._pInst.plane(ce.width,ce.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(d.CORNER),this._pInst.blendMode(d.BLEND),ce.filterCamera._resize(),this._pInst.setCamera(ce.filterCamera),this._pInst.resetMatrix(),this._pInst.image(q,-ce.width/2,-ce.height/2,ce.width,ce.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(w){return w?this._pInst.pixelDensity(w):this._pInst.pixelDensity()}},{key:"blendMode",value:function(w){w===d.DARKEST||w===d.LIGHTEST||w===d.ADD||w===d.BLEND||w===d.SUBTRACT||w===d.SCREEN||w===d.EXCLUSION||w===d.REPLACE||w===d.MULTIPLY||w===d.REMOVE?this.curBlendMode=w:w!==d.BURN&&w!==d.OVERLAY&&w!==d.HARD_LIGHT&&w!==d.SOFT_LIGHT&&w!==d.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(w,R){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(d.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,w/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,R/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},w=(s(_(le.prototype),"beginClip",this).call(this,w),this.drawTarget()._isClipApplied=!0,this.GL);w.clearStencil(0),w.clear(w.STENCIL_BUFFER_BIT),w.enable(w.STENCIL_TEST),this._stencilTestOn=!0,w.stencilFunc(w.ALWAYS,1,255),w.stencilOp(w.KEEP,w.KEEP,w.REPLACE),w.disable(w.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var w=this.GL;w.stencilOp(w.KEEP,w.KEEP,w.KEEP),w.stencilFunc(this._clipInvert?w.EQUAL:w.NOTEQUAL,0,255),w.enable(w.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),s(_(le.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(w){this.curStrokeWeight!==w&&(this.pointSize=w,this.curStrokeWeight=w)}},{key:"_getPixel",value:function(w,R){var N=this.GL;return W(N,null,w,R,N.RGBA,N.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var w,R,N=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(w=this._pInst._pixelDensity,R=this.GL,N._setProperty("pixels",X(N.pixels,R,null,0,0,this.width*w,this.height*w,R.RGBA,R.UNSIGNED_BYTE,this.height*w)))}},{key:"updatePixels",value:function(){var w=this._getTempFramebuffer();w.pixels=this._pixelsState.pixels,w.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(d.CENTER),this._pInst.image(w,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:d.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:d.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(w){return this.retainedMode.geometry[w]!==void 0}},{key:"viewport",value:function(w,R){this._viewport=[0,0,w,R],this.GL.viewport(0,0,w,R)}},{key:"resize",value:function(J,q){c.default.Renderer.prototype.resize.call(this,J,q),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var J=this._pixelsState,N=(J.pixels!==void 0&&J._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),q=!1,J=void 0;try{for(var re,ce=this.framebuffers[Symbol.iterator]();!(N=(re=ce.next()).done);N=!0)re.value._canvasSizeChanged()}catch(ge){q=!0,J=ge}finally{try{N||ce.return==null||ce.return()}finally{if(q)throw J}}}},{key:"clear",value:function(){var w=(arguments.length<=0?void 0:arguments[0])||0,R=(arguments.length<=1?void 0:arguments[1])||0,N=(arguments.length<=2?void 0:arguments[2])||0,q=(arguments.length<=3?void 0:arguments[3])||0,J=this.activeFramebuffer();J&&J.format===d.UNSIGNED_BYTE&&!J.antialias&&q===0&&(q=1e-10),this.GL.clearColor(w*q,R*q,N*q,q),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(w,R,N,q,J,re){arguments.length===16?c.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([w,R,0,0,N,q,0,0,0,0,1,0,J,re,0,1])}},{key:"translate",value:function(w,R,N){return w instanceof c.default.Vector&&(N=w.z,R=w.y,w=w.x),this.uModelMatrix.translate([w,R,N]),this}},{key:"scale",value:function(w,R,N){return this.uModelMatrix.scale(w,R,N),this}},{key:"rotate",value:function(w,R){return R===void 0?this.rotateZ(w):(c.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(w){return this.rotate(w,1,0,0),this}},{key:"rotateY",value:function(w){return this.rotate(w,0,1,0),this}},{key:"rotateZ",value:function(w){return this.rotate(w,0,0,1),this}},{key:"push",value:function(){var w=c.default.Renderer.prototype.push.apply(this),R=w.properties;return R.uModelMatrix=this.uModelMatrix.copy(),R.uViewMatrix=this.uViewMatrix.copy(),R.uPMatrix=this.uPMatrix.copy(),R._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),R.ambientLightColors=this.ambientLightColors.slice(),R.specularColors=this.specularColors.slice(),R.directionalLightDirections=this.directionalLightDirections.slice(),R.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),R.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),R.pointLightPositions=this.pointLightPositions.slice(),R.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),R.pointLightSpecularColors=this.pointLightSpecularColors.slice(),R.spotLightPositions=this.spotLightPositions.slice(),R.spotLightDirections=this.spotLightDirections.slice(),R.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),R.spotLightSpecularColors=this.spotLightSpecularColors.slice(),R.spotLightAngle=this.spotLightAngle.slice(),R.spotLightConc=this.spotLightConc.slice(),R.userFillShader=this.userFillShader,R.userStrokeShader=this.userStrokeShader,R.userPointShader=this.userPointShader,R.pointSize=this.pointSize,R.curStrokeWeight=this.curStrokeWeight,R.curStrokeColor=this.curStrokeColor,R.curFillColor=this.curFillColor,R.curAmbientColor=this.curAmbientColor,R.curSpecularColor=this.curSpecularColor,R.curEmissiveColor=this.curEmissiveColor,R._hasSetAmbient=this._hasSetAmbient,R._useSpecularMaterial=this._useSpecularMaterial,R._useEmissiveMaterial=this._useEmissiveMaterial,R._useShininess=this._useShininess,R._useMetalness=this._useMetalness,R.constantAttenuation=this.constantAttenuation,R.linearAttenuation=this.linearAttenuation,R.quadraticAttenuation=this.quadraticAttenuation,R._enableLighting=this._enableLighting,R._useNormalMaterial=this._useNormalMaterial,R._tex=this._tex,R.drawMode=this.drawMode,R._currentNormal=this._currentNormal,R.curBlendMode=this.curBlendMode,R.activeImageLight=this.activeImageLight,R.textureMode=this.textureMode,w}},{key:"pop",value:function(){var w;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var R=arguments.length,N=new Array(R),q=0;q<R;q++)N[q]=arguments[q];(w=s(_(le.prototype),"pop",this)).call.apply(w,[this].concat(N)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var w=this.drawTarget();w._isClipApplied!==this._stencilTestOn&&(w._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var w=this.userStrokeShader;return w&&w.isStrokeShader()?w:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(w){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(D)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",w),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var w=this.userFillShader;if(this._useNormalMaterial&&(!w||!w.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!w||!w.isLightShader())return this._getLightShader()}else if(this._tex){if(!w||!w.isTextureShader())return this._getLightShader()}else if(!w)return this._getImmediateModeShader();return w}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var w=this.userFillShader;if(this._enableLighting){if(!w||!w.isLightShader())return this._getLightShader()}else if(this._tex){if(!w||!w.isTextureShader())return this._getLightShader()}else if(!w)return this._getColorShader();return w}},{key:"_getImmediatePointShader",value:function(){var w=this.userPointShader;return w&&w.isPointShader()?w:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+U.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+U.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+U.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+U.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===d.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+U.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+U.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(w,R){var N="";return this.webglVersion===d.WEBGL2&&(N+=`#version 300 es
#define WEBGL2
`),w==="vert"?N+=`#define VERTEX_SHADER
`:w==="frag"&&(N+=`#define FRAGMENT_SHADER
`),R&&(N+="precision ".concat(R,` float;
`)),N}},{key:"_getEmptyTexture",value:function(){var w;return this._emptyTexture||((w=new c.default.Image(1,1)).set(0,0,255),this._emptyTexture=new c.default.Texture(this,w)),this._emptyTexture}},{key:"getTexture",value:function(w){w instanceof c.default.Framebuffer&&(w=w.color);var R=this.textures.get(w);return R||(R=new c.default.Texture(this,w),this.textures.set(w,R),R)}},{key:"getDiffusedTexture",value:function(w){var R,N,q=this;return this.diffusedTextures.get(w)!=null?this.diffusedTextures.get(w):(R=Math.floor(w.height/w.width*200),N=this._pInst.createFramebuffer({width:200,height:R,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(U.imageLightVert,U.imageLightDiffusedFrag)),N.draw(function(){q._pInst.shader(q.diffusedShader),q.diffusedShader.setUniform("environmentMap",w),q._pInst.noStroke(),q._pInst.rectMode(d.CENTER),q._pInst.noLights(),q._pInst.rect(0,0,200,R)}),this.diffusedTextures.set(w,N),N)}},{key:"getSpecularTexture",value:function(w){var R=this;if(this.specularTextures.get(w)!=null)return this.specularTextures.get(w);for(var N,q=[],J=this._pInst.createFramebuffer({width:512,height:512,density:1}),re=Math.log(512)/Math.log(2),ce=(this.specularShader||(this.specularShader=this._pInst.createShader(U.imageLightVert,U.imageLightSpecularFrag)),512);1<=ce;ce/=2)(function(ge){J.resize(ge,ge);var se=1-Math.log(ge)/Math.log(2)/re;J.draw(function(){R._pInst.shader(R.specularShader),R._pInst.clear(),R.specularShader.setUniform("environmentMap",w),R.specularShader.setUniform("roughness",se),R._pInst.noStroke(),R._pInst.noLights(),R._pInst.plane(ge,ge)}),q.push(J.get().drawingContext.getImageData(0,0,ge,ge))})(ce);return J.remove(),N=new r.MipmapTexture(this,q,{}),this.specularTextures.set(w,N),N}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(w){return new c.default.Framebuffer(this,w)}},{key:"_setStrokeUniforms",value:function(w){w.bindShader(),w.setUniform("uUseLineColor",this._useLineColor),w.setUniform("uMaterialColor",this.curStrokeColor),w.setUniform("uStrokeWeight",this.curStrokeWeight),w.setUniform("uStrokeCap",L[this.curStrokeCap]),w.setUniform("uStrokeJoin",E[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(w){var R=this,N=(w.bindShader(),this.mixedSpecularColor=l(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(q,J){return R.curFillColor[J]*R._useMetalness+q*(1-R._useMetalness)})),w.setUniform("uUseVertexColor",this._useVertexColor),w.setUniform("uMaterialColor",this.curFillColor),w.setUniform("isTexture",!!this._tex),this._tex&&w.setUniform("uSampler",this._tex),w.setUniform("uTint",this._tint),w.setUniform("uHasSetAmbient",this._hasSetAmbient),w.setUniform("uAmbientMatColor",this.curAmbientColor),w.setUniform("uSpecularMatColor",this.mixedSpecularColor),w.setUniform("uEmissiveMatColor",this.curEmissiveColor),w.setUniform("uSpecular",this._useSpecularMaterial),w.setUniform("uEmissive",this._useEmissiveMaterial),w.setUniform("uShininess",this._useShininess),w.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(w),w.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),N=(w.setUniform("uPointLightCount",N),w.setUniform("uPointLightLocation",this.pointLightPositions),w.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),w.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),N=(w.setUniform("uDirectionalLightCount",N),w.setUniform("uLightingDirection",this.directionalLightDirections),w.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),w.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),N=(this.mixedAmbientLight=l(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(q){return q-=R._useMetalness,Math.max(0,q)})),w.setUniform("uAmbientLightCount",N),w.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);w.setUniform("uSpotLightCount",N),w.setUniform("uSpotLightAngle",this.spotLightAngle),w.setUniform("uSpotLightConc",this.spotLightConc),w.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),w.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),w.setUniform("uSpotLightLocation",this.spotLightPositions),w.setUniform("uSpotLightDirection",this.spotLightDirections),w.setUniform("uConstantAttenuation",this.constantAttenuation),w.setUniform("uLinearAttenuation",this.linearAttenuation),w.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),w.bindTextures()}},{key:"_setImageLightUniforms",value:function(w){var R;w.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(R=this.getDiffusedTexture(this.activeImageLight),w.setUniform("environmentMapDiffused",R),R=this.getSpecularTexture(this.activeImageLight),w.setUniform("environmentMapSpecular",R))}},{key:"_setPointUniforms",value:function(w){w.bindShader(),w.setUniform("uMaterialColor",this.curStrokeColor),w.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(w,R,N,q,J){R=R||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(R,w),N!==void 0&&((w=N)instanceof c.default.DataArray?w=N.dataArray():w instanceof(q||Float32Array)||(w=new(q||Float32Array)(w)),this.GL.bufferData(R,w,J||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(w,R){return w.length===R.length&&w.every(function(N,q){return N===R[q]})}},{key:"_isTypedArray",value:function(w){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(R){return w instanceof R})}},{key:"_flatten",value:function(w){return w.flat()}},{key:"_vToNArray",value:function(w){return w.flatMap(function(R){return[R.x,R.y,R.z]})}},{key:"_bezierCoefficients",value:function(w){var R=w*w,N=1-w,q=N*N;return[q*N,3*q*w,3*N*R,R*w]}},{key:"_quadraticCoefficients",value:function(w){var R=1-w;return[R*R,2*R*w,w*w]}},{key:"_bezierToCatmull",value:function(w){return[w[1],w[1]+(w[2]-w[0])/this._curveTightness,w[2]-(w[3]-w[1])/this._curveTightness,w[2]]}},{key:"_initTessy",value:function(){var w=new y.default.GluTesselator;return w.gluTessCallback(y.default.gluEnum.GLU_TESS_VERTEX_DATA,function(R,N){var q=!0,J=!1,re=void 0;try{for(var ce,ge=R[Symbol.iterator]();!(q=(ce=ge.next()).done);q=!0){var se=ce.value;N.push(se)}}catch(pe){J=!0,re=pe}finally{try{q||ge.return==null||ge.return()}finally{if(J)throw re}}}),w.gluTessCallback(y.default.gluEnum.GLU_TESS_BEGIN,function(R){R!==y.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(R))}),w.gluTessCallback(y.default.gluEnum.GLU_TESS_ERROR,function(R){console.log("error callback"),console.log("error number: ".concat(R))}),w.gluTessCallback(y.default.gluEnum.GLU_TESS_COMBINE,function(R,N,q){for(var J=new Array(c.default.RendererGL.prototype.tessyVertexSize).fill(0),re=0;re<q.length;re++)for(var ce=0;ce<J.length;ce++)q[re]!==0&&N[re]&&(J[ce]+=N[re][ce]*q[re]);return J}),w.gluTessCallback(y.default.gluEnum.GLU_TESS_EDGE_FLAG,function(R){}),w.gluTessProperty(y.default.gluEnum.GLU_TESS_WINDING_RULE,y.default.windingRule.GLU_TESS_WINDING_NONZERO),w}},{key:"_triangulate",value:function(w){var R=w[0]?w[0][2]:void 0,N=!0,q=!0,se=!1,ye=void 0;try{for(var J,re=w[Symbol.iterator]();!(q=(J=re.next()).done);q=!0)for(var ce=J.value,ge=0;ge<ce.length;ge+=c.default.RendererGL.prototype.tessyVertexSize)if(ce[ge+2]!==R){N=!1;break}}catch(Pe){se=!0,ye=Pe}finally{try{q||re.return==null||re.return()}finally{if(se)throw ye}}N?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var se=[],pe=(this._tessy.gluTessBeginPolygon(se),!0),ye=!1,te=void 0;try{for(var me,we=w[Symbol.iterator]();!(pe=(me=we.next()).done);pe=!0){var Ee=me.value;this._tessy.gluTessBeginContour();for(var xe=0;xe<Ee.length;xe+=c.default.RendererGL.prototype.tessyVertexSize){var Te=Ee.slice(xe,xe+c.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Te,Te)}this._tessy.gluTessEndContour()}}catch(Pe){ye=!0,te=Pe}finally{try{pe||we.return==null||we.return()}finally{if(ye)throw te}}return this._tessy.gluTessEndPolygon(),se}}])&&u(Z.prototype,G),le})(c.default.Renderer),c.default.prototype._assert3d=function(G){if(!this._renderer.isP3D)throw new Error("".concat(G,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see https://p5js.org/examples/3d-geometries/ for more information."))},c.default.RendererGL.prototype.tessyVertexSize=12,O=c.default.RendererGL,A.default=O},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,H,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(d,b){return(function(y){if(Array.isArray(y))return y})(d)||(function(y,r){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var o=[],i=!0,l=!1,u=void 0;try{for(var s,n=y[Symbol.iterator]();!(i=(s=n.next()).done)&&(o.push(s.value),!r||o.length!==r);i=!0);}catch(p){l=!0,u=p}finally{try{i||n.return==null||n.return()}finally{if(l)throw u}}return o}})(d,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function c(d,b){for(var y=0;y<b.length;y++){var r=b[y];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(d,r.key,r)}}m.default.Shader=(function(){function d(r,o,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},u=this,s=d;if(!(u instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=r,this._vertSrc=o,this._fragSrc=i,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:l.uniforms||{},declarations:l.declarations,helpers:l.helpers||{},vertex:l.vertex||{},fragment:l.fragment||{},modified:{vertex:l.modified&&l.modified.vertex||{},fragment:l.modified&&l.modified.fragment||{}}}}var b,y;return b=d,(y=[{key:"shaderSrc",value:function(h,o){var i,l,u,s,n,h=g(h.split("void main"),2),p=h[0],h=h[1],_="";for(i in this.hooks.uniforms)_+="uniform ".concat(i,`;
`);for(l in this.hooks.declarations&&(_+=this.hooks.declarations+`
`),this.hooks[o].declarations&&(_+=this.hooks[o].declarations+`
`),this.hooks.helpers)_+="".concat(l).concat(this.hooks.helpers[l],`
`);for(u in this.hooks[o])u!=="declarations"&&(s=(n=g(u.split(" "),2))[0],n=n[1],this.hooks.modified[o][u]&&(_+="#define AUGMENTED_HOOK_"+n+`
`),_+=s+" HOOK_"+n+this.hooks[o][u]+`
`);return p+_+"void main"+h}},{key:"version",value:function(){var r=/#version (.+)$/.exec(this.vertSrc());return r?r[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var r in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[r]?"[MODIFIED] ":"")+r+this.hooks.vertex[r]);for(var o in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[o]?"[MODIFIED] ":"")+o+this.hooks.fragment[o]);for(var i in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(i+this.hooks.helpers[i])}},{key:"modify",value:function(r){m.default._validateParameters("p5.Shader.modify",arguments);var o,i={vertex:{},fragment:{},helpers:{}};for(o in r)o!=="declarations"&&o!=="uniforms"&&(o==="vertexDeclarations"?i.vertex.declarations=(i.vertex.declarations||"")+`
`+r[o]:o==="fragmentDeclarations"?i.fragment.declarations=(i.fragment.declarations||"")+`
`+r[o]:this.hooks.vertex[o]?i.vertex[o]=r[o]:this.hooks.fragment[o]?i.fragment[o]=r[o]:i.helpers[o]=r[o]);var l,u,s=Object.assign({},this.hooks.modified.vertex),n=Object.assign({},this.hooks.modified.fragment);for(l in i.vertex||{})l!=="declarations"&&(s[l]=!0);for(u in i.fragment||{})u!=="declarations"&&(n[u]=!0);return new m.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(r.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,r.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,i.fragment||{}),vertex:Object.assign({},this.hooks.vertex,i.vertex||{}),helpers:Object.assign({},this.hooks.helpers,i.helpers||{}),modified:{vertex:s,fragment:n}})}},{key:"init",value:function(){if(this._glProgram===0){var r,o=this._renderer.GL;if(this._vertShader=o.createShader(o.VERTEX_SHADER),o.shaderSource(this._vertShader,this.vertSrc()),o.compileShader(this._vertShader),!o.getShaderParameter(this._vertShader,o.COMPILE_STATUS))return r=o.getShaderInfoLog(this._vertShader),console.error(r),null;if(this._fragShader=o.createShader(o.FRAGMENT_SHADER),o.shaderSource(this._fragShader,this.fragSrc()),o.compileShader(this._fragShader),!o.getShaderParameter(this._fragShader,o.COMPILE_STATUS))return r=o.getShaderInfoLog(this._fragShader),console.error(r),null;this._glProgram=o.createProgram(),o.attachShader(this._glProgram,this._vertShader),o.attachShader(this._glProgram,this._fragShader),o.linkProgram(this._glProgram),o.getProgramParameter(this._glProgram,o.LINK_STATUS)||m.default._friendlyError("Snap! Error linking shader program: ".concat(o.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var r in this.hooks.uniforms){var o=g(r.split(" "),2)[1],r=this.hooks.uniforms[r],i=void 0;(i=r instanceof Function?r():r)!=null&&this.setUniform(o,i)}}},{key:"copyToContext",value:function(r){var o=new m.default.Shader(r._renderer,this._vertSrc,this._fragSrc);return o.ensureCompiledOnContext(r),o}},{key:"ensureCompiledOnContext",value:function(r){if(this._glProgram!==0&&this._renderer!==r._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=r._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var r=this._renderer.GL,o=r.getProgramParameter(this._glProgram,r.ACTIVE_ATTRIBUTES),i=0;i<o;++i){var l=r.getActiveAttrib(this._glProgram,i),u=l.name,s=r.getAttribLocation(this._glProgram,u),n={};n.name=u,n.location=s,n.index=i,n.type=l.type,n.size=l.size,this.attributes[u]=n}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var r=this._renderer.GL,o=r.getProgramParameter(this._glProgram,r.ACTIVE_UNIFORMS),i=0,l=0;l<o;++l){var u=r.getActiveUniform(this._glProgram,l),s={},n=(s.location=r.getUniformLocation(this._glProgram,u.name),s.size=u.size,u.name);1<u.size&&(n=n.substring(0,n.indexOf("[0]"))),s.name=n,s.type=u.type,s._cachedData=void 0,s.type===r.SAMPLER_2D&&(s.samplerIndex=i,i++,this.samplers.push(s)),s.isArray=1<u.size||s.type===r.FLOAT_MAT3||s.type===r.FLOAT_MAT4||s.type===r.FLOAT_VEC2||s.type===r.FLOAT_VEC3||s.type===r.FLOAT_VEC4||s.type===r.INT_VEC2||s.type===r.INT_VEC4||s.type===r.INT_VEC3,this.uniforms[n]=s}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var r=this._renderer.GL,o=!0,i=!1,l=void 0;try{for(var u,s=this.samplers[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var n=u.value,p=n.texture;p===void 0&&(p=this._renderer._getEmptyTexture()),r.activeTexture(r.TEXTURE0+n.samplerIndex),p.bindTexture(),p.update(),r.uniform1i(n.location,n.samplerIndex)}}catch(h){i=!0,l=h}finally{try{o||s.return==null||s.return()}finally{if(i)throw l}}}},{key:"updateTextures",value:function(){var r=!0,o=!1,i=void 0;try{for(var l,u=this.samplers[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var s=l.value.texture;s&&s.update()}}catch(n){o=!0,i=n}finally{try{r||u.return==null||u.return()}finally{if(o)throw i}}}},{key:"unbindTextures",value:function(){var r=!0,o=!1,i=void 0;try{for(var l,u=this.samplers[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var s=l.value;this.setUniform(s.name,this._renderer._getEmptyTexture())}}catch(n){o=!0,i=n}finally{try{r||u.return==null||u.return()}finally{if(o)throw i}}}},{key:"_setMatrixUniforms",value:function(){var r=this._renderer.uModelMatrix,o=this._renderer.uViewMatrix,i=this._renderer.uPMatrix,l=r.copy().mult(o),u=(this._renderer.uMVMatrix=l).copy();u.mult(i),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",o.mat4),this.setUniform("uProjectionMatrix",i.mat4),this.setUniform("uModelMatrix",r.mat4),this.setUniform("uModelViewMatrix",l.mat4),this.setUniform("uModelViewProjectionMatrix",u.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var r=this._renderer.GL;return this._renderer._curShader!==this&&(r.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(r,o){var i=this.uniforms[r];if(i){var l=this._renderer.GL;if(i.isArray){if(i._cachedData&&this._renderer._arraysEqual(i._cachedData,o))return;i._cachedData=o.slice(0)}else{if(i._cachedData&&i._cachedData===o)return;Array.isArray(o)?i._cachedData=o.slice(0):i._cachedData=o}var u=i.location;switch(this.useProgram(),i.type){case l.BOOL:o===!0?l.uniform1i(u,1):l.uniform1i(u,0);break;case l.INT:1<i.size?o.length&&l.uniform1iv(u,o):l.uniform1i(u,o);break;case l.FLOAT:1<i.size?o.length&&l.uniform1fv(u,o):l.uniform1f(u,o);break;case l.FLOAT_MAT3:l.uniformMatrix3fv(u,!1,o);break;case l.FLOAT_MAT4:l.uniformMatrix4fv(u,!1,o);break;case l.FLOAT_VEC2:1<i.size?o.length&&l.uniform2fv(u,o):l.uniform2f(u,o[0],o[1]);break;case l.FLOAT_VEC3:1<i.size?o.length&&l.uniform3fv(u,o):l.uniform3f(u,o[0],o[1],o[2]);break;case l.FLOAT_VEC4:1<i.size?o.length&&l.uniform4fv(u,o):l.uniform4f(u,o[0],o[1],o[2],o[3]);break;case l.INT_VEC2:1<i.size?o.length&&l.uniform2iv(u,o):l.uniform2i(u,o[0],o[1]);break;case l.INT_VEC3:1<i.size?o.length&&l.uniform3iv(u,o):l.uniform3i(u,o[0],o[1],o[2]);break;case l.INT_VEC4:1<i.size?o.length&&l.uniform4iv(u,o):l.uniform4i(u,o[0],o[1],o[2],o[3]);break;case l.SAMPLER_2D:if(typeof o=="number"){if(o<l.TEXTURE0||o>l.TEXTURE31||o!==Math.ceil(o))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;l.activeTexture(o),l.uniform1i(u,o)}else l.activeTexture(l.TEXTURE0+i.samplerIndex),i.texture=o instanceof m.default.Texture?o:this._renderer.getTexture(o),l.uniform1i(u,i.samplerIndex),i.texture.src.gifProperties&&i.texture.src._animateGif(this._renderer._pInst);break;case l.SAMPLER_CUBE:case l.SAMPLER_3D:case l.SAMPLER_2D_SHADOW:case l.SAMPLER_2D_ARRAY:case l.SAMPLER_2D_ARRAY_SHADOW:case l.SAMPLER_CUBE_SHADOW:case l.INT_SAMPLER_2D:case l.INT_SAMPLER_3D:case l.INT_SAMPLER_CUBE:case l.INT_SAMPLER_2D_ARRAY:case l.UNSIGNED_INT_SAMPLER_2D:case l.UNSIGNED_INT_SAMPLER_3D:case l.UNSIGNED_INT_SAMPLER_CUBE:case l.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof o=="number"&&(o<l.TEXTURE0||o>l.TEXTURE31||o!==Math.ceil(o)?console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(l.activeTexture(o),l.uniform1i(u,o)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(r){return r!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(r,o,i,l,u,s){var n;return r&&(r=r.location)!==-1&&(n=this._renderer.GL,this._renderer.registerEnabled.has(r)||(n.enableVertexAttribArray(r),this._renderer.registerEnabled.add(r)),this._renderer.GL.vertexAttribPointer(r,o,i||n.FLOAT,l||!1,u||0,s||0)),this}},{key:"disableRemainingAttributes",value:function(){var r=this,o=!0,i=!1,l=void 0;try{for(var u,s=this._renderer.registerEnabled.values()[Symbol.iterator]();!(o=(u=s.next()).done);o=!0)(function(){var n=u.value;Object.keys(r.attributes).some(function(p){return r.attributes[p].location===n})||(r._renderer.GL.disableVertexAttribArray(n),r._renderer.registerEnabled.delete(n))})()}catch(n){i=!0,l=n}finally{try{o||s.return==null||s.return()}finally{if(i)throw l}}}}])&&c(b.prototype,y),d})(),t=m.default.Shader,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,H,A){function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}function g(p){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(h){return m(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":m(h)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.checkWebGLCapabilities=n,A.default=A.MipmapTexture=void 0;var c=(s=t("../core/main"))&&s.__esModule?s:{default:s},d=(function(p){if(p&&p.__esModule)return p;if(p===null||g(p)!=="object"&&typeof p!="function")return{default:p};var h=b();if(h&&h.has(p))return h.get(p);var _,T={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in p){var S;Object.prototype.hasOwnProperty.call(p,_)&&((S=j?Object.getOwnPropertyDescriptor(p,_):null)&&(S.get||S.set)?Object.defineProperty(T,_,S):T[_]=p[_])}return T.default=p,h&&h.set(p,T),T})(t("../core/constants"));function b(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,b=function(){return p},p)}function y(p,h){return(y=Object.setPrototypeOf||function(_,T){return _.__proto__=T,_})(p,h)}function r(p){return function(){var h,_=o(p),_=(h=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(h=o(this).constructor,Reflect.construct(_,arguments,h)):_.apply(this,arguments),this);if(!h||g(h)!=="object"&&typeof h!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return h}}function o(p){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(p)}function i(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function l(p,h){for(var _=0;_<h.length;_++){var T=h[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}function u(p,h,_){h&&l(p.prototype,h)}c.default.Texture=(function(){function p(C,_,S){i(this,p),this._renderer=C;var j=this._renderer.GL,S=(S=S||{},this.src=_,this.glTex=void 0,this.glTarget=j.TEXTURE_2D,this.glFormat=S.format||j.RGBA,this.mipmaps=!1,this.glMinFilter=S.minFilter||j.LINEAR,this.glMagFilter=S.magFilter||j.LINEAR,this.glWrapS=S.wrapS||j.CLAMP_TO_EDGE,this.glWrapT=S.wrapT||j.CLAMP_TO_EDGE,this.glDataType=S.dataType||j.UNSIGNED_BYTE,n(C)),C=(this.glFormat!==j.HALF_FLOAT||S.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=j.FLOAT),this.glFormat!==j.HALF_FLOAT||this.glMinFilter!==j.LINEAR&&this.glMagFilter!==j.LINEAR||S.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===j.LINEAR&&(this.glMinFilter=j.NEAREST),this.glMagFilter===j.LINEAR&&(this.glMagFilter=j.NEAREST)),this.glFormat!==j.FLOAT||S.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=j.UNSIGNED_BYTE),this.glFormat!==j.FLOAT||this.glMinFilter!==j.LINEAR&&this.glMagFilter!==j.LINEAR||S.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===j.LINEAR&&(this.glMinFilter=j.NEAREST),this.glMagFilter===j.LINEAR&&(this.glMagFilter=j.NEAREST)),this.isSrcMediaElement=c.default.MediaElement!==void 0&&_ instanceof c.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=c.default.Element!==void 0&&_ instanceof c.default.Element&&!(_ instanceof c.default.Graphics)&&!(_ instanceof c.default.Renderer),this.isSrcP5Image=_ instanceof c.default.Image,this.isSrcP5Graphics=_ instanceof c.default.Graphics,this.isSrcP5Renderer=_ instanceof c.default.Renderer,this.isImageData=typeof ImageData<"u"&&_ instanceof ImageData,this.isFramebufferTexture=_ instanceof c.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=C.width,this.height=C.height,this.init(C),this}return u(p,[{key:"_getTextureDataFromSource",value:function(){var h;return this.isFramebufferTexture?h=this.src.rawTexture():this.isSrcP5Image?h=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),h=this.src.canvas||this.src.elt):this.isImageData&&(h=this.src),h}},{key:"init",value:function(h){var _,T=this._renderer.GL;this.isFramebufferTexture||(this.glTex=T.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,this.glMagFilter),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(_=new Uint8Array([1,1,1,1]),T.texImage2D(this.glTarget,0,T.RGBA,1,1,0,this.glFormat,this.glDataType,_)):T.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,h))}},{key:"update",value:function(){var h,_,T,j=this.src;return j.width!==0&&j.height!==0&&!this.isFramebufferTexture&&(h=this._getTextureDataFromSource(),_=!1,T=this._renderer.GL,h.width!==this.width||h.height!==this.height?(_=!0,this.width=h.width||j.width,this.height=h.height||j.height,this.isSrcP5Image?j.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&j.setModified(!0)):this.isSrcP5Image?j.isModified()&&j.setModified(!(_=!0)):this.isSrcMediaElement?j.isModified()?j.setModified(!(_=!0)):j.loadedmetadata&&this._videoPrevUpdateTime!==j.time()&&(this._videoPrevUpdateTime=j.time(),_=!0):this.isImageData?j._dirty&&(_=!(j._dirty=!1)):_=!0,_&&(this.bindTexture(),T.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,h)),_)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(h,_){var T=this._renderer.GL;this.glMinFilter=this.glFilter(h),this.glMagFilter=this.glFilter(_),this.bindTexture(),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,this.glMinFilter),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(h){var _=this._renderer.GL;return h===d.NEAREST?_.NEAREST:_.LINEAR}},{key:"setWrapMode",value:function(h,_){function T(L){return(L&L-1)==0}var j=this._renderer.GL,C=this._getTextureDataFromSource(),C=C.naturalWidth&&C.naturalHeight?(S=C.naturalWidth,C.naturalHeight):(S=this.width,this.height),S=T(S),C=T(C);h===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||S&&C?this.glWrapS=j.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=j.CLAMP_TO_EDGE):h===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||S&&C?this.glWrapS=j.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=j.CLAMP_TO_EDGE):this.glWrapS=j.CLAMP_TO_EDGE,_===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||S&&C?this.glWrapT=j.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=j.CLAMP_TO_EDGE):_===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||S&&C?this.glWrapT=j.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=j.CLAMP_TO_EDGE):this.glWrapT=j.CLAMP_TO_EDGE,this.bindTexture(),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,this.glWrapS),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),p})();var s=(function(p){var h=T;if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),p&&y(h,p);var _=r(T);function T(j,S,C){return i(this,T),S=(j=_.call(this,j,S,C))._renderer.GL,j.glMinFilter===S.LINEAR&&(j.glMinFilter=S.LINEAR_MIPMAP_LINEAR),j}return u(T,[{key:"glFilter",value:function(j){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(j){var S=this._renderer.GL;this.glTex=S.createTexture(),this.bindTexture();for(var C=0;C<j.length;C++)S.texImage2D(this.glTarget,C,this.glFormat,this.glFormat,this.glDataType,j[C]);this.glMinFilter=S.LINEAR_MIPMAP_LINEAR,S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,this.glMagFilter),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),T})(c.default.Texture);function n(j){var h=j.GL,j=j.webglVersion,_=j===d.WEBGL2?h.getExtension("EXT_color_buffer_float")&&h.getExtension("EXT_float_blend"):h.getExtension("OES_texture_float"),T=_&&h.getExtension("OES_texture_float_linear"),j=j===d.WEBGL2?h.getExtension("EXT_color_buffer_float"):h.getExtension("OES_texture_half_float");return{float:_,floatLinear:T,halfFloat:j,halfFloatLinear:j&&h.getExtension("OES_texture_half_float_linear")}}A.MipmapTexture=s,t=c.default.Texture,A.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,H,A){function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}function g(p){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(h){return m(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":m(h)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var c,d=(c=t("../core/main"))&&c.__esModule?c:{default:c},b=(function(p){if(p&&p.__esModule)return p;if(p===null||g(p)!=="object"&&typeof p!="function")return{default:p};var h=y();if(h&&h.has(p))return h.get(p);var _,T={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in p){var S;Object.prototype.hasOwnProperty.call(p,_)&&((S=j?Object.getOwnPropertyDescriptor(p,_):null)&&(S.get||S.set)?Object.defineProperty(T,_,S):T[_]=p[_])}return T.default=p,h&&h.set(p,T),T})(t("../core/constants"));function y(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,y=function(){return p},p)}function r(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function o(p,h){for(var _=0;_<h.length;_++){var T=h[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}function i(p,h,_){h&&o(p.prototype,h)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),d.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},d.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var l=(function(){function p(h,_){r(this,p),this.width=h,this.height=_,this.infos=[]}return i(p,[{key:"findImage",value:function(h){var _,T,j=this.width*this.height;if(j<h)throw new Error("font is too complex to render in 3D");for(var S=this.infos.length-1;0<=S;--S){var C=this.infos[S];if(C.index+h<j){T=(_=C).imageData;break}}if(!_){try{T=new ImageData(this.width,this.height)}catch{var L=document.getElementsByTagName("canvas")[0],E=!L,I=(L||((L=document.createElement("canvas")).style.display="none",document.body.appendChild(L)),L.getContext("2d"));I&&(T=I.createImageData(this.width,this.height)),E&&document.body.removeChild(L)}this.infos.push(_={index:0,imageData:T})}return I=_.index,_.index+=h,T._dirty=!0,{imageData:T,index:I}}}]),p})();function u(C,h,_,T,j){var S=C.imageData.data,C=4*C.index++;S[C++]=h,S[C++]=_,S[C++]=T,S[+C]=j}var s=Math.sqrt(3),n=(function(){function p(h){r(this,p),this.font=h,this.strokeImageInfos=new l(64,64),this.colDimImageInfos=new l(64,64),this.rowDimImageInfos=new l(64,64),this.colCellImageInfos=new l(64,64),this.rowCellImageInfos=new l(64,64),this.glyphInfos={}}return i(p,[{key:"getGlyphInfo",value:function(h){var _=this.glyphInfos[h.index];if(!_){var T=h.getBoundingBox(),j=T.x1,S=T.y1,C=T.x2-j,L=T.y2-S,E=h.path.commands;if(C==0||L==0||!E.length)return this.glyphInfos[h.index]={};for(var I=[],O=[],U=[],D=8;0<=D;--D)U.push([]);for(D=8;0<=D;--D)O.push([]);var B,X,W,G,Z=(function(){function st(nt,ut,it,Oe){r(this,st),this.p0=nt,this.c0=ut,this.c1=it,this.p1=Oe}return i(st,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return d.default.Vector.sub(d.default.Vector.sub(this.p1,this.p0),d.default.Vector.mult(d.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Xe){var ut=d.default.Vector.lerp(this.p0,this.c0,Xe),Oe=d.default.Vector.lerp(this.c0,this.c1,Xe),it=d.default.Vector.lerp(ut,Oe,Xe),Oe=(this.c1=d.default.Vector.lerp(this.c1,this.p1,Xe),this.c0=d.default.Vector.lerp(Oe,this.c1,Xe),d.default.Vector.lerp(it,this.c0,Xe)),Xe=new st(this.p0,ut,it,Oe);return this.p0=Oe,Xe}},{key:"splitInflections",value:function(){var nt=d.default.Vector.sub(this.c0,this.p0),ut=d.default.Vector.sub(d.default.Vector.sub(this.c1,this.c0),nt),it=d.default.Vector.sub(d.default.Vector.sub(d.default.Vector.sub(this.p1,this.c1),nt),d.default.Vector.mult(ut,2)),Oe=[],Xe=ut.x*it.y-ut.y*it.x;return Xe!==0&&0<=(nt=(it=nt.x*it.y-nt.y*it.x)*it-4*Xe*(nt.x*ut.y-nt.y*ut.x))&&(Xe<0&&(Xe=-Xe,it=-it),nt=(-it+(ut=Math.sqrt(nt)))/(2*Xe),0<(it=(-it-ut)/(2*Xe))&&it<1&&(Oe.push(this.split(it)),nt=1-(1-nt)/(1-it)),0<nt&&nt<1&&Oe.push(this.split(nt))),Oe.push(this),Oe}}]),st})(),Q=!0,le=!1,w=void 0;try{for(var R,N=E[Symbol.iterator]();!(Q=(R=N.next()).done);Q=!0){var q=R.value,J=(q.x-j)/C,re=(q.y-S)/L;if(!Re(B,X,J,re)){switch(q.type){case"M":W=J,G=re;break;case"L":qe(B,X,J,re);break;case"Q":var ce=(q.x1-j)/C,ge=(q.y1-S)/L;Te([B,J,ce],[X,re,ge],{x:B,y:X,cx:ce,cy:ge});break;case"Z":Re(B,X,W,G)?I.push({x:B,y:X}):(qe(B,X,W,G),I.push({x:W,y:G}));break;case"C":for(var se=(function(oe,Ae,Ge,it,Oe,Xe,Le,ee){var oe=new Z(new d.default.Vector(oe,Ae),new d.default.Vector(Ge,it),new d.default.Vector(Oe,Xe),new d.default.Vector(Le,ee)).splitInflections(),K=[],ie=30/s,je=!0,Ae=!1,Ge=void 0;try{for(var $e,rt=oe[Symbol.iterator]();!(je=($e=rt.next()).done);je=!0){for(var ot=$e.value,lt=[],Et=void 0;!(.125<=(Et=ie/ot.quadError()));){var wt=Math.pow(Et,.3333333333333333),gt=ot.split(wt),jt=ot.split(1-wt/(1-wt));K.push(gt),lt.push(ot),ot=jt}Et<1&&K.push(ot.split(.5)),K.push(ot),Array.prototype.push.apply(K,lt.reverse())}}catch(xt){Ae=!0,Ge=xt}finally{try{je||rt.return==null||rt.return()}finally{if(Ae)throw Ge}}return K})(B,X,(q.x1-j)/C,(q.y1-S)/L,(q.x2-j)/C,(q.y2-S)/L,J,re),pe=0;pe<se.length;pe++){var ye=se[pe].toQuadratic();Te([ye.x,ye.x1,ye.cx],[ye.y,ye.y1,ye.cy],ye)}break;default:throw new Error("unknown command type: ".concat(q.type))}B=J,X=re}}}catch(st){le=!0,w=st}finally{try{Q||N.return==null||N.return()}finally{if(le)throw w}}for(var te=I.length,me=this.strokeImageInfos.findImage(te),we=me.index,Ee=0;Ee<te;++Ee){var xe=I[Ee];u(me,Pe(xe.x),Pe(xe.y),Pe(xe.cx),Pe(xe.cy))}(_=this.glyphInfos[h.index]={glyph:h,uGlyphRect:[T.x1,-T.y1,T.x2,-T.y2],strokeImageInfo:me,strokes:I,colInfo:ft(U,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ft(O,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[_.colInfo.dimOffset,_.rowInfo.dimOffset]}return _;function Te(st,nt,ut){var it=I.length;function Oe(K,ie,je){for(var Ae=K.length;0<Ae--;){var Ge=K[Ae];Ge<ie&&(ie=Ge),je<Ge&&(je=Ge)}return{min:ie,max:je}}I.push(ut);for(var ut=Oe(st,1,0),st=Math.max(Math.floor(9*ut.min-.5),0),Xe=Math.min(Math.ceil(9*ut.max+.5),9),Le=st;Le<Xe;++Le)U[Le].push(it);for(var ut=Oe(nt,1,0),st=Math.max(Math.floor(9*ut.min-.5),0),ee=Math.min(Math.ceil(9*ut.max+.5),9),oe=st;oe<ee;++oe)O[oe].push(it)}function Pe(st){return(st=(ut=255)*st)<(nt=0)?nt:ut<st?ut:st;var nt,ut}function qe(st,nt,ut,it){Te([st,ut],[nt,it],{x:st,y:nt,cx:(st+ut)/2,cy:(nt+it)/2})}function Re(st,nt,ut,it){return Math.abs(ut-st)<1e-5&&Math.abs(it-nt)<1e-5}function ft(st,nt,ut){for(var it=st.length,Oe=nt.findImage(it),nt=Oe.index,Xe=0,Le=0;Le<it;++Le)Xe+=st[Le].length;for(var ee=ut.findImage(Xe),oe=0;oe<it;++oe){var K=st[oe],ie=K.length,je=ee.index;u(Oe,je>>7,127&je,ie>>7,127&ie);for(var Ae=0;Ae<ie;++Ae){var Ge=K[Ae]+we;u(ee,Ge>>7,127&Ge,0,0)}}return{cellImageInfo:ee,dimOffset:nt,dimImageInfo:Oe}}}}]),p})();d.default.RendererGL.prototype._renderText=function(p,h,_,T,j){if(this._textFont&&typeof this._textFont!="string"){if(!(j<=T)&&this._doFill){if(this._isOpenType()){p.push();var j=this._doStroke,S=this.drawMode,C=(this._doStroke=!1,this.drawMode=b.TEXTURE,this._textFont.font),L=(L=this._textFont._fontInfo)||(this._textFont._fontInfo=new n(C)),_=this._textFont._handleAlignment(this,h,_,T),T=this._textSize/C.unitsPerEm,E=(this.translate(_.x,_.y,0),this.scale(T,T,1),this.GL),_=!this._defaultFontShader,I=this._getFontShader(),O=(I.init(),I.bindShader(),_&&(I.setUniform("uGridImageSize",[64,64]),I.setUniform("uCellsImageSize",[64,64]),I.setUniform("uStrokeImageSize",[64,64]),I.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),U=(O||((T=this._textGeom=new d.default.Geometry(1,1,function(){for(var pe=0;pe<=1;pe++)for(var ye=0;ye<=1;ye++)this.vertices.push(new d.default.Vector(ye,pe,0)),this.uvs.push(ye,pe)})).computeFaces().computeNormals(),O=this.createBuffers("glyph",T)),!0),_=!1,T=void 0;try{for(var D,B=this.retainedMode.buffers.text[Symbol.iterator]();!(U=(D=B.next()).done);U=!0)D.value._prepareBuffer(O,I)}catch(pe){_=!0,T=pe}finally{try{U||B.return==null||B.return()}finally{if(_)throw T}}this._bindBuffer(O.indexBuffer,E.ELEMENT_ARRAY_BUFFER),I.setUniform("uMaterialColor",this.curFillColor),E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var X=0,W=null,G=C.stringToGlyphs(h),Z=!0,Q=!1,le=void 0;try{for(var w,R=G[Symbol.iterator]();!(Z=(w=R.next()).done);Z=!0){var N,q,J=w.value,re=(W&&(X+=C.getKerningValue(W,J)),L.getGlyphInfo(J));re.uGlyphRect&&(N=re.rowInfo,q=re.colInfo,I.setUniform("uSamplerStrokes",re.strokeImageInfo.imageData),I.setUniform("uSamplerRowStrokes",N.cellImageInfo.imageData),I.setUniform("uSamplerRows",N.dimImageInfo.imageData),I.setUniform("uSamplerColStrokes",q.cellImageInfo.imageData),I.setUniform("uSamplerCols",q.dimImageInfo.imageData),I.setUniform("uGridOffset",re.uGridOffset),I.setUniform("uGlyphRect",re.uGlyphRect),I.setUniform("uGlyphOffset",X),I.bindTextures(),E.drawElements(E.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),X+=J.advanceWidth,W=J}}catch(pe){Q=!0,le=pe}finally{try{Z||R.return==null||R.return()}finally{if(Q)throw le}}}finally{I.unbindShader(),this._doStroke=j,this.drawMode=S,E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})})(ca)),ca.exports}var Sm=jm();const Tm=du(Sm);var is={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Em=is.exports,ou;function Mm(){return ou||(ou=1,(function(Ve,We){(function(){var ue,t="4.17.21",H=200,A="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",m="Expected a function",g="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,b="__lodash_placeholder__",y=1,r=2,o=4,i=1,l=2,u=1,s=2,n=4,p=8,h=16,_=32,T=64,j=128,S=256,C=512,L=30,E="...",I=800,O=16,U=1,D=2,B=3,X=1/0,W=9007199254740991,G=17976931348623157e292,Z=NaN,Q=4294967295,le=Q-1,w=Q>>>1,R=[["ary",j],["bind",u],["bindKey",s],["curry",p],["curryRight",h],["flip",C],["partial",_],["partialRight",T],["rearg",S]],N="[object Arguments]",q="[object Array]",J="[object AsyncFunction]",re="[object Boolean]",ce="[object Date]",ge="[object DOMException]",se="[object Error]",pe="[object Function]",ye="[object GeneratorFunction]",te="[object Map]",me="[object Number]",we="[object Null]",Ee="[object Object]",xe="[object Promise]",Te="[object Proxy]",Pe="[object RegExp]",qe="[object Set]",Re="[object String]",ft="[object Symbol]",st="[object Undefined]",nt="[object WeakMap]",ut="[object WeakSet]",it="[object ArrayBuffer]",Oe="[object DataView]",Xe="[object Float32Array]",Le="[object Float64Array]",ee="[object Int8Array]",oe="[object Int16Array]",K="[object Int32Array]",ie="[object Uint8Array]",je="[object Uint8ClampedArray]",Ae="[object Uint16Array]",Ge="[object Uint32Array]",$e=/\b__p \+= '';/g,rt=/\b(__p \+=) '' \+/g,ot=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lt=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>"']/g,wt=RegExp(lt.source),gt=RegExp(Et.source),jt=/<%-([\s\S]+?)%>/g,xt=/<%([\s\S]+?)%>/g,Jt=/<%=([\s\S]+?)%>/g,Mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hr=/^\w*$/,Wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$t=/[\\^$.*+?()[\]{}|]/g,Bt=RegExp($t.source),mr=/^\s+/,_r=/\s/,Zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jr=/\{\n\/\* \[wrapped with (.+)\] \*/,zn=/,? & /,Hn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wn=/[()=,{}\[\]\/\s]/,ao=/\\(\\)?/g,qn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,be=/^[-+]0x[0-9a-f]+$/i,et=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,Je=/^0o[0-7]+$/i,It=/^(?:0|[1-9]\d*)$/,Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ft=/($^)/,at=/['\n\r\u2028\u2029\\]/g,Lt="\\ud800-\\udfff",ct="\\u0300-\\u036f",dr="\\ufe20-\\ufe2f",yr="\\u20d0-\\u20ff",lr=ct+dr+yr,gr="\\u2700-\\u27bf",qr="a-z\\xdf-\\xf6\\xf8-\\xff",Ir="\\xac\\xb1\\xd7\\xf7",$r="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xr="\\u2000-\\u206f",as=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gr="A-Z\\xc0-\\xd6\\xd8-\\xde",_n="\\ufe0e\\ufe0f",Xn=Ir+$r+xr+as,lo="[']",ls="["+Lt+"]",Mo="["+Xn+"]",An="["+lr+"]",Oo="\\d+",us="["+gr+"]",ko="["+qr+"]",cs="[^"+Lt+Xn+Oo+gr+qr+Gr+"]",Yn="\\ud83c[\\udffb-\\udfff]",ds="(?:"+An+"|"+Yn+")",Co="[^"+Lt+"]",Pn="(?:\\ud83c[\\udde6-\\uddff]){2}",Ln="[\\ud800-\\udbff][\\udc00-\\udfff]",Ar="["+Gr+"]",Ao="\\u200d",Po="(?:"+ko+"|"+cs+")",Rn="(?:"+Ar+"|"+cs+")",Lo="(?:"+lo+"(?:d|ll|m|re|s|t|ve))?",fs="(?:"+lo+"(?:D|LL|M|RE|S|T|VE))?",uo=ds+"?",Ro="["+_n+"]?",li="(?:"+Ao+"(?:"+[Co,Pn,Ln].join("|")+")"+Ro+uo+")*",hs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ps="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ms=Ro+uo+li,ys="(?:"+[us,Pn,Ln].join("|")+")"+ms,ui="(?:"+[Co+An+"?",An,Pn,Ln,ls].join("|")+")",ci=RegExp(lo,"g"),di=RegExp(An,"g"),Io=RegExp(Yn+"(?="+Yn+")|"+ui+ms,"g"),gs=RegExp([Ar+"?"+ko+"+"+Lo+"(?="+[Mo,Ar,"$"].join("|")+")",Rn+"+"+fs+"(?="+[Mo,Ar+Po,"$"].join("|")+")",Ar+"?"+Po+"+"+Lo,Ar+"+"+fs,ps,hs,Oo,ys].join("|"),"g"),en=RegExp("["+Ao+Lt+lr+_n+"]"),ln=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kn=-1,Gt={};Gt[Xe]=Gt[Le]=Gt[ee]=Gt[oe]=Gt[K]=Gt[ie]=Gt[je]=Gt[Ae]=Gt[Ge]=!0,Gt[N]=Gt[q]=Gt[it]=Gt[re]=Gt[Oe]=Gt[ce]=Gt[se]=Gt[pe]=Gt[te]=Gt[me]=Gt[Ee]=Gt[Pe]=Gt[qe]=Gt[Re]=Gt[nt]=!1;var qt={};qt[N]=qt[q]=qt[it]=qt[Oe]=qt[re]=qt[ce]=qt[Xe]=qt[Le]=qt[ee]=qt[oe]=qt[K]=qt[te]=qt[me]=qt[Ee]=qt[Pe]=qt[qe]=qt[Re]=qt[ft]=qt[ie]=qt[je]=qt[Ae]=qt[Ge]=!0,qt[se]=qt[pe]=qt[nt]=!1;var fi={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},hn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},co={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},vs={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bs=parseFloat,_s=parseInt,Do=typeof Vn=="object"&&Vn&&Vn.Object===Object&&Vn,xs=typeof self=="object"&&self&&self.Object===Object&&self,wr=Do||xs||Function("return this")(),Qn=We&&!We.nodeType&&We,pn=Qn&&!0&&Ve&&!Ve.nodeType&&Ve,Fo=pn&&pn.exports===Qn,fo=Fo&&Do.process,Dr=(function(){try{var ke=pn&&pn.require&&pn.require("util").types;return ke||fo&&fo.binding&&fo.binding("util")}catch{}})(),Uo=Dr&&Dr.isArrayBuffer,No=Dr&&Dr.isDate,Bo=Dr&&Dr.isMap,Go=Dr&&Dr.isRegExp,Vo=Dr&&Dr.isSet,ho=Dr&&Dr.isTypedArray;function Or(ke,ze,Ne){switch(Ne.length){case 0:return ke.call(ze);case 1:return ke.call(ze,Ne[0]);case 2:return ke.call(ze,Ne[0],Ne[1]);case 3:return ke.call(ze,Ne[0],Ne[1],Ne[2])}return ke.apply(ze,Ne)}function zo(ke,ze,Ne,mt){for(var St=-1,zt=ke==null?0:ke.length;++St<zt;){var Tr=ke[St];ze(mt,Tr,Ne(Tr),ke)}return mt}function Fr(ke,ze){for(var Ne=-1,mt=ke==null?0:ke.length;++Ne<mt&&ze(ke[Ne],Ne,ke)!==!1;);return ke}function mn(ke,ze){for(var Ne=ke==null?0:ke.length;Ne--&&ze(ke[Ne],Ne,ke)!==!1;);return ke}function un(ke,ze){for(var Ne=-1,mt=ke==null?0:ke.length;++Ne<mt;)if(!ze(ke[Ne],Ne,ke))return!1;return!0}function pt(ke,ze){for(var Ne=-1,mt=ke==null?0:ke.length,St=0,zt=[];++Ne<mt;){var Tr=ke[Ne];ze(Tr,Ne,ke)&&(zt[St++]=Tr)}return zt}function po(ke,ze){var Ne=ke==null?0:ke.length;return!!Ne&&In(ke,ze,0)>-1}function mo(ke,ze,Ne){for(var mt=-1,St=ke==null?0:ke.length;++mt<St;)if(Ne(ze,ke[mt]))return!0;return!1}function Xt(ke,ze){for(var Ne=-1,mt=ke==null?0:ke.length,St=Array(mt);++Ne<mt;)St[Ne]=ze(ke[Ne],Ne,ke);return St}function yn(ke,ze){for(var Ne=-1,mt=ze.length,St=ke.length;++Ne<mt;)ke[St+Ne]=ze[Ne];return ke}function Ho(ke,ze,Ne,mt){var St=-1,zt=ke==null?0:ke.length;for(mt&&zt&&(Ne=ke[++St]);++St<zt;)Ne=ze(Ne,ke[St],St,ke);return Ne}function er(ke,ze,Ne,mt){var St=ke==null?0:ke.length;for(mt&&St&&(Ne=ke[--St]);St--;)Ne=ze(Ne,ke[St],St,ke);return Ne}function yo(ke,ze){for(var Ne=-1,mt=ke==null?0:ke.length;++Ne<mt;)if(ze(ke[Ne],Ne,ke))return!0;return!1}var hi=ur("length");function Xr(ke){return ke.split("")}function pi(ke){return ke.match(Hn)||[]}function ws(ke,ze,Ne){var mt;return Ne(ke,function(St,zt,Tr){if(ze(St,zt,Tr))return mt=zt,!1}),mt}function go(ke,ze,Ne,mt){for(var St=ke.length,zt=Ne+(mt?1:-1);mt?zt--:++zt<St;)if(ze(ke[zt],zt,ke))return zt;return-1}function In(ke,ze,Ne){return ze===ze?nr(ke,ze,Ne):go(ke,js,Ne)}function mi(ke,ze,Ne,mt){for(var St=Ne-1,zt=ke.length;++St<zt;)if(mt(ke[St],ze))return St;return-1}function js(ke){return ke!==ke}function Wo(ke,ze){var Ne=ke==null?0:ke.length;return Ne?M(ke,ze)/Ne:Z}function ur(ke){return function(ze){return ze==null?ue:ze[ke]}}function Jn(ke){return function(ze){return ke==null?ue:ke[ze]}}function f(ke,ze,Ne,mt,St){return St(ke,function(zt,Tr,ar){Ne=mt?(mt=!1,zt):ze(Ne,zt,Tr,ar)}),Ne}function x(ke,ze){var Ne=ke.length;for(ke.sort(ze);Ne--;)ke[Ne]=ke[Ne].value;return ke}function M(ke,ze){for(var Ne,mt=-1,St=ke.length;++mt<St;){var zt=ze(ke[mt]);zt!==ue&&(Ne=Ne===ue?zt:Ne+zt)}return Ne}function k(ke,ze){for(var Ne=-1,mt=Array(ke);++Ne<ke;)mt[Ne]=ze(Ne);return mt}function F(ke,ze){return Xt(ze,function(Ne){return[Ne,ke[Ne]]})}function z(ke){return ke&&ke.slice(0,Sr(ke)+1).replace(mr,"")}function Y(ke){return function(ze){return ke(ze)}}function ne(ke,ze){return Xt(ze,function(Ne){return ke[Ne]})}function fe(ke,ze){return ke.has(ze)}function he(ke,ze){for(var Ne=-1,mt=ke.length;++Ne<mt&&In(ze,ke[Ne],0)>-1;);return Ne}function Se(ke,ze){for(var Ne=ke.length;Ne--&&In(ze,ke[Ne],0)>-1;);return Ne}function Ie(ke,ze){for(var Ne=ke.length,mt=0;Ne--;)ke[Ne]===ze&&++mt;return mt}var Ce=Jn(fi),ve=Jn(hn);function Ye(ke){return"\\"+vs[ke]}function Be(ke,ze){return ke==null?ue:ke[ze]}function He(ke){return en.test(ke)}function Fe(ke){return ln.test(ke)}function Ue(ke){for(var ze,Ne=[];!(ze=ke.next()).done;)Ne.push(ze.value);return Ne}function vt(ke){var ze=-1,Ne=Array(ke.size);return ke.forEach(function(mt,St){Ne[++ze]=[St,mt]}),Ne}function kt(ke,ze){return function(Ne){return ke(ze(Ne))}}function yt(ke,ze){for(var Ne=-1,mt=ke.length,St=0,zt=[];++Ne<mt;){var Tr=ke[Ne];(Tr===ze||Tr===b)&&(ke[Ne]=b,zt[St++]=Ne)}return zt}function bt(ke){var ze=-1,Ne=Array(ke.size);return ke.forEach(function(mt){Ne[++ze]=mt}),Ne}function At(ke){var ze=-1,Ne=Array(ke.size);return ke.forEach(function(mt){Ne[++ze]=[mt,mt]}),Ne}function nr(ke,ze,Ne){for(var mt=Ne-1,St=ke.length;++mt<St;)if(ke[mt]===ze)return mt;return-1}function cr(ke,ze,Ne){for(var mt=Ne+1;mt--;)if(ke[mt]===ze)return mt;return mt}function sr(ke){return He(ke)?tr(ke):hi(ke)}function or(ke){return He(ke)?ir(ke):Xr(ke)}function Sr(ke){for(var ze=ke.length;ze--&&_r.test(ke.charAt(ze)););return ze}var Yr=Jn(co);function tr(ke){for(var ze=Io.lastIndex=0;Io.test(ke);)++ze;return ze}function ir(ke){return ke.match(Io)||[]}function Yt(ke){return ke.match(gs)||[]}var kr=(function ke(ze){ze=ze==null?wr:Kt.defaults(wr.Object(),ze,Kt.pick(wr,Zn));var Ne=ze.Array,mt=ze.Date,St=ze.Error,zt=ze.Function,Tr=ze.Math,ar=ze.Object,yi=ze.RegExp,hu=ze.String,tn=ze.TypeError,Ss=Ne.prototype,pu=zt.prototype,vo=ar.prototype,Ts=ze["__core-js_shared__"],Es=pu.toString,rr=vo.hasOwnProperty,mu=0,pa=(function(){var a=/[^.]+$/.exec(Ts&&Ts.keys&&Ts.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})(),Ms=vo.toString,yu=Es.call(ar),gu=wr._,vu=yi("^"+Es.call(rr).replace($t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Os=Fo?ze.Buffer:ue,Dn=ze.Symbol,ks=ze.Uint8Array,ma=Os?Os.allocUnsafe:ue,Cs=kt(ar.getPrototypeOf,ar),ya=ar.create,ga=vo.propertyIsEnumerable,As=Ss.splice,va=Dn?Dn.isConcatSpreadable:ue,qo=Dn?Dn.iterator:ue,$n=Dn?Dn.toStringTag:ue,Ps=(function(){try{var a=oo(ar,"defineProperty");return a({},"",{}),a}catch{}})(),bu=ze.clearTimeout!==wr.clearTimeout&&ze.clearTimeout,_u=mt&&mt.now!==wr.Date.now&&mt.now,xu=ze.setTimeout!==wr.setTimeout&&ze.setTimeout,Ls=Tr.ceil,Rs=Tr.floor,gi=ar.getOwnPropertySymbols,wu=Os?Os.isBuffer:ue,ba=ze.isFinite,ju=Ss.join,Su=kt(ar.keys,ar),Er=Tr.max,Lr=Tr.min,Tu=mt.now,Eu=ze.parseInt,_a=Tr.random,Mu=Ss.reverse,vi=oo(ze,"DataView"),Xo=oo(ze,"Map"),bi=oo(ze,"Promise"),bo=oo(ze,"Set"),Yo=oo(ze,"WeakMap"),Zo=oo(ar,"create"),Is=Yo&&new Yo,_o={},Ou=so(vi),ku=so(Xo),Cu=so(bi),Au=so(bo),Pu=so(Yo),Ds=Dn?Dn.prototype:ue,Ko=Ds?Ds.valueOf:ue,xa=Ds?Ds.toString:ue;function ae(a){if(pr(a)&&!Ct(a)&&!(a instanceof Nt)){if(a instanceof rn)return a;if(rr.call(a,"__wrapped__"))return wl(a)}return new rn(a)}var xo=(function(){function a(){}return function(v){if(!fr(v))return{};if(ya)return ya(v);a.prototype=v;var P=new a;return a.prototype=ue,P}})();function Fs(){}function rn(a,v){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=ue}ae.templateSettings={escape:jt,evaluate:xt,interpolate:Jt,variable:"",imports:{_:ae}},ae.prototype=Fs.prototype,ae.prototype.constructor=ae,rn.prototype=xo(Fs.prototype),rn.prototype.constructor=rn;function Nt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function Lu(){var a=new Nt(this.__wrapped__);return a.__actions__=Vr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Vr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Vr(this.__views__),a}function Ru(){if(this.__filtered__){var a=new Nt(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Iu(){var a=this.__wrapped__.value(),v=this.__dir__,P=Ct(a),V=v<0,$=P?a.length:0,de=Xc(0,$,this.__views__),_e=de.start,Me=de.end,De=Me-_e,Ke=V?Me:_e-1,Qe=this.__iteratees__,tt=Qe.length,ht=0,_t=Lr(De,this.__takeCount__);if(!P||!V&&$==De&&_t==De)return Wa(a,this.__actions__);var Mt=[];e:for(;De--&&ht<_t;){Ke+=v;for(var Rt=-1,Ot=a[Ke];++Rt<tt;){var Ut=Qe[Rt],Vt=Ut.iteratee,Qr=Ut.type,Br=Vt(Ot);if(Qr==D)Ot=Br;else if(!Br){if(Qr==U)continue e;break e}}Mt[ht++]=Ot}return Mt}Nt.prototype=xo(Fs.prototype),Nt.prototype.constructor=Nt;function eo(a){var v=-1,P=a==null?0:a.length;for(this.clear();++v<P;){var V=a[v];this.set(V[0],V[1])}}function Du(){this.__data__=Zo?Zo(null):{},this.size=0}function Fu(a){var v=this.has(a)&&delete this.__data__[a];return this.size-=v?1:0,v}function Uu(a){var v=this.__data__;if(Zo){var P=v[a];return P===c?ue:P}return rr.call(v,a)?v[a]:ue}function Nu(a){var v=this.__data__;return Zo?v[a]!==ue:rr.call(v,a)}function Bu(a,v){var P=this.__data__;return this.size+=this.has(a)?0:1,P[a]=Zo&&v===ue?c:v,this}eo.prototype.clear=Du,eo.prototype.delete=Fu,eo.prototype.get=Uu,eo.prototype.has=Nu,eo.prototype.set=Bu;function xn(a){var v=-1,P=a==null?0:a.length;for(this.clear();++v<P;){var V=a[v];this.set(V[0],V[1])}}function Gu(){this.__data__=[],this.size=0}function Vu(a){var v=this.__data__,P=Us(v,a);if(P<0)return!1;var V=v.length-1;return P==V?v.pop():As.call(v,P,1),--this.size,!0}function zu(a){var v=this.__data__,P=Us(v,a);return P<0?ue:v[P][1]}function Hu(a){return Us(this.__data__,a)>-1}function Wu(a,v){var P=this.__data__,V=Us(P,a);return V<0?(++this.size,P.push([a,v])):P[V][1]=v,this}xn.prototype.clear=Gu,xn.prototype.delete=Vu,xn.prototype.get=zu,xn.prototype.has=Hu,xn.prototype.set=Wu;function wn(a){var v=-1,P=a==null?0:a.length;for(this.clear();++v<P;){var V=a[v];this.set(V[0],V[1])}}function qu(){this.size=0,this.__data__={hash:new eo,map:new(Xo||xn),string:new eo}}function Xu(a){var v=Ks(this,a).delete(a);return this.size-=v?1:0,v}function Yu(a){return Ks(this,a).get(a)}function Zu(a){return Ks(this,a).has(a)}function Ku(a,v){var P=Ks(this,a),V=P.size;return P.set(a,v),this.size+=P.size==V?0:1,this}wn.prototype.clear=qu,wn.prototype.delete=Xu,wn.prototype.get=Yu,wn.prototype.has=Zu,wn.prototype.set=Ku;function to(a){var v=-1,P=a==null?0:a.length;for(this.__data__=new wn;++v<P;)this.add(a[v])}function Qu(a){return this.__data__.set(a,c),this}function Ju(a){return this.__data__.has(a)}to.prototype.add=to.prototype.push=Qu,to.prototype.has=Ju;function cn(a){var v=this.__data__=new xn(a);this.size=v.size}function $u(){this.__data__=new xn,this.size=0}function ec(a){var v=this.__data__,P=v.delete(a);return this.size=v.size,P}function tc(a){return this.__data__.get(a)}function rc(a){return this.__data__.has(a)}function nc(a,v){var P=this.__data__;if(P instanceof xn){var V=P.__data__;if(!Xo||V.length<H-1)return V.push([a,v]),this.size=++P.size,this;P=this.__data__=new wn(V)}return P.set(a,v),this.size=P.size,this}cn.prototype.clear=$u,cn.prototype.delete=ec,cn.prototype.get=tc,cn.prototype.has=rc,cn.prototype.set=nc;function wa(a,v){var P=Ct(a),V=!P&&io(a),$=!P&&!V&&Gn(a),de=!P&&!V&&!$&&To(a),_e=P||V||$||de,Me=_e?k(a.length,hu):[],De=Me.length;for(var Ke in a)(v||rr.call(a,Ke))&&!(_e&&(Ke=="length"||$&&(Ke=="offset"||Ke=="parent")||de&&(Ke=="buffer"||Ke=="byteLength"||Ke=="byteOffset")||En(Ke,De)))&&Me.push(Ke);return Me}function ja(a){var v=a.length;return v?a[Ci(0,v-1)]:ue}function oc(a,v){return Qs(Vr(a),ro(v,0,a.length))}function sc(a){return Qs(Vr(a))}function _i(a,v,P){(P!==ue&&!dn(a[v],P)||P===ue&&!(v in a))&&jn(a,v,P)}function Qo(a,v,P){var V=a[v];(!(rr.call(a,v)&&dn(V,P))||P===ue&&!(v in a))&&jn(a,v,P)}function Us(a,v){for(var P=a.length;P--;)if(dn(a[P][0],v))return P;return-1}function ic(a,v,P,V){return Fn(a,function($,de,_e){v(V,$,P($),_e)}),V}function Sa(a,v){return a&&vn(v,Cr(v),a)}function ac(a,v){return a&&vn(v,Hr(v),a)}function jn(a,v,P){v=="__proto__"&&Ps?Ps(a,v,{configurable:!0,enumerable:!0,value:P,writable:!0}):a[v]=P}function xi(a,v){for(var P=-1,V=v.length,$=Ne(V),de=a==null;++P<V;)$[P]=de?ue:ta(a,v[P]);return $}function ro(a,v,P){return a===a&&(P!==ue&&(a=a<=P?a:P),v!==ue&&(a=a>=v?a:v)),a}function nn(a,v,P,V,$,de){var _e,Me=v&y,De=v&r,Ke=v&o;if(P&&(_e=$?P(a,V,$,de):P(a)),_e!==ue)return _e;if(!fr(a))return a;var Qe=Ct(a);if(Qe){if(_e=Zc(a),!Me)return Vr(a,_e)}else{var tt=Rr(a),ht=tt==pe||tt==ye;if(Gn(a))return Ya(a,Me);if(tt==Ee||tt==N||ht&&!$){if(_e=De||ht?{}:hl(a),!Me)return De?Uc(a,ac(_e,a)):Fc(a,Sa(_e,a))}else{if(!qt[tt])return $?a:{};_e=Kc(a,tt,Me)}}de||(de=new cn);var _t=de.get(a);if(_t)return _t;de.set(a,_e),Vl(a)?a.forEach(function(Ot){_e.add(nn(Ot,v,P,Ot,a,de))}):Bl(a)&&a.forEach(function(Ot,Ut){_e.set(Ut,nn(Ot,v,P,Ut,a,de))});var Mt=Ke?De?Gi:Bi:De?Hr:Cr,Rt=Qe?ue:Mt(a);return Fr(Rt||a,function(Ot,Ut){Rt&&(Ut=Ot,Ot=a[Ut]),Qo(_e,Ut,nn(Ot,v,P,Ut,a,de))}),_e}function lc(a){var v=Cr(a);return function(P){return Ta(P,a,v)}}function Ta(a,v,P){var V=P.length;if(a==null)return!V;for(a=ar(a);V--;){var $=P[V],de=v[$],_e=a[$];if(_e===ue&&!($ in a)||!de(_e))return!1}return!0}function Ea(a,v,P){if(typeof a!="function")throw new tn(m);return os(function(){a.apply(ue,P)},v)}function Jo(a,v,P,V){var $=-1,de=po,_e=!0,Me=a.length,De=[],Ke=v.length;if(!Me)return De;P&&(v=Xt(v,Y(P))),V?(de=mo,_e=!1):v.length>=H&&(de=fe,_e=!1,v=new to(v));e:for(;++$<Me;){var Qe=a[$],tt=P==null?Qe:P(Qe);if(Qe=V||Qe!==0?Qe:0,_e&&tt===tt){for(var ht=Ke;ht--;)if(v[ht]===tt)continue e;De.push(Qe)}else de(v,tt,V)||De.push(Qe)}return De}var Fn=$a(gn),Ma=$a(ji,!0);function uc(a,v){var P=!0;return Fn(a,function(V,$,de){return P=!!v(V,$,de),P}),P}function Ns(a,v,P){for(var V=-1,$=a.length;++V<$;){var de=a[V],_e=v(de);if(_e!=null&&(Me===ue?_e===_e&&!Kr(_e):P(_e,Me)))var Me=_e,De=de}return De}function cc(a,v,P,V){var $=a.length;for(P=Pt(P),P<0&&(P=-P>$?0:$+P),V=V===ue||V>$?$:Pt(V),V<0&&(V+=$),V=P>V?0:Hl(V);P<V;)a[P++]=v;return a}function Oa(a,v){var P=[];return Fn(a,function(V,$,de){v(V,$,de)&&P.push(V)}),P}function Pr(a,v,P,V,$){var de=-1,_e=a.length;for(P||(P=Jc),$||($=[]);++de<_e;){var Me=a[de];v>0&&P(Me)?v>1?Pr(Me,v-1,P,V,$):yn($,Me):V||($[$.length]=Me)}return $}var wi=el(),ka=el(!0);function gn(a,v){return a&&wi(a,v,Cr)}function ji(a,v){return a&&ka(a,v,Cr)}function Bs(a,v){return pt(v,function(P){return Mn(a[P])})}function no(a,v){v=Nn(v,a);for(var P=0,V=v.length;a!=null&&P<V;)a=a[bn(v[P++])];return P&&P==V?a:ue}function Ca(a,v,P){var V=v(a);return Ct(a)?V:yn(V,P(a))}function Ur(a){return a==null?a===ue?st:we:$n&&$n in ar(a)?qc(a):sd(a)}function Si(a,v){return a>v}function dc(a,v){return a!=null&&rr.call(a,v)}function fc(a,v){return a!=null&&v in ar(a)}function hc(a,v,P){return a>=Lr(v,P)&&a<Er(v,P)}function Ti(a,v,P){for(var V=P?mo:po,$=a[0].length,de=a.length,_e=de,Me=Ne(de),De=1/0,Ke=[];_e--;){var Qe=a[_e];_e&&v&&(Qe=Xt(Qe,Y(v))),De=Lr(Qe.length,De),Me[_e]=!P&&(v||$>=120&&Qe.length>=120)?new to(_e&&Qe):ue}Qe=a[0];var tt=-1,ht=Me[0];e:for(;++tt<$&&Ke.length<De;){var _t=Qe[tt],Mt=v?v(_t):_t;if(_t=P||_t!==0?_t:0,!(ht?fe(ht,Mt):V(Ke,Mt,P))){for(_e=de;--_e;){var Rt=Me[_e];if(!(Rt?fe(Rt,Mt):V(a[_e],Mt,P)))continue e}ht&&ht.push(Mt),Ke.push(_t)}}return Ke}function pc(a,v,P,V){return gn(a,function($,de,_e){v(V,P($),de,_e)}),V}function $o(a,v,P){v=Nn(v,a),a=gl(a,v);var V=a==null?a:a[bn(sn(v))];return V==null?ue:Or(V,a,P)}function Aa(a){return pr(a)&&Ur(a)==N}function mc(a){return pr(a)&&Ur(a)==it}function yc(a){return pr(a)&&Ur(a)==ce}function es(a,v,P,V,$){return a===v?!0:a==null||v==null||!pr(a)&&!pr(v)?a!==a&&v!==v:gc(a,v,P,V,es,$)}function gc(a,v,P,V,$,de){var _e=Ct(a),Me=Ct(v),De=_e?q:Rr(a),Ke=Me?q:Rr(v);De=De==N?Ee:De,Ke=Ke==N?Ee:Ke;var Qe=De==Ee,tt=Ke==Ee,ht=De==Ke;if(ht&&Gn(a)){if(!Gn(v))return!1;_e=!0,Qe=!1}if(ht&&!Qe)return de||(de=new cn),_e||To(a)?cl(a,v,P,V,$,de):Hc(a,v,De,P,V,$,de);if(!(P&i)){var _t=Qe&&rr.call(a,"__wrapped__"),Mt=tt&&rr.call(v,"__wrapped__");if(_t||Mt){var Rt=_t?a.value():a,Ot=Mt?v.value():v;return de||(de=new cn),$(Rt,Ot,P,V,de)}}return ht?(de||(de=new cn),Wc(a,v,P,V,$,de)):!1}function vc(a){return pr(a)&&Rr(a)==te}function Ei(a,v,P,V){var $=P.length,de=$,_e=!V;if(a==null)return!de;for(a=ar(a);$--;){var Me=P[$];if(_e&&Me[2]?Me[1]!==a[Me[0]]:!(Me[0]in a))return!1}for(;++$<de;){Me=P[$];var De=Me[0],Ke=a[De],Qe=Me[1];if(_e&&Me[2]){if(Ke===ue&&!(De in a))return!1}else{var tt=new cn;if(V)var ht=V(Ke,Qe,De,a,v,tt);if(!(ht===ue?es(Qe,Ke,i|l,V,tt):ht))return!1}}return!0}function Pa(a){if(!fr(a)||ed(a))return!1;var v=Mn(a)?vu:dt;return v.test(so(a))}function bc(a){return pr(a)&&Ur(a)==Pe}function _c(a){return pr(a)&&Rr(a)==qe}function xc(a){return pr(a)&&ni(a.length)&&!!Gt[Ur(a)]}function La(a){return typeof a=="function"?a:a==null?Wr:typeof a=="object"?Ct(a)?Da(a[0],a[1]):Ia(a):tu(a)}function Mi(a){if(!ns(a))return Su(a);var v=[];for(var P in ar(a))rr.call(a,P)&&P!="constructor"&&v.push(P);return v}function wc(a){if(!fr(a))return od(a);var v=ns(a),P=[];for(var V in a)V=="constructor"&&(v||!rr.call(a,V))||P.push(V);return P}function Oi(a,v){return a<v}function Ra(a,v){var P=-1,V=zr(a)?Ne(a.length):[];return Fn(a,function($,de,_e){V[++P]=v($,de,_e)}),V}function Ia(a){var v=zi(a);return v.length==1&&v[0][2]?ml(v[0][0],v[0][1]):function(P){return P===a||Ei(P,a,v)}}function Da(a,v){return Wi(a)&&pl(v)?ml(bn(a),v):function(P){var V=ta(P,a);return V===ue&&V===v?ra(P,a):es(v,V,i|l)}}function Gs(a,v,P,V,$){a!==v&&wi(v,function(de,_e){if($||($=new cn),fr(de))jc(a,v,_e,P,Gs,V,$);else{var Me=V?V(Xi(a,_e),de,_e+"",a,v,$):ue;Me===ue&&(Me=de),_i(a,_e,Me)}},Hr)}function jc(a,v,P,V,$,de,_e){var Me=Xi(a,P),De=Xi(v,P),Ke=_e.get(De);if(Ke){_i(a,P,Ke);return}var Qe=de?de(Me,De,P+"",a,v,_e):ue,tt=Qe===ue;if(tt){var ht=Ct(De),_t=!ht&&Gn(De),Mt=!ht&&!_t&&To(De);Qe=De,ht||_t||Mt?Ct(Me)?Qe=Me:vr(Me)?Qe=Vr(Me):_t?(tt=!1,Qe=Ya(De,!0)):Mt?(tt=!1,Qe=Za(De,!0)):Qe=[]:ss(De)||io(De)?(Qe=Me,io(Me)?Qe=Wl(Me):(!fr(Me)||Mn(Me))&&(Qe=hl(De))):tt=!1}tt&&(_e.set(De,Qe),$(Qe,De,V,de,_e),_e.delete(De)),_i(a,P,Qe)}function Fa(a,v){var P=a.length;if(P)return v+=v<0?P:0,En(v,P)?a[v]:ue}function Ua(a,v,P){v.length?v=Xt(v,function(de){return Ct(de)?function(_e){return no(_e,de.length===1?de[0]:de)}:de}):v=[Wr];var V=-1;v=Xt(v,Y(Tt()));var $=Ra(a,function(de,_e,Me){var De=Xt(v,function(Ke){return Ke(de)});return{criteria:De,index:++V,value:de}});return x($,function(de,_e){return Dc(de,_e,P)})}function Sc(a,v){return Na(a,v,function(P,V){return ra(a,V)})}function Na(a,v,P){for(var V=-1,$=v.length,de={};++V<$;){var _e=v[V],Me=no(a,_e);P(Me,_e)&&ts(de,Nn(_e,a),Me)}return de}function Tc(a){return function(v){return no(v,a)}}function ki(a,v,P,V){var $=V?mi:In,de=-1,_e=v.length,Me=a;for(a===v&&(v=Vr(v)),P&&(Me=Xt(a,Y(P)));++de<_e;)for(var De=0,Ke=v[de],Qe=P?P(Ke):Ke;(De=$(Me,Qe,De,V))>-1;)Me!==a&&As.call(Me,De,1),As.call(a,De,1);return a}function Ba(a,v){for(var P=a?v.length:0,V=P-1;P--;){var $=v[P];if(P==V||$!==de){var de=$;En($)?As.call(a,$,1):Li(a,$)}}return a}function Ci(a,v){return a+Rs(_a()*(v-a+1))}function Ec(a,v,P,V){for(var $=-1,de=Er(Ls((v-a)/(P||1)),0),_e=Ne(de);de--;)_e[V?de:++$]=a,a+=P;return _e}function Ai(a,v){var P="";if(!a||v<1||v>W)return P;do v%2&&(P+=a),v=Rs(v/2),v&&(a+=a);while(v);return P}function Dt(a,v){return Yi(yl(a,v,Wr),a+"")}function Mc(a){return ja(Eo(a))}function Oc(a,v){var P=Eo(a);return Qs(P,ro(v,0,P.length))}function ts(a,v,P,V){if(!fr(a))return a;v=Nn(v,a);for(var $=-1,de=v.length,_e=de-1,Me=a;Me!=null&&++$<de;){var De=bn(v[$]),Ke=P;if(De==="__proto__"||De==="constructor"||De==="prototype")return a;if($!=_e){var Qe=Me[De];Ke=V?V(Qe,De,Me):ue,Ke===ue&&(Ke=fr(Qe)?Qe:En(v[$+1])?[]:{})}Qo(Me,De,Ke),Me=Me[De]}return a}var Ga=Is?function(a,v){return Is.set(a,v),a}:Wr,kc=Ps?function(a,v){return Ps(a,"toString",{configurable:!0,enumerable:!1,value:oa(v),writable:!0})}:Wr;function Cc(a){return Qs(Eo(a))}function on(a,v,P){var V=-1,$=a.length;v<0&&(v=-v>$?0:$+v),P=P>$?$:P,P<0&&(P+=$),$=v>P?0:P-v>>>0,v>>>=0;for(var de=Ne($);++V<$;)de[V]=a[V+v];return de}function Ac(a,v){var P;return Fn(a,function(V,$,de){return P=v(V,$,de),!P}),!!P}function Vs(a,v,P){var V=0,$=a==null?V:a.length;if(typeof v=="number"&&v===v&&$<=w){for(;V<$;){var de=V+$>>>1,_e=a[de];_e!==null&&!Kr(_e)&&(P?_e<=v:_e<v)?V=de+1:$=de}return $}return Pi(a,v,Wr,P)}function Pi(a,v,P,V){var $=0,de=a==null?0:a.length;if(de===0)return 0;v=P(v);for(var _e=v!==v,Me=v===null,De=Kr(v),Ke=v===ue;$<de;){var Qe=Rs(($+de)/2),tt=P(a[Qe]),ht=tt!==ue,_t=tt===null,Mt=tt===tt,Rt=Kr(tt);if(_e)var Ot=V||Mt;else Ke?Ot=Mt&&(V||ht):Me?Ot=Mt&&ht&&(V||!_t):De?Ot=Mt&&ht&&!_t&&(V||!Rt):_t||Rt?Ot=!1:Ot=V?tt<=v:tt<v;Ot?$=Qe+1:de=Qe}return Lr(de,le)}function Va(a,v){for(var P=-1,V=a.length,$=0,de=[];++P<V;){var _e=a[P],Me=v?v(_e):_e;if(!P||!dn(Me,De)){var De=Me;de[$++]=_e===0?0:_e}}return de}function za(a){return typeof a=="number"?a:Kr(a)?Z:+a}function Zr(a){if(typeof a=="string")return a;if(Ct(a))return Xt(a,Zr)+"";if(Kr(a))return xa?xa.call(a):"";var v=a+"";return v=="0"&&1/a==-X?"-0":v}function Un(a,v,P){var V=-1,$=po,de=a.length,_e=!0,Me=[],De=Me;if(P)_e=!1,$=mo;else if(de>=H){var Ke=v?null:Vc(a);if(Ke)return bt(Ke);_e=!1,$=fe,De=new to}else De=v?[]:Me;e:for(;++V<de;){var Qe=a[V],tt=v?v(Qe):Qe;if(Qe=P||Qe!==0?Qe:0,_e&&tt===tt){for(var ht=De.length;ht--;)if(De[ht]===tt)continue e;v&&De.push(tt),Me.push(Qe)}else $(De,tt,P)||(De!==Me&&De.push(tt),Me.push(Qe))}return Me}function Li(a,v){return v=Nn(v,a),a=gl(a,v),a==null||delete a[bn(sn(v))]}function Ha(a,v,P,V){return ts(a,v,P(no(a,v)),V)}function zs(a,v,P,V){for(var $=a.length,de=V?$:-1;(V?de--:++de<$)&&v(a[de],de,a););return P?on(a,V?0:de,V?de+1:$):on(a,V?de+1:0,V?$:de)}function Wa(a,v){var P=a;return P instanceof Nt&&(P=P.value()),Ho(v,function(V,$){return $.func.apply($.thisArg,yn([V],$.args))},P)}function Ri(a,v,P){var V=a.length;if(V<2)return V?Un(a[0]):[];for(var $=-1,de=Ne(V);++$<V;)for(var _e=a[$],Me=-1;++Me<V;)Me!=$&&(de[$]=Jo(de[$]||_e,a[Me],v,P));return Un(Pr(de,1),v,P)}function qa(a,v,P){for(var V=-1,$=a.length,de=v.length,_e={};++V<$;){var Me=V<de?v[V]:ue;P(_e,a[V],Me)}return _e}function Ii(a){return vr(a)?a:[]}function Di(a){return typeof a=="function"?a:Wr}function Nn(a,v){return Ct(a)?a:Wi(a,v)?[a]:xl(Qt(a))}var Pc=Dt;function Bn(a,v,P){var V=a.length;return P=P===ue?V:P,!v&&P>=V?a:on(a,v,P)}var Xa=bu||function(a){return wr.clearTimeout(a)};function Ya(a,v){if(v)return a.slice();var P=a.length,V=ma?ma(P):new a.constructor(P);return a.copy(V),V}function Fi(a){var v=new a.constructor(a.byteLength);return new ks(v).set(new ks(a)),v}function Lc(a,v){var P=v?Fi(a.buffer):a.buffer;return new a.constructor(P,a.byteOffset,a.byteLength)}function Rc(a){var v=new a.constructor(a.source,Cn.exec(a));return v.lastIndex=a.lastIndex,v}function Ic(a){return Ko?ar(Ko.call(a)):{}}function Za(a,v){var P=v?Fi(a.buffer):a.buffer;return new a.constructor(P,a.byteOffset,a.length)}function Ka(a,v){if(a!==v){var P=a!==ue,V=a===null,$=a===a,de=Kr(a),_e=v!==ue,Me=v===null,De=v===v,Ke=Kr(v);if(!Me&&!Ke&&!de&&a>v||de&&_e&&De&&!Me&&!Ke||V&&_e&&De||!P&&De||!$)return 1;if(!V&&!de&&!Ke&&a<v||Ke&&P&&$&&!V&&!de||Me&&P&&$||!_e&&$||!De)return-1}return 0}function Dc(a,v,P){for(var V=-1,$=a.criteria,de=v.criteria,_e=$.length,Me=P.length;++V<_e;){var De=Ka($[V],de[V]);if(De){if(V>=Me)return De;var Ke=P[V];return De*(Ke=="desc"?-1:1)}}return a.index-v.index}function Qa(a,v,P,V){for(var $=-1,de=a.length,_e=P.length,Me=-1,De=v.length,Ke=Er(de-_e,0),Qe=Ne(De+Ke),tt=!V;++Me<De;)Qe[Me]=v[Me];for(;++$<_e;)(tt||$<de)&&(Qe[P[$]]=a[$]);for(;Ke--;)Qe[Me++]=a[$++];return Qe}function Ja(a,v,P,V){for(var $=-1,de=a.length,_e=-1,Me=P.length,De=-1,Ke=v.length,Qe=Er(de-Me,0),tt=Ne(Qe+Ke),ht=!V;++$<Qe;)tt[$]=a[$];for(var _t=$;++De<Ke;)tt[_t+De]=v[De];for(;++_e<Me;)(ht||$<de)&&(tt[_t+P[_e]]=a[$++]);return tt}function Vr(a,v){var P=-1,V=a.length;for(v||(v=Ne(V));++P<V;)v[P]=a[P];return v}function vn(a,v,P,V){var $=!P;P||(P={});for(var de=-1,_e=v.length;++de<_e;){var Me=v[de],De=V?V(P[Me],a[Me],Me,P,a):ue;De===ue&&(De=a[Me]),$?jn(P,Me,De):Qo(P,Me,De)}return P}function Fc(a,v){return vn(a,Hi(a),v)}function Uc(a,v){return vn(a,dl(a),v)}function Hs(a,v){return function(P,V){var $=Ct(P)?zo:ic,de=v?v():{};return $(P,a,Tt(V,2),de)}}function wo(a){return Dt(function(v,P){var V=-1,$=P.length,de=$>1?P[$-1]:ue,_e=$>2?P[2]:ue;for(de=a.length>3&&typeof de=="function"?($--,de):ue,_e&&Nr(P[0],P[1],_e)&&(de=$<3?ue:de,$=1),v=ar(v);++V<$;){var Me=P[V];Me&&a(v,Me,V,de)}return v})}function $a(a,v){return function(P,V){if(P==null)return P;if(!zr(P))return a(P,V);for(var $=P.length,de=v?$:-1,_e=ar(P);(v?de--:++de<$)&&V(_e[de],de,_e)!==!1;);return P}}function el(a){return function(v,P,V){for(var $=-1,de=ar(v),_e=V(v),Me=_e.length;Me--;){var De=_e[a?Me:++$];if(P(de[De],De,de)===!1)break}return v}}function Nc(a,v,P){var V=v&u,$=rs(a);function de(){var _e=this&&this!==wr&&this instanceof de?$:a;return _e.apply(V?P:this,arguments)}return de}function tl(a){return function(v){v=Qt(v);var P=He(v)?or(v):ue,V=P?P[0]:v.charAt(0),$=P?Bn(P,1).join(""):v.slice(1);return V[a]()+$}}function jo(a){return function(v){return Ho($l(Jl(v).replace(ci,"")),a,"")}}function rs(a){return function(){var v=arguments;switch(v.length){case 0:return new a;case 1:return new a(v[0]);case 2:return new a(v[0],v[1]);case 3:return new a(v[0],v[1],v[2]);case 4:return new a(v[0],v[1],v[2],v[3]);case 5:return new a(v[0],v[1],v[2],v[3],v[4]);case 6:return new a(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new a(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var P=xo(a.prototype),V=a.apply(P,v);return fr(V)?V:P}}function Bc(a,v,P){var V=rs(a);function $(){for(var de=arguments.length,_e=Ne(de),Me=de,De=So($);Me--;)_e[Me]=arguments[Me];var Ke=de<3&&_e[0]!==De&&_e[de-1]!==De?[]:yt(_e,De);if(de-=Ke.length,de<P)return il(a,v,Ws,$.placeholder,ue,_e,Ke,ue,ue,P-de);var Qe=this&&this!==wr&&this instanceof $?V:a;return Or(Qe,this,_e)}return $}function rl(a){return function(v,P,V){var $=ar(v);if(!zr(v)){var de=Tt(P,3);v=Cr(v),P=function(Me){return de($[Me],Me,$)}}var _e=a(v,P,V);return _e>-1?$[de?v[_e]:_e]:ue}}function nl(a){return Tn(function(v){var P=v.length,V=P,$=rn.prototype.thru;for(a&&v.reverse();V--;){var de=v[V];if(typeof de!="function")throw new tn(m);if($&&!_e&&Zs(de)=="wrapper")var _e=new rn([],!0)}for(V=_e?V:P;++V<P;){de=v[V];var Me=Zs(de),De=Me=="wrapper"?Vi(de):ue;De&&qi(De[0])&&De[1]==(j|p|_|S)&&!De[4].length&&De[9]==1?_e=_e[Zs(De[0])].apply(_e,De[3]):_e=de.length==1&&qi(de)?_e[Me]():_e.thru(de)}return function(){var Ke=arguments,Qe=Ke[0];if(_e&&Ke.length==1&&Ct(Qe))return _e.plant(Qe).value();for(var tt=0,ht=P?v[tt].apply(this,Ke):Qe;++tt<P;)ht=v[tt].call(this,ht);return ht}})}function Ws(a,v,P,V,$,de,_e,Me,De,Ke){var Qe=v&j,tt=v&u,ht=v&s,_t=v&(p|h),Mt=v&C,Rt=ht?ue:rs(a);function Ot(){for(var Ut=arguments.length,Vt=Ne(Ut),Qr=Ut;Qr--;)Vt[Qr]=arguments[Qr];if(_t)var Br=So(Ot),Jr=Ie(Vt,Br);if(V&&(Vt=Qa(Vt,V,$,_t)),de&&(Vt=Ja(Vt,de,_e,_t)),Ut-=Jr,_t&&Ut<Ke){var br=yt(Vt,Br);return il(a,v,Ws,Ot.placeholder,P,Vt,br,Me,De,Ke-Ut)}var fn=tt?P:this,kn=ht?fn[a]:a;return Ut=Vt.length,Me?Vt=id(Vt,Me):Mt&&Ut>1&&Vt.reverse(),Qe&&De<Ut&&(Vt.length=De),this&&this!==wr&&this instanceof Ot&&(kn=Rt||rs(kn)),kn.apply(fn,Vt)}return Ot}function ol(a,v){return function(P,V){return pc(P,a,v(V),{})}}function qs(a,v){return function(P,V){var $;if(P===ue&&V===ue)return v;if(P!==ue&&($=P),V!==ue){if($===ue)return V;typeof P=="string"||typeof V=="string"?(P=Zr(P),V=Zr(V)):(P=za(P),V=za(V)),$=a(P,V)}return $}}function Ui(a){return Tn(function(v){return v=Xt(v,Y(Tt())),Dt(function(P){var V=this;return a(v,function($){return Or($,V,P)})})})}function Xs(a,v){v=v===ue?" ":Zr(v);var P=v.length;if(P<2)return P?Ai(v,a):v;var V=Ai(v,Ls(a/sr(v)));return He(v)?Bn(or(V),0,a).join(""):V.slice(0,a)}function Gc(a,v,P,V){var $=v&u,de=rs(a);function _e(){for(var Me=-1,De=arguments.length,Ke=-1,Qe=V.length,tt=Ne(Qe+De),ht=this&&this!==wr&&this instanceof _e?de:a;++Ke<Qe;)tt[Ke]=V[Ke];for(;De--;)tt[Ke++]=arguments[++Me];return Or(ht,$?P:this,tt)}return _e}function sl(a){return function(v,P,V){return V&&typeof V!="number"&&Nr(v,P,V)&&(P=V=ue),v=On(v),P===ue?(P=v,v=0):P=On(P),V=V===ue?v<P?1:-1:On(V),Ec(v,P,V,a)}}function Ys(a){return function(v,P){return typeof v=="string"&&typeof P=="string"||(v=an(v),P=an(P)),a(v,P)}}function il(a,v,P,V,$,de,_e,Me,De,Ke){var Qe=v&p,tt=Qe?_e:ue,ht=Qe?ue:_e,_t=Qe?de:ue,Mt=Qe?ue:de;v|=Qe?_:T,v&=~(Qe?T:_),v&n||(v&=-4);var Rt=[a,v,$,_t,tt,Mt,ht,Me,De,Ke],Ot=P.apply(ue,Rt);return qi(a)&&vl(Ot,Rt),Ot.placeholder=V,bl(Ot,a,v)}function Ni(a){var v=Tr[a];return function(P,V){if(P=an(P),V=V==null?0:Lr(Pt(V),292),V&&ba(P)){var $=(Qt(P)+"e").split("e"),de=v($[0]+"e"+(+$[1]+V));return $=(Qt(de)+"e").split("e"),+($[0]+"e"+(+$[1]-V))}return v(P)}}var Vc=bo&&1/bt(new bo([,-0]))[1]==X?function(a){return new bo(a)}:aa;function al(a){return function(v){var P=Rr(v);return P==te?vt(v):P==qe?At(v):F(v,a(v))}}function Sn(a,v,P,V,$,de,_e,Me){var De=v&s;if(!De&&typeof a!="function")throw new tn(m);var Ke=V?V.length:0;if(Ke||(v&=-97,V=$=ue),_e=_e===ue?_e:Er(Pt(_e),0),Me=Me===ue?Me:Pt(Me),Ke-=$?$.length:0,v&T){var Qe=V,tt=$;V=$=ue}var ht=De?ue:Vi(a),_t=[a,v,P,V,$,Qe,tt,de,_e,Me];if(ht&&nd(_t,ht),a=_t[0],v=_t[1],P=_t[2],V=_t[3],$=_t[4],Me=_t[9]=_t[9]===ue?De?0:a.length:Er(_t[9]-Ke,0),!Me&&v&(p|h)&&(v&=-25),!v||v==u)var Mt=Nc(a,v,P);else v==p||v==h?Mt=Bc(a,v,Me):(v==_||v==(u|_))&&!$.length?Mt=Gc(a,v,P,V):Mt=Ws.apply(ue,_t);var Rt=ht?Ga:vl;return bl(Rt(Mt,_t),a,v)}function ll(a,v,P,V){return a===ue||dn(a,vo[P])&&!rr.call(V,P)?v:a}function ul(a,v,P,V,$,de){return fr(a)&&fr(v)&&(de.set(v,a),Gs(a,v,ue,ul,de),de.delete(v)),a}function zc(a){return ss(a)?ue:a}function cl(a,v,P,V,$,de){var _e=P&i,Me=a.length,De=v.length;if(Me!=De&&!(_e&&De>Me))return!1;var Ke=de.get(a),Qe=de.get(v);if(Ke&&Qe)return Ke==v&&Qe==a;var tt=-1,ht=!0,_t=P&l?new to:ue;for(de.set(a,v),de.set(v,a);++tt<Me;){var Mt=a[tt],Rt=v[tt];if(V)var Ot=_e?V(Rt,Mt,tt,v,a,de):V(Mt,Rt,tt,a,v,de);if(Ot!==ue){if(Ot)continue;ht=!1;break}if(_t){if(!yo(v,function(Ut,Vt){if(!fe(_t,Vt)&&(Mt===Ut||$(Mt,Ut,P,V,de)))return _t.push(Vt)})){ht=!1;break}}else if(!(Mt===Rt||$(Mt,Rt,P,V,de))){ht=!1;break}}return de.delete(a),de.delete(v),ht}function Hc(a,v,P,V,$,de,_e){switch(P){case Oe:if(a.byteLength!=v.byteLength||a.byteOffset!=v.byteOffset)return!1;a=a.buffer,v=v.buffer;case it:return!(a.byteLength!=v.byteLength||!de(new ks(a),new ks(v)));case re:case ce:case me:return dn(+a,+v);case se:return a.name==v.name&&a.message==v.message;case Pe:case Re:return a==v+"";case te:var Me=vt;case qe:var De=V&i;if(Me||(Me=bt),a.size!=v.size&&!De)return!1;var Ke=_e.get(a);if(Ke)return Ke==v;V|=l,_e.set(a,v);var Qe=cl(Me(a),Me(v),V,$,de,_e);return _e.delete(a),Qe;case ft:if(Ko)return Ko.call(a)==Ko.call(v)}return!1}function Wc(a,v,P,V,$,de){var _e=P&i,Me=Bi(a),De=Me.length,Ke=Bi(v),Qe=Ke.length;if(De!=Qe&&!_e)return!1;for(var tt=De;tt--;){var ht=Me[tt];if(!(_e?ht in v:rr.call(v,ht)))return!1}var _t=de.get(a),Mt=de.get(v);if(_t&&Mt)return _t==v&&Mt==a;var Rt=!0;de.set(a,v),de.set(v,a);for(var Ot=_e;++tt<De;){ht=Me[tt];var Ut=a[ht],Vt=v[ht];if(V)var Qr=_e?V(Vt,Ut,ht,v,a,de):V(Ut,Vt,ht,a,v,de);if(!(Qr===ue?Ut===Vt||$(Ut,Vt,P,V,de):Qr)){Rt=!1;break}Ot||(Ot=ht=="constructor")}if(Rt&&!Ot){var Br=a.constructor,Jr=v.constructor;Br!=Jr&&"constructor"in a&&"constructor"in v&&!(typeof Br=="function"&&Br instanceof Br&&typeof Jr=="function"&&Jr instanceof Jr)&&(Rt=!1)}return de.delete(a),de.delete(v),Rt}function Tn(a){return Yi(yl(a,ue,Tl),a+"")}function Bi(a){return Ca(a,Cr,Hi)}function Gi(a){return Ca(a,Hr,dl)}var Vi=Is?function(a){return Is.get(a)}:aa;function Zs(a){for(var v=a.name+"",P=_o[v],V=rr.call(_o,v)?P.length:0;V--;){var $=P[V],de=$.func;if(de==null||de==a)return $.name}return v}function So(a){var v=rr.call(ae,"placeholder")?ae:a;return v.placeholder}function Tt(){var a=ae.iteratee||sa;return a=a===sa?La:a,arguments.length?a(arguments[0],arguments[1]):a}function Ks(a,v){var P=a.__data__;return $c(v)?P[typeof v=="string"?"string":"hash"]:P.map}function zi(a){for(var v=Cr(a),P=v.length;P--;){var V=v[P],$=a[V];v[P]=[V,$,pl($)]}return v}function oo(a,v){var P=Be(a,v);return Pa(P)?P:ue}function qc(a){var v=rr.call(a,$n),P=a[$n];try{a[$n]=ue;var V=!0}catch{}var $=Ms.call(a);return V&&(v?a[$n]=P:delete a[$n]),$}var Hi=gi?function(a){return a==null?[]:(a=ar(a),pt(gi(a),function(v){return ga.call(a,v)}))}:la,dl=gi?function(a){for(var v=[];a;)yn(v,Hi(a)),a=Cs(a);return v}:la,Rr=Ur;(vi&&Rr(new vi(new ArrayBuffer(1)))!=Oe||Xo&&Rr(new Xo)!=te||bi&&Rr(bi.resolve())!=xe||bo&&Rr(new bo)!=qe||Yo&&Rr(new Yo)!=nt)&&(Rr=function(a){var v=Ur(a),P=v==Ee?a.constructor:ue,V=P?so(P):"";if(V)switch(V){case Ou:return Oe;case ku:return te;case Cu:return xe;case Au:return qe;case Pu:return nt}return v});function Xc(a,v,P){for(var V=-1,$=P.length;++V<$;){var de=P[V],_e=de.size;switch(de.type){case"drop":a+=_e;break;case"dropRight":v-=_e;break;case"take":v=Lr(v,a+_e);break;case"takeRight":a=Er(a,v-_e);break}}return{start:a,end:v}}function Yc(a){var v=a.match(jr);return v?v[1].split(zn):[]}function fl(a,v,P){v=Nn(v,a);for(var V=-1,$=v.length,de=!1;++V<$;){var _e=bn(v[V]);if(!(de=a!=null&&P(a,_e)))break;a=a[_e]}return de||++V!=$?de:($=a==null?0:a.length,!!$&&ni($)&&En(_e,$)&&(Ct(a)||io(a)))}function Zc(a){var v=a.length,P=new a.constructor(v);return v&&typeof a[0]=="string"&&rr.call(a,"index")&&(P.index=a.index,P.input=a.input),P}function hl(a){return typeof a.constructor=="function"&&!ns(a)?xo(Cs(a)):{}}function Kc(a,v,P){var V=a.constructor;switch(v){case it:return Fi(a);case re:case ce:return new V(+a);case Oe:return Lc(a,P);case Xe:case Le:case ee:case oe:case K:case ie:case je:case Ae:case Ge:return Za(a,P);case te:return new V;case me:case Re:return new V(a);case Pe:return Rc(a);case qe:return new V;case ft:return Ic(a)}}function Qc(a,v){var P=v.length;if(!P)return a;var V=P-1;return v[V]=(P>1?"& ":"")+v[V],v=v.join(P>2?", ":" "),a.replace(Zt,`{
/* [wrapped with `+v+`] */
`)}function Jc(a){return Ct(a)||io(a)||!!(va&&a&&a[va])}function En(a,v){var P=typeof a;return v=v??W,!!v&&(P=="number"||P!="symbol"&&It.test(a))&&a>-1&&a%1==0&&a<v}function Nr(a,v,P){if(!fr(P))return!1;var V=typeof v;return(V=="number"?zr(P)&&En(v,P.length):V=="string"&&v in P)?dn(P[v],a):!1}function Wi(a,v){if(Ct(a))return!1;var P=typeof a;return P=="number"||P=="symbol"||P=="boolean"||a==null||Kr(a)?!0:hr.test(a)||!Mr.test(a)||v!=null&&a in ar(v)}function $c(a){var v=typeof a;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?a!=="__proto__":a===null}function qi(a){var v=Zs(a),P=ae[v];if(typeof P!="function"||!(v in Nt.prototype))return!1;if(a===P)return!0;var V=Vi(P);return!!V&&a===V[0]}function ed(a){return!!pa&&pa in a}var td=Ts?Mn:ua;function ns(a){var v=a&&a.constructor,P=typeof v=="function"&&v.prototype||vo;return a===P}function pl(a){return a===a&&!fr(a)}function ml(a,v){return function(P){return P==null?!1:P[a]===v&&(v!==ue||a in ar(P))}}function rd(a){var v=ti(a,function(V){return P.size===d&&P.clear(),V}),P=v.cache;return v}function nd(a,v){var P=a[1],V=v[1],$=P|V,de=$<(u|s|j),_e=V==j&&P==p||V==j&&P==S&&a[7].length<=v[8]||V==(j|S)&&v[7].length<=v[8]&&P==p;if(!(de||_e))return a;V&u&&(a[2]=v[2],$|=P&u?0:n);var Me=v[3];if(Me){var De=a[3];a[3]=De?Qa(De,Me,v[4]):Me,a[4]=De?yt(a[3],b):v[4]}return Me=v[5],Me&&(De=a[5],a[5]=De?Ja(De,Me,v[6]):Me,a[6]=De?yt(a[5],b):v[6]),Me=v[7],Me&&(a[7]=Me),V&j&&(a[8]=a[8]==null?v[8]:Lr(a[8],v[8])),a[9]==null&&(a[9]=v[9]),a[0]=v[0],a[1]=$,a}function od(a){var v=[];if(a!=null)for(var P in ar(a))v.push(P);return v}function sd(a){return Ms.call(a)}function yl(a,v,P){return v=Er(v===ue?a.length-1:v,0),function(){for(var V=arguments,$=-1,de=Er(V.length-v,0),_e=Ne(de);++$<de;)_e[$]=V[v+$];$=-1;for(var Me=Ne(v+1);++$<v;)Me[$]=V[$];return Me[v]=P(_e),Or(a,this,Me)}}function gl(a,v){return v.length<2?a:no(a,on(v,0,-1))}function id(a,v){for(var P=a.length,V=Lr(v.length,P),$=Vr(a);V--;){var de=v[V];a[V]=En(de,P)?$[de]:ue}return a}function Xi(a,v){if(!(v==="constructor"&&typeof a[v]=="function")&&v!="__proto__")return a[v]}var vl=_l(Ga),os=xu||function(a,v){return wr.setTimeout(a,v)},Yi=_l(kc);function bl(a,v,P){var V=v+"";return Yi(a,Qc(V,ad(Yc(V),P)))}function _l(a){var v=0,P=0;return function(){var V=Tu(),$=O-(V-P);if(P=V,$>0){if(++v>=I)return arguments[0]}else v=0;return a.apply(ue,arguments)}}function Qs(a,v){var P=-1,V=a.length,$=V-1;for(v=v===ue?V:v;++P<v;){var de=Ci(P,$),_e=a[de];a[de]=a[P],a[P]=_e}return a.length=v,a}var xl=rd(function(a){var v=[];return a.charCodeAt(0)===46&&v.push(""),a.replace(Wt,function(P,V,$,de){v.push($?de.replace(ao,"$1"):V||P)}),v});function bn(a){if(typeof a=="string"||Kr(a))return a;var v=a+"";return v=="0"&&1/a==-X?"-0":v}function so(a){if(a!=null){try{return Es.call(a)}catch{}try{return a+""}catch{}}return""}function ad(a,v){return Fr(R,function(P){var V="_."+P[0];v&P[1]&&!po(a,V)&&a.push(V)}),a.sort()}function wl(a){if(a instanceof Nt)return a.clone();var v=new rn(a.__wrapped__,a.__chain__);return v.__actions__=Vr(a.__actions__),v.__index__=a.__index__,v.__values__=a.__values__,v}function ld(a,v,P){(P?Nr(a,v,P):v===ue)?v=1:v=Er(Pt(v),0);var V=a==null?0:a.length;if(!V||v<1)return[];for(var $=0,de=0,_e=Ne(Ls(V/v));$<V;)_e[de++]=on(a,$,$+=v);return _e}function ud(a){for(var v=-1,P=a==null?0:a.length,V=0,$=[];++v<P;){var de=a[v];de&&($[V++]=de)}return $}function cd(){var a=arguments.length;if(!a)return[];for(var v=Ne(a-1),P=arguments[0],V=a;V--;)v[V-1]=arguments[V];return yn(Ct(P)?Vr(P):[P],Pr(v,1))}var dd=Dt(function(a,v){return vr(a)?Jo(a,Pr(v,1,vr,!0)):[]}),fd=Dt(function(a,v){var P=sn(v);return vr(P)&&(P=ue),vr(a)?Jo(a,Pr(v,1,vr,!0),Tt(P,2)):[]}),hd=Dt(function(a,v){var P=sn(v);return vr(P)&&(P=ue),vr(a)?Jo(a,Pr(v,1,vr,!0),ue,P):[]});function pd(a,v,P){var V=a==null?0:a.length;return V?(v=P||v===ue?1:Pt(v),on(a,v<0?0:v,V)):[]}function md(a,v,P){var V=a==null?0:a.length;return V?(v=P||v===ue?1:Pt(v),v=V-v,on(a,0,v<0?0:v)):[]}function yd(a,v){return a&&a.length?zs(a,Tt(v,3),!0,!0):[]}function gd(a,v){return a&&a.length?zs(a,Tt(v,3),!0):[]}function vd(a,v,P,V){var $=a==null?0:a.length;return $?(P&&typeof P!="number"&&Nr(a,v,P)&&(P=0,V=$),cc(a,v,P,V)):[]}function jl(a,v,P){var V=a==null?0:a.length;if(!V)return-1;var $=P==null?0:Pt(P);return $<0&&($=Er(V+$,0)),go(a,Tt(v,3),$)}function Sl(a,v,P){var V=a==null?0:a.length;if(!V)return-1;var $=V-1;return P!==ue&&($=Pt(P),$=P<0?Er(V+$,0):Lr($,V-1)),go(a,Tt(v,3),$,!0)}function Tl(a){var v=a==null?0:a.length;return v?Pr(a,1):[]}function bd(a){var v=a==null?0:a.length;return v?Pr(a,X):[]}function _d(a,v){var P=a==null?0:a.length;return P?(v=v===ue?1:Pt(v),Pr(a,v)):[]}function xd(a){for(var v=-1,P=a==null?0:a.length,V={};++v<P;){var $=a[v];V[$[0]]=$[1]}return V}function El(a){return a&&a.length?a[0]:ue}function wd(a,v,P){var V=a==null?0:a.length;if(!V)return-1;var $=P==null?0:Pt(P);return $<0&&($=Er(V+$,0)),In(a,v,$)}function jd(a){var v=a==null?0:a.length;return v?on(a,0,-1):[]}var Sd=Dt(function(a){var v=Xt(a,Ii);return v.length&&v[0]===a[0]?Ti(v):[]}),Td=Dt(function(a){var v=sn(a),P=Xt(a,Ii);return v===sn(P)?v=ue:P.pop(),P.length&&P[0]===a[0]?Ti(P,Tt(v,2)):[]}),Ed=Dt(function(a){var v=sn(a),P=Xt(a,Ii);return v=typeof v=="function"?v:ue,v&&P.pop(),P.length&&P[0]===a[0]?Ti(P,ue,v):[]});function Md(a,v){return a==null?"":ju.call(a,v)}function sn(a){var v=a==null?0:a.length;return v?a[v-1]:ue}function Od(a,v,P){var V=a==null?0:a.length;if(!V)return-1;var $=V;return P!==ue&&($=Pt(P),$=$<0?Er(V+$,0):Lr($,V-1)),v===v?cr(a,v,$):go(a,js,$,!0)}function kd(a,v){return a&&a.length?Fa(a,Pt(v)):ue}var Cd=Dt(Ml);function Ml(a,v){return a&&a.length&&v&&v.length?ki(a,v):a}function Ad(a,v,P){return a&&a.length&&v&&v.length?ki(a,v,Tt(P,2)):a}function Pd(a,v,P){return a&&a.length&&v&&v.length?ki(a,v,ue,P):a}var Ld=Tn(function(a,v){var P=a==null?0:a.length,V=xi(a,v);return Ba(a,Xt(v,function($){return En($,P)?+$:$}).sort(Ka)),V});function Rd(a,v){var P=[];if(!(a&&a.length))return P;var V=-1,$=[],de=a.length;for(v=Tt(v,3);++V<de;){var _e=a[V];v(_e,V,a)&&(P.push(_e),$.push(V))}return Ba(a,$),P}function Zi(a){return a==null?a:Mu.call(a)}function Id(a,v,P){var V=a==null?0:a.length;return V?(P&&typeof P!="number"&&Nr(a,v,P)?(v=0,P=V):(v=v==null?0:Pt(v),P=P===ue?V:Pt(P)),on(a,v,P)):[]}function Dd(a,v){return Vs(a,v)}function Fd(a,v,P){return Pi(a,v,Tt(P,2))}function Ud(a,v){var P=a==null?0:a.length;if(P){var V=Vs(a,v);if(V<P&&dn(a[V],v))return V}return-1}function Nd(a,v){return Vs(a,v,!0)}function Bd(a,v,P){return Pi(a,v,Tt(P,2),!0)}function Gd(a,v){var P=a==null?0:a.length;if(P){var V=Vs(a,v,!0)-1;if(dn(a[V],v))return V}return-1}function Vd(a){return a&&a.length?Va(a):[]}function zd(a,v){return a&&a.length?Va(a,Tt(v,2)):[]}function Hd(a){var v=a==null?0:a.length;return v?on(a,1,v):[]}function Wd(a,v,P){return a&&a.length?(v=P||v===ue?1:Pt(v),on(a,0,v<0?0:v)):[]}function qd(a,v,P){var V=a==null?0:a.length;return V?(v=P||v===ue?1:Pt(v),v=V-v,on(a,v<0?0:v,V)):[]}function Xd(a,v){return a&&a.length?zs(a,Tt(v,3),!1,!0):[]}function Yd(a,v){return a&&a.length?zs(a,Tt(v,3)):[]}var Zd=Dt(function(a){return Un(Pr(a,1,vr,!0))}),Kd=Dt(function(a){var v=sn(a);return vr(v)&&(v=ue),Un(Pr(a,1,vr,!0),Tt(v,2))}),Qd=Dt(function(a){var v=sn(a);return v=typeof v=="function"?v:ue,Un(Pr(a,1,vr,!0),ue,v)});function Jd(a){return a&&a.length?Un(a):[]}function $d(a,v){return a&&a.length?Un(a,Tt(v,2)):[]}function ef(a,v){return v=typeof v=="function"?v:ue,a&&a.length?Un(a,ue,v):[]}function Ki(a){if(!(a&&a.length))return[];var v=0;return a=pt(a,function(P){if(vr(P))return v=Er(P.length,v),!0}),k(v,function(P){return Xt(a,ur(P))})}function Ol(a,v){if(!(a&&a.length))return[];var P=Ki(a);return v==null?P:Xt(P,function(V){return Or(v,ue,V)})}var tf=Dt(function(a,v){return vr(a)?Jo(a,v):[]}),rf=Dt(function(a){return Ri(pt(a,vr))}),nf=Dt(function(a){var v=sn(a);return vr(v)&&(v=ue),Ri(pt(a,vr),Tt(v,2))}),of=Dt(function(a){var v=sn(a);return v=typeof v=="function"?v:ue,Ri(pt(a,vr),ue,v)}),sf=Dt(Ki);function af(a,v){return qa(a||[],v||[],Qo)}function lf(a,v){return qa(a||[],v||[],ts)}var uf=Dt(function(a){var v=a.length,P=v>1?a[v-1]:ue;return P=typeof P=="function"?(a.pop(),P):ue,Ol(a,P)});function kl(a){var v=ae(a);return v.__chain__=!0,v}function cf(a,v){return v(a),a}function Js(a,v){return v(a)}var df=Tn(function(a){var v=a.length,P=v?a[0]:0,V=this.__wrapped__,$=function(de){return xi(de,a)};return v>1||this.__actions__.length||!(V instanceof Nt)||!En(P)?this.thru($):(V=V.slice(P,+P+(v?1:0)),V.__actions__.push({func:Js,args:[$],thisArg:ue}),new rn(V,this.__chain__).thru(function(de){return v&&!de.length&&de.push(ue),de}))});function ff(){return kl(this)}function hf(){return new rn(this.value(),this.__chain__)}function pf(){this.__values__===ue&&(this.__values__=zl(this.value()));var a=this.__index__>=this.__values__.length,v=a?ue:this.__values__[this.__index__++];return{done:a,value:v}}function mf(){return this}function yf(a){for(var v,P=this;P instanceof Fs;){var V=wl(P);V.__index__=0,V.__values__=ue,v?$.__wrapped__=V:v=V;var $=V;P=P.__wrapped__}return $.__wrapped__=a,v}function gf(){var a=this.__wrapped__;if(a instanceof Nt){var v=a;return this.__actions__.length&&(v=new Nt(this)),v=v.reverse(),v.__actions__.push({func:Js,args:[Zi],thisArg:ue}),new rn(v,this.__chain__)}return this.thru(Zi)}function vf(){return Wa(this.__wrapped__,this.__actions__)}var bf=Hs(function(a,v,P){rr.call(a,P)?++a[P]:jn(a,P,1)});function _f(a,v,P){var V=Ct(a)?un:uc;return P&&Nr(a,v,P)&&(v=ue),V(a,Tt(v,3))}function xf(a,v){var P=Ct(a)?pt:Oa;return P(a,Tt(v,3))}var wf=rl(jl),jf=rl(Sl);function Sf(a,v){return Pr($s(a,v),1)}function Tf(a,v){return Pr($s(a,v),X)}function Ef(a,v,P){return P=P===ue?1:Pt(P),Pr($s(a,v),P)}function Cl(a,v){var P=Ct(a)?Fr:Fn;return P(a,Tt(v,3))}function Al(a,v){var P=Ct(a)?mn:Ma;return P(a,Tt(v,3))}var Mf=Hs(function(a,v,P){rr.call(a,P)?a[P].push(v):jn(a,P,[v])});function Of(a,v,P,V){a=zr(a)?a:Eo(a),P=P&&!V?Pt(P):0;var $=a.length;return P<0&&(P=Er($+P,0)),oi(a)?P<=$&&a.indexOf(v,P)>-1:!!$&&In(a,v,P)>-1}var kf=Dt(function(a,v,P){var V=-1,$=typeof v=="function",de=zr(a)?Ne(a.length):[];return Fn(a,function(_e){de[++V]=$?Or(v,_e,P):$o(_e,v,P)}),de}),Cf=Hs(function(a,v,P){jn(a,P,v)});function $s(a,v){var P=Ct(a)?Xt:Ra;return P(a,Tt(v,3))}function Af(a,v,P,V){return a==null?[]:(Ct(v)||(v=v==null?[]:[v]),P=V?ue:P,Ct(P)||(P=P==null?[]:[P]),Ua(a,v,P))}var Pf=Hs(function(a,v,P){a[P?0:1].push(v)},function(){return[[],[]]});function Lf(a,v,P){var V=Ct(a)?Ho:f,$=arguments.length<3;return V(a,Tt(v,4),P,$,Fn)}function Rf(a,v,P){var V=Ct(a)?er:f,$=arguments.length<3;return V(a,Tt(v,4),P,$,Ma)}function If(a,v){var P=Ct(a)?pt:Oa;return P(a,ri(Tt(v,3)))}function Df(a){var v=Ct(a)?ja:Mc;return v(a)}function Ff(a,v,P){(P?Nr(a,v,P):v===ue)?v=1:v=Pt(v);var V=Ct(a)?oc:Oc;return V(a,v)}function Uf(a){var v=Ct(a)?sc:Cc;return v(a)}function Nf(a){if(a==null)return 0;if(zr(a))return oi(a)?sr(a):a.length;var v=Rr(a);return v==te||v==qe?a.size:Mi(a).length}function Bf(a,v,P){var V=Ct(a)?yo:Ac;return P&&Nr(a,v,P)&&(v=ue),V(a,Tt(v,3))}var Gf=Dt(function(a,v){if(a==null)return[];var P=v.length;return P>1&&Nr(a,v[0],v[1])?v=[]:P>2&&Nr(v[0],v[1],v[2])&&(v=[v[0]]),Ua(a,Pr(v,1),[])}),ei=_u||function(){return wr.Date.now()};function Vf(a,v){if(typeof v!="function")throw new tn(m);return a=Pt(a),function(){if(--a<1)return v.apply(this,arguments)}}function Pl(a,v,P){return v=P?ue:v,v=a&&v==null?a.length:v,Sn(a,j,ue,ue,ue,ue,v)}function Ll(a,v){var P;if(typeof v!="function")throw new tn(m);return a=Pt(a),function(){return--a>0&&(P=v.apply(this,arguments)),a<=1&&(v=ue),P}}var Qi=Dt(function(a,v,P){var V=u;if(P.length){var $=yt(P,So(Qi));V|=_}return Sn(a,V,v,P,$)}),Rl=Dt(function(a,v,P){var V=u|s;if(P.length){var $=yt(P,So(Rl));V|=_}return Sn(v,V,a,P,$)});function Il(a,v,P){v=P?ue:v;var V=Sn(a,p,ue,ue,ue,ue,ue,v);return V.placeholder=Il.placeholder,V}function Dl(a,v,P){v=P?ue:v;var V=Sn(a,h,ue,ue,ue,ue,ue,v);return V.placeholder=Dl.placeholder,V}function Fl(a,v,P){var V,$,de,_e,Me,De,Ke=0,Qe=!1,tt=!1,ht=!0;if(typeof a!="function")throw new tn(m);v=an(v)||0,fr(P)&&(Qe=!!P.leading,tt="maxWait"in P,de=tt?Er(an(P.maxWait)||0,v):de,ht="trailing"in P?!!P.trailing:ht);function _t(br){var fn=V,kn=$;return V=$=ue,Ke=br,_e=a.apply(kn,fn),_e}function Mt(br){return Ke=br,Me=os(Ut,v),Qe?_t(br):_e}function Rt(br){var fn=br-De,kn=br-Ke,ru=v-fn;return tt?Lr(ru,de-kn):ru}function Ot(br){var fn=br-De,kn=br-Ke;return De===ue||fn>=v||fn<0||tt&&kn>=de}function Ut(){var br=ei();if(Ot(br))return Vt(br);Me=os(Ut,Rt(br))}function Vt(br){return Me=ue,ht&&V?_t(br):(V=$=ue,_e)}function Qr(){Me!==ue&&Xa(Me),Ke=0,V=De=$=Me=ue}function Br(){return Me===ue?_e:Vt(ei())}function Jr(){var br=ei(),fn=Ot(br);if(V=arguments,$=this,De=br,fn){if(Me===ue)return Mt(De);if(tt)return Xa(Me),Me=os(Ut,v),_t(De)}return Me===ue&&(Me=os(Ut,v)),_e}return Jr.cancel=Qr,Jr.flush=Br,Jr}var zf=Dt(function(a,v){return Ea(a,1,v)}),Hf=Dt(function(a,v,P){return Ea(a,an(v)||0,P)});function Wf(a){return Sn(a,C)}function ti(a,v){if(typeof a!="function"||v!=null&&typeof v!="function")throw new tn(m);var P=function(){var V=arguments,$=v?v.apply(this,V):V[0],de=P.cache;if(de.has($))return de.get($);var _e=a.apply(this,V);return P.cache=de.set($,_e)||de,_e};return P.cache=new(ti.Cache||wn),P}ti.Cache=wn;function ri(a){if(typeof a!="function")throw new tn(m);return function(){var v=arguments;switch(v.length){case 0:return!a.call(this);case 1:return!a.call(this,v[0]);case 2:return!a.call(this,v[0],v[1]);case 3:return!a.call(this,v[0],v[1],v[2])}return!a.apply(this,v)}}function qf(a){return Ll(2,a)}var Xf=Pc(function(a,v){v=v.length==1&&Ct(v[0])?Xt(v[0],Y(Tt())):Xt(Pr(v,1),Y(Tt()));var P=v.length;return Dt(function(V){for(var $=-1,de=Lr(V.length,P);++$<de;)V[$]=v[$].call(this,V[$]);return Or(a,this,V)})}),Ji=Dt(function(a,v){var P=yt(v,So(Ji));return Sn(a,_,ue,v,P)}),Ul=Dt(function(a,v){var P=yt(v,So(Ul));return Sn(a,T,ue,v,P)}),Yf=Tn(function(a,v){return Sn(a,S,ue,ue,ue,v)});function Zf(a,v){if(typeof a!="function")throw new tn(m);return v=v===ue?v:Pt(v),Dt(a,v)}function Kf(a,v){if(typeof a!="function")throw new tn(m);return v=v==null?0:Er(Pt(v),0),Dt(function(P){var V=P[v],$=Bn(P,0,v);return V&&yn($,V),Or(a,this,$)})}function Qf(a,v,P){var V=!0,$=!0;if(typeof a!="function")throw new tn(m);return fr(P)&&(V="leading"in P?!!P.leading:V,$="trailing"in P?!!P.trailing:$),Fl(a,v,{leading:V,maxWait:v,trailing:$})}function Jf(a){return Pl(a,1)}function $f(a,v){return Ji(Di(v),a)}function eh(){if(!arguments.length)return[];var a=arguments[0];return Ct(a)?a:[a]}function th(a){return nn(a,o)}function rh(a,v){return v=typeof v=="function"?v:ue,nn(a,o,v)}function nh(a){return nn(a,y|o)}function oh(a,v){return v=typeof v=="function"?v:ue,nn(a,y|o,v)}function sh(a,v){return v==null||Ta(a,v,Cr(v))}function dn(a,v){return a===v||a!==a&&v!==v}var ih=Ys(Si),ah=Ys(function(a,v){return a>=v}),io=Aa((function(){return arguments})())?Aa:function(a){return pr(a)&&rr.call(a,"callee")&&!ga.call(a,"callee")},Ct=Ne.isArray,lh=Uo?Y(Uo):mc;function zr(a){return a!=null&&ni(a.length)&&!Mn(a)}function vr(a){return pr(a)&&zr(a)}function uh(a){return a===!0||a===!1||pr(a)&&Ur(a)==re}var Gn=wu||ua,ch=No?Y(No):yc;function dh(a){return pr(a)&&a.nodeType===1&&!ss(a)}function fh(a){if(a==null)return!0;if(zr(a)&&(Ct(a)||typeof a=="string"||typeof a.splice=="function"||Gn(a)||To(a)||io(a)))return!a.length;var v=Rr(a);if(v==te||v==qe)return!a.size;if(ns(a))return!Mi(a).length;for(var P in a)if(rr.call(a,P))return!1;return!0}function hh(a,v){return es(a,v)}function ph(a,v,P){P=typeof P=="function"?P:ue;var V=P?P(a,v):ue;return V===ue?es(a,v,ue,P):!!V}function $i(a){if(!pr(a))return!1;var v=Ur(a);return v==se||v==ge||typeof a.message=="string"&&typeof a.name=="string"&&!ss(a)}function mh(a){return typeof a=="number"&&ba(a)}function Mn(a){if(!fr(a))return!1;var v=Ur(a);return v==pe||v==ye||v==J||v==Te}function Nl(a){return typeof a=="number"&&a==Pt(a)}function ni(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=W}function fr(a){var v=typeof a;return a!=null&&(v=="object"||v=="function")}function pr(a){return a!=null&&typeof a=="object"}var Bl=Bo?Y(Bo):vc;function yh(a,v){return a===v||Ei(a,v,zi(v))}function gh(a,v,P){return P=typeof P=="function"?P:ue,Ei(a,v,zi(v),P)}function vh(a){return Gl(a)&&a!=+a}function bh(a){if(td(a))throw new St(A);return Pa(a)}function _h(a){return a===null}function xh(a){return a==null}function Gl(a){return typeof a=="number"||pr(a)&&Ur(a)==me}function ss(a){if(!pr(a)||Ur(a)!=Ee)return!1;var v=Cs(a);if(v===null)return!0;var P=rr.call(v,"constructor")&&v.constructor;return typeof P=="function"&&P instanceof P&&Es.call(P)==yu}var ea=Go?Y(Go):bc;function wh(a){return Nl(a)&&a>=-W&&a<=W}var Vl=Vo?Y(Vo):_c;function oi(a){return typeof a=="string"||!Ct(a)&&pr(a)&&Ur(a)==Re}function Kr(a){return typeof a=="symbol"||pr(a)&&Ur(a)==ft}var To=ho?Y(ho):xc;function jh(a){return a===ue}function Sh(a){return pr(a)&&Rr(a)==nt}function Th(a){return pr(a)&&Ur(a)==ut}var Eh=Ys(Oi),Mh=Ys(function(a,v){return a<=v});function zl(a){if(!a)return[];if(zr(a))return oi(a)?or(a):Vr(a);if(qo&&a[qo])return Ue(a[qo]());var v=Rr(a),P=v==te?vt:v==qe?bt:Eo;return P(a)}function On(a){if(!a)return a===0?a:0;if(a=an(a),a===X||a===-X){var v=a<0?-1:1;return v*G}return a===a?a:0}function Pt(a){var v=On(a),P=v%1;return v===v?P?v-P:v:0}function Hl(a){return a?ro(Pt(a),0,Q):0}function an(a){if(typeof a=="number")return a;if(Kr(a))return Z;if(fr(a)){var v=typeof a.valueOf=="function"?a.valueOf():a;a=fr(v)?v+"":v}if(typeof a!="string")return a===0?a:+a;a=z(a);var P=et.test(a);return P||Je.test(a)?_s(a.slice(2),P?2:8):be.test(a)?Z:+a}function Wl(a){return vn(a,Hr(a))}function Oh(a){return a?ro(Pt(a),-W,W):a===0?a:0}function Qt(a){return a==null?"":Zr(a)}var kh=wo(function(a,v){if(ns(v)||zr(v)){vn(v,Cr(v),a);return}for(var P in v)rr.call(v,P)&&Qo(a,P,v[P])}),ql=wo(function(a,v){vn(v,Hr(v),a)}),si=wo(function(a,v,P,V){vn(v,Hr(v),a,V)}),Ch=wo(function(a,v,P,V){vn(v,Cr(v),a,V)}),Ah=Tn(xi);function Ph(a,v){var P=xo(a);return v==null?P:Sa(P,v)}var Lh=Dt(function(a,v){a=ar(a);var P=-1,V=v.length,$=V>2?v[2]:ue;for($&&Nr(v[0],v[1],$)&&(V=1);++P<V;)for(var de=v[P],_e=Hr(de),Me=-1,De=_e.length;++Me<De;){var Ke=_e[Me],Qe=a[Ke];(Qe===ue||dn(Qe,vo[Ke])&&!rr.call(a,Ke))&&(a[Ke]=de[Ke])}return a}),Rh=Dt(function(a){return a.push(ue,ul),Or(Xl,ue,a)});function Ih(a,v){return ws(a,Tt(v,3),gn)}function Dh(a,v){return ws(a,Tt(v,3),ji)}function Fh(a,v){return a==null?a:wi(a,Tt(v,3),Hr)}function Uh(a,v){return a==null?a:ka(a,Tt(v,3),Hr)}function Nh(a,v){return a&&gn(a,Tt(v,3))}function Bh(a,v){return a&&ji(a,Tt(v,3))}function Gh(a){return a==null?[]:Bs(a,Cr(a))}function Vh(a){return a==null?[]:Bs(a,Hr(a))}function ta(a,v,P){var V=a==null?ue:no(a,v);return V===ue?P:V}function zh(a,v){return a!=null&&fl(a,v,dc)}function ra(a,v){return a!=null&&fl(a,v,fc)}var Hh=ol(function(a,v,P){v!=null&&typeof v.toString!="function"&&(v=Ms.call(v)),a[v]=P},oa(Wr)),Wh=ol(function(a,v,P){v!=null&&typeof v.toString!="function"&&(v=Ms.call(v)),rr.call(a,v)?a[v].push(P):a[v]=[P]},Tt),qh=Dt($o);function Cr(a){return zr(a)?wa(a):Mi(a)}function Hr(a){return zr(a)?wa(a,!0):wc(a)}function Xh(a,v){var P={};return v=Tt(v,3),gn(a,function(V,$,de){jn(P,v(V,$,de),V)}),P}function Yh(a,v){var P={};return v=Tt(v,3),gn(a,function(V,$,de){jn(P,$,v(V,$,de))}),P}var Zh=wo(function(a,v,P){Gs(a,v,P)}),Xl=wo(function(a,v,P,V){Gs(a,v,P,V)}),Kh=Tn(function(a,v){var P={};if(a==null)return P;var V=!1;v=Xt(v,function(de){return de=Nn(de,a),V||(V=de.length>1),de}),vn(a,Gi(a),P),V&&(P=nn(P,y|r|o,zc));for(var $=v.length;$--;)Li(P,v[$]);return P});function Qh(a,v){return Yl(a,ri(Tt(v)))}var Jh=Tn(function(a,v){return a==null?{}:Sc(a,v)});function Yl(a,v){if(a==null)return{};var P=Xt(Gi(a),function(V){return[V]});return v=Tt(v),Na(a,P,function(V,$){return v(V,$[0])})}function $h(a,v,P){v=Nn(v,a);var V=-1,$=v.length;for($||($=1,a=ue);++V<$;){var de=a==null?ue:a[bn(v[V])];de===ue&&(V=$,de=P),a=Mn(de)?de.call(a):de}return a}function ep(a,v,P){return a==null?a:ts(a,v,P)}function tp(a,v,P,V){return V=typeof V=="function"?V:ue,a==null?a:ts(a,v,P,V)}var Zl=al(Cr),Kl=al(Hr);function rp(a,v,P){var V=Ct(a),$=V||Gn(a)||To(a);if(v=Tt(v,4),P==null){var de=a&&a.constructor;$?P=V?new de:[]:fr(a)?P=Mn(de)?xo(Cs(a)):{}:P={}}return($?Fr:gn)(a,function(_e,Me,De){return v(P,_e,Me,De)}),P}function np(a,v){return a==null?!0:Li(a,v)}function op(a,v,P){return a==null?a:Ha(a,v,Di(P))}function sp(a,v,P,V){return V=typeof V=="function"?V:ue,a==null?a:Ha(a,v,Di(P),V)}function Eo(a){return a==null?[]:ne(a,Cr(a))}function ip(a){return a==null?[]:ne(a,Hr(a))}function ap(a,v,P){return P===ue&&(P=v,v=ue),P!==ue&&(P=an(P),P=P===P?P:0),v!==ue&&(v=an(v),v=v===v?v:0),ro(an(a),v,P)}function lp(a,v,P){return v=On(v),P===ue?(P=v,v=0):P=On(P),a=an(a),hc(a,v,P)}function up(a,v,P){if(P&&typeof P!="boolean"&&Nr(a,v,P)&&(v=P=ue),P===ue&&(typeof v=="boolean"?(P=v,v=ue):typeof a=="boolean"&&(P=a,a=ue)),a===ue&&v===ue?(a=0,v=1):(a=On(a),v===ue?(v=a,a=0):v=On(v)),a>v){var V=a;a=v,v=V}if(P||a%1||v%1){var $=_a();return Lr(a+$*(v-a+bs("1e-"+(($+"").length-1))),v)}return Ci(a,v)}var cp=jo(function(a,v,P){return v=v.toLowerCase(),a+(P?Ql(v):v)});function Ql(a){return na(Qt(a).toLowerCase())}function Jl(a){return a=Qt(a),a&&a.replace(Ze,Ce).replace(di,"")}function dp(a,v,P){a=Qt(a),v=Zr(v);var V=a.length;P=P===ue?V:ro(Pt(P),0,V);var $=P;return P-=v.length,P>=0&&a.slice(P,$)==v}function fp(a){return a=Qt(a),a&&gt.test(a)?a.replace(Et,ve):a}function hp(a){return a=Qt(a),a&&Bt.test(a)?a.replace($t,"\\$&"):a}var pp=jo(function(a,v,P){return a+(P?"-":"")+v.toLowerCase()}),mp=jo(function(a,v,P){return a+(P?" ":"")+v.toLowerCase()}),yp=tl("toLowerCase");function gp(a,v,P){a=Qt(a),v=Pt(v);var V=v?sr(a):0;if(!v||V>=v)return a;var $=(v-V)/2;return Xs(Rs($),P)+a+Xs(Ls($),P)}function vp(a,v,P){a=Qt(a),v=Pt(v);var V=v?sr(a):0;return v&&V<v?a+Xs(v-V,P):a}function bp(a,v,P){a=Qt(a),v=Pt(v);var V=v?sr(a):0;return v&&V<v?Xs(v-V,P)+a:a}function _p(a,v,P){return P||v==null?v=0:v&&(v=+v),Eu(Qt(a).replace(mr,""),v||0)}function xp(a,v,P){return(P?Nr(a,v,P):v===ue)?v=1:v=Pt(v),Ai(Qt(a),v)}function wp(){var a=arguments,v=Qt(a[0]);return a.length<3?v:v.replace(a[1],a[2])}var jp=jo(function(a,v,P){return a+(P?"_":"")+v.toLowerCase()});function Sp(a,v,P){return P&&typeof P!="number"&&Nr(a,v,P)&&(v=P=ue),P=P===ue?Q:P>>>0,P?(a=Qt(a),a&&(typeof v=="string"||v!=null&&!ea(v))&&(v=Zr(v),!v&&He(a))?Bn(or(a),0,P):a.split(v,P)):[]}var Tp=jo(function(a,v,P){return a+(P?" ":"")+na(v)});function Ep(a,v,P){return a=Qt(a),P=P==null?0:ro(Pt(P),0,a.length),v=Zr(v),a.slice(P,P+v.length)==v}function Mp(a,v,P){var V=ae.templateSettings;P&&Nr(a,v,P)&&(v=ue),a=Qt(a),v=si({},v,V,ll);var $=si({},v.imports,V.imports,ll),de=Cr($),_e=ne($,de),Me,De,Ke=0,Qe=v.interpolate||Ft,tt="__p += '",ht=yi((v.escape||Ft).source+"|"+Qe.source+"|"+(Qe===Jt?qn:Ft).source+"|"+(v.evaluate||Ft).source+"|$","g"),_t="//# sourceURL="+(rr.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kn+"]")+`
`;a.replace(ht,function(Ot,Ut,Vt,Qr,Br,Jr){return Vt||(Vt=Qr),tt+=a.slice(Ke,Jr).replace(at,Ye),Ut&&(Me=!0,tt+=`' +
__e(`+Ut+`) +
'`),Br&&(De=!0,tt+=`';
`+Br+`;
__p += '`),Vt&&(tt+=`' +
((__t = (`+Vt+`)) == null ? '' : __t) +
'`),Ke=Jr+Ot.length,Ot}),tt+=`';
`;var Mt=rr.call(v,"variable")&&v.variable;if(!Mt)tt=`with (obj) {
`+tt+`
}
`;else if(Wn.test(Mt))throw new St(g);tt=(De?tt.replace($e,""):tt).replace(rt,"$1").replace(ot,"$1;"),tt="function("+(Mt||"obj")+`) {
`+(Mt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Me?", __e = _.escape":"")+(De?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+tt+`return __p
}`;var Rt=eu(function(){return zt(de,_t+"return "+tt).apply(ue,_e)});if(Rt.source=tt,$i(Rt))throw Rt;return Rt}function Op(a){return Qt(a).toLowerCase()}function kp(a){return Qt(a).toUpperCase()}function Cp(a,v,P){if(a=Qt(a),a&&(P||v===ue))return z(a);if(!a||!(v=Zr(v)))return a;var V=or(a),$=or(v),de=he(V,$),_e=Se(V,$)+1;return Bn(V,de,_e).join("")}function Ap(a,v,P){if(a=Qt(a),a&&(P||v===ue))return a.slice(0,Sr(a)+1);if(!a||!(v=Zr(v)))return a;var V=or(a),$=Se(V,or(v))+1;return Bn(V,0,$).join("")}function Pp(a,v,P){if(a=Qt(a),a&&(P||v===ue))return a.replace(mr,"");if(!a||!(v=Zr(v)))return a;var V=or(a),$=he(V,or(v));return Bn(V,$).join("")}function Lp(a,v){var P=L,V=E;if(fr(v)){var $="separator"in v?v.separator:$;P="length"in v?Pt(v.length):P,V="omission"in v?Zr(v.omission):V}a=Qt(a);var de=a.length;if(He(a)){var _e=or(a);de=_e.length}if(P>=de)return a;var Me=P-sr(V);if(Me<1)return V;var De=_e?Bn(_e,0,Me).join(""):a.slice(0,Me);if($===ue)return De+V;if(_e&&(Me+=De.length-Me),ea($)){if(a.slice(Me).search($)){var Ke,Qe=De;for($.global||($=yi($.source,Qt(Cn.exec($))+"g")),$.lastIndex=0;Ke=$.exec(Qe);)var tt=Ke.index;De=De.slice(0,tt===ue?Me:tt)}}else if(a.indexOf(Zr($),Me)!=Me){var ht=De.lastIndexOf($);ht>-1&&(De=De.slice(0,ht))}return De+V}function Rp(a){return a=Qt(a),a&&wt.test(a)?a.replace(lt,Yr):a}var Ip=jo(function(a,v,P){return a+(P?" ":"")+v.toUpperCase()}),na=tl("toUpperCase");function $l(a,v,P){return a=Qt(a),v=P?ue:v,v===ue?Fe(a)?Yt(a):pi(a):a.match(v)||[]}var eu=Dt(function(a,v){try{return Or(a,ue,v)}catch(P){return $i(P)?P:new St(P)}}),Dp=Tn(function(a,v){return Fr(v,function(P){P=bn(P),jn(a,P,Qi(a[P],a))}),a});function Fp(a){var v=a==null?0:a.length,P=Tt();return a=v?Xt(a,function(V){if(typeof V[1]!="function")throw new tn(m);return[P(V[0]),V[1]]}):[],Dt(function(V){for(var $=-1;++$<v;){var de=a[$];if(Or(de[0],this,V))return Or(de[1],this,V)}})}function Up(a){return lc(nn(a,y))}function oa(a){return function(){return a}}function Np(a,v){return a==null||a!==a?v:a}var Bp=nl(),Gp=nl(!0);function Wr(a){return a}function sa(a){return La(typeof a=="function"?a:nn(a,y))}function Vp(a){return Ia(nn(a,y))}function zp(a,v){return Da(a,nn(v,y))}var Hp=Dt(function(a,v){return function(P){return $o(P,a,v)}}),Wp=Dt(function(a,v){return function(P){return $o(a,P,v)}});function ia(a,v,P){var V=Cr(v),$=Bs(v,V);P==null&&!(fr(v)&&($.length||!V.length))&&(P=v,v=a,a=this,$=Bs(v,Cr(v)));var de=!(fr(P)&&"chain"in P)||!!P.chain,_e=Mn(a);return Fr($,function(Me){var De=v[Me];a[Me]=De,_e&&(a.prototype[Me]=function(){var Ke=this.__chain__;if(de||Ke){var Qe=a(this.__wrapped__),tt=Qe.__actions__=Vr(this.__actions__);return tt.push({func:De,args:arguments,thisArg:a}),Qe.__chain__=Ke,Qe}return De.apply(a,yn([this.value()],arguments))})}),a}function qp(){return wr._===this&&(wr._=gu),this}function aa(){}function Xp(a){return a=Pt(a),Dt(function(v){return Fa(v,a)})}var Yp=Ui(Xt),Zp=Ui(un),Kp=Ui(yo);function tu(a){return Wi(a)?ur(bn(a)):Tc(a)}function Qp(a){return function(v){return a==null?ue:no(a,v)}}var Jp=sl(),$p=sl(!0);function la(){return[]}function ua(){return!1}function em(){return{}}function tm(){return""}function rm(){return!0}function nm(a,v){if(a=Pt(a),a<1||a>W)return[];var P=Q,V=Lr(a,Q);v=Tt(v),a-=Q;for(var $=k(V,v);++P<a;)v(P);return $}function om(a){return Ct(a)?Xt(a,bn):Kr(a)?[a]:Vr(xl(Qt(a)))}function sm(a){var v=++mu;return Qt(a)+v}var im=qs(function(a,v){return a+v},0),am=Ni("ceil"),lm=qs(function(a,v){return a/v},1),um=Ni("floor");function cm(a){return a&&a.length?Ns(a,Wr,Si):ue}function dm(a,v){return a&&a.length?Ns(a,Tt(v,2),Si):ue}function fm(a){return Wo(a,Wr)}function hm(a,v){return Wo(a,Tt(v,2))}function pm(a){return a&&a.length?Ns(a,Wr,Oi):ue}function mm(a,v){return a&&a.length?Ns(a,Tt(v,2),Oi):ue}var ym=qs(function(a,v){return a*v},1),gm=Ni("round"),vm=qs(function(a,v){return a-v},0);function bm(a){return a&&a.length?M(a,Wr):0}function _m(a,v){return a&&a.length?M(a,Tt(v,2)):0}return ae.after=Vf,ae.ary=Pl,ae.assign=kh,ae.assignIn=ql,ae.assignInWith=si,ae.assignWith=Ch,ae.at=Ah,ae.before=Ll,ae.bind=Qi,ae.bindAll=Dp,ae.bindKey=Rl,ae.castArray=eh,ae.chain=kl,ae.chunk=ld,ae.compact=ud,ae.concat=cd,ae.cond=Fp,ae.conforms=Up,ae.constant=oa,ae.countBy=bf,ae.create=Ph,ae.curry=Il,ae.curryRight=Dl,ae.debounce=Fl,ae.defaults=Lh,ae.defaultsDeep=Rh,ae.defer=zf,ae.delay=Hf,ae.difference=dd,ae.differenceBy=fd,ae.differenceWith=hd,ae.drop=pd,ae.dropRight=md,ae.dropRightWhile=yd,ae.dropWhile=gd,ae.fill=vd,ae.filter=xf,ae.flatMap=Sf,ae.flatMapDeep=Tf,ae.flatMapDepth=Ef,ae.flatten=Tl,ae.flattenDeep=bd,ae.flattenDepth=_d,ae.flip=Wf,ae.flow=Bp,ae.flowRight=Gp,ae.fromPairs=xd,ae.functions=Gh,ae.functionsIn=Vh,ae.groupBy=Mf,ae.initial=jd,ae.intersection=Sd,ae.intersectionBy=Td,ae.intersectionWith=Ed,ae.invert=Hh,ae.invertBy=Wh,ae.invokeMap=kf,ae.iteratee=sa,ae.keyBy=Cf,ae.keys=Cr,ae.keysIn=Hr,ae.map=$s,ae.mapKeys=Xh,ae.mapValues=Yh,ae.matches=Vp,ae.matchesProperty=zp,ae.memoize=ti,ae.merge=Zh,ae.mergeWith=Xl,ae.method=Hp,ae.methodOf=Wp,ae.mixin=ia,ae.negate=ri,ae.nthArg=Xp,ae.omit=Kh,ae.omitBy=Qh,ae.once=qf,ae.orderBy=Af,ae.over=Yp,ae.overArgs=Xf,ae.overEvery=Zp,ae.overSome=Kp,ae.partial=Ji,ae.partialRight=Ul,ae.partition=Pf,ae.pick=Jh,ae.pickBy=Yl,ae.property=tu,ae.propertyOf=Qp,ae.pull=Cd,ae.pullAll=Ml,ae.pullAllBy=Ad,ae.pullAllWith=Pd,ae.pullAt=Ld,ae.range=Jp,ae.rangeRight=$p,ae.rearg=Yf,ae.reject=If,ae.remove=Rd,ae.rest=Zf,ae.reverse=Zi,ae.sampleSize=Ff,ae.set=ep,ae.setWith=tp,ae.shuffle=Uf,ae.slice=Id,ae.sortBy=Gf,ae.sortedUniq=Vd,ae.sortedUniqBy=zd,ae.split=Sp,ae.spread=Kf,ae.tail=Hd,ae.take=Wd,ae.takeRight=qd,ae.takeRightWhile=Xd,ae.takeWhile=Yd,ae.tap=cf,ae.throttle=Qf,ae.thru=Js,ae.toArray=zl,ae.toPairs=Zl,ae.toPairsIn=Kl,ae.toPath=om,ae.toPlainObject=Wl,ae.transform=rp,ae.unary=Jf,ae.union=Zd,ae.unionBy=Kd,ae.unionWith=Qd,ae.uniq=Jd,ae.uniqBy=$d,ae.uniqWith=ef,ae.unset=np,ae.unzip=Ki,ae.unzipWith=Ol,ae.update=op,ae.updateWith=sp,ae.values=Eo,ae.valuesIn=ip,ae.without=tf,ae.words=$l,ae.wrap=$f,ae.xor=rf,ae.xorBy=nf,ae.xorWith=of,ae.zip=sf,ae.zipObject=af,ae.zipObjectDeep=lf,ae.zipWith=uf,ae.entries=Zl,ae.entriesIn=Kl,ae.extend=ql,ae.extendWith=si,ia(ae,ae),ae.add=im,ae.attempt=eu,ae.camelCase=cp,ae.capitalize=Ql,ae.ceil=am,ae.clamp=ap,ae.clone=th,ae.cloneDeep=nh,ae.cloneDeepWith=oh,ae.cloneWith=rh,ae.conformsTo=sh,ae.deburr=Jl,ae.defaultTo=Np,ae.divide=lm,ae.endsWith=dp,ae.eq=dn,ae.escape=fp,ae.escapeRegExp=hp,ae.every=_f,ae.find=wf,ae.findIndex=jl,ae.findKey=Ih,ae.findLast=jf,ae.findLastIndex=Sl,ae.findLastKey=Dh,ae.floor=um,ae.forEach=Cl,ae.forEachRight=Al,ae.forIn=Fh,ae.forInRight=Uh,ae.forOwn=Nh,ae.forOwnRight=Bh,ae.get=ta,ae.gt=ih,ae.gte=ah,ae.has=zh,ae.hasIn=ra,ae.head=El,ae.identity=Wr,ae.includes=Of,ae.indexOf=wd,ae.inRange=lp,ae.invoke=qh,ae.isArguments=io,ae.isArray=Ct,ae.isArrayBuffer=lh,ae.isArrayLike=zr,ae.isArrayLikeObject=vr,ae.isBoolean=uh,ae.isBuffer=Gn,ae.isDate=ch,ae.isElement=dh,ae.isEmpty=fh,ae.isEqual=hh,ae.isEqualWith=ph,ae.isError=$i,ae.isFinite=mh,ae.isFunction=Mn,ae.isInteger=Nl,ae.isLength=ni,ae.isMap=Bl,ae.isMatch=yh,ae.isMatchWith=gh,ae.isNaN=vh,ae.isNative=bh,ae.isNil=xh,ae.isNull=_h,ae.isNumber=Gl,ae.isObject=fr,ae.isObjectLike=pr,ae.isPlainObject=ss,ae.isRegExp=ea,ae.isSafeInteger=wh,ae.isSet=Vl,ae.isString=oi,ae.isSymbol=Kr,ae.isTypedArray=To,ae.isUndefined=jh,ae.isWeakMap=Sh,ae.isWeakSet=Th,ae.join=Md,ae.kebabCase=pp,ae.last=sn,ae.lastIndexOf=Od,ae.lowerCase=mp,ae.lowerFirst=yp,ae.lt=Eh,ae.lte=Mh,ae.max=cm,ae.maxBy=dm,ae.mean=fm,ae.meanBy=hm,ae.min=pm,ae.minBy=mm,ae.stubArray=la,ae.stubFalse=ua,ae.stubObject=em,ae.stubString=tm,ae.stubTrue=rm,ae.multiply=ym,ae.nth=kd,ae.noConflict=qp,ae.noop=aa,ae.now=ei,ae.pad=gp,ae.padEnd=vp,ae.padStart=bp,ae.parseInt=_p,ae.random=up,ae.reduce=Lf,ae.reduceRight=Rf,ae.repeat=xp,ae.replace=wp,ae.result=$h,ae.round=gm,ae.runInContext=ke,ae.sample=Df,ae.size=Nf,ae.snakeCase=jp,ae.some=Bf,ae.sortedIndex=Dd,ae.sortedIndexBy=Fd,ae.sortedIndexOf=Ud,ae.sortedLastIndex=Nd,ae.sortedLastIndexBy=Bd,ae.sortedLastIndexOf=Gd,ae.startCase=Tp,ae.startsWith=Ep,ae.subtract=vm,ae.sum=bm,ae.sumBy=_m,ae.template=Mp,ae.times=nm,ae.toFinite=On,ae.toInteger=Pt,ae.toLength=Hl,ae.toLower=Op,ae.toNumber=an,ae.toSafeInteger=Oh,ae.toString=Qt,ae.toUpper=kp,ae.trim=Cp,ae.trimEnd=Ap,ae.trimStart=Pp,ae.truncate=Lp,ae.unescape=Rp,ae.uniqueId=sm,ae.upperCase=Ip,ae.upperFirst=na,ae.each=Cl,ae.eachRight=Al,ae.first=El,ia(ae,(function(){var a={};return gn(ae,function(v,P){rr.call(ae.prototype,P)||(a[P]=v)}),a})(),{chain:!1}),ae.VERSION=t,Fr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){ae[a].placeholder=ae}),Fr(["drop","take"],function(a,v){Nt.prototype[a]=function(P){P=P===ue?1:Er(Pt(P),0);var V=this.__filtered__&&!v?new Nt(this):this.clone();return V.__filtered__?V.__takeCount__=Lr(P,V.__takeCount__):V.__views__.push({size:Lr(P,Q),type:a+(V.__dir__<0?"Right":"")}),V},Nt.prototype[a+"Right"]=function(P){return this.reverse()[a](P).reverse()}}),Fr(["filter","map","takeWhile"],function(a,v){var P=v+1,V=P==U||P==B;Nt.prototype[a]=function($){var de=this.clone();return de.__iteratees__.push({iteratee:Tt($,3),type:P}),de.__filtered__=de.__filtered__||V,de}}),Fr(["head","last"],function(a,v){var P="take"+(v?"Right":"");Nt.prototype[a]=function(){return this[P](1).value()[0]}}),Fr(["initial","tail"],function(a,v){var P="drop"+(v?"":"Right");Nt.prototype[a]=function(){return this.__filtered__?new Nt(this):this[P](1)}}),Nt.prototype.compact=function(){return this.filter(Wr)},Nt.prototype.find=function(a){return this.filter(a).head()},Nt.prototype.findLast=function(a){return this.reverse().find(a)},Nt.prototype.invokeMap=Dt(function(a,v){return typeof a=="function"?new Nt(this):this.map(function(P){return $o(P,a,v)})}),Nt.prototype.reject=function(a){return this.filter(ri(Tt(a)))},Nt.prototype.slice=function(a,v){a=Pt(a);var P=this;return P.__filtered__&&(a>0||v<0)?new Nt(P):(a<0?P=P.takeRight(-a):a&&(P=P.drop(a)),v!==ue&&(v=Pt(v),P=v<0?P.dropRight(-v):P.take(v-a)),P)},Nt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Nt.prototype.toArray=function(){return this.take(Q)},gn(Nt.prototype,function(a,v){var P=/^(?:filter|find|map|reject)|While$/.test(v),V=/^(?:head|last)$/.test(v),$=ae[V?"take"+(v=="last"?"Right":""):v],de=V||/^find/.test(v);$&&(ae.prototype[v]=function(){var _e=this.__wrapped__,Me=V?[1]:arguments,De=_e instanceof Nt,Ke=Me[0],Qe=De||Ct(_e),tt=function(Ut){var Vt=$.apply(ae,yn([Ut],Me));return V&&ht?Vt[0]:Vt};Qe&&P&&typeof Ke=="function"&&Ke.length!=1&&(De=Qe=!1);var ht=this.__chain__,_t=!!this.__actions__.length,Mt=de&&!ht,Rt=De&&!_t;if(!de&&Qe){_e=Rt?_e:new Nt(this);var Ot=a.apply(_e,Me);return Ot.__actions__.push({func:Js,args:[tt],thisArg:ue}),new rn(Ot,ht)}return Mt&&Rt?a.apply(this,Me):(Ot=this.thru(tt),Mt?V?Ot.value()[0]:Ot.value():Ot)})}),Fr(["pop","push","shift","sort","splice","unshift"],function(a){var v=Ss[a],P=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",V=/^(?:pop|shift)$/.test(a);ae.prototype[a]=function(){var $=arguments;if(V&&!this.__chain__){var de=this.value();return v.apply(Ct(de)?de:[],$)}return this[P](function(_e){return v.apply(Ct(_e)?_e:[],$)})}}),gn(Nt.prototype,function(a,v){var P=ae[v];if(P){var V=P.name+"";rr.call(_o,V)||(_o[V]=[]),_o[V].push({name:v,func:P})}}),_o[Ws(ue,s).name]=[{name:"wrapper",func:ue}],Nt.prototype.clone=Lu,Nt.prototype.reverse=Ru,Nt.prototype.value=Iu,ae.prototype.at=df,ae.prototype.chain=ff,ae.prototype.commit=hf,ae.prototype.next=pf,ae.prototype.plant=yf,ae.prototype.reverse=gf,ae.prototype.toJSON=ae.prototype.valueOf=ae.prototype.value=vf,ae.prototype.first=ae.prototype.head,qo&&(ae.prototype[qo]=mf),ae}),Kt=kr();pn?((pn.exports=Kt)._=Kt,Qn._=Kt):wr._=Kt}).call(Em)})(is,is.exports)),is.exports}var Om=Mm();const su=du(Om);function km(Ve,We,ue,t){return(Ve-ue)*(Ve-ue)+(We-t)*(We-t)}function iu(Ve,We,ue,t){return Math.sqrt(km(Ve,We,ue,t))}function Cm(Ve,We,ue,t,H,A){const m=iu(ue,t,H,A);return m===0?iu(Ve,We,ue,t):Math.abs((A-t)*Ve-(H-ue)*We+H*t-A*ue)/m}function Am(Ve,We,ue,t){const H=Ve.x,A=Ve.y,m=We.x,g=We.y,c=ue.x,d=ue.y,b=t.x,y=t.y,r=(H-m)*(d-y)-(A-g)*(c-b);if(Math.abs(r)<1e-10)return null;const o=((H-c)*(d-y)-(A-d)*(c-b))/r,i=-((H-m)*(A-d)-(A-g)*(H-c))/r;return o>=0&&o<=1&&i>=0&&i<=1?{x:H+o*(m-H),y:A+o*(g-A),t:o,u:i}:null}function Pm(Ve){const We=[...Ve];if(We.length===3)We.push(We[0]);else if(We.length<4)return null;for(let ue=0;ue<We.length-3;ue++)for(let t=ue+2;t<We.length-1;t++){if(t===ue+1)continue;const H=Am(We[ue],We[ue+1],We[t],We[t+1]);if(H){const A=[];A.push({x:H.x,y:H.y});for(let m=ue+1;m<=t;m++)A.push(We[m]);if(A.length>=3)return{vertices:A,startIndex:ue,endIndex:t,intersection:H,isValid:Lm(A)}}}return null}function Lm(Ve){if(Ve.length<3)return!1;for(let We=0;We<Ve.length-2;We++){const ue=Rm(Ve[We],Ve[We+1],Ve[We+2]);if(Math.abs(ue)>1e-10)return!0}return!1}function Rm(Ve,We,ue){return .5*Math.abs((We.x-Ve.x)*(ue.y-Ve.y)-(ue.x-Ve.x)*(We.y-Ve.y))}function Im(Ve){if(Ve.length===0)return Ve;const We=Ve[0],ue=Ve[Ve.length-1];return(We.x!==ue.x||We.y!==ue.y)&&Ve.push({...Ve[0]}),Ve}function Dm(Ve){if(Ve.length<2)return Ve;const We=Ve[0],ue=Ve[Ve.length-1];return We.x===ue.x&&We.y===ue.y&&Ve.pop(),Ve}function au(Ve){return fu(Ve)<0&&Ve.reverse(),Ve}function fu(Ve){let We=0;const ue=Ve.length;for(let t=0;t<ue;t++){const H=(t+1)%ue;We+=Ve[t].x*Ve[H].y,We-=Ve[H].x*Ve[t].y}return We/2}function da(Ve){return Math.abs(fu(Ve))}function ai(Ve,We=1){if(Ve.length<3)return Ve;let ue=Ve[0],t=Ve[Ve.length-1],H=0,A=0;for(let m=1;m<Ve.length-1;m++){const g=Cm(Ve[m].x,Ve[m].y,ue.x,ue.y,t.x,t.y);g>H&&(H=g,A=m)}if(H>We){const m=ai(Ve.slice(0,A+1),We),g=ai(Ve.slice(A),We);return[...m,...g.slice(1)]}return[ue,t]}function lu(Ve,We){const ue=Ve.length;if(ue===0)return[];const t=(We%ue+ue)%ue;return Array.from({length:ue},(H,A)=>{const m=(A+t)%ue;return{x:Ve[m].x,y:Ve[m].y}})}function Fm(Ve,We,ue=1,t=.1){let H=[...Ve],A=0,m=1e3,g=ue,c=t;for(;H.length>We&&A<m;){const d=ai(H,g);d.length>=We?(H=lu(d,1),g+=c):(H=lu(H,1),g-=c,c*=.8,g+=c),A++}return console.log("points.length",H.length),console.log("n",We),console.log("iterations",A),H}function Um(Ve){if(Ve.length===0)return{minX:0,minY:0,maxX:0,maxY:0,centerX:0,centerY:0,width:0,height:0,radius:0};let We=Ve[0].x,ue=Ve[0].y,t=Ve[0].x,H=Ve[0].y;for(let g=1;g<Ve.length;g++)We=Math.min(We,Ve[g].x),ue=Math.min(ue,Ve[g].y),t=Math.max(t,Ve[g].x),H=Math.max(H,Ve[g].y);const A=t-We,m=H-ue;return{minX:We,minY:ue,maxX:t,maxY:H,centerX:(We+t)/2,centerY:(ue+H)/2,width:A,height:m,radius:Math.min(A,m)/2||1}}function Nm(Ve){if(!Ve||Ve.length<3)return Ve||[];function We(c,d,b){return(d.x-c.x)*(b.y-c.y)-(d.y-c.y)*(b.x-c.x)}function ue(c,d){const b=d.x-c.x,y=d.y-c.y;return b*b+y*y}let t=Ve[0],H=0;for(let c=1;c<Ve.length;c++)(Ve[c].y<t.y||Ve[c].y===t.y&&Ve[c].x<t.x)&&(t=Ve[c],H=c);const A=Ve.slice();A.splice(H,1),A.sort((c,d)=>{const b=We(t,c,d);return b===0?ue(t,c)-ue(t,d):-b});const m=[t];for(let c=0;c<A.length;c++){const d=A[c];for(;m.length>=2&&We(m[m.length-2],m[m.length-1],d)<=0;)m.pop();m.push(d)}let g=m.length-1;for(;g>=2;){We(m[g],m[0],m[1])===0&&(ue(m[0],m[1])<ue(m[0],m[g])?m.splice(1,1):m.splice(g,1));break}return m}function Bm(Ve,We,ue){let t=Math.abs(Gm(Ve,We,ue));return t>Math.PI&&(t=2*Math.PI-t),t}function Gm(Ve,We,ue){const t=We.x-Ve.x,H=We.y-Ve.y,A=ue.x-Ve.x,m=ue.y-Ve.y;return Math.atan2(m,A)-Math.atan2(H,t)}function Vm(Ve,We){return Math.atan2(We.y-Ve.y,We.x-Ve.x)}function fa(Ve){return Ve>Math.PI?fa(Ve-2*Math.PI):Ve<=-Math.PI?fa(Ve+2*Math.PI):Ve}const uu=800,ha=600,zm=1,Hm=.65;class Wm{constructor(We){Ht(this,"p");Ht(this,"points");Ht(this,"firstPolygonPoints");Ht(this,"simplifiedPoints");Ht(this,"simplifiedTrianglePoints");Ht(this,"fallingTranslationY");Ht(this,"fallingVelocityY");Ht(this,"fallingAccelerationY");Ht(this,"extraLinePolygonOpacity");Ht(this,"finishFrameCount");Ht(this,"shapeTranslationX");Ht(this,"shapeTranslationY");Ht(this,"rotation");Ht(this,"scale");Ht(this,"doneDrawing");Ht(this,"isTriangle");Ht(this,"triangularity");Ht(this,"areaOfFirstPolygon");Ht(this,"areadOfSimplifiedTriangle");Ht(this,"smallestAngle");Ht(this,"smallestAngleTipPoint");Ht(this,"initialRotation");Ht(this,"startAngle");this.p=We,this.points=[],this.firstPolygonPoints=null,this.simplifiedPoints=null,this.simplifiedTrianglePoints=null,this.fallingTranslationY=0,this.fallingVelocityY=0,this.fallingAccelerationY=zm,this.extraLinePolygonOpacity=100,this.finishFrameCount=0,this.shapeTranslationX=0,this.shapeTranslationY=0,this.rotation=0,this.scale=1,this.doneDrawing=!1,this.isTriangle=!1,this.triangularity=0,this.areaOfFirstPolygon=0,this.areadOfSimplifiedTriangle=0,this.smallestAngle=0,this.smallestAngleTipPoint=null,this.initialRotation=0,this.startAngle=0}addPoint(We,ue){(this.points.length===0||this.points[this.points.length-1].x!==We||this.points[this.points.length-1].y!==ue)&&this.points.push({x:We,y:ue})}finishDrawing(){this.finishFrameCount=this.p.frameCount,this.doneDrawing=!0;const We=Pm(this.points);let ue=(We==null?void 0:We.vertices)??null;if(!ue)return;ue=su.flow([au,Im])(ue);const t=Um(ue);this.firstPolygonPoints=ue,this.areaOfFirstPolygon=da(ue);const H=Nm(this.firstPolygonPoints);if(this.simplifiedPoints=ai(H,t.radius*.1),this.simplifiedTrianglePoints=Fm(this.simplifiedPoints,3,t.radius*.1,t.radius*.1*.1),this.simplifiedTrianglePoints=su.flow([au,Dm])(this.simplifiedTrianglePoints),this.simplifiedTrianglePoints.length!==3){this.triangularity=0;return}this.areadOfSimplifiedTriangle=da(this.simplifiedTrianglePoints);const A=da(H);if(this.triangularity=A/this.areadOfSimplifiedTriangle,this.triangularity>1&&(this.triangularity=1/this.triangularity),console.log("triangularity",this.triangularity),this.isTriangle=this.triangularity>Hm,!!this.isTriangle){this.smallestAngle=Math.PI;for(let m=0;m<this.simplifiedTrianglePoints.length;m++){const g=this.simplifiedTrianglePoints[m%this.simplifiedTrianglePoints.length],c=this.simplifiedTrianglePoints[(m+2)%this.simplifiedTrianglePoints.length],d=this.simplifiedTrianglePoints[(m+1)%this.simplifiedTrianglePoints.length],b=Bm(g,c,d);console.log("angle",b*180/Math.PI),b<this.smallestAngle&&(this.smallestAngle=b,this.smallestAngleTipPoint=g,this.initialRotation=Vm(g,c))}if(console.log("smallestAngle",this.smallestAngle*180/Math.PI),console.log("smallestAngleTipPoint",this.smallestAngleTipPoint),this.smallestAngleTipPoint){this.shapeTranslationX=this.smallestAngleTipPoint.x,this.shapeTranslationY=this.smallestAngleTipPoint.y;const m=g=>({x:g.x-this.shapeTranslationX,y:g.y-this.shapeTranslationY});this.points=this.points.map(m),this.firstPolygonPoints&&(this.firstPolygonPoints=this.firstPolygonPoints.map(m)),this.simplifiedPoints&&(this.simplifiedPoints=this.simplifiedPoints.map(m)),this.simplifiedTrianglePoints&&(this.simplifiedTrianglePoints=this.simplifiedTrianglePoints.map(m))}}}draw(){if(this.p.push(),this.doneDrawing&&this.isTriangle&&(this.p.translate(this.shapeTranslationX,this.shapeTranslationY),this.p.scale(this.scale),this.p.rotate(this.rotation),this.p.fill(255,0,0),this.p.noStroke()),(!this.firstPolygonPoints||!this.isTriangle)&&this.doneDrawing&&(this.fallingVelocityY+=this.fallingAccelerationY,this.fallingTranslationY+=this.fallingVelocityY,this.p.translate(0,this.fallingTranslationY)),this.extraLinePolygonOpacity>0&&this.doneDrawing&&(this.extraLinePolygonOpacity-=5),this.points){this.p.push(),this.p.noFill(),this.doneDrawing?this.p.stroke(255,255,255,this.extraLinePolygonOpacity):this.p.stroke(255),this.p.beginShape();for(let We=0;We<this.points.length;We++)this.p.vertex(this.points[We].x,this.points[We].y);this.p.endShape(this.p.OPEN),this.p.pop()}if(this.firstPolygonPoints){this.p.push(),this.p.noFill(),this.p.stroke(255),this.p.beginShape();for(let We=0;We<this.firstPolygonPoints.length;We++)this.p.vertex(this.firstPolygonPoints[We].x,this.firstPolygonPoints[We].y);this.p.endShape(this.p.CLOSE),this.p.pop()}this.p.pop()}isOffScreen(){return this.fallingTranslationY>ha}}class cu{constructor(We,ue,t){Ht(this,"p");Ht(this,"x");Ht(this,"y");Ht(this,"radius");Ht(this,"startAngle");Ht(this,"endAngle");Ht(this,"occupiedAngle");Ht(this,"scale");Ht(this,"drawings");this.p=We,this.x=ue,this.y=t,this.radius=0,this.startAngle=0,this.endAngle=0,this.occupiedAngle=0,this.scale=1,this.drawings=[]}canAddDrawing(We){return this.occupiedAngle+We.smallestAngle<=Math.PI*2}addDrawing(We){We.startAngle=this.occupiedAngle,this.occupiedAngle+=We.smallestAngle,this.drawings.push(We)}draw(){for(let H of this.drawings)H.rotation=this.p.lerp(H.rotation,fa(-H.startAngle-H.initialRotation),.05),H.scale=this.p.lerp(H.scale,this.scale,.2),H.shapeTranslationX=this.p.lerp(H.shapeTranslationX,this.x,.1),H.shapeTranslationY=this.p.lerp(H.shapeTranslationY,this.y,.1),H.draw()}}const qm=Ve=>{let We=null,ue=[],t=new cu(Ve,uu/2,ha/2),H=[],A=100,m=100;Ve.setup=()=>{Ve.createCanvas(uu,ha).parent("canvas-container"),Ve.background(0)},Ve.draw=()=>{Ve.background(0),Ve.cursor(Ve.CROSS);const b=[...H,t].filter(r=>r!==null);for(let r of b)r.draw();Ve.background(0,0,0,100);const y=[...ue];We&&y.push(We);for(let r of y)r.draw();y.filter(r=>r.isOffScreen()).forEach(r=>{const o=ue.indexOf(r);o!==-1&&ue.splice(o,1)})},Ve.mousePressed=()=>{We?c(Ve.mouseX,Ve.mouseY):g(Ve.mouseX,Ve.mouseY)},Ve.mouseDragged=()=>{We&&c(Ve.mouseX,Ve.mouseY)},Ve.mouseReleased=()=>{d()};function g(b,y){We=new Wm(Ve),We.addPoint(b,y)}function c(b,y){We&&We.addPoint(b,y)}function d(){if(We){if(We.finishDrawing(),We.isTriangle)if(t.canAddDrawing(We))console.log("can"),t.addDrawing(We);else{t.scale=.3;const b=new cu(Ve,t.x,t.y);t.x=A,t.y=m,A+=200,H.push(t),t=b,t.addDrawing(We)}else ue.push(We);We=null,console.log(ue)}}};new Tm(qm);
