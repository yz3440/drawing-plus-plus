var vm=Object.defineProperty;var bm=(De,st,he)=>st in De?vm(De,st,{enumerable:!0,configurable:!0,writable:!0,value:he}):De[st]=he;var Yt=(De,st,he)=>bm(De,typeof st!="symbol"?st+"":st,he);(function(){const st=document.createElement("link").relList;if(st&&st.supports&&st.supports("modulepreload"))return;for(const q of document.querySelectorAll('link[rel="modulepreload"]'))t(q);new MutationObserver(q=>{for(const A of q)if(A.type==="childList")for(const m of A.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&t(m)}).observe(document,{childList:!0,subtree:!0});function he(q){const A={};return q.integrity&&(A.integrity=q.integrity),q.referrerPolicy&&(A.referrerPolicy=q.referrerPolicy),q.crossOrigin==="use-credentials"?A.credentials="include":q.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function t(q){if(q.ep)return;q.ep=!0;const A=he(q);fetch(q.href,A)}})();var Vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lu(De){return De&&De.__esModule&&Object.prototype.hasOwnProperty.call(De,"default")?De.default:De}function ii(De){throw new Error('Could not dynamically require "'+De+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ca={exports:{}};/*! p5.js v1.11.11 October 20, 2025 */var ru;function _m(){return ru||(ru=1,(function(De,st){(function(he){De.exports=he()})(function(){var he;return(function t(q,A,m){function g(b,y){if(!A[b]){if(!q[b]){var r=typeof ii=="function"&&ii;if(!y&&r)return r(b,!0);if(c)return c(b,!0);throw(y=new Error("Cannot find module '"+b+"'")).code="MODULE_NOT_FOUND",y}r=A[b]={exports:{}},q[b][0].call(r.exports,function(s){return g(q[b][1][s]||s)},r,r.exports,t,q,A,m)}return A[b].exports}for(var c=typeof ii=="function"&&ii,h=0;h<m.length;h++)g(m[h]);return g})({1:[function(t,q,A){A.byteLength=function(l){var l=r(l),i=l[0],l=l[1];return 3*(i+l)/4-l},A.toByteArray=function(s){var i,l,o=r(s),u=o[0],o=o[1],n=new c((function(_,S){return 3*(_+S)/4-S})(u,o)),p=0,d=0<o?u-4:u;for(l=0;l<d;l+=4)i=g[s.charCodeAt(l)]<<18|g[s.charCodeAt(l+1)]<<12|g[s.charCodeAt(l+2)]<<6|g[s.charCodeAt(l+3)],n[p++]=i>>16&255,n[p++]=i>>8&255,n[p++]=255&i;return o===2&&(i=g[s.charCodeAt(l)]<<2|g[s.charCodeAt(l+1)]>>4,n[p++]=255&i),o===1&&(i=g[s.charCodeAt(l)]<<10|g[s.charCodeAt(l+1)]<<4|g[s.charCodeAt(l+2)]>>2,n[p++]=i>>8&255,n[p++]=255&i),n},A.fromByteArray=function(s){for(var i,l=s.length,u=l%3,o=[],n=0,p=l-u;n<p;n+=16383)o.push((function(d,_,S){for(var j,T=[],C=_;C<S;C+=3)j=(d[C]<<16&16711680)+(d[C+1]<<8&65280)+(255&d[C+2]),T.push((function(L){return m[L>>18&63]+m[L>>12&63]+m[L>>6&63]+m[63&L]})(j));return T.join("")})(s,n,p<n+16383?p:n+16383));return u==1?(i=s[l-1],o.push(m[i>>2]+m[i<<4&63]+"==")):u==2&&(i=(s[l-2]<<8)+s[l-1],o.push(m[i>>10]+m[i>>4&63]+m[i<<2&63]+"=")),o.join("")};for(var m=[],g=[],c=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,y=h.length;b<y;++b)m[b]=h[b],g[h.charCodeAt(b)]=b;function r(s){var i=s.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");return s=s.indexOf("="),i=(s=s===-1?i:s)===i?0:4-s%4,[s,i]}g[45]=62,g[95]=63},{}],2:[function(t,q,A){},{}],3:[function(t,q,A){},{}],4:[function(t,q,A){(function(r){var g=t("base64-js"),c=t("ieee754"),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,b=(A.Buffer=r,A.SlowBuffer=function(w){return+w!=w&&(w=0),r.alloc(+w)},A.INSPECT_MAX_BYTES=50,2147483647);function y(w){if(b<w)throw new RangeError('The value "'+w+'" is invalid for option "size"');return w=new Uint8Array(w),Object.setPrototypeOf(w,r.prototype),w}function r(w,R,N){if(typeof w!="number")return s(w,R,N);if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(w)}function s(w,R,N){if(typeof w=="string"){var W=w,J=R;if(r.isEncoding(J=typeof J=="string"&&J!==""?J:"utf8"))return re=0|n(W,J),ue=y(re),ue=(W=ue.write(W,J))!==re?ue.slice(0,W):ue;throw new TypeError("Unknown encoding: "+J)}if(ArrayBuffer.isView(w))return u(w);if(w!=null){if(Z(w,ArrayBuffer)||w&&Z(w.buffer,ArrayBuffer)){var re=w,W=R,ue=N;if(W<0||re.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<W+(ue||0))throw new RangeError('"length" is outside of buffer bounds');return re=W===void 0&&ue===void 0?new Uint8Array(re):ue===void 0?new Uint8Array(re,W):new Uint8Array(re,W,ue),Object.setPrototypeOf(re,r.prototype),re}if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(J=w.valueOf&&w.valueOf(),J!=null&&J!==w)return r.from(J,R,N);var ge=(function(se){{var pe,ye;if(r.isBuffer(se))return pe=0|o(se.length),(ye=y(pe)).length!==0&&se.copy(ye,0,0,pe),ye}if(se.length!==void 0)return typeof se.length!="number"||Q(se.length)?y(0):u(se);if(se.type==="Buffer"&&Array.isArray(se.data))return u(se.data)})(w);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return r.from(w[Symbol.toPrimitive]("string"),R,N)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}function i(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function l(w){return i(w),y(w<0?0:0|o(w))}function u(w){for(var R=w.length<0?0:0|o(w.length),N=y(R),W=0;W<R;W+=1)N[W]=255&w[W];return N}function o(w){if(b<=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|w}function n(w,R){if(r.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||Z(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);var N=w.length,W=2<arguments.length&&arguments[2]===!0;if(!W&&N===0)return 0;for(var J=!1;;)switch(R){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return X(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*N;case"hex":return N>>>1;case"base64":return H(w).length;default:if(J)return W?-1:X(w).length;R=(""+R).toLowerCase(),J=!0}}function p(w,R,N){var W,J=!1;if((R=R===void 0||R<0?0:R)>this.length||(N=N===void 0||N>this.length?this.length:N)<=0||(N>>>=0)<=(R>>>=0))return"";for(w=w||"utf8";;)switch(w){case"hex":var re=this,xe=R,ue=N,ye=re.length;(!ue||ue<0||ye<ue)&&(ue=ye);for(var ge="",se=xe=!xe||xe<0?0:xe;se<ue;++se)ge+=le[re[se]];return ge;case"utf8":case"utf-8":return C(this,R,N);case"ascii":var pe=this,ye=R,te=N,me="";te=Math.min(pe.length,te);for(var we=ye;we<te;++we)me+=String.fromCharCode(127&pe[we]);return me;case"latin1":case"binary":var Ee=this,xe=R,Te=N,Pe="";Te=Math.min(Ee.length,Te);for(var We=xe;We<Te;++We)Pe+=String.fromCharCode(Ee[We]);return Pe;case"base64":return Re=this,W=N,(ft=R)===0&&W===Re.length?g.fromByteArray(Re):g.fromByteArray(Re.slice(ft,W));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Re=R,ft=N,ot=this.slice(Re,ft),rt="",ut=0;ut<ot.length;ut+=2)rt+=String.fromCharCode(ot[ut]+256*ot[ut+1]);return rt;default:if(J)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),J=!0}}function d(w,R,N){var W=w[R];w[R]=w[N],w[N]=W}function _(w,R,N,W,J){if(w.length===0)return-1;if(typeof N=="string"?(W=N,N=0):2147483647<N?N=2147483647:N<-2147483648&&(N=-2147483648),(N=(N=Q(N=+N)?J?0:w.length-1:N)<0?w.length+N:N)>=w.length){if(J)return-1;N=w.length-1}else if(N<0){if(!J)return-1;N=0}if(typeof R=="string"&&(R=r.from(R,W)),r.isBuffer(R))return R.length===0?-1:S(w,R,N,W,J);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?(J?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(w,R,N):S(w,[R],N,W,J);throw new TypeError("val must be string, number or Buffer")}function S(w,R,N,W,J){var re=1,ue=w.length,ge=R.length;if(W!==void 0&&((W=String(W).toLowerCase())==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(w.length<2||R.length<2)return-1;ue/=re=2,ge/=2,N/=2}function se(we,Ee){return re===1?we[Ee]:we.readUInt16BE(Ee*re)}if(J)for(var pe=-1,ye=N;ye<ue;ye++)if(se(w,ye)===se(R,pe===-1?0:ye-pe)){if(ye-(pe=pe===-1?ye:pe)+1===ge)return pe*re}else pe!==-1&&(ye-=ye-pe),pe=-1;else for(ye=N=ue<N+ge?ue-ge:N;0<=ye;ye--){for(var te=!0,me=0;me<ge;me++)if(se(w,ye+me)!==se(R,me)){te=!1;break}if(te)return ye}return-1}function j(w,R,N,W){return G((function(J){for(var re=[],ue=0;ue<J.length;++ue)re.push(255&J.charCodeAt(ue));return re})(R),w,N,W)}function T(w,R,N,W){return G((function(J,re){for(var ue,ge,se=[],pe=0;pe<J.length&&!((re-=2)<0);++pe)ge=J.charCodeAt(pe),ue=ge>>8,ge=ge%256,se.push(ge),se.push(ue);return se})(R,w.length-N),w,N,W)}function C(w,R,N){N=Math.min(w.length,N);for(var W=[],J=R;J<N;){var re,ue,ge,se,pe=w[J],ye=null,te=239<pe?4:223<pe?3:191<pe?2:1;if(J+te<=N)switch(te){case 1:pe<128&&(ye=pe);break;case 2:(192&(re=w[J+1]))==128&&127<(se=(31&pe)<<6|63&re)&&(ye=se);break;case 3:re=w[J+1],ue=w[J+2],(192&re)==128&&(192&ue)==128&&2047<(se=(15&pe)<<12|(63&re)<<6|63&ue)&&(se<55296||57343<se)&&(ye=se);break;case 4:re=w[J+1],ue=w[J+2],ge=w[J+3],(192&re)==128&&(192&ue)==128&&(192&ge)==128&&65535<(se=(15&pe)<<18|(63&re)<<12|(63&ue)<<6|63&ge)&&se<1114112&&(ye=se)}ye===null?(ye=65533,te=1):65535<ye&&(ye-=65536,W.push(ye>>>10&1023|55296),ye=56320|1023&ye),W.push(ye),J+=te}var me=W,we=me.length;if(we<=L)return String.fromCharCode.apply(String,me);for(var Ee="",xe=0;xe<we;)Ee+=String.fromCharCode.apply(String,me.slice(xe,xe+=L));return Ee}A.kMaxLength=b,(r.TYPED_ARRAY_SUPPORT=(function(){try{var w=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(w,R),w.foo()===42}catch{return!1}})())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=s,Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(w,R,N){return R=R,N=N,i(w=w),!(w<=0)&&R!==void 0?typeof N=="string"?y(w).fill(R,N):y(w).fill(R):y(w)},r.allocUnsafe=l,r.allocUnsafeSlow=l,r.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==r.prototype},r.compare=function(w,R){if(Z(w,Uint8Array)&&(w=r.from(w,w.offset,w.byteLength)),Z(R,Uint8Array)&&(R=r.from(R,R.offset,R.byteLength)),!r.isBuffer(w)||!r.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===R)return 0;for(var N=w.length,W=R.length,J=0,re=Math.min(N,W);J<re;++J)if(w[J]!==R[J]){N=w[J],W=R[J];break}return N<W?-1:W<N?1:0},r.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(w,R){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return r.alloc(0);if(R===void 0)for(J=R=0;J<w.length;++J)R+=w[J].length;for(var N=r.allocUnsafe(R),W=0,J=0;J<w.length;++J){var re=w[J];if(Z(re,Uint8Array)&&(re=r.from(re)),!r.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(N,W),W+=re.length}return N},r.byteLength=n,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<w;R+=2)d(this,R,R+1);return this},r.prototype.swap32=function(){var w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<w;R+=4)d(this,R,R+3),d(this,R+1,R+2);return this},r.prototype.swap64=function(){var w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<w;R+=8)d(this,R,R+7),d(this,R+1,R+6),d(this,R+2,R+5),d(this,R+3,R+4);return this},r.prototype.toLocaleString=r.prototype.toString=function(){var w=this.length;return w===0?"":arguments.length===0?C(this,0,w):p.apply(this,arguments)},r.prototype.equals=function(w){if(r.isBuffer(w))return this===w||r.compare(this,w)===0;throw new TypeError("Argument must be a Buffer")},r.prototype.inspect=function(){var R="",w=A.INSPECT_MAX_BYTES,R=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim();return this.length>w&&(R+=" ... "),"<Buffer "+R+">"},h&&(r.prototype[h]=r.prototype.inspect),r.prototype.compare=function(w,R,N,W,J){if(Z(w,Uint8Array)&&(w=r.from(w,w.offset,w.byteLength)),!r.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(N===void 0&&(N=w?w.length:0),W===void 0&&(W=0),J===void 0&&(J=this.length),(R=R===void 0?0:R)<0||N>w.length||W<0||J>this.length)throw new RangeError("out of range index");if(J<=W&&N<=R)return 0;if(J<=W)return-1;if(N<=R)return 1;if(this===w)return 0;for(var re=(J>>>=0)-(W>>>=0),ue=(N>>>=0)-(R>>>=0),ge=Math.min(re,ue),se=this.slice(W,J),pe=w.slice(R,N),ye=0;ye<ge;++ye)if(se[ye]!==pe[ye]){re=se[ye],ue=pe[ye];break}return re<ue?-1:ue<re?1:0},r.prototype.includes=function(w,R,N){return this.indexOf(w,R,N)!==-1},r.prototype.indexOf=function(w,R,N){return _(this,w,R,N,!0)},r.prototype.lastIndexOf=function(w,R,N){return _(this,w,R,N,!1)},r.prototype.write=function(w,R,N,W){if(R===void 0)W="utf8",N=this.length,R=0;else if(N===void 0&&typeof R=="string")W=R,N=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(N)?(N>>>=0,W===void 0&&(W="utf8")):(W=N,N=void 0)}var J=this.length-R;if((N===void 0||J<N)&&(N=J),0<w.length&&(N<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");W=W||"utf8";for(var re,ue,ge,se=!1;;)switch(W){case"hex":var pe=this,ye=w,te=R,me=N,we=(te=Number(te)||0,pe.length-te);(!me||we<(me=Number(me)))&&(me=we),(we=ye.length)/2<me&&(me=we/2);for(var Ee=0;Ee<me;++Ee){var xe=parseInt(ye.substr(2*Ee,2),16);if(Q(xe))return Ee;pe[te+Ee]=xe}return Ee;case"utf8":case"utf-8":return we=R,ge=N,G(X(w,(ue=this).length-we),ue,we,ge);case"ascii":return j(this,w,R,N);case"latin1":case"binary":return j(this,w,R,N);case"base64":return ue=this,ge=R,re=N,G(H(w),ue,ge,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,w,R,N);default:if(se)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),se=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function E(w,R,N){if(w%1!=0||w<0)throw new RangeError("offset is not uint");if(N<w+R)throw new RangeError("Trying to access beyond buffer length")}function I(w,R,N,W,J,re){if(!r.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(J<R||R<re)throw new RangeError('"value" argument is out of bounds');if(N+W>w.length)throw new RangeError("Index out of range")}function O(w,R,N,W){if(N+W>w.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function U(w,R,N,W,J){return R=+R,N>>>=0,J||O(w,0,N,4),c.write(w,R,N,W,23,4),N+4}function D(w,R,N,W,J){return R=+R,N>>>=0,J||O(w,0,N,8),c.write(w,R,N,W,52,8),N+8}r.prototype.slice=function(w,R){var N=this.length,N=((w=~~w)<0?(w+=N)<0&&(w=0):N<w&&(w=N),(R=R===void 0?N:~~R)<0?(R+=N)<0&&(R=0):N<R&&(R=N),R<w&&(R=w),this.subarray(w,R));return Object.setPrototypeOf(N,r.prototype),N},r.prototype.readUIntLE=function(w,R,N){w>>>=0,R>>>=0,N||E(w,R,this.length);for(var W=this[w],J=1,re=0;++re<R&&(J*=256);)W+=this[w+re]*J;return W},r.prototype.readUIntBE=function(w,R,N){w>>>=0,R>>>=0,N||E(w,R,this.length);for(var W=this[w+--R],J=1;0<R&&(J*=256);)W+=this[w+--R]*J;return W},r.prototype.readUInt8=function(w,R){return w>>>=0,R||E(w,1,this.length),this[w]},r.prototype.readUInt16LE=function(w,R){return w>>>=0,R||E(w,2,this.length),this[w]|this[w+1]<<8},r.prototype.readUInt16BE=function(w,R){return w>>>=0,R||E(w,2,this.length),this[w]<<8|this[w+1]},r.prototype.readUInt32LE=function(w,R){return w>>>=0,R||E(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},r.prototype.readUInt32BE=function(w,R){return w>>>=0,R||E(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},r.prototype.readIntLE=function(w,R,N){w>>>=0,R>>>=0,N||E(w,R,this.length);for(var W=this[w],J=1,re=0;++re<R&&(J*=256);)W+=this[w+re]*J;return(J*=128)<=W&&(W-=Math.pow(2,8*R)),W},r.prototype.readIntBE=function(w,R,N){w>>>=0,R>>>=0,N||E(w,R,this.length);for(var W=R,J=1,re=this[w+--W];0<W&&(J*=256);)re+=this[w+--W]*J;return(J*=128)<=re&&(re-=Math.pow(2,8*R)),re},r.prototype.readInt8=function(w,R){return w>>>=0,R||E(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},r.prototype.readInt16LE=function(w,R){return w>>>=0,R||E(w,2,this.length),R=this[w]|this[w+1]<<8,32768&R?4294901760|R:R},r.prototype.readInt16BE=function(w,R){return w>>>=0,R||E(w,2,this.length),R=this[w+1]|this[w]<<8,32768&R?4294901760|R:R},r.prototype.readInt32LE=function(w,R){return w>>>=0,R||E(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},r.prototype.readInt32BE=function(w,R){return w>>>=0,R||E(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},r.prototype.readFloatLE=function(w,R){return w>>>=0,R||E(w,4,this.length),c.read(this,w,!0,23,4)},r.prototype.readFloatBE=function(w,R){return w>>>=0,R||E(w,4,this.length),c.read(this,w,!1,23,4)},r.prototype.readDoubleLE=function(w,R){return w>>>=0,R||E(w,8,this.length),c.read(this,w,!0,52,8)},r.prototype.readDoubleBE=function(w,R){return w>>>=0,R||E(w,8,this.length),c.read(this,w,!1,52,8)},r.prototype.writeUIntLE=function(w,R,N,W){w=+w,R>>>=0,N>>>=0,W||I(this,w,R,N,Math.pow(2,8*N)-1,0);var J=1,re=0;for(this[R]=255&w;++re<N&&(J*=256);)this[R+re]=w/J&255;return R+N},r.prototype.writeUIntBE=function(w,R,N,W){w=+w,R>>>=0,N>>>=0,W||I(this,w,R,N,Math.pow(2,8*N)-1,0);var J=N-1,re=1;for(this[R+J]=255&w;0<=--J&&(re*=256);)this[R+J]=w/re&255;return R+N},r.prototype.writeUInt8=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,1,255,0),this[R]=255&w,R+1},r.prototype.writeUInt16LE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,2,65535,0),this[R]=255&w,this[R+1]=w>>>8,R+2},r.prototype.writeUInt16BE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,2,65535,0),this[R]=w>>>8,this[R+1]=255&w,R+2},r.prototype.writeUInt32LE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,4,4294967295,0),this[R+3]=w>>>24,this[R+2]=w>>>16,this[R+1]=w>>>8,this[R]=255&w,R+4},r.prototype.writeUInt32BE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,4,4294967295,0),this[R]=w>>>24,this[R+1]=w>>>16,this[R+2]=w>>>8,this[R+3]=255&w,R+4},r.prototype.writeIntLE=function(w,R,N,W){w=+w,R>>>=0,W||I(this,w,R,N,(W=Math.pow(2,8*N-1))-1,-W);var J=0,re=1,ue=0;for(this[R]=255&w;++J<N&&(re*=256);)w<0&&ue===0&&this[R+J-1]!==0&&(ue=1),this[R+J]=(w/re>>0)-ue&255;return R+N},r.prototype.writeIntBE=function(w,R,N,W){w=+w,R>>>=0,W||I(this,w,R,N,(W=Math.pow(2,8*N-1))-1,-W);var J=N-1,re=1,ue=0;for(this[R+J]=255&w;0<=--J&&(re*=256);)w<0&&ue===0&&this[R+J+1]!==0&&(ue=1),this[R+J]=(w/re>>0)-ue&255;return R+N},r.prototype.writeInt8=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,1,127,-128),this[R]=255&(w=w<0?255+w+1:w),R+1},r.prototype.writeInt16LE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,2,32767,-32768),this[R]=255&w,this[R+1]=w>>>8,R+2},r.prototype.writeInt16BE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,2,32767,-32768),this[R]=w>>>8,this[R+1]=255&w,R+2},r.prototype.writeInt32LE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,4,2147483647,-2147483648),this[R]=255&w,this[R+1]=w>>>8,this[R+2]=w>>>16,this[R+3]=w>>>24,R+4},r.prototype.writeInt32BE=function(w,R,N){return w=+w,R>>>=0,N||I(this,w,R,4,2147483647,-2147483648),this[R]=(w=w<0?4294967295+w+1:w)>>>24,this[R+1]=w>>>16,this[R+2]=w>>>8,this[R+3]=255&w,R+4},r.prototype.writeFloatLE=function(w,R,N){return U(this,w,R,!0,N)},r.prototype.writeFloatBE=function(w,R,N){return U(this,w,R,!1,N)},r.prototype.writeDoubleLE=function(w,R,N){return D(this,w,R,!0,N)},r.prototype.writeDoubleBE=function(w,R,N){return D(this,w,R,!1,N)},r.prototype.copy=function(w,R,N,W){if(!r.isBuffer(w))throw new TypeError("argument should be a Buffer");if(N=N||0,W||W===0||(W=this.length),R>=w.length&&(R=w.length),(W=0<W&&W<N?N:W)===N||w.length===0||this.length===0)return 0;if((R=R||0)<0)throw new RangeError("targetStart out of bounds");if(N<0||N>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length);var J=(W=w.length-R<W-N?w.length-R+N:W)-N;if(this===w&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(R,N,W);else if(this===w&&N<R&&R<W)for(var re=J-1;0<=re;--re)w[re+R]=this[re+N];else Uint8Array.prototype.set.call(w,this.subarray(N,W),R);return J},r.prototype.fill=function(w,R,N,W){if(typeof w=="string"){if(typeof R=="string"?(W=R,R=0,N=this.length):typeof N=="string"&&(W=N,N=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!r.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var J;w.length===1&&(J=w.charCodeAt(0),(W==="utf8"&&J<128||W==="latin1")&&(w=J))}else typeof w=="number"?w&=255:typeof w=="boolean"&&(w=Number(w));if(R<0||this.length<R||this.length<N)throw new RangeError("Out of range index");var re;if(!(N<=R))if(R>>>=0,N=N===void 0?this.length:N>>>0,typeof(w=w||0)=="number")for(re=R;re<N;++re)this[re]=w;else{var ue=r.isBuffer(w)?w:r.from(w,W),ge=ue.length;if(ge===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(re=0;re<N-R;++re)this[re+R]=ue[re%ge]}return this};var B=/[^+/0-9A-Za-z-_]/g;function X(w,R){R=R||1/0;for(var N,W=w.length,J=null,re=[],ue=0;ue<W;++ue){if(55295<(N=w.charCodeAt(ue))&&N<57344){if(!J){if(56319<N){-1<(R-=3)&&re.push(239,191,189);continue}if(ue+1===W){-1<(R-=3)&&re.push(239,191,189);continue}J=N;continue}if(N<56320){-1<(R-=3)&&re.push(239,191,189),J=N;continue}N=65536+(J-55296<<10|N-56320)}else J&&-1<(R-=3)&&re.push(239,191,189);if(J=null,N<128){if(--R<0)break;re.push(N)}else if(N<2048){if((R-=2)<0)break;re.push(N>>6|192,63&N|128)}else if(N<65536){if((R-=3)<0)break;re.push(N>>12|224,N>>6&63|128,63&N|128)}else{if(!(N<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;re.push(N>>18|240,N>>12&63|128,N>>6&63|128,63&N|128)}}return re}function H(w){return g.toByteArray((function(R){if((R=(R=R.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R})(w))}function G(w,R,N,W){for(var J=0;J<W&&!(J+N>=R.length||J>=w.length);++J)R[J+N]=w[J];return J}function Z(w,R){return w instanceof R||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===R.name}function Q(w){return w!=w}var le=(function(){for(var w="0123456789abcdef",R=new Array(256),N=0;N<16;++N)for(var W=16*N,J=0;J<16;++J)R[W+J]=w[N]+w[J];return R})()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,q,A){q.exports=function(m){if(typeof m!="function")throw TypeError(String(m)+" is not a function");return m}},{}],6:[function(t,q,A){var m=t("../internals/is-object");q.exports=function(g){if(m(g)||g===null)return g;throw TypeError("Can't set "+String(g)+" as a prototype")}},{"../internals/is-object":75}],7:[function(c,q,A){var m=c("../internals/well-known-symbol"),g=c("../internals/object-create"),c=c("../internals/object-define-property"),h=m("unscopables"),b=Array.prototype;b[h]==null&&c.f(b,h,{configurable:!0,value:g(null)}),q.exports=function(y){b[h][y]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,q,A){var m=t("../internals/string-multibyte").charAt;q.exports=function(g,c,h){return c+(h?m(g,c).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,q,A){q.exports=function(m,g,c){if(m instanceof g)return m;throw TypeError("Incorrect "+(c?c+" ":"")+"invocation")}},{}],10:[function(t,q,A){var m=t("../internals/is-object");q.exports=function(g){if(m(g))return g;throw TypeError(String(g)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,q,A){q.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(O,q,A){function m(D){return y(D)&&r(U,s(D))}var g,c=O("../internals/array-buffer-native"),h=O("../internals/descriptors"),b=O("../internals/global"),y=O("../internals/is-object"),r=O("../internals/has"),s=O("../internals/classof"),i=O("../internals/create-non-enumerable-property"),l=O("../internals/redefine"),u=O("../internals/object-define-property").f,o=O("../internals/object-get-prototype-of"),n=O("../internals/object-set-prototype-of"),L=O("../internals/well-known-symbol"),O=O("../internals/uid"),p=b.Int8Array,d=p&&p.prototype,_=b.Uint8ClampedArray,_=_&&_.prototype,S=p&&o(p),j=d&&o(d),T=Object.prototype,C=T.isPrototypeOf,L=L("toStringTag"),E=O("TYPED_ARRAY_TAG"),I=c&&!!n&&s(b.opera)!=="Opera",O=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(g in U)b[g]||(I=!1);if((!I||typeof S!="function"||S===Function.prototype)&&(S=function(){throw TypeError("Incorrect invocation")},I))for(g in U)b[g]&&n(b[g],S);if((!I||!j||j===T)&&(j=S.prototype,I))for(g in U)b[g]&&n(b[g].prototype,j);if(I&&o(_)!==j&&n(_,j),h&&!r(j,L))for(g in O=!0,u(j,L,{get:function(){return y(this)?this[E]:void 0}}),U)b[g]&&i(b[g],E,g);q.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:O&&E,aTypedArray:function(D){if(m(D))return D;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(D){if(n){if(C.call(S,D))return D}else for(var B in U)if(r(U,g)&&(B=b[B],B&&(D===B||C.call(B,D))))return D;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(D,B,X){if(h){if(X)for(var H in U)H=b[H],H&&r(H.prototype,D)&&delete H.prototype[D];j[D]&&!X||l(j,D,!X&&I&&d[D]||B)}},exportTypedArrayStaticMethod:function(D,B,X){var H,G;if(h){if(n){if(X)for(H in U)(G=b[H])&&r(G,D)&&delete G[D];if(S[D]&&!X)return;try{return l(S,D,!X&&I&&p[D]||B)}catch{}}for(H in U)!(G=b[H])||G[D]&&!X||l(G,D,B)}},isView:function(D){return D=s(D),D==="DataView"||r(U,D)},isTypedArray:m,TypedArray:S,TypedArrayPrototype:j}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(N,q,A){function m(te){return[255&te]}function g(te){return[255&te,te>>8&255]}function c(te){return[255&te,te>>8&255,te>>16&255,te>>24&255]}function h(te){return te[3]<<24|te[2]<<16|te[1]<<8|te[0]}function b(te){return re(te,23,4)}function y(te){return re(te,52,8)}function r(te,me){O(te[Z],me,{get:function(){return B(this)[me]}})}function s(Pe,me,Te,Ee){if(Te=T(Te),Pe=B(Pe),Te+me>Pe.byteLength)throw J(Q);var xe=B(Pe.buffer).bytes,Te=Te+Pe.byteOffset,Pe=xe.slice(Te,Te+me);return Ee?Pe:Pe.reverse()}function i(te,me,we,Ee,xe,Te){if(we=T(we),te=B(te),we+me>te.byteLength)throw J(Q);for(var Pe=B(te.buffer).bytes,We=we+te.byteOffset,Re=Ee(+xe),ft=0;ft<me;ft++)Pe[We+ft]=Re[Te?ft:me-ft-1]}var l=N("../internals/global"),u=N("../internals/descriptors"),o=N("../internals/array-buffer-native"),n=N("../internals/create-non-enumerable-property"),p=N("../internals/redefine-all"),d=N("../internals/fails"),_=N("../internals/an-instance"),S=N("../internals/to-integer"),j=N("../internals/to-length"),T=N("../internals/to-index"),C=N("../internals/ieee754"),L=N("../internals/object-get-prototype-of"),E=N("../internals/object-set-prototype-of"),I=N("../internals/object-get-own-property-names").f,O=N("../internals/object-define-property").f,U=N("../internals/array-fill"),D=N("../internals/set-to-string-tag"),N=N("../internals/internal-state"),B=N.get,X=N.set,H="ArrayBuffer",G="DataView",Z="prototype",Q="Wrong index",le=l[H],w=le,R=l[G],N=R&&R[Z],W=Object.prototype,J=l.RangeError,re=C.pack,ue=C.unpack;if(o){if(!d(function(){le(1)})||!d(function(){new le(-1)})||d(function(){return new le,new le(1.5),new le(NaN),le.name!=H})){for(var ge,l=(w=function(we){return _(this,w),new le(T(we))})[Z]=le[Z],se=I(le),pe=0;se.length>pe;)(ge=se[pe++])in w||n(w,ge,le[ge]);l.constructor=w}E&&L(N)!==W&&E(N,W);var C=new R(new w(2)),ye=N.setInt8;C.setInt8(0,2147483648),C.setInt8(1,2147483649),!C.getInt8(0)&&C.getInt8(1)||p(N,{setInt8:function(me,we){ye.call(this,me,we<<24>>24)},setUint8:function(me,we){ye.call(this,me,we<<24>>24)}},{unsafe:!0})}else w=function(te){_(this,w,H),te=T(te),X(this,{bytes:U.call(new Array(te),0),byteLength:te}),u||(this.byteLength=te)},R=function(te,xe,we){_(this,R,G),_(te,w,G);var Ee=B(te).byteLength,xe=S(xe);if(xe<0||Ee<xe)throw J("Wrong offset");if(Ee<xe+(we=we===void 0?Ee-xe:j(we)))throw J("Wrong length");X(this,{buffer:te,byteLength:we,byteOffset:xe}),u||(this.buffer=te,this.byteLength=we,this.byteOffset=xe)},u&&(r(w,"byteLength"),r(R,"buffer"),r(R,"byteLength"),r(R,"byteOffset")),p(R[Z],{getInt8:function(te){return s(this,1,te)[0]<<24>>24},getUint8:function(te){return s(this,1,te)[0]},getInt16:function(te){return te=s(this,2,te,1<arguments.length?arguments[1]:void 0),(te[1]<<8|te[0])<<16>>16},getUint16:function(te){return te=s(this,2,te,1<arguments.length?arguments[1]:void 0),te[1]<<8|te[0]},getInt32:function(te){return h(s(this,4,te,1<arguments.length?arguments[1]:void 0))},getUint32:function(te){return h(s(this,4,te,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(te){return ue(s(this,4,te,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(te){return ue(s(this,8,te,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(te,me){i(this,1,te,m,me)},setUint8:function(te,me){i(this,1,te,m,me)},setInt16:function(te,me){i(this,2,te,g,me,2<arguments.length?arguments[2]:void 0)},setUint16:function(te,me){i(this,2,te,g,me,2<arguments.length?arguments[2]:void 0)},setInt32:function(te,me){i(this,4,te,c,me,2<arguments.length?arguments[2]:void 0)},setUint32:function(te,me){i(this,4,te,c,me,2<arguments.length?arguments[2]:void 0)},setFloat32:function(te,me){i(this,4,te,b,me,2<arguments.length?arguments[2]:void 0)},setFloat64:function(te,me){i(this,8,te,y,me,2<arguments.length?arguments[2]:void 0)}});D(w,H),D(R,G),q.exports={ArrayBuffer:w,DataView:R}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,q,A){var m=t("../internals/to-object"),g=t("../internals/to-absolute-index"),c=t("../internals/to-length"),h=Math.min;q.exports=[].copyWithin||function(u,y){var r=m(this),s=c(r.length),i=g(u,s),l=g(y,s),u=2<arguments.length?arguments[2]:void 0,o=h((u===void 0?s:g(u,s))-l,s-i),n=1;for(l<i&&i<l+o&&(n=-1,l+=o-1,i+=o-1);0<o--;)l in r?r[i]=r[l]:delete r[i],i+=n,l+=n;return r}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,q,A){var m=t("../internals/to-object"),g=t("../internals/to-absolute-index"),c=t("../internals/to-length");q.exports=function(h){for(var b=m(this),y=c(b.length),s=arguments.length,r=g(1<s?arguments[1]:void 0,y),s=2<s?arguments[2]:void 0,i=s===void 0?y:g(s,y);r<i;)b[r++]=h;return b}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(c,q,A){var m=c("../internals/array-iteration").forEach,g=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),g=g("forEach"),c=c("forEach");q.exports=g&&c?[].forEach:function(h){return m(this,h,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,q,A){var m=t("../internals/function-bind-context"),g=t("../internals/to-object"),c=t("../internals/call-with-safe-iteration-closing"),h=t("../internals/is-array-iterator-method"),b=t("../internals/to-length"),y=t("../internals/create-property"),r=t("../internals/get-iterator-method");q.exports=function(_){var i,l,u,o,n,p,d=g(_),_=typeof this=="function"?this:Array,S=arguments.length,j=1<S?arguments[1]:void 0,T=j!==void 0,C=r(d),L=0;if(T&&(j=m(j,2<S?arguments[2]:void 0,2)),C==null||_==Array&&h(C))for(l=new _(i=b(d.length));L<i;L++)p=T?j(d[L],L):d[L],y(l,L,p);else for(n=(o=C.call(d)).next,l=new _;!(u=n.call(o)).done;L++)p=T?c(o,j,[u.value,L],!0):u.value,y(l,L,p);return l.length=L,l}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,q,A){function m(b){return function(y,r,s){var i,l=g(y),u=c(l.length),o=h(s,u);if(b&&r!=r){for(;o<u;)if((i=l[o++])!=i)return!0}else for(;o<u;o++)if((b||o in l)&&l[o]===r)return b||o||0;return!b&&-1}}var g=t("../internals/to-indexed-object"),c=t("../internals/to-length"),h=t("../internals/to-absolute-index");q.exports={includes:m(!0),indexOf:m(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,q,A){function m(s){var i=s==1,l=s==2,u=s==3,o=s==4,n=s==6,p=s==5||n;return function(d,_,S,j){for(var T,C,L=h(d),E=c(L),I=g(_,S,3),O=b(E.length),U=0,_=j||y,D=i?_(d,O):l?_(d,0):void 0;U<O;U++)if((p||U in E)&&(C=I(T=E[U],U,L),s)){if(i)D[U]=C;else if(C)switch(s){case 3:return!0;case 5:return T;case 6:return U;case 2:r.call(D,T)}else if(o)return!1}return n?-1:u||o?o:D}}var g=t("../internals/function-bind-context"),c=t("../internals/indexed-object"),h=t("../internals/to-object"),b=t("../internals/to-length"),y=t("../internals/array-species-create"),r=[].push;q.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(s,q,A){var m=s("../internals/to-indexed-object"),g=s("../internals/to-integer"),c=s("../internals/to-length"),r=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),h=Math.min,b=[].lastIndexOf,y=!!b&&1/[1].lastIndexOf(1,-0)<0,r=r("lastIndexOf"),s=s("indexOf",{ACCESSORS:!0,1:0});q.exports=y||!r||!s?function(i){if(y)return b.apply(this,arguments)||0;var l=m(this),u=c(l.length),o=u-1;for((o=1<arguments.length?h(o,g(arguments[1])):o)<0&&(o=u+o);0<=o;o--)if(o in l&&l[o]===i)return o||0;return-1}:b},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,q,A){var m=t("../internals/fails"),g=t("../internals/well-known-symbol"),c=t("../internals/engine-v8-version"),h=g("species");q.exports=function(b){return 51<=c||!m(function(){var y=[];return(y.constructor={})[h]=function(){return{foo:1}},y[b](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,q,A){var m=t("../internals/fails");q.exports=function(g,c){var h=[][g];return!!h&&m(function(){h.call(null,c||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,q,A){function m(r){throw r}var g=t("../internals/descriptors"),c=t("../internals/fails"),h=t("../internals/has"),b=Object.defineProperty,y={};q.exports=function(r,s){var i,l,u,o;return h(y,r)?y[r]:(i=[][r],l=!!h(s=s||{},"ACCESSORS")&&s.ACCESSORS,u=h(s,0)?s[0]:m,o=h(s,1)?s[1]:void 0,y[r]=!!i&&!c(function(){if(l&&!g)return!0;var n={length:-1};l?b(n,1,{enumerable:!0,get:m}):n[1]=1,i.call(n,u,o)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,q,A){function m(y){return function(r,s,i,l){g(s);var u=c(r),o=h(u),n=b(u.length),p=y?n-1:0,d=y?-1:1;if(i<2)for(;;){if(p in o){l=o[p],p+=d;break}if(p+=d,y?p<0:n<=p)throw TypeError("Reduce of empty array with no initial value")}for(;y?0<=p:p<n;p+=d)p in o&&(l=s(l,o[p],p,u));return l}}var g=t("../internals/a-function"),c=t("../internals/to-object"),h=t("../internals/indexed-object"),b=t("../internals/to-length");q.exports={left:m(!1),right:m(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,q,A){var m=t("../internals/is-object"),g=t("../internals/is-array"),c=t("../internals/well-known-symbol")("species");q.exports=function(h,b){var y;return new((y=g(h)&&(typeof(y=h.constructor)=="function"&&(y===Array||g(y.prototype))||m(y)&&(y=y[c])===null)?void 0:y)===void 0?Array:y)(b===0?0:b)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,q,A){var m=t("../internals/an-object");q.exports=function(g,c,h,b){try{return b?c(m(h)[0],h[1]):c(h)}catch(y){throw b=g.return,b!==void 0&&m(b.call(g)),y}}},{"../internals/an-object":10}],27:[function(t,q,A){var m=t("../internals/well-known-symbol")("iterator"),g=!1;try{var c=0,h={next:function(){return{done:!!c++}},return:function(){g=!0}};h[m]=function(){return this},Array.from(h,function(){throw 2})}catch{}q.exports=function(b,y){if(!y&&!g)return!1;var r=!1;try{var s={};s[m]=function(){return{next:function(){return{done:r=!0}}}},b(s)}catch{}return r}},{"../internals/well-known-symbol":150}],28:[function(t,q,A){var m={}.toString;q.exports=function(g){return m.call(g).slice(8,-1)}},{}],29:[function(t,q,A){var m=t("../internals/to-string-tag-support"),g=t("../internals/classof-raw"),c=t("../internals/well-known-symbol")("toStringTag"),h=g((function(){return arguments})())=="Arguments";q.exports=m?g:function(b){var y;return b===void 0?"Undefined":b===null?"Null":typeof(y=(function(r,s){try{return r[s]}catch{}})(b=Object(b),c))=="string"?y:h?g(b):(y=g(b))=="Object"&&typeof b.callee=="function"?"Arguments":y}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(u,q,A){var m=u("../internals/object-define-property").f,g=u("../internals/object-create"),c=u("../internals/redefine-all"),h=u("../internals/function-bind-context"),b=u("../internals/an-instance"),y=u("../internals/iterate"),r=u("../internals/define-iterator"),s=u("../internals/set-species"),i=u("../internals/descriptors"),l=u("../internals/internal-metadata").fastKey,u=u("../internals/internal-state"),o=u.set,n=u.getterFor;q.exports={getConstructor:function(p,d,_,S){function j(E,I,O){var U,D=L(E),B=T(E,I);return B?B.value=O:(D.last=B={index:U=l(I,!0),key:I,value:O,previous:I=D.last,next:void 0,removed:!1},D.first||(D.first=B),I&&(I.next=B),i?D.size++:E.size++,U!=="F"&&(D.index[U]=B)),E}function T(U,I){var O,U=L(U),D=l(I);if(D!=="F")return U.index[D];for(O=U.first;O;O=O.next)if(O.key==I)return O}var C=p(function(E,I){b(E,C,d),o(E,{type:d,index:g(null),first:void 0,last:void 0,size:0}),i||(E.size=0),I!=null&&y(I,E[S],E,_)}),L=n(d);return c(C.prototype,{clear:function(){for(var E=L(this),I=E.index,O=E.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete I[O.index],O=O.next;E.first=E.last=void 0,i?E.size=0:this.size=0},delete:function(D){var I,O,U=L(this),D=T(this,D);return D&&(I=D.next,O=D.previous,delete U.index[D.index],D.removed=!0,O&&(O.next=I),I&&(I.previous=O),U.first==D&&(U.first=I),U.last==D&&(U.last=O),i?U.size--:this.size--),!!D},forEach:function(E){for(var I,O=L(this),U=h(E,1<arguments.length?arguments[1]:void 0,3);I=I?I.next:O.first;)for(U(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(E){return!!T(this,E)}}),c(C.prototype,_?{get:function(E){return E=T(this,E),E&&E.value},set:function(E,I){return j(this,E===0?0:E,I)}}:{add:function(E){return j(this,E=E===0?0:E,E)}}),i&&m(C.prototype,"size",{get:function(){return L(this).size}}),C},setStrong:function(p,d,_){var S=d+" Iterator",j=n(d),T=n(S);r(p,d,function(C,L){o(this,{type:S,target:C,state:j(C),kind:L,last:void 0})},function(){for(var C=T(this),L=C.kind,E=C.last;E&&E.removed;)E=E.previous;return C.target&&(C.last=E=E?E.next:C.state.first)?L=="keys"?{value:E.key,done:!1}:L=="values"?{value:E.value,done:!1}:{value:[E.key,E.value],done:!1}:{value:C.target=void 0,done:!0}},_?"entries":"values",!_,!0),s(d)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(o,q,A){function m(j){return j.frozen||(j.frozen=new g)}function g(){this.entries=[]}function c(j,T){return d(j.entries,function(C){return C[0]===T})}var h=o("../internals/redefine-all"),b=o("../internals/internal-metadata").getWeakData,y=o("../internals/an-object"),r=o("../internals/is-object"),s=o("../internals/an-instance"),i=o("../internals/iterate"),l=o("../internals/array-iteration"),u=o("../internals/has"),o=o("../internals/internal-state"),n=o.set,p=o.getterFor,d=l.find,_=l.findIndex,S=0;g.prototype={get:function(j){if(j=c(this,j),j)return j[1]},has:function(j){return!!c(this,j)},set:function(j,T){var C=c(this,j);C?C[1]=T:this.entries.push([j,T])},delete:function(j){var T=_(this.entries,function(C){return C[0]===j});return~T&&this.entries.splice(T,1),!!~T}},q.exports={getConstructor:function(j,T,C,L){function E(U,D,B){var X=O(U),H=b(y(D),!0);return H===!0?m(X).set(D,B):H[X.id]=B,U}var I=j(function(U,D){s(U,I,T),n(U,{type:T,id:S++,frozen:void 0}),D!=null&&i(D,U[L],U,C)}),O=p(T);return h(I.prototype,{delete:function(U){var D,B=O(this);return!!r(U)&&((D=b(U))===!0?m(B).delete(U):D&&u(D,B.id)&&delete D[B.id])},has:function(U){var D,B=O(this);return!!r(U)&&((D=b(U))===!0?m(B).has(U):D&&u(D,B.id))}}),h(I.prototype,C?{get:function(U){var D,B=O(this);if(r(U))return(D=b(U))===!0?m(B).get(U):D?D[B.id]:void 0},set:function(U,D){return E(this,U,D)}}:{add:function(U){return E(this,U,!0)}}),I}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/global"),c=t("../internals/is-forced"),h=t("../internals/redefine"),b=t("../internals/internal-metadata"),y=t("../internals/iterate"),r=t("../internals/an-instance"),s=t("../internals/is-object"),i=t("../internals/fails"),l=t("../internals/check-correctness-of-iteration"),u=t("../internals/set-to-string-tag"),o=t("../internals/inherit-if-required");q.exports=function(n,p,d){function _(H){var G=D[H];h(D,H,H=="add"?function(Z){return G.call(this,Z===0?0:Z),this}:H=="delete"?function(Z){return!(I&&!s(Z))&&G.call(this,Z===0?0:Z)}:H=="get"?function(Z){return I&&!s(Z)?void 0:G.call(this,Z===0?0:Z)}:H=="has"?function(Z){return!(I&&!s(Z))&&G.call(this,Z===0?0:Z)}:function(Z,Q){return G.call(this,Z===0?0:Z,Q),this})}var S,j,T,C,L,E=n.indexOf("Map")!==-1,I=n.indexOf("Weak")!==-1,O=E?"set":"add",U=g[n],D=U&&U.prototype,B=U,X={};return c(n,typeof U!="function"||!(I||D.forEach&&!i(function(){new U().entries().next()})))?(B=d.getConstructor(p,n,E,O),b.REQUIRED=!0):c(n,!0)&&(j=(S=new B)[O](I?{}:-0,1)!=S,T=i(function(){S.has(1)}),C=l(function(H){new U(H)}),L=!I&&i(function(){for(var H=new U,G=5;G--;)H[O](G,G);return!H.has(-0)}),C||(((B=p(function(H,G){return r(H,B,n),H=o(new U,H,B),G!=null&&y(G,H[O],H,E),H})).prototype=D).constructor=B),(T||L)&&(_("delete"),_("has"),E&&_("get")),(L||j)&&_(O),I&&D.clear&&delete D.clear),X[n]=B,m({global:!0,forced:B!=U},X),u(B,n),I||d.setStrong(B,n,E),B}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,q,A){var m=t("../internals/has"),g=t("../internals/own-keys"),c=t("../internals/object-get-own-property-descriptor"),h=t("../internals/object-define-property");q.exports=function(b,y){for(var r=g(y),s=h.f,i=c.f,l=0;l<r.length;l++){var u=r[l];m(b,u)||s(b,u,i(y,u))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,q,A){var m=t("../internals/well-known-symbol")("match");q.exports=function(g){var c=/./;try{"/./"[g](c)}catch{try{return c[m]=!1,"/./"[g](c)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,q,A){t=t("../internals/fails"),q.exports=!t(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})},{"../internals/fails":51}],36:[function(t,q,A){var m=t("../internals/require-object-coercible"),g=/"/g;q.exports=function(r,h,b,y){var r=String(m(r)),s="<"+h;return b!==""&&(s+=" "+b+'="'+String(y).replace(g,"&quot;")+'"'),s+">"+r+"</"+h+">"}},{"../internals/require-object-coercible":115}],37:[function(t,q,A){function m(){return this}var g=t("../internals/iterators-core").IteratorPrototype,c=t("../internals/object-create"),h=t("../internals/create-property-descriptor"),b=t("../internals/set-to-string-tag"),y=t("../internals/iterators");q.exports=function(r,s,i){return s+=" Iterator",r.prototype=c(g,{next:h(1,i)}),b(r,s,!1,!0),y[s]=m,r}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,q,A){var m=t("../internals/descriptors"),g=t("../internals/object-define-property"),c=t("../internals/create-property-descriptor");q.exports=m?function(h,b,y){return g.f(h,b,c(1,y))}:function(h,b,y){return h[b]=y,h}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,q,A){q.exports=function(m,g){return{enumerable:!(1&m),configurable:!(2&m),writable:!(4&m),value:g}}},{}],40:[function(t,q,A){var m=t("../internals/to-primitive"),g=t("../internals/object-define-property"),c=t("../internals/create-property-descriptor");q.exports=function(h,b,y){b=m(b),b in h?g.f(h,b,c(0,y)):h[b]=y}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(o,q,A){function m(){return this}var g=o("../internals/export"),c=o("../internals/create-iterator-constructor"),h=o("../internals/object-get-prototype-of"),b=o("../internals/object-set-prototype-of"),y=o("../internals/set-to-string-tag"),r=o("../internals/create-non-enumerable-property"),s=o("../internals/redefine"),i=o("../internals/well-known-symbol"),l=o("../internals/is-pure"),u=o("../internals/iterators"),o=o("../internals/iterators-core"),n=o.IteratorPrototype,p=o.BUGGY_SAFARI_ITERATORS,d=i("iterator"),_="values",S="entries";q.exports=function(j,T,C,X,E,I,O){c(C,T,X);function U(w){if(w===E&&Q)return Q;if(!p&&w in G)return G[w];switch(w){case"keys":case _:case S:return function(){return new C(this,w)}}return function(){return new C(this)}}var D,B,X=T+" Iterator",H=!1,G=j.prototype,Z=G[d]||G["@@iterator"]||E&&G[E],Q=!p&&Z||U(E),le=T=="Array"&&G.entries||Z;if(le&&(le=h(le.call(new j)),n!==Object.prototype&&le.next&&(l||h(le)===n||(b?b(le,n):typeof le[d]!="function"&&r(le,d,m)),y(le,X,!0,!0),l&&(u[X]=m))),E==_&&Z&&Z.name!==_&&(H=!0,Q=function(){return Z.call(this)}),l&&!O||G[d]===Q||r(G,d,Q),u[T]=Q,E)if(D={values:U(_),keys:I?Q:U("keys"),entries:U(S)},O)for(B in D)!p&&!H&&B in G||s(G,B,D[B]);else g({target:T,proto:!0,forced:p||H},D);return D}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,q,A){var m=t("../internals/path"),g=t("../internals/has"),c=t("../internals/well-known-symbol-wrapped"),h=t("../internals/object-define-property").f;q.exports=function(b){var y=m.Symbol||(m.Symbol={});g(y,b)||h(y,b,{value:c.f(b)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,q,A){t=t("../internals/fails"),q.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(g,q,A){var m=g("../internals/global"),g=g("../internals/is-object"),c=m.document,h=g(c)&&g(c.createElement);q.exports=function(b){return h?c.createElement(b):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,q,A){q.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,q,A){t=t("../internals/engine-user-agent"),q.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,q,A){t=t("../internals/get-built-in"),q.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(c,q,A){var m,g,h=c("../internals/global"),c=c("../internals/engine-user-agent"),h=h.process,h=h&&h.versions,h=h&&h.v8;h?g=(m=h.split("."))[0]+m[1]:c&&(!(m=c.match(/Edge\/(\d+)/))||74<=m[1])&&(m=c.match(/Chrome\/(\d+)/))&&(g=m[1]),q.exports=g&&+g},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,q,A){q.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,q,A){var m=t("../internals/global"),g=t("../internals/object-get-own-property-descriptor").f,c=t("../internals/create-non-enumerable-property"),h=t("../internals/redefine"),b=t("../internals/set-global"),y=t("../internals/copy-constructor-properties"),r=t("../internals/is-forced");q.exports=function(s,i){var l,u,o,n=s.target,p=s.global,d=s.stat,_=p?m:d?m[n]||b(n,{}):(m[n]||{}).prototype;if(_)for(l in i){if(u=i[l],o=s.noTargetGet?(o=g(_,l))&&o.value:_[l],!r(p?l:n+(d?".":"#")+l,s.forced)&&o!==void 0){if(typeof u==typeof o)continue;y(u,o)}(s.sham||o&&o.sham)&&c(u,"sham",!0),h(_,l,u,s)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,q,A){q.exports=function(m){try{return!!m()}catch{return!0}}},{}],52:[function(i,q,A){i("../modules/es.regexp.exec");var m=i("../internals/redefine"),g=i("../internals/fails"),c=i("../internals/well-known-symbol"),h=i("../internals/regexp-exec"),b=i("../internals/create-non-enumerable-property"),y=c("species"),r=!g(function(){var o=/./;return o.exec=function(){var n=[];return n.groups={a:"7"},n},"".replace(o,"$<a>")!=="7"}),s="a".replace(/./,"$0")==="$0",i=c("replace"),l=!!/./[i]&&/./[i]("a","$0")==="",u=!g(function(){var n=/(?:)/,o=n.exec,n=(n.exec=function(){return o.apply(this,arguments)},"ab".split(n));return n.length!==2||n[0]!=="a"||n[1]!=="b"});q.exports=function(o,n,p,d){var _,S,j=c(o),T=!g(function(){var L={};return L[j]=function(){return 7},""[o](L)!=7}),C=T&&!g(function(){var L=!1,E=/a/;return o==="split"&&((E={constructor:{}}).constructor[y]=function(){return E},E.flags="",E[j]=/./[j]),E.exec=function(){return L=!0,null},E[j](""),!L});T&&C&&(o!=="replace"||r&&s&&!l)&&(o!=="split"||u)||(_=/./[j],p=(C=p(j,""[o],function(L,E,I,O,U){return E.exec===h?T&&!U?{done:!0,value:_.call(E,I,O)}:{done:!0,value:L.call(I,E,O)}:{done:!1}},{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}))[0],S=C[1],m(String.prototype,o,p),m(RegExp.prototype,j,n==2?function(L,E){return S.call(L,this,E)}:function(L){return S.call(L,this)})),d&&b(RegExp.prototype[j],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,q,A){function m(b,y,r,s,i,l,u,o){for(var n,p=i,d=0,_=!!u&&h(u,o,3);d<s;){if(d in r){if(n=_?_(r[d],d,y):r[d],0<l&&g(n))p=m(b,y,n,c(n.length),p,l-1)-1;else{if(9007199254740991<=p)throw TypeError("Exceed the acceptable array length");b[p]=n}p++}d++}return p}var g=t("../internals/is-array"),c=t("../internals/to-length"),h=t("../internals/function-bind-context");q.exports=m},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,q,A){t=t("../internals/fails"),q.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,q,A){var m=t("../internals/a-function");q.exports=function(g,c,h){if(m(g),c===void 0)return g;switch(h){case 0:return function(){return g.call(c)};case 1:return function(b){return g.call(c,b)};case 2:return function(b,y){return g.call(c,b,y)};case 3:return function(b,y,r){return g.call(c,b,y,r)}}return function(){return g.apply(c,arguments)}}},{"../internals/a-function":5}],56:[function(t,q,A){var m=t("../internals/a-function"),g=t("../internals/is-object"),c=[].slice,h={};q.exports=Function.bind||function(b){var y=m(this),r=c.call(arguments,1),s=function(){var i=r.concat(c.call(arguments));if(this instanceof s){var l=y,u=i.length,o=i;if(!(u in h)){for(var n=[],p=0;p<u;p++)n[p]="a["+p+"]";h[u]=Function("C,a","return new C("+n.join(",")+")")}return h[u](l,o)}return y.apply(b,i)};return g(y.prototype)&&(s.prototype=y.prototype),s}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,q,A){function m(h){return typeof h=="function"?h:void 0}var g=t("../internals/path"),c=t("../internals/global");q.exports=function(h,b){return arguments.length<2?m(g[h])||m(c[h]):g[h]&&g[h][b]||c[h]&&c[h][b]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,q,A){var m=t("../internals/classof"),g=t("../internals/iterators"),c=t("../internals/well-known-symbol")("iterator");q.exports=function(h){if(h!=null)return h[c]||h["@@iterator"]||g[m(h)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,q,A){var m=t("../internals/an-object"),g=t("../internals/get-iterator-method");q.exports=function(c){var h=g(c);if(typeof h!="function")throw TypeError(String(c)+" is not iterable");return m(h.call(c))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,q,A){(function(m){function g(c){return c&&c.Math==Math&&c}q.exports=g(typeof globalThis=="object"&&globalThis)||g(typeof window=="object"&&window)||g(typeof self=="object"&&self)||g(typeof m=="object"&&m)||Function("return this")()}).call(this,typeof Vn<"u"?Vn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,q,A){var m={}.hasOwnProperty;q.exports=function(g,c){return m.call(g,c)}},{}],62:[function(t,q,A){q.exports={}},{}],63:[function(t,q,A){var m=t("../internals/global");q.exports=function(g,c){var h=m.console;h&&h.error&&(arguments.length===1?h.error(g):h.error(g,c))}},{"../internals/global":60}],64:[function(t,q,A){t=t("../internals/get-built-in"),q.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,q,A){var m=t("../internals/descriptors"),g=t("../internals/fails"),c=t("../internals/document-create-element");q.exports=!m&&!g(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,q,A){var m=Math.abs,g=Math.pow,c=Math.floor,h=Math.log,b=Math.LN2;q.exports={pack:function(y,r,p){var i,l,u,o=new Array(p),n=8*p-r-1,p=(1<<n)-1,d=p>>1,_=r===23?g(2,-24)-g(2,-77):0,S=y<0||y===0&&1/y<0?1:0,j=0;for((y=m(y))!=y||y===1/0?(l=y!=y?1:0,i=p):(i=c(h(y)/b),y*(u=g(2,-i))<1&&(i--,u*=2),2<=(y+=1<=i+d?_/u:_*g(2,1-d))*u&&(i++,u/=2),p<=i+d?(l=0,i=p):1<=i+d?(l=(y*u-1)*g(2,r),i+=d):(l=y*g(2,d-1)*g(2,r),i=0));8<=r;o[j++]=255&l,l/=256,r-=8);for(i=i<<r|l,n+=r;0<n;o[j++]=255&i,i/=256,n-=8);return o[--j]|=128*S,o},unpack:function(y,r){var s,i=y.length,p=8*i-r-1,l=(1<<p)-1,u=l>>1,o=p-7,n=i-1,p=y[n--],d=127&p;for(p>>=7;0<o;d=256*d+y[n],n--,o-=8);for(s=d&(1<<-o)-1,d>>=-o,o+=r;0<o;s=256*s+y[n],n--,o-=8);if(d===0)d=1-u;else{if(d===l)return s?NaN:p?-1/0:1/0;s+=g(2,r),d-=u}return(p?-1:1)*s*g(2,d-r)}}},{}],67:[function(t,q,A){var m=t("../internals/fails"),g=t("../internals/classof-raw"),c="".split;q.exports=m(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return g(h)=="String"?c.call(h,""):Object(h)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,q,A){var m=t("../internals/is-object"),g=t("../internals/object-set-prototype-of");q.exports=function(c,h,b){return g&&typeof(h=h.constructor)=="function"&&h!==b&&m(h=h.prototype)&&h!==b.prototype&&g(c,h),c}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(m,q,A){var m=m("../internals/shared-store"),g=Function.toString;typeof m.inspectSource!="function"&&(m.inspectSource=function(c){return g.call(c)}),q.exports=m.inspectSource},{"../internals/shared-store":121}],70:[function(t,q,A){function m(o){b(o,s,{value:{objectID:"O"+ ++i,weakData:{}}})}var g=t("../internals/hidden-keys"),c=t("../internals/is-object"),h=t("../internals/has"),b=t("../internals/object-define-property").f,y=t("../internals/uid"),r=t("../internals/freezing"),s=y("meta"),i=0,l=Object.isExtensible||function(){return!0},u=q.exports={REQUIRED:!1,fastKey:function(o,n){if(!c(o))return typeof o=="symbol"?o:(typeof o=="string"?"S":"P")+o;if(!h(o,s)){if(!l(o))return"F";if(!n)return"E";m(o)}return o[s].objectID},getWeakData:function(o,n){if(!h(o,s)){if(!l(o))return!0;if(!n)return!1;m(o)}return o[s].weakData},onFreeze:function(o){return r&&u.REQUIRED&&l(o)&&!h(o,s)&&m(o),o}};g[s]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(p,q,A){var m,g,c,h,b,y,r,s,i=p("../internals/native-weak-map"),d=p("../internals/global"),l=p("../internals/is-object"),u=p("../internals/create-non-enumerable-property"),o=p("../internals/has"),n=p("../internals/shared-key"),p=p("../internals/hidden-keys"),d=d.WeakMap;r=i?(m=new d,g=m.get,c=m.has,h=m.set,b=function(_,S){return h.call(m,_,S),S},y=function(_){return g.call(m,_)||{}},function(_){return c.call(m,_)}):(p[s=n("state")]=!0,b=function(_,S){return u(_,s,S),S},y=function(_){return o(_,s)?_[s]:{}},function(_){return o(_,s)}),q.exports={set:b,get:y,has:r,enforce:function(_){return r(_)?y(_):b(_,{})},getterFor:function(_){return function(S){if(l(S)&&(S=y(S)).type===_)return S;throw TypeError("Incompatible receiver, "+_+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,q,A){var m=t("../internals/well-known-symbol"),g=t("../internals/iterators"),c=m("iterator"),h=Array.prototype;q.exports=function(b){return b!==void 0&&(g.Array===b||h[c]===b)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,q,A){var m=t("../internals/classof-raw");q.exports=Array.isArray||function(g){return m(g)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,q,A){function m(s,i){return(s=b[h(s)])==r||s!=y&&(typeof i=="function"?g(i):!!i)}var g=t("../internals/fails"),c=/#|\.prototype\./,h=m.normalize=function(s){return String(s).replace(c,".").toLowerCase()},b=m.data={},y=m.NATIVE="N",r=m.POLYFILL="P";q.exports=m},{"../internals/fails":51}],75:[function(t,q,A){q.exports=function(m){return typeof m=="object"?m!==null:typeof m=="function"}},{}],76:[function(t,q,A){q.exports=!1},{}],77:[function(t,q,A){var m=t("../internals/is-object"),g=t("../internals/classof-raw"),c=t("../internals/well-known-symbol")("match");q.exports=function(h){var b;return m(h)&&((b=h[c])!==void 0?!!b:g(h)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,q,A){function m(s,i){this.stopped=s,this.result=i}var g=t("../internals/an-object"),c=t("../internals/is-array-iterator-method"),h=t("../internals/to-length"),b=t("../internals/function-bind-context"),y=t("../internals/get-iterator-method"),r=t("../internals/call-with-safe-iteration-closing");(q.exports=function(s,i,l,u,o){var n,p,d,_,S,j,T=b(i,l,u?2:1);if(o)n=s;else{if(typeof(i=y(s))!="function")throw TypeError("Target is not iterable");if(c(i)){for(p=0,d=h(s.length);p<d;p++)if((_=u?T(g(j=s[p])[0],j[1]):T(s[p]))&&_ instanceof m)return _;return new m(!1)}n=i.call(s)}for(S=n.next;!(j=S.call(n)).done;)if(typeof(_=r(n,T,j.value,u))=="object"&&_&&_ instanceof m)return _;return new m(!1)}).stop=function(s){return new m(!0,s)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(y,q,A){var m,g,c=y("../internals/object-get-prototype-of"),h=y("../internals/create-non-enumerable-property"),b=y("../internals/has"),r=y("../internals/well-known-symbol"),y=y("../internals/is-pure"),r=r("iterator"),s=!1;[].keys&&("next"in(g=[].keys())?(c=c(c(g)))!==Object.prototype&&(m=c):s=!0),m==null&&(m={}),y||b(m,r)||h(m,r,function(){return this}),q.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:s}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,q,A){q.exports={}},{}],81:[function(t,q,A){q.exports=Math.sign||function(m){return(m=+m)==0||m!=m?m:m<0?-1:1}},{}],82:[function(u,q,A){var m,g,c,h,b,y,r,s,i=u("../internals/global"),S=u("../internals/object-get-own-property-descriptor").f,_=u("../internals/classof-raw"),l=u("../internals/task").set,u=u("../internals/engine-is-ios"),o=i.MutationObserver||i.WebKitMutationObserver,n=i.process,p=i.Promise,d=_(n)=="process",_=S(i,"queueMicrotask"),S=_&&_.value;S||(m=function(){var j,T;for(d&&(j=n.domain)&&j.exit();g;){T=g.fn,g=g.next;try{T()}catch(C){throw g?h():c=void 0,C}}c=void 0,j&&j.enter()},h=d?function(){n.nextTick(m)}:o&&!u?(b=!0,y=document.createTextNode(""),new o(m).observe(y,{characterData:!0}),function(){y.data=b=!b}):p&&p.resolve?(r=p.resolve(void 0),s=r.then,function(){s.call(r,m)}):function(){l.call(i,m)}),q.exports=S||function(j){j={fn:j,next:void 0},c&&(c.next=j),g||(g=j,h()),c=j}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,q,A){t=t("../internals/global"),q.exports=t.Promise},{"../internals/global":60}],84:[function(t,q,A){t=t("../internals/fails"),q.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,q,A){var m=t("../internals/fails"),g=t("../internals/well-known-symbol"),c=t("../internals/is-pure"),h=g("iterator");q.exports=!m(function(){var b=new URL("b?a=1&b=2&c=3","http://a"),y=b.searchParams,r="";return b.pathname="c%20d",y.forEach(function(s,i){y.delete("b"),r+=i+s}),c&&!b.toJSON||!y.sort||b.href!=="http://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[h]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(m,q,A){var g=m("../internals/global"),m=m("../internals/inspect-source"),g=g.WeakMap;q.exports=typeof g=="function"&&/native code/.test(m(g))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,q,A){function m(c){var h,b;this.promise=new c(function(y,r){if(h!==void 0||b!==void 0)throw TypeError("Bad Promise constructor");h=y,b=r}),this.resolve=g(h),this.reject=g(b)}var g=t("../internals/a-function");q.exports.f=function(c){return new m(c)}},{"../internals/a-function":5}],88:[function(t,q,A){var m=t("../internals/is-regexp");q.exports=function(g){if(m(g))throw TypeError("The method doesn't accept regular expressions");return g}},{"../internals/is-regexp":77}],89:[function(t,q,A){var m=t("../internals/global").isFinite;q.exports=Number.isFinite||function(g){return typeof g=="number"&&m(g)}},{"../internals/global":60}],90:[function(t,q,A){var m=t("../internals/descriptors"),g=t("../internals/fails"),c=t("../internals/object-keys"),h=t("../internals/object-get-own-property-symbols"),b=t("../internals/object-property-is-enumerable"),y=t("../internals/to-object"),r=t("../internals/indexed-object"),s=Object.assign,i=Object.defineProperty;q.exports=!s||g(function(){var l,u,o,n;return!(!m||s({b:1},s(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(u={},n="abcdefghijklmnopqrst",(l={})[o=Symbol()]=7,n.split("").forEach(function(p){u[p]=p}),s({},l)[o]!=7||c(s({},u)).join("")!=n)})?function(l,u){for(var o=y(l),n=arguments.length,p=1,d=h.f,_=b.f;p<n;)for(var S,j=r(arguments[p++]),T=d?c(j).concat(d(j)):c(j),C=T.length,L=0;L<C;)S=T[L++],m&&!_.call(j,S)||(o[S]=j[S]);return o}:s},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(i,q,A){function m(){}var g,c=i("../internals/an-object"),h=i("../internals/object-define-properties"),b=i("../internals/enum-bug-keys"),y=i("../internals/hidden-keys"),r=i("../internals/html"),s=i("../internals/document-create-element"),i=i("../internals/shared-key"),l="prototype",u="script",o=i("IE_PROTO"),n=function(d){return"<"+u+">"+d+"</"+u+">"},p=function(){try{g=document.domain&&new ActiveXObject("htmlfile")}catch{}p=g?((d=g).write(n("")),d.close(),_=d.parentWindow.Object,d=null,_):(d=s("iframe"),_="java"+u+":",d.style.display="none",r.appendChild(d),d.src=String(_),(_=d.contentWindow.document).open(),_.write(n("document.F=Object")),_.close(),_.F);for(var d,_,S=b.length;S--;)delete p[l][b[S]];return p()};y[o]=!0,q.exports=Object.create||function(d,_){var S;return d!==null?(m[l]=c(d),S=new m,m[l]=null,S[o]=d):S=p(),_===void 0?S:h(S,_)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,q,A){var m=t("../internals/descriptors"),g=t("../internals/object-define-property"),c=t("../internals/an-object"),h=t("../internals/object-keys");q.exports=m?Object.defineProperties:function(b,y){c(b);for(var r,s=h(y),i=s.length,l=0;l<i;)g.f(b,r=s[l++],y[r]);return b}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,q,A){var m=t("../internals/descriptors"),g=t("../internals/ie8-dom-define"),c=t("../internals/an-object"),h=t("../internals/to-primitive"),b=Object.defineProperty;A.f=m?b:function(y,r,s){if(c(y),r=h(r,!0),c(s),g)try{return b(y,r,s)}catch{}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(y[r]=s.value),y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,q,A){var m=t("../internals/descriptors"),g=t("../internals/object-property-is-enumerable"),c=t("../internals/create-property-descriptor"),h=t("../internals/to-indexed-object"),b=t("../internals/to-primitive"),y=t("../internals/has"),r=t("../internals/ie8-dom-define"),s=Object.getOwnPropertyDescriptor;A.f=m?s:function(i,l){if(i=h(i),l=b(l,!0),r)try{return s(i,l)}catch{}if(y(i,l))return c(!g.f.call(i,l),i[l])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,q,A){var m=t("../internals/to-indexed-object"),g=t("../internals/object-get-own-property-names").f,c={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];q.exports.f=function(b){if(!h||c.call(b)!="[object Window]")return g(m(b));try{return g(b)}catch{return h.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,q,A){var m=t("../internals/object-keys-internal"),g=t("../internals/enum-bug-keys").concat("length","prototype");A.f=Object.getOwnPropertyNames||function(c){return m(c,g)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,q,A){A.f=Object.getOwnPropertySymbols},{}],98:[function(h,q,A){var m=h("../internals/has"),g=h("../internals/to-object"),c=h("../internals/shared-key"),h=h("../internals/correct-prototype-getter"),b=c("IE_PROTO"),y=Object.prototype;q.exports=h?Object.getPrototypeOf:function(r){return r=g(r),m(r,b)?r[b]:typeof r.constructor=="function"&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,q,A){var m=t("../internals/has"),g=t("../internals/to-indexed-object"),c=t("../internals/array-includes").indexOf,h=t("../internals/hidden-keys");q.exports=function(b,y){var r,s=g(b),i=0,l=[];for(r in s)!m(h,r)&&m(s,r)&&l.push(r);for(;y.length>i;)!m(s,r=y[i++])||~c(l,r)||l.push(r);return l}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,q,A){var m=t("../internals/object-keys-internal"),g=t("../internals/enum-bug-keys");q.exports=Object.keys||function(c){return m(c,g)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,q,A){var m={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,c=g&&!m.call({1:2},1);A.f=c?function(h){return h=g(this,h),!!h&&h.enumerable}:m},{}],102:[function(t,q,A){var m=t("../internals/an-object"),g=t("../internals/a-possible-prototype");q.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var c,h=!1,b={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(b,[]),h=b instanceof Array}catch{}return function(y,r){return m(y),g(r),h?c.call(y,r):y.__proto__=r,y}})():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,q,A){function m(y){return function(r){for(var s,i=h(r),l=c(i),u=l.length,o=0,n=[];o<u;)s=l[o++],g&&!b.call(i,s)||n.push(y?[s,i[s]]:i[s]);return n}}var g=t("../internals/descriptors"),c=t("../internals/object-keys"),h=t("../internals/to-indexed-object"),b=t("../internals/object-property-is-enumerable").f;q.exports={entries:m(!0),values:m(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,q,A){var m=t("../internals/to-string-tag-support"),g=t("../internals/classof");q.exports=m?{}.toString:function(){return"[object "+g(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,q,A){var m=t("../internals/get-built-in"),g=t("../internals/object-get-own-property-names"),c=t("../internals/object-get-own-property-symbols"),h=t("../internals/an-object");q.exports=m("Reflect","ownKeys")||function(b){var y=g.f(h(b)),r=c.f;return r?y.concat(r(b)):y}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,q,A){t=t("../internals/global"),q.exports=t},{"../internals/global":60}],107:[function(t,q,A){q.exports=function(m){try{return{error:!1,value:m()}}catch(g){return{error:!0,value:g}}}},{}],108:[function(t,q,A){var m=t("../internals/an-object"),g=t("../internals/is-object"),c=t("../internals/new-promise-capability");q.exports=function(h,b){return m(h),g(b)&&b.constructor===h?b:((0,(h=c.f(h)).resolve)(b),h.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,q,A){var m=t("../internals/redefine");q.exports=function(g,c,h){for(var b in c)m(g,b,c[b],h);return g}},{"../internals/redefine":110}],110:[function(y,q,A){var m=y("../internals/global"),g=y("../internals/create-non-enumerable-property"),c=y("../internals/has"),h=y("../internals/set-global"),b=y("../internals/inspect-source"),y=y("../internals/internal-state"),r=y.get,s=y.enforce,i=String(String).split("String");(q.exports=function(l,u,o,_){var p=!!_&&!!_.unsafe,d=!!_&&!!_.enumerable,_=!!_&&!!_.noTargetGet;typeof o=="function"&&(typeof u!="string"||c(o,"name")||g(o,"name",u),s(o).source=i.join(typeof u=="string"?u:"")),l===m?d?l[u]=o:h(u,o):(p?!_&&l[u]&&(d=!0):delete l[u],d?l[u]=o:g(l,u,o))})(Function.prototype,"toString",function(){return typeof this=="function"&&r(this).source||b(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,q,A){var m=t("./classof-raw"),g=t("./regexp-exec");q.exports=function(c,h){var b=c.exec;if(typeof b=="function"){if(b=b.call(c,h),typeof b!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return b}if(m(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return g.call(c,h)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(h,q,A){var m,g,c=h("./regexp-flags"),h=h("./regexp-sticky-helpers"),b=RegExp.prototype.exec,y=String.prototype.replace,r=b,s=(m=/a/,g=/b*/g,b.call(m,"a"),b.call(g,"a"),m.lastIndex!==0||g.lastIndex!==0),i=h.UNSUPPORTED_Y||h.BROKEN_CARET,l=/()??/.exec("")[1]!==void 0;q.exports=r=s||l||i?function(u){var o,n,p,d,_=this,S=i&&_.sticky,j=c.call(_),T=_.source,C=0,L=u;return S&&((j=j.replace("y","")).indexOf("g")===-1&&(j+="g"),L=String(u).slice(_.lastIndex),0<_.lastIndex&&(!_.multiline||_.multiline&&u[_.lastIndex-1]!==`
`)&&(T="(?: "+T+")",L=" "+L,C++),n=new RegExp("^(?:"+T+")",j)),l&&(n=new RegExp("^"+T+"$(?!\\s)",j)),s&&(o=_.lastIndex),p=b.call(S?n:_,L),S?p?(p.input=p.input.slice(C),p[0]=p[0].slice(C),p.index=_.lastIndex,_.lastIndex+=p[0].length):_.lastIndex=0:s&&p&&(_.lastIndex=_.global?p.index+p[0].length:o),l&&p&&1<p.length&&y.call(p[0],n,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(p[d]=void 0)}),p}:r},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,q,A){var m=t("../internals/an-object");q.exports=function(){var g=m(this),c="";return g.global&&(c+="g"),g.ignoreCase&&(c+="i"),g.multiline&&(c+="m"),g.dotAll&&(c+="s"),g.unicode&&(c+="u"),g.sticky&&(c+="y"),c}},{"../internals/an-object":10}],114:[function(t,q,A){t=t("./fails");function m(g,c){return RegExp(g,c)}A.UNSUPPORTED_Y=t(function(){var g=m("a","y");return g.lastIndex=2,g.exec("abcd")!=null}),A.BROKEN_CARET=t(function(){var g=m("^r","gy");return g.lastIndex=2,g.exec("str")!=null})},{"./fails":51}],115:[function(t,q,A){q.exports=function(m){if(m==null)throw TypeError("Can't call method on "+m);return m}},{}],116:[function(t,q,A){q.exports=Object.is||function(m,g){return m===g?m!==0||1/m==1/g:m!=m&&g!=g}},{}],117:[function(t,q,A){var m=t("../internals/global"),g=t("../internals/create-non-enumerable-property");q.exports=function(c,h){try{g(m,c,h)}catch{m[c]=h}return h}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,q,A){var m=t("../internals/get-built-in"),g=t("../internals/object-define-property"),c=t("../internals/well-known-symbol"),h=t("../internals/descriptors"),b=c("species");q.exports=function(r){var r=m(r),s=g.f;h&&r&&!r[b]&&s(r,b,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,q,A){var m=t("../internals/object-define-property").f,g=t("../internals/has"),c=t("../internals/well-known-symbol")("toStringTag");q.exports=function(h,b,y){h&&!g(h=y?h:h.prototype,c)&&m(h,c,{configurable:!0,value:b})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,q,A){var m=t("../internals/shared"),g=t("../internals/uid"),c=m("keys");q.exports=function(h){return c[h]||(c[h]=g(h))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(m,q,A){var c=m("../internals/global"),m=m("../internals/set-global"),g="__core-js_shared__",c=c[g]||m(g,{});q.exports=c},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,q,A){var m=t("../internals/is-pure"),g=t("../internals/shared-store");(q.exports=function(c,h){return g[c]||(g[c]=h!==void 0?h:{})})("versions",[]).push({version:"3.6.5",mode:m?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,q,A){var m=t("../internals/an-object"),g=t("../internals/a-function"),c=t("../internals/well-known-symbol")("species");q.exports=function(y,b){var y=m(y).constructor;return y===void 0||(y=m(y)[c])==null?b:g(y)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,q,A){var m=t("../internals/fails");q.exports=function(g){return m(function(){var c=""[g]('"');return c!==c.toLowerCase()||3<c.split('"').length})}},{"../internals/fails":51}],125:[function(t,q,A){function m(h){return function(s,i){var r,s=String(c(s)),i=g(i),l=s.length;return i<0||l<=i?h?"":void 0:(r=s.charCodeAt(i))<55296||56319<r||i+1===l||(l=s.charCodeAt(i+1))<56320||57343<l?h?s.charAt(i):r:h?s.slice(i,i+2):l-56320+(r-55296<<10)+65536}}var g=t("../internals/to-integer"),c=t("../internals/require-object-coercible");q.exports={codeAt:m(!1),charAt:m(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,q,A){t=t("../internals/engine-user-agent"),q.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,q,A){function m(y){return function(l,n,o){var l=String(h(l)),u=l.length,o=o===void 0?" ":String(o),n=g(n);return n<=u||o==""?l:((u=c.call(o,b((n=n-u)/o.length))).length>n&&(u=u.slice(0,n)),y?l+u:u+l)}}var g=t("../internals/to-length"),c=t("../internals/string-repeat"),h=t("../internals/require-object-coercible"),b=Math.ceil;q.exports={start:m(!1),end:m(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,q,A){function m(p){return p+22+75*(p<26)}function g(p){var d,_=[],S=(p=(function(Z){for(var Q=[],le=0,w=Z.length;le<w;){var R,N=Z.charCodeAt(le++);55296<=N&&N<=56319&&le<w?(64512&(R=Z.charCodeAt(le++)))==56320?Q.push(((1023&N)<<10)+(1023&R)+65536):(Q.push(N),le--):Q.push(N)}return Q})(p)).length,j=128,T=0,C=72;for(O=0;O<p.length;O++)(d=p[O])<128&&_.push(n(d));var L=_.length,E=L;for(L&&_.push("-");E<S;){for(var I=c,O=0;O<p.length;O++)j<=(d=p[O])&&d<I&&(I=d);var U=E+1;if(I-j>o((c-T)/U))throw RangeError(l);for(T+=(I-j)*U,j=I,O=0;O<p.length;O++){if((d=p[O])<j&&++T>c)throw RangeError(l);if(d==j){for(var D=T,B=h;;B+=h){var X=B<=C?1:C+b<=B?b:B-C;if(D<X)break;var H=D-X,G=h-X;_.push(n(m(X+H%G))),D=o(H/G)}_.push(n(m(D))),C=(function(Z,Q,le){var w=0;for(Z=le?o(Z/r):Z>>1,Z+=o(Z/Q);u*b>>1<Z;w+=h)Z=o(Z/u);return o(w+(u+1)*Z/(Z+y))})(T,U,E==L),T=0,++E}}++T,++j}return _.join("")}var c=2147483647,h=36,b=26,y=38,r=700,s=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,l="Overflow: input needs wider integers to process",u=h-1,o=Math.floor,n=String.fromCharCode;q.exports=function(p){for(var d,_=[],S=p.toLowerCase().replace(i,".").split("."),j=0;j<S.length;j++)d=S[j],_.push(s.test(d)?"xn--"+g(d):d);return _.join(".")}},{}],129:[function(t,q,A){var m=t("../internals/to-integer"),g=t("../internals/require-object-coercible");q.exports="".repeat||function(c){var h=String(g(this)),b="",y=m(c);if(y<0||y==1/0)throw RangeError("Wrong number of repetitions");for(;0<y;(y>>>=1)&&(h+=h))1&y&&(b+=h);return b}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,q,A){var m=t("../internals/fails"),g=t("../internals/whitespaces");q.exports=function(c){return m(function(){return!!g[c]()||""[c]()!=""||g[c].name!==c})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(c,q,A){function m(y){return function(r){return r=String(g(r)),1&y&&(r=r.replace(h,"")),r=2&y?r.replace(b,""):r}}var g=c("../internals/require-object-coercible"),c="["+c("../internals/whitespaces")+"]",h=RegExp("^"+c+c+"*"),b=RegExp(c+c+"*$");q.exports={start:m(1),end:m(2),trim:m(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(u,q,A){function m(E){return function(){L(E)}}function g(E){L(E.data)}function c(E){b.postMessage(E+"",o.protocol+"//"+o.host)}var h,b=u("../internals/global"),y=u("../internals/fails"),r=u("../internals/classof-raw"),s=u("../internals/function-bind-context"),i=u("../internals/html"),l=u("../internals/document-create-element"),u=u("../internals/engine-is-ios"),o=b.location,n=b.setImmediate,p=b.clearImmediate,d=b.process,_=b.MessageChannel,S=b.Dispatch,j=0,T={},C="onreadystatechange",L=function(E){var I;T.hasOwnProperty(E)&&(I=T[E],delete T[E],I())};n&&p||(n=function(E){for(var I=[],O=1;O<arguments.length;)I.push(arguments[O++]);return T[++j]=function(){(typeof E=="function"?E:Function(E)).apply(void 0,I)},h(j),j},p=function(E){delete T[E]},r(d)=="process"?h=function(E){d.nextTick(m(E))}:S&&S.now?h=function(E){S.now(m(E))}:_&&!u?(u=(r=new _).port2,r.port1.onmessage=g,h=s(u.postMessage,u,1)):!b.addEventListener||typeof postMessage!="function"||b.importScripts||y(c)||o.protocol==="file:"?h=C in l("script")?function(E){i.appendChild(l("script"))[C]=function(){i.removeChild(this),L(E)}}:function(E){setTimeout(m(E),0)}:(h=c,b.addEventListener("message",g,!1))),q.exports={set:n,clear:p}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,q,A){var m=t("../internals/classof-raw");q.exports=function(g){if(typeof g!="number"&&m(g)!="Number")throw TypeError("Incorrect invocation");return+g}},{"../internals/classof-raw":28}],134:[function(t,q,A){var m=t("../internals/to-integer"),g=Math.max,c=Math.min;q.exports=function(h,b){return h=m(h),h<0?g(h+b,0):c(h,b)}},{"../internals/to-integer":137}],135:[function(t,q,A){var m=t("../internals/to-integer"),g=t("../internals/to-length");q.exports=function(h){if(h===void 0)return 0;var h=m(h),b=g(h);if(h!==b)throw RangeError("Wrong length or index");return b}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,q,A){var m=t("../internals/indexed-object"),g=t("../internals/require-object-coercible");q.exports=function(c){return m(g(c))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,q,A){var m=Math.ceil,g=Math.floor;q.exports=function(c){return isNaN(c=+c)?0:(0<c?g:m)(c)}},{}],138:[function(t,q,A){var m=t("../internals/to-integer"),g=Math.min;q.exports=function(c){return 0<c?g(m(c),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,q,A){var m=t("../internals/require-object-coercible");q.exports=function(g){return Object(m(g))}},{"../internals/require-object-coercible":115}],140:[function(t,q,A){var m=t("../internals/to-positive-integer");q.exports=function(g,c){if(g=m(g),g%c)throw RangeError("Wrong offset");return g}},{"../internals/to-positive-integer":141}],141:[function(t,q,A){var m=t("../internals/to-integer");q.exports=function(g){if(g=m(g),g<0)throw RangeError("The argument can't be less than 0");return g}},{"../internals/to-integer":137}],142:[function(t,q,A){var m=t("../internals/is-object");q.exports=function(g,c){if(!m(g))return g;var h,b;if(c&&typeof(h=g.toString)=="function"&&!m(b=h.call(g))||typeof(h=g.valueOf)=="function"&&!m(b=h.call(g))||!c&&typeof(h=g.toString)=="function"&&!m(b=h.call(g)))return b;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,q,A){var m={};m[t("../internals/well-known-symbol")("toStringTag")]="z",q.exports=String(m)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,q,A){function m(xe,Te){for(var Pe=0,We=Te.length,Re=new(te(xe))(We);Pe<We;)Re[Pe]=Te[Pe++];return Re}function g(xe,Te){R(xe,Te,{get:function(){return le(this)[Te]}})}function c(xe){return xe instanceof re||(xe=L(xe))=="ArrayBuffer"||xe=="SharedArrayBuffer"}function h(xe,Te){return me(xe)&&typeof Te!="symbol"&&Te in xe&&String(+Te)==String(Te)}function b(xe,Te){return h(xe,Te=T(Te,!0))?p(2,xe[Te]):N(xe,Te)}function y(xe,Te,Pe){return!(h(xe,Te=T(Te,!0))&&E(Pe)&&C(Pe,"value"))||C(Pe,"get")||C(Pe,"set")||Pe.configurable||C(Pe,"writable")&&!Pe.writable||C(Pe,"enumerable")&&!Pe.enumerable?R(xe,Te,Pe):(xe[Te]=Pe.value,xe)}var r=t("../internals/export"),s=t("../internals/global"),i=t("../internals/descriptors"),l=t("../internals/typed-array-constructors-require-wrappers"),u=t("../internals/array-buffer-view-core"),o=t("../internals/array-buffer"),n=t("../internals/an-instance"),p=t("../internals/create-property-descriptor"),d=t("../internals/create-non-enumerable-property"),_=t("../internals/to-length"),S=t("../internals/to-index"),j=t("../internals/to-offset"),T=t("../internals/to-primitive"),C=t("../internals/has"),L=t("../internals/classof"),E=t("../internals/is-object"),I=t("../internals/object-create"),O=t("../internals/object-set-prototype-of"),U=t("../internals/object-get-own-property-names").f,D=t("../internals/typed-array-from"),B=t("../internals/array-iteration").forEach,X=t("../internals/set-species"),H=t("../internals/object-define-property"),G=t("../internals/object-get-own-property-descriptor"),Z=t("../internals/internal-state"),Q=t("../internals/inherit-if-required"),le=Z.get,w=Z.set,R=H.f,N=G.f,W=Math.round,J=s.RangeError,re=o.ArrayBuffer,ue=o.DataView,ge=u.NATIVE_ARRAY_BUFFER_VIEWS,se=u.TYPED_ARRAY_TAG,pe=u.TypedArray,ye=u.TypedArrayPrototype,te=u.aTypedArrayConstructor,me=u.isTypedArray,we="BYTES_PER_ELEMENT",Ee="Wrong length";i?(ge||(G.f=b,H.f=y,g(ye,"buffer"),g(ye,"byteOffset"),g(ye,"byteLength"),g(ye,"length")),r({target:"Object",stat:!0,forced:!ge},{getOwnPropertyDescriptor:b,defineProperty:y}),q.exports=function(Oe,Te,Pe){function We(Le,ee){R(Le,ee,{get:function(){var oe=this,K=ee;return(oe=le(oe)).view[ot](K*Re+oe.byteOffset,!0)},set:function(oe){var K=this,ie=ee;K=le(K),Pe&&(oe=(oe=W(oe))<0?0:255<oe?255:255&oe),K.view[rt](ie*Re+K.byteOffset,oe,!0)},enumerable:!0})}var Re=Oe.match(/\d+$/)[0]/8,ft=Oe+(Pe?"Clamped":"")+"Array",ot="get"+Oe,rt="set"+Oe,ut=s[ft],it=ut,Oe=it&&it.prototype,qe={};ge?l&&(it=Te(function(Le,ee,oe,K){return n(Le,it,ft),Q(E(ee)?c(ee)?K!==void 0?new ut(ee,j(oe,Re),K):oe!==void 0?new ut(ee,j(oe,Re)):new ut(ee):me(ee)?m(it,ee):D.call(it,ee):new ut(S(ee)),Le,it)}),O&&O(it,pe),B(U(ut),function(Le){Le in it||d(it,Le,ut[Le])}),it.prototype=Oe):(it=Te(function(Le,ee,oe,K){n(Le,it,ft);var ie,je,Ae=0,Ve=0;if(E(ee)){if(!c(ee))return me(ee)?m(it,ee):D.call(it,ee);var Je=ee,Ve=j(oe,Re),oe=ee.byteLength;if(K===void 0){if(oe%Re||(ie=oe-Ve)<0)throw J(Ee)}else if(oe<(ie=_(K)*Re)+Ve)throw J(Ee);je=ie/Re}else je=S(ee),Je=new re(ie=je*Re);for(w(Le,{buffer:Je,byteOffset:Ve,byteLength:ie,length:je,view:new ue(Je)});Ae<je;)We(Le,Ae++)}),O&&O(it,pe),Oe=it.prototype=I(ye)),Oe.constructor!==it&&d(Oe,"constructor",it),se&&d(Oe,se,ft),qe[ft]=it,r({global:!0,forced:it!=ut,sham:!ge},qe),we in it||d(it,we,Re),we in Oe||d(Oe,we,Re),X(ft)}):q.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(h,q,A){var m=h("../internals/global"),g=h("../internals/fails"),c=h("../internals/check-correctness-of-iteration"),h=h("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,b=m.ArrayBuffer,y=m.Int8Array;q.exports=!h||!g(function(){y(1)})||!g(function(){new y(-1)})||!c(function(r){new y,new y(null),new y(1.5),new y(r)},!0)||g(function(){return new y(new b(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,q,A){var m=t("../internals/to-object"),g=t("../internals/to-length"),c=t("../internals/get-iterator-method"),h=t("../internals/is-array-iterator-method"),b=t("../internals/function-bind-context"),y=t("../internals/array-buffer-view-core").aTypedArrayConstructor;q.exports=function(r){var s,i,l,u,o,n,p=m(r),d=arguments.length,_=1<d?arguments[1]:void 0,S=_!==void 0,j=c(p);if(j!=null&&!h(j))for(n=(o=j.call(p)).next,p=[];!(u=n.call(o)).done;)p.push(u.value);for(S&&2<d&&(_=b(_,arguments[2],2)),i=g(p.length),l=new(y(this))(i),s=0;s<i;s++)l[s]=S?_(p[s],s):p[s];return l}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,q,A){var m=0,g=Math.random();q.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++m+g).toString(36)}},{}],148:[function(t,q,A){t=t("../internals/native-symbol"),q.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,q,A){t=t("../internals/well-known-symbol"),A.f=t},{"../internals/well-known-symbol":150}],150:[function(y,q,A){var m=y("../internals/global"),g=y("../internals/shared"),c=y("../internals/has"),h=y("../internals/uid"),b=y("../internals/native-symbol"),y=y("../internals/use-symbol-as-uid"),r=g("wks"),s=m.Symbol,i=y?s:s&&s.withoutSetter||h;q.exports=function(l){return c(r,l)||(b&&c(s,l)?r[l]=s[l]:r[l]=i("Symbol."+l)),r[l]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,q,A){q.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],152:[function(c,q,A){var m=c("../internals/export"),g=c("../internals/global"),b=c("../internals/array-buffer"),c=c("../internals/set-species"),h="ArrayBuffer",b=b[h];m({global:!0,forced:g[h]!==b},{ArrayBuffer:b}),c(h)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(p,q,A){var m=p("../internals/export"),g=p("../internals/fails"),c=p("../internals/is-array"),h=p("../internals/is-object"),b=p("../internals/to-object"),y=p("../internals/to-length"),r=p("../internals/create-property"),s=p("../internals/array-species-create"),i=p("../internals/array-method-has-species-support"),n=p("../internals/well-known-symbol"),p=p("../internals/engine-v8-version"),l=n("isConcatSpreadable"),u=9007199254740991,o="Maximum allowed index exceeded",n=51<=p||!g(function(){var d=[];return d[l]=!1,d.concat()[0]!==d}),p=i("concat");m({target:"Array",proto:!0,forced:!n||!p},{concat:function(d){for(var _,S,j,T,C,L=b(this),E=s(L,0),I=0,O=-1,U=arguments.length;O<U;O++)if(C=void 0,!h(T=j=O===-1?L:arguments[O])||((C=T[l])!==void 0?!C:!c(T))){if(u<=I)throw TypeError(o);r(E,I++,j)}else{if(S=y(j.length),u<I+S)throw TypeError(o);for(_=0;_<S;_++,I++)_ in j&&r(E,I,j[_])}return E.length=I,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(c,q,A){var m=c("../internals/export"),g=c("../internals/array-copy-within"),c=c("../internals/add-to-unscopables");m({target:"Array",proto:!0},{copyWithin:g}),c("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(h,q,A){var m=h("../internals/export"),g=h("../internals/array-iteration").every,c=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),c=c("every"),h=h("every");m({target:"Array",proto:!0,forced:!c||!h},{every:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(c,q,A){var m=c("../internals/export"),g=c("../internals/array-fill"),c=c("../internals/add-to-unscopables");m({target:"Array",proto:!0},{fill:g}),c("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(h,q,A){var m=h("../internals/export"),g=h("../internals/array-iteration").filter,c=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),c=c("filter"),h=h("filter");m({target:"Array",proto:!0,forced:!c||!h},{filter:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(y,q,A){var m=y("../internals/export"),g=y("../internals/array-iteration").findIndex,c=y("../internals/add-to-unscopables"),y=y("../internals/array-method-uses-to-length"),h="findIndex",b=!0,y=y(h);h in[]&&Array(1)[h](function(){b=!1}),m({target:"Array",proto:!0,forced:b||!y},{findIndex:function(r){return g(this,r,1<arguments.length?arguments[1]:void 0)}}),c(h)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/flatten-into-array"),c=t("../internals/to-object"),h=t("../internals/to-length"),b=t("../internals/a-function"),y=t("../internals/array-species-create");m({target:"Array",proto:!0},{flatMap:function(r){var s,i=c(this),l=h(i.length);return b(r),(s=y(i,0)).length=g(s,i,i,l,0,1,r,1<arguments.length?arguments[1]:void 0),s}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/flatten-into-array"),c=t("../internals/to-object"),h=t("../internals/to-length"),b=t("../internals/to-integer"),y=t("../internals/array-species-create");m({target:"Array",proto:!0},{flat:function(){var r=arguments.length?arguments[0]:void 0,s=c(this),i=h(s.length),l=y(s,0);return l.length=g(l,s,s,i,0,r===void 0?1:b(r)),l}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(g,q,A){var m=g("../internals/export"),g=g("../internals/array-for-each");m({target:"Array",proto:!0,forced:[].forEach!=g},{forEach:g})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/array-from");m({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(c){Array.from(c)})},{from:g})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/array-includes").includes,c=t("../internals/add-to-unscopables");m({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(h){return g(this,h,1<arguments.length?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(y,q,A){var m=y("../internals/export"),g=y("../internals/array-includes").indexOf,b=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),c=[].indexOf,h=!!c&&1/[1].indexOf(1,-0)<0,b=b("indexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});m({target:"Array",proto:!0,forced:h||!b||!y},{indexOf:function(r){return h?c.apply(this,arguments)||0:g(this,r,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(b,q,A){var m=b("../internals/to-indexed-object"),g=b("../internals/add-to-unscopables"),c=b("../internals/iterators"),h=b("../internals/internal-state"),b=b("../internals/define-iterator"),y="Array Iterator",r=h.set,s=h.getterFor(y);q.exports=b(Array,"Array",function(i,l){r(this,{type:y,target:m(i),index:0,kind:l})},function(){var i=s(this),l=i.target,u=i.kind,o=i.index++;return!l||o>=l.length?{value:i.target=void 0,done:!0}:u=="keys"?{value:o,done:!1}:u=="values"?{value:l[o],done:!1}:{value:[o,l[o]],done:!1}},"values"),c.Arguments=c.Array,g("keys"),g("values"),g("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(b,q,A){var m=b("../internals/export"),h=b("../internals/indexed-object"),g=b("../internals/to-indexed-object"),b=b("../internals/array-method-is-strict"),c=[].join,h=h!=Object,b=b("join",",");m({target:"Array",proto:!0,forced:h||!b},{join:function(y){return c.call(g(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(g,q,A){var m=g("../internals/export"),g=g("../internals/array-last-index-of");m({target:"Array",proto:!0,forced:g!==[].lastIndexOf},{lastIndexOf:g})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(h,q,A){var m=h("../internals/export"),g=h("../internals/array-iteration").map,c=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),c=c("map"),h=h("map");m({target:"Array",proto:!0,forced:!c||!h},{map:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(l,q,A){var m=l("../internals/export"),g=l("../internals/is-object"),c=l("../internals/is-array"),h=l("../internals/to-absolute-index"),b=l("../internals/to-length"),y=l("../internals/to-indexed-object"),r=l("../internals/create-property"),s=l("../internals/well-known-symbol"),i=l("../internals/array-method-has-species-support"),l=l("../internals/array-method-uses-to-length"),i=i("slice"),l=l("slice",{ACCESSORS:!0,0:0,1:2}),u=s("species"),o=[].slice,n=Math.max;m({target:"Array",proto:!0,forced:!i||!l},{slice:function(p,d){var _,S,j,T=y(this),C=b(T.length),L=h(p,C),E=h(d===void 0?C:d,C);if(c(T)&&((_=typeof(_=T.constructor)=="function"&&(_===Array||c(_.prototype))||g(_)&&(_=_[u])===null?void 0:_)===Array||_===void 0))return o.call(T,L,E);for(S=new(_===void 0?Array:_)(n(E-L,0)),j=0;L<E;L++,j++)L in T&&r(S,j,T[L]);return S.length=j,S}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(h,q,A){var m=h("../internals/export"),g=h("../internals/array-iteration").some,c=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),c=c("some"),h=h("some");m({target:"Array",proto:!0,forced:!c||!h},{some:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(i,q,A){var m=i("../internals/export"),g=i("../internals/to-absolute-index"),c=i("../internals/to-integer"),h=i("../internals/to-length"),b=i("../internals/to-object"),y=i("../internals/array-species-create"),r=i("../internals/create-property"),s=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),s=s("splice"),i=i("splice",{ACCESSORS:!0,0:0,1:2}),l=Math.max,u=Math.min;m({target:"Array",proto:!0,forced:!s||!i},{splice:function(I,n){var p,d,_,S,j,T,C=b(this),L=h(C.length),E=g(I,L),I=arguments.length;if(I===0?p=d=0:d=I===1?(p=0,L-E):(p=I-2,u(l(c(n),0),L-E)),9007199254740991<L+p-d)throw TypeError("Maximum allowed length exceeded");for(_=y(C,d),S=0;S<d;S++)(j=E+S)in C&&r(_,S,C[j]);if(p<(_.length=d)){for(S=E;S<L-d;S++)T=S+p,(j=S+d)in C?C[T]=C[j]:delete C[T];for(S=L;L-d+p<S;S--)delete C[S-1]}else if(d<p)for(S=L-d;E<S;S--)T=S+p-1,(j=S+d-1)in C?C[T]=C[j]:delete C[T];for(S=0;S<p;S++)C[S+E]=arguments[S+2];return C.length=L-d+p,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,q,A){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,q,A){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(g,q,A){var m=g("../internals/descriptors"),g=g("../internals/object-define-property").f,c=Function.prototype,h=c.toString,b=/^\s*function ([^ (]*)/;!m||"name"in c||g(c,"name",{configurable:!0,get:function(){try{return h.call(this).match(b)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(g,q,A){var m=g("../internals/collection"),g=g("../internals/collection-strong");q.exports=m("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(m,q,A){var m=m("../internals/export"),g=Math.hypot,c=Math.abs,h=Math.sqrt;m({target:"Math",stat:!0,forced:!!g&&g(1/0,NaN)!==1/0},{hypot:function(b,y){for(var r,s,i=0,l=0,u=arguments.length,o=0;l<u;)o<(r=c(arguments[l++]))?(i=i*(s=o/r)*s+1,o=r):i+=0<r?(s=r/o)*s:r;return o===1/0?1/0:o*h(i)}})},{"../internals/export":50}],177:[function(m,q,A){var m=m("../internals/export"),g=Math.log,c=Math.LN2;m({target:"Math",stat:!0},{log2:function(h){return g(h)/c}})},{"../internals/export":50}],178:[function(t,q,A){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,q,A){function m(O){var U,D,B,X,H,G,Z,Q=i(O,!1);if(typeof Q=="string"&&2<Q.length){if((O=(Q=d(Q)).charCodeAt(0))===43||O===45){if((U=Q.charCodeAt(2))===88||U===120)return NaN}else if(O===48){switch(Q.charCodeAt(1)){case 66:case 98:D=2,B=49;break;case 79:case 111:D=8,B=55;break;default:return+Q}for(H=(X=Q.slice(2)).length,G=0;G<H;G++)if((Z=X.charCodeAt(G))<48||B<Z)return NaN;return parseInt(X,D)}}return+Q}var g=t("../internals/descriptors"),c=t("../internals/global"),h=t("../internals/is-forced"),b=t("../internals/redefine"),y=t("../internals/has"),r=t("../internals/classof-raw"),s=t("../internals/inherit-if-required"),i=t("../internals/to-primitive"),l=t("../internals/fails"),u=t("../internals/object-create"),o=t("../internals/object-get-own-property-names").f,n=t("../internals/object-get-own-property-descriptor").f,p=t("../internals/object-define-property").f,d=t("../internals/string-trim").trim,_="Number",S=c[_],j=S.prototype,T=r(u(j))==_;if(h(_,!S(" 0o1")||!S("0b1")||S("+0x1"))){for(var C,L=function(U){var U=arguments.length<1?0:U,D=this;return D instanceof L&&(T?l(function(){j.valueOf.call(D)}):r(D)!=_)?s(new S(m(U)),D,L):m(U)},E=g?o(S):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;E.length>I;I++)y(S,C=E[I])&&!y(L,C)&&p(L,C,n(S,C));(L.prototype=j).constructor=L,b(c,_,L)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,q,A){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,q,A){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(y,q,A){function m(i,l,u){return l===0?u:l%2==1?m(i,l-1,u*i):m(i*i,l/2,u)}var g=y("../internals/export"),c=y("../internals/to-integer"),h=y("../internals/this-number-value"),b=y("../internals/string-repeat"),y=y("../internals/fails"),r=1 .toFixed,s=Math.floor;g({target:"Number",proto:!0,forced:r&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!y(function(){r.call({})})},{toFixed:function(_){function l(C,L){for(var E=-1,I=L;++E<6;)I+=C*S[E],S[E]=I%1e7,I=s(I/1e7)}function u(C){for(var L=6,E=0;0<=--L;)E+=S[L],S[L]=s(E/C),E=E%C*1e7}function o(){for(var C,L=6,E="";0<=--L;)E===""&&L!==0&&S[L]===0||(C=String(S[L]),E=E===""?C:E+b.call("0",7-C.length)+C);return E}var n,p,d=h(this),_=c(_),S=[0,0,0,0,0,0],j="",T="0";if(_<0||20<_)throw RangeError("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||1e21<=d)return String(d);if(d<0&&(j="-",d=-d),1e-21<d)if(d=(n=(function(C){for(var L=0,E=C;4096<=E;)L+=12,E/=4096;for(;2<=E;)L+=1,E/=2;return L})(d*m(2,69,1))-69)<0?d*m(2,-n,1):d/m(2,n,1),d*=4503599627370496,0<(n=52-n)){for(l(0,d),p=_;7<=p;)l(1e7,0),p-=7;for(l(m(10,p,1),0),p=n-1;23<=p;)u(1<<23),p-=23;u(1<<p),l(1,1),u(2),T=o()}else l(0,d),l(1<<-n,0),T=o()+b.call("0",_);return T=0<_?j+((d=T.length)<=_?"0."+b.call("0",_-d)+T:T.slice(0,d-_)+"."+T.slice(d-_)):j+T}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(g,q,A){var m=g("../internals/export"),g=g("../internals/object-assign");m({target:"Object",stat:!0,forced:Object.assign!==g},{assign:g})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/object-to-array").entries;m({target:"Object",stat:!0},{entries:function(c){return g(c)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/iterate"),c=t("../internals/create-property");m({target:"Object",stat:!0},{fromEntries:function(h){var b={};return g(h,function(y,r){c(b,y,r)},void 0,!0),b}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(h,q,A){var m=h("../internals/export"),b=h("../internals/fails"),g=h("../internals/to-indexed-object"),c=h("../internals/object-get-own-property-descriptor").f,h=h("../internals/descriptors"),b=b(function(){c(1)});m({target:"Object",stat:!0,forced:!h||b,sham:!h},{getOwnPropertyDescriptor:function(y,r){return c(g(y),r)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(c,q,A){var m=c("../internals/export"),g=c("../internals/fails"),c=c("../internals/object-get-own-property-names-external").f;m({target:"Object",stat:!0,forced:g(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:c})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(b,q,A){var m=b("../internals/export"),g=b("../internals/fails"),c=b("../internals/to-object"),h=b("../internals/object-get-prototype-of"),b=b("../internals/correct-prototype-getter");m({target:"Object",stat:!0,forced:g(function(){h(1)}),sham:!b},{getPrototypeOf:function(y){return h(c(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/to-object"),c=t("../internals/object-keys");m({target:"Object",stat:!0,forced:t("../internals/fails")(function(){c(1)})},{keys:function(h){return c(g(h))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(c,q,A){var m=c("../internals/to-string-tag-support"),g=c("../internals/redefine"),c=c("../internals/object-to-string");m||g(Object.prototype,"toString",c,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Pe,q,A){var m,g,c,h,b=Pe("../internals/export"),y=Pe("../internals/is-pure"),r=Pe("../internals/global"),s=Pe("../internals/get-built-in"),i=Pe("../internals/native-promise-constructor"),l=Pe("../internals/redefine"),u=Pe("../internals/redefine-all"),o=Pe("../internals/set-to-string-tag"),n=Pe("../internals/set-species"),p=Pe("../internals/is-object"),d=Pe("../internals/a-function"),_=Pe("../internals/an-instance"),S=Pe("../internals/classof-raw"),j=Pe("../internals/inspect-source"),T=Pe("../internals/iterate"),C=Pe("../internals/check-correctness-of-iteration"),L=Pe("../internals/species-constructor"),E=Pe("../internals/task").set,I=Pe("../internals/microtask"),O=Pe("../internals/promise-resolve"),U=Pe("../internals/host-report-errors"),D=Pe("../internals/new-promise-capability"),B=Pe("../internals/perform"),X=Pe("../internals/internal-state"),H=Pe("../internals/is-forced"),We=Pe("../internals/well-known-symbol"),G=Pe("../internals/engine-v8-version"),Z=We("species"),Q="Promise",le=X.get,w=X.set,R=X.getterFor(Q),N=i,W=r.TypeError,J=r.document,re=r.process,ue=s("fetch"),ge=D.f,se=ge,pe=S(re)=="process",ye=!!(J&&J.createEvent&&r.dispatchEvent),te="unhandledrejection",me="rejectionhandled",we=1,Ee=2,xe=1,Te=2,Pe=H(Q,function(){var qe,Le;return j(N)===String(N)&&(G===66||!pe&&typeof PromiseRejectionEvent!="function")?!0:!(!y||N.prototype.finally)||!(51<=G&&/native code/.test(N))&&(Le=function(ee){ee(function(){},function(){})},((qe=N.resolve(1)).constructor={})[Z]=Le,!(qe.then(function(){})instanceof Le))}),We=Pe||!C(function(qe){N.all(qe).catch(function(){})}),Re=function(qe){var Le;return!(!p(qe)||typeof(Le=qe.then)!="function")&&Le},ft=function(qe,Le,ee){var oe;Le.notified||(Le.notified=!0,oe=Le.reactions,I(function(){for(var K,ie,je=Le.value,Ae=Le.state==we,Ve=0;oe.length>Ve;){var Je,tt,nt,lt=oe[Ve++],Et=Ae?lt.ok:lt.fail,wt=lt.resolve,gt=lt.reject,jt=lt.domain;try{Et?(Ae||(Le.rejection===Te&&(function(xt,Jt){E.call(r,function(){pe?re.emit("rejectionHandled",xt):ot(me,xt,Jt.value)})})(qe,Le),Le.rejection=xe),Et===!0?Je=je:(jt&&jt.enter(),Je=Et(je),jt&&(jt.exit(),nt=!0)),Je===lt.promise?gt(W("Promise-chain cycle")):(tt=Re(Je))?tt.call(Je,wt,gt):wt(Je)):gt(je)}catch(xt){jt&&!nt&&jt.exit(),gt(xt)}}Le.reactions=[],Le.notified=!1,ee&&!Le.rejection&&(K=qe,ie=Le,E.call(r,function(){var xt=ie.value,Jt=rt(ie);if(Jt&&(Jt=B(function(){pe?re.emit("unhandledRejection",xt,K):ot(te,K,xt)}),ie.rejection=pe||rt(ie)?Te:xe,Jt.error))throw Jt.value}))}))},ot=function(qe,Le,ee){var oe;ye?((oe=J.createEvent("Event")).promise=Le,oe.reason=ee,oe.initEvent(qe,!1,!0),r.dispatchEvent(oe)):oe={promise:Le,reason:ee},(Le=r["on"+qe])?Le(oe):qe===te&&U("Unhandled promise rejection",ee)},rt=function(qe){return qe.rejection!==xe&&!qe.parent},ut=function(qe,Le,ee,oe){return function(K){qe(Le,ee,K,oe)}},it=function(qe,Le,ee,oe){Le.done||(Le.done=!0,(Le=oe||Le).value=ee,Le.state=Ee,ft(qe,Le,!0))},Oe=function(qe,Le,ee,oe){if(!Le.done){Le.done=!0,oe&&(Le=oe);try{if(qe===ee)throw W("Promise can't be resolved itself");var K=Re(ee);K?I(function(){var ie={done:!1};try{K.call(ee,ut(Oe,qe,ie,Le),ut(it,qe,ie,Le))}catch(je){it(qe,ie,je,Le)}}):(Le.value=ee,Le.state=we,ft(qe,Le,!1))}catch(ie){it(qe,{done:!1},ie,Le)}}};Pe&&(N=function(qe){_(this,N,Q),d(qe),m.call(this);var Le=le(this);try{qe(ut(Oe,this,Le),ut(it,this,Le))}catch(ee){it(this,Le,ee)}},(m=function(qe){w(this,{type:Q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(N.prototype,{then:function(qe,Le){var ee=R(this),oe=ge(L(this,N));return oe.ok=typeof qe!="function"||qe,oe.fail=typeof Le=="function"&&Le,oe.domain=pe?re.domain:void 0,ee.parent=!0,ee.reactions.push(oe),ee.state!=0&&ft(this,ee,!1),oe.promise},catch:function(qe){return this.then(void 0,qe)}}),g=function(){var qe=new m,Le=le(qe);this.promise=qe,this.resolve=ut(Oe,qe,Le),this.reject=ut(it,qe,Le)},D.f=ge=function(qe){return qe===N||qe===c?new g:se(qe)},y||typeof i!="function"||(h=i.prototype.then,l(i.prototype,"then",function(qe,Le){var ee=this;return new N(function(oe,K){h.call(ee,oe,K)}).then(qe,Le)},{unsafe:!0}),typeof ue=="function"&&b({global:!0,enumerable:!0,forced:!0},{fetch:function(qe){return O(N,ue.apply(r,arguments))}}))),b({global:!0,wrap:!0,forced:Pe},{Promise:N}),o(N,Q,!1,!0),n(Q),c=s(Q),b({target:Q,stat:!0,forced:Pe},{reject:function(qe){var Le=ge(this);return Le.reject.call(void 0,qe),Le.promise}}),b({target:Q,stat:!0,forced:y||Pe},{resolve:function(qe){return O(y&&this===c?N:this,qe)}}),b({target:Q,stat:!0,forced:We},{all:function(qe){var Le=this,ee=ge(Le),oe=ee.resolve,K=ee.reject,ie=B(function(){var je=d(Le.resolve),Ae=[],Ve=0,Je=1;T(qe,function(tt){var nt=Ve++,lt=!1;Ae.push(void 0),Je++,je.call(Le,tt).then(function(Et){lt||(lt=!0,Ae[nt]=Et,--Je||oe(Ae))},K)}),--Je||oe(Ae)});return ie.error&&K(ie.value),ee.promise},race:function(qe){var Le=this,ee=ge(Le),oe=ee.reject,K=B(function(){var ie=d(Le.resolve);T(qe,function(je){ie.call(Le,je).then(ee.resolve,oe)})});return K.error&&oe(K.value),ee.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(r,q,A){var m=r("../internals/export"),u=r("../internals/get-built-in"),g=r("../internals/a-function"),c=r("../internals/an-object"),h=r("../internals/is-object"),b=r("../internals/object-create"),y=r("../internals/function-bind"),r=r("../internals/fails"),s=u("Reflect","construct"),i=r(function(){function o(){}return!(s(function(){},[],o)instanceof o)}),l=!r(function(){s(function(){})}),u=i||l;m({target:"Reflect",stat:!0,forced:u,sham:u},{construct:function(o,n){g(o),c(n);var p=arguments.length<3?o:g(arguments[2]);if(l&&!i)return s(o,n,p);if(o==p){switch(n.length){case 0:return new o;case 1:return new o(n[0]);case 2:return new o(n[0],n[1]);case 3:return new o(n[0],n[1],n[2]);case 4:return new o(n[0],n[1],n[2],n[3])}var d=[null];return d.push.apply(d,n),new(y.apply(o,d))}return d=p.prototype,p=b(h(d)?d:Object.prototype),d=Function.apply.call(o,p,n),h(d)?d:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/is-object"),c=t("../internals/an-object"),h=t("../internals/has"),b=t("../internals/object-get-own-property-descriptor"),y=t("../internals/object-get-prototype-of");m({target:"Reflect",stat:!0},{get:function r(s,i){var l,u=arguments.length<3?s:arguments[2];return c(s)===u?s[i]:(l=b.f(s,i))?h(l,"value")?l.value:l.get===void 0?void 0:l.get.call(u):g(l=y(s))?r(l,i,u):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,q,A){var m=t("../internals/descriptors"),g=t("../internals/global"),c=t("../internals/is-forced"),h=t("../internals/inherit-if-required"),b=t("../internals/object-define-property").f,y=t("../internals/object-get-own-property-names").f,r=t("../internals/is-regexp"),s=t("../internals/regexp-flags"),i=t("../internals/regexp-sticky-helpers"),l=t("../internals/redefine"),u=t("../internals/fails"),o=t("../internals/internal-state").set,n=t("../internals/set-species"),p=t("../internals/well-known-symbol")("match"),d=g.RegExp,_=d.prototype,S=/a/g,j=/a/g,T=new d(S)!==S,C=i.UNSUPPORTED_Y;if(m&&c("RegExp",!T||C||u(function(){return j[p]=!1,d(S)!=S||d(j)==j||d(S,"i")!="/a/i"}))){for(var L=function(O,U){var D,B=this instanceof L,X=r(O),H=U===void 0;return!B&&X&&O.constructor===L&&H?O:(T?X&&!H&&(O=O.source):O instanceof L&&(H&&(U=s.call(O)),O=O.source),C&&(D=!!U&&-1<U.indexOf("y"))&&(U=U.replace(/y/g,"")),X=h(T?new d(O,U):d(O,U),B?this:_,L),C&&D&&o(X,{sticky:D}),X)},E=y(d),I=0;E.length>I;)(function(O){O in L||b(L,O,{configurable:!0,get:function(){return d[O]},set:function(U){d[O]=U}})})(E[I++]);(_.constructor=L).prototype=_,l(g,"RegExp",L)}n("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(g,q,A){var m=g("../internals/export"),g=g("../internals/regexp-exec");m({target:"RegExp",proto:!0,forced:/./.exec!==g},{exec:g})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(h,q,A){var m=h("../internals/redefine"),g=h("../internals/an-object"),r=h("../internals/fails"),c=h("../internals/regexp-flags"),h="toString",b=RegExp.prototype,y=b[h],r=r(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),s=y.name!=h;(r||s)&&m(RegExp.prototype,h,function(){var i=g(this),l=String(i.source),u=i.flags;return"/"+l+"/"+String(u===void 0&&i instanceof RegExp&&!("flags"in b)?c.call(i):u)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(g,q,A){var m=g("../internals/collection"),g=g("../internals/collection-strong");q.exports=m("Set",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(y,q,A){var m=y("../internals/export"),g=y("../internals/object-get-own-property-descriptor").f,c=y("../internals/to-length"),h=y("../internals/not-a-regexp"),b=y("../internals/require-object-coercible"),i=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),r="".endsWith,s=Math.min,i=i("endsWith");m({target:"String",proto:!0,forced:!!(y||i||!(m=g(String.prototype,"endsWith"))||m.writable)&&!i},{endsWith:function(l){var u=String(b(this)),o=(h(l),1<arguments.length?arguments[1]:void 0),n=c(u.length),o=o===void 0?n:s(c(o),n),n=String(l);return r?r.call(u,n,o):u.slice(o-n.length,o)===n}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/not-a-regexp"),c=t("../internals/require-object-coercible");m({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(h){return!!~String(c(this)).indexOf(g(h),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(c,q,A){var m=c("../internals/string-multibyte").charAt,g=c("../internals/internal-state"),c=c("../internals/define-iterator"),h="String Iterator",b=g.set,y=g.getterFor(h);c(String,"String",function(r){b(this,{type:h,string:String(r),index:0})},function(){var r=y(this),s=r.string,i=r.index;return i>=s.length?{value:void 0,done:!0}:(s=m(s,i),r.index+=s.length,{value:s,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,q,A){var m=t("../internals/fix-regexp-well-known-symbol-logic"),g=t("../internals/an-object"),c=t("../internals/to-length"),h=t("../internals/require-object-coercible"),b=t("../internals/advance-string-index"),y=t("../internals/regexp-exec-abstract");m("match",1,function(r,s,i){return[function(l){var u=h(this),o=l==null?void 0:l[r];return o!==void 0?o.call(l,u):new RegExp(l)[r](String(u))},function(l){var u=i(s,l,this);if(u.done)return u.value;var o=g(l),n=String(this);if(!o.global)return y(o,n);for(var p=o.unicode,d=[],_=o.lastIndex=0;(S=y(o,n))!==null;){var S=String(S[0]);(d[_]=S)===""&&(o.lastIndex=b(n,c(o.lastIndex),p)),_++}return _===0?null:d}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/string-pad").start;m({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(c){return g(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,q,A){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,q,A){var m=t("../internals/fix-regexp-well-known-symbol-logic"),g=t("../internals/an-object"),c=t("../internals/to-object"),h=t("../internals/to-length"),b=t("../internals/to-integer"),y=t("../internals/require-object-coercible"),r=t("../internals/advance-string-index"),s=t("../internals/regexp-exec-abstract"),i=Math.max,l=Math.min,u=Math.floor,o=/\$([$&'`]|\d\d?|<[^>]*>)/g,n=/\$([$&'`]|\d\d?)/g;m("replace",2,function(p,d,_,S){var j=S.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=S.REPLACE_KEEPS_$0,C=j?"$":"$0";return[function(L,E){var I=y(this),O=L==null?void 0:L[p];return O!==void 0?O.call(L,I,E):d.call(String(I),L,E)},function(L,E){if(!j&&T||typeof E=="string"&&E.indexOf(C)===-1){var I=_(d,L,this,E);if(I.done)return I.value}for(var O,U=g(L),D=String(this),B=typeof E=="function",X=(B||(E=String(E)),U.global),H=(X&&(O=U.unicode,U.lastIndex=0),[]);(w=s(U,D))!==null&&(H.push(w),X);)String(w[0])===""&&(U.lastIndex=r(D,h(U.lastIndex),O));for(var G,Z="",Q=0,le=0;le<H.length;le++){for(var w=H[le],R=String(w[0]),N=i(l(b(w.index),D.length),0),W=[],J=1;J<w.length;J++)W.push((G=w[J])===void 0?G:String(G));var re=w.groups,ue=B?(ue=[R].concat(W,N,D),re!==void 0&&ue.push(re),String(E.apply(void 0,ue))):(function(ge,se,pe,ye,te,me){var we=pe+ge.length,Ee=ye.length,xe=n;return te!==void 0&&(te=c(te),xe=o),d.call(me,xe,function(Te,Pe){var We;switch(Pe.charAt(0)){case"$":return"$";case"&":return ge;case"`":return se.slice(0,pe);case"'":return se.slice(we);case"<":We=te[Pe.slice(1,-1)];break;default:var Re,ft=+Pe;if(ft==0)return Te;if(Ee<ft)return(Re=u(ft/10))!==0&&Re<=Ee?ye[Re-1]===void 0?Pe.charAt(1):ye[Re-1]+Pe.charAt(1):Te;We=ye[ft-1]}return We===void 0?"":We})})(R,D,N,W,re,E);Q<=N&&(Z+=D.slice(Q,N)+ue,Q=N+R.length)}return Z+D.slice(Q)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,q,A){var m=t("../internals/fix-regexp-well-known-symbol-logic"),g=t("../internals/an-object"),c=t("../internals/require-object-coercible"),h=t("../internals/same-value"),b=t("../internals/regexp-exec-abstract");m("search",1,function(y,r,s){return[function(i){var l=c(this),u=i==null?void 0:i[y];return u!==void 0?u.call(i,l):new RegExp(i)[y](String(l))},function(i){var l,u=s(r,i,this);return u.done?u.value:(u=g(i),i=String(this),l=u.lastIndex,h(l,0)||(u.lastIndex=0),i=b(u,i),h(u.lastIndex,l)||(u.lastIndex=l),i===null?-1:i.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(l,q,A){var m=l("../internals/fix-regexp-well-known-symbol-logic"),g=l("../internals/is-regexp"),c=l("../internals/an-object"),h=l("../internals/require-object-coercible"),b=l("../internals/species-constructor"),y=l("../internals/advance-string-index"),r=l("../internals/to-length"),s=l("../internals/regexp-exec-abstract"),i=l("../internals/regexp-exec"),l=l("../internals/fails"),u=[].push,o=Math.min,n=4294967295,p=!l(function(){return!RegExp(n,"y")});m("split",2,function(d,_,S){var j="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(T,C){var L=String(h(this)),E=C===void 0?n:C>>>0;if(E==0)return[];if(T===void 0)return[L];if(!g(T))return _.call(L,T,E);for(var I,O,U,D=[],C=(T.ignoreCase?"i":"")+(T.multiline?"m":"")+(T.unicode?"u":"")+(T.sticky?"y":""),B=0,X=new RegExp(T.source,C+"g");(I=i.call(X,L))&&!(B<(O=X.lastIndex)&&(D.push(L.slice(B,I.index)),1<I.length&&I.index<L.length&&u.apply(D,I.slice(1)),U=I[0].length,B=O,D.length>=E));)X.lastIndex===I.index&&X.lastIndex++;return B===L.length?!U&&X.test("")||D.push(""):D.push(L.slice(B)),D.length>E?D.slice(0,E):D}:"0".split(void 0,0).length?function(T,C){return T===void 0&&C===0?[]:_.call(this,T,C)}:_;return[function(T,C){var L=h(this),E=T==null?void 0:T[d];return E!==void 0?E.call(T,L,C):j.call(String(L),T,C)},function(I,C){var L=S(j,I,this,C,j!==_);if(L.done)return L.value;var L=c(I),E=String(this),I=b(L,RegExp),O=L.unicode,U=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(p?"y":"g"),D=new I(p?L:"^(?:"+L.source+")",U),B=C===void 0?n:C>>>0;if(B==0)return[];if(E.length===0)return s(D,E)===null?[E]:[];for(var X=0,H=0,G=[];H<E.length;){D.lastIndex=p?H:0;var Z,Q=s(D,p?E:E.slice(H));if(Q===null||(Z=o(r(D.lastIndex+(p?0:H)),E.length))===X)H=y(E,H,O);else{if(G.push(E.slice(X,H)),G.length===B)return G;for(var le=1;le<=Q.length-1;le++)if(G.push(Q[le]),G.length===B)return G;H=X=Z}}return G.push(E.slice(X)),G}]},!p)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(y,q,A){var m=y("../internals/export"),g=y("../internals/object-get-own-property-descriptor").f,c=y("../internals/to-length"),h=y("../internals/not-a-regexp"),b=y("../internals/require-object-coercible"),i=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),r="".startsWith,s=Math.min,i=i("startsWith");m({target:"String",proto:!0,forced:!!(y||i||!(m=g(String.prototype,"startsWith"))||m.writable)&&!i},{startsWith:function(n){var u=String(b(this)),o=(h(n),c(s(1<arguments.length?arguments[1]:void 0,u.length))),n=String(n);return r?r.call(u,n,o):u.slice(o,o+n.length)===n}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/create-html");m({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return g(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,q,A){var m=t("../internals/export"),g=t("../internals/string-trim").trim;m({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return g(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(o,q,A){var m,g,c,h,b,y=o("../internals/export"),r=o("../internals/descriptors"),s=o("../internals/global"),i=o("../internals/has"),l=o("../internals/is-object"),u=o("../internals/object-define-property").f,o=o("../internals/copy-constructor-properties"),n=s.Symbol;!r||typeof n!="function"||"description"in n.prototype&&n().description===void 0||(m={},o(g=function(){var p=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),d=this instanceof g?new n(p):p===void 0?n():n(p);return p===""&&(m[d]=!0),d},n),(s=g.prototype=n.prototype).constructor=g,c=s.toString,h=String(n("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/,u(s,"description",{configurable:!0,get:function(){var p=l(this)?this.valueOf():this,d=c.call(p);return i(m,p)?"":(p=h?d.slice(7,-1):d.replace(b,"$1"))===""?void 0:p}}),y({global:!0,forced:!0},{Symbol:g}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,q,A){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(se,q,A){function m(K,ie){var je=We[K]=L(me[ge]);return pe(je,{type:ue,tag:K,description:ie}),i||(je.description=ie),je}function g(K,Ae){_(K);var je=j(Ae),Ae=E(je).concat(oe(je));return J(Ae,function(Ve){i&&!ee.call(je,Ve)||Le(K,Ve,je[Ve])}),K}function c(Ae,Ve){var je,Ae=j(Ae),Ve=T(Ve,!0);if(Ae!==te||!n(We,Ve)||n(Re,Ve))return!(je=Ee(Ae,Ve))||!n(We,Ve)||n(Ae,re)&&Ae[re][Ve]||(je.enumerable=!0),je}function h(ie){var ie=Te(j(ie)),je=[];return J(ie,function(Ae){n(We,Ae)||n(Q,Ae)||je.push(Ae)}),je}var b=se("../internals/export"),y=se("../internals/global"),r=se("../internals/get-built-in"),s=se("../internals/is-pure"),i=se("../internals/descriptors"),l=se("../internals/native-symbol"),u=se("../internals/use-symbol-as-uid"),o=se("../internals/fails"),n=se("../internals/has"),p=se("../internals/is-array"),d=se("../internals/is-object"),_=se("../internals/an-object"),S=se("../internals/to-object"),j=se("../internals/to-indexed-object"),T=se("../internals/to-primitive"),C=se("../internals/create-property-descriptor"),L=se("../internals/object-create"),E=se("../internals/object-keys"),I=se("../internals/object-get-own-property-names"),O=se("../internals/object-get-own-property-names-external"),U=se("../internals/object-get-own-property-symbols"),D=se("../internals/object-get-own-property-descriptor"),B=se("../internals/object-define-property"),X=se("../internals/object-property-is-enumerable"),H=se("../internals/create-non-enumerable-property"),G=se("../internals/redefine"),Z=se("../internals/shared"),rt=se("../internals/shared-key"),Q=se("../internals/hidden-keys"),le=se("../internals/uid"),w=se("../internals/well-known-symbol"),R=se("../internals/well-known-symbol-wrapped"),N=se("../internals/define-well-known-symbol"),W=se("../internals/set-to-string-tag"),ut=se("../internals/internal-state"),J=se("../internals/array-iteration").forEach,re=rt("hidden"),ue="Symbol",ge="prototype",se=w("toPrimitive"),pe=ut.set,ye=ut.getterFor(ue),te=Object[ge],me=y.Symbol,we=r("JSON","stringify"),Ee=D.f,xe=B.f,Te=O.f,Pe=X.f,We=Z("symbols"),Re=Z("op-symbols"),ft=Z("string-to-symbol-registry"),ot=Z("symbol-to-string-registry"),rt=Z("wks"),ut=y.QObject,it=!ut||!ut[ge]||!ut[ge].findChild,Oe=i&&o(function(){return L(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!=7})?function(K,ie,je){var Ae=Ee(te,ie);Ae&&delete te[ie],xe(K,ie,je),Ae&&K!==te&&xe(te,ie,Ae)}:xe,qe=u?function(K){return typeof K=="symbol"}:function(K){return Object(K)instanceof me},Le=function(K,ie,je){return K===te&&Le(Re,ie,je),_(K),ie=T(ie,!0),_(je),(n(We,ie)?(je.enumerable?(n(K,re)&&K[re][ie]&&(K[re][ie]=!1),je=L(je,{enumerable:C(0,!1)})):(n(K,re)||xe(K,re,C(1,{})),K[re][ie]=!0),Oe):xe)(K,ie,je)},ee=function(ie){var ie=T(ie,!0),je=Pe.call(this,ie);return!(this===te&&n(We,ie)&&!n(Re,ie))&&(!(je||!n(this,ie)||!n(We,ie)||n(this,re)&&this[re][ie])||je)},oe=function(je){var ie=je===te,je=Te(ie?Re:j(je)),Ae=[];return J(je,function(Ve){!n(We,Ve)||ie&&!n(te,Ve)||Ae.push(We[Ve])}),Ae};l||(G((me=function(){if(this instanceof me)throw TypeError("Symbol is not a constructor");var K=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ie=le(K),je=function(Ae){this===te&&je.call(Re,Ae),n(this,re)&&n(this[re],ie)&&(this[re][ie]=!1),Oe(this,ie,C(1,Ae))};return i&&it&&Oe(te,ie,{configurable:!0,set:je}),m(ie,K)})[ge],"toString",function(){return ye(this).tag}),G(me,"withoutSetter",function(K){return m(le(K),K)}),X.f=ee,B.f=Le,D.f=c,I.f=O.f=h,U.f=oe,R.f=function(K){return m(w(K),K)},i&&(xe(me[ge],"description",{configurable:!0,get:function(){return ye(this).description}}),s||G(te,"propertyIsEnumerable",ee,{unsafe:!0}))),b({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:me}),J(E(rt),function(K){N(K)}),b({target:ue,stat:!0,forced:!l},{for:function(je){var ie,je=String(je);return n(ft,je)?ft[je]:(ie=me(je),ft[je]=ie,ot[ie]=je,ie)},keyFor:function(K){if(!qe(K))throw TypeError(K+" is not a symbol");if(n(ot,K))return ot[K]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),b({target:"Object",stat:!0,forced:!l,sham:!i},{create:function(K,ie){return ie===void 0?L(K):g(L(K),ie)},defineProperty:Le,defineProperties:g,getOwnPropertyDescriptor:c}),b({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:h,getOwnPropertySymbols:oe}),b({target:"Object",stat:!0,forced:o(function(){U.f(1)})},{getOwnPropertySymbols:function(K){return U.f(S(K))}}),we&&b({target:"JSON",stat:!0,forced:!l||o(function(){var K=me();return we([K])!="[null]"||we({a:K})!="{}"||we(Object(K))!="{}"})},{stringify:function(K,ie,je){for(var Ae,Ve=[K],Je=1;Je<arguments.length;)Ve.push(arguments[Je++]);if((d(Ae=ie)||K!==void 0)&&!qe(K))return p(ie)||(ie=function(tt,nt){if(typeof Ae=="function"&&(nt=Ae.call(this,tt,nt)),!qe(nt))return nt}),Ve[1]=ie,we.apply(null,Ve)}}),me[ge][se]||H(me[ge],se,me[ge].valueOf),W(me,ue),Q[re]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-copy-within"),c=m.aTypedArray;(0,m.exportTypedArrayMethod)("copyWithin",function(h,b){return g.call(c(this),h,b,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").every,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("every",function(h){return g(c(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-fill"),c=m.aTypedArray;(0,m.exportTypedArrayMethod)("fill",function(h){return g.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").filter,c=t("../internals/species-constructor"),h=m.aTypedArray,b=m.aTypedArrayConstructor;(0,m.exportTypedArrayMethod)("filter",function(y){for(var r=g(h(this),y,1<arguments.length?arguments[1]:void 0),y=c(this,this.constructor),s=0,i=r.length,l=new(b(y))(i);s<i;)l[s]=r[s++];return l})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").findIndex,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("findIndex",function(h){return g(c(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").find,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("find",function(h){return g(c(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,q,A){t("../internals/typed-array-constructor")("Float32",function(m){return function(g,c,h){return m(this,g,c,h)}})},{"../internals/typed-array-constructor":144}],220:[function(t,q,A){t("../internals/typed-array-constructor")("Float64",function(m){return function(g,c,h){return m(this,g,c,h)}})},{"../internals/typed-array-constructor":144}],221:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").forEach,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("forEach",function(h){g(c(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-includes").includes,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("includes",function(h){return g(c(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-includes").indexOf,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("indexOf",function(h){return g(c(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,q,A){t("../internals/typed-array-constructor")("Int16",function(m){return function(g,c,h){return m(this,g,c,h)}})},{"../internals/typed-array-constructor":144}],225:[function(t,q,A){t("../internals/typed-array-constructor")("Int32",function(m){return function(g,c,h){return m(this,g,c,h)}})},{"../internals/typed-array-constructor":144}],226:[function(g,q,A){function m(){return c.call(y(this))}var i=g("../internals/global"),s=g("../internals/array-buffer-view-core"),r=g("../modules/es.array.iterator"),g=g("../internals/well-known-symbol")("iterator"),i=i.Uint8Array,c=r.values,h=r.keys,b=r.entries,y=s.aTypedArray,r=s.exportTypedArrayMethod,s=i&&i.prototype[g],i=!!s&&(s.name=="values"||s.name==null);r("entries",function(){return b.call(y(this))}),r("keys",function(){return h.call(y(this))}),r("values",m,!i),r(g,m,!i)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(g,q,A){var g=g("../internals/array-buffer-view-core"),m=g.aTypedArray,g=g.exportTypedArrayMethod,c=[].join;g("join",function(h){return c.apply(m(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-last-index-of"),c=m.aTypedArray;(0,m.exportTypedArrayMethod)("lastIndexOf",function(h){return g.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").map,c=t("../internals/species-constructor"),h=m.aTypedArray,b=m.aTypedArrayConstructor;(0,m.exportTypedArrayMethod)("map",function(y){return g(h(this),y,1<arguments.length?arguments[1]:void 0,function(r,s){return new(b(c(r,r.constructor)))(s)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-reduce").right,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("reduceRight",function(h){return g(c(this),h,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-reduce").left,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("reduce",function(h){return g(c(this),h,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(g,q,A){var g=g("../internals/array-buffer-view-core"),m=g.aTypedArray,g=g.exportTypedArrayMethod,c=Math.floor;g("reverse",function(){for(var h,b=m(this).length,y=c(b/2),r=0;r<y;)h=this[r],this[r++]=this[--b],this[b]=h;return this})},{"../internals/array-buffer-view-core":12}],233:[function(b,q,A){var m=b("../internals/array-buffer-view-core"),g=b("../internals/to-length"),c=b("../internals/to-offset"),h=b("../internals/to-object"),b=b("../internals/fails"),y=m.aTypedArray;(0,m.exportTypedArrayMethod)("set",function(r){y(this);var s=c(1<arguments.length?arguments[1]:void 0,1),i=this.length,l=h(r),u=g(l.length),o=0;if(i<u+s)throw RangeError("Wrong length");for(;o<u;)this[s+o]=l[o++]},b(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(g,q,A){var b=g("../internals/array-buffer-view-core"),m=g("../internals/species-constructor"),g=g("../internals/fails"),c=b.aTypedArray,h=b.aTypedArrayConstructor,b=b.exportTypedArrayMethod,y=[].slice;b("slice",function(r,s){for(var i=y.call(c(this),r,s),r=m(this,this.constructor),l=0,u=i.length,o=new(h(r))(u);l<u;)o[l]=i[l++];return o},g(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/array-iteration").some,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("some",function(h){return g(c(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(g,q,A){var g=g("../internals/array-buffer-view-core"),m=g.aTypedArray,g=g.exportTypedArrayMethod,c=[].sort;g("sort",function(h){return c.call(m(this),h)})},{"../internals/array-buffer-view-core":12}],237:[function(t,q,A){var m=t("../internals/array-buffer-view-core"),g=t("../internals/to-length"),c=t("../internals/to-absolute-index"),h=t("../internals/species-constructor"),b=m.aTypedArray;(0,m.exportTypedArrayMethod)("subarray",function(l,r){var s=b(this),i=s.length,l=c(l,i);return new(h(s,s.constructor))(s.buffer,s.byteOffset+l*s.BYTES_PER_ELEMENT,g((r===void 0?i:c(r,i))-l))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(g,q,A){var b=g("../internals/global"),m=g("../internals/array-buffer-view-core"),g=g("../internals/fails"),c=b.Int8Array,h=m.aTypedArray,b=m.exportTypedArrayMethod,y=[].toLocaleString,r=[].slice,s=!!c&&g(function(){y.call(new c(1))});b("toLocaleString",function(){return y.apply(s?r.call(h(this)):h(this),arguments)},g(function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()})||!g(function(){c.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(g,q,A){var m=g("../internals/array-buffer-view-core").exportTypedArrayMethod,b=g("../internals/fails"),g=g("../internals/global").Uint8Array,g=g&&g.prototype||{},c=[].toString,h=[].join,b=(b(function(){c.call({})})&&(c=function(){return h.call(this)}),g.toString!=c);m("toString",c,b)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,q,A){t("../internals/typed-array-constructor")("Uint16",function(m){return function(g,c,h){return m(this,g,c,h)}})},{"../internals/typed-array-constructor":144}],241:[function(t,q,A){t("../internals/typed-array-constructor")("Uint32",function(m){return function(g,c,h){return m(this,g,c,h)}})},{"../internals/typed-array-constructor":144}],242:[function(t,q,A){t("../internals/typed-array-constructor")("Uint8",function(m){return function(g,c,h){return m(this,g,c,h)}})},{"../internals/typed-array-constructor":144}],243:[function(t,q,A){t("../internals/typed-array-constructor")("Uint8",function(m){return function(g,c,h){return m(this,g,c,h)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(n,_,A){function m(S){return function(){return S(this,arguments.length?arguments[0]:void 0)}}var g,c,h,b,y,p=n("../internals/global"),r=n("../internals/redefine-all"),s=n("../internals/internal-metadata"),i=n("../internals/collection"),l=n("../internals/collection-weak"),u=n("../internals/is-object"),o=n("../internals/internal-state").enforce,n=n("../internals/native-weak-map"),p=!p.ActiveXObject&&"ActiveXObject"in p,d=Object.isExtensible,_=_.exports=i("WeakMap",m,l);n&&p&&(g=l.getConstructor(m,"WeakMap",!0),s.REQUIRED=!0,i=_.prototype,c=i.delete,h=i.has,b=i.get,y=i.set,r(i,{delete:function(S){var j;return u(S)&&!d(S)?((j=o(this)).frozen||(j.frozen=new g),c.call(this,S)||j.frozen.delete(S)):c.call(this,S)},has:function(S){var j;return u(S)&&!d(S)?((j=o(this)).frozen||(j.frozen=new g),h.call(this,S)||j.frozen.has(S)):h.call(this,S)},get:function(S){var j;return!u(S)||d(S)||((j=o(this)).frozen||(j.frozen=new g),h.call(this,S))?b.call(this,S):j.frozen.get(S)},set:function(S,j){var T;return!u(S)||d(S)||((T=o(this)).frozen||(T.frozen=new g),h.call(this,S))?y.call(this,S,j):T.frozen.set(S,j),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,q,A){var m,g=t("../internals/global"),c=t("../internals/dom-iterables"),h=t("../internals/array-for-each"),b=t("../internals/create-non-enumerable-property");for(m in c){var y=g[m],y=y&&y.prototype;if(y&&y.forEach!==h)try{b(y,"forEach",h)}catch{y.forEach=h}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(y,q,A){var m,g=y("../internals/global"),c=y("../internals/dom-iterables"),h=y("../modules/es.array.iterator"),b=y("../internals/create-non-enumerable-property"),y=y("../internals/well-known-symbol"),r=y("iterator"),s=y("toStringTag"),i=h.values;for(m in c){var l=g[m],u=l&&l.prototype;if(u){if(u[r]!==i)try{b(u,r,i)}catch{u[r]=i}if(u[s]||b(u,s,m),c[m]){for(var o in h)if(u[o]!==h[o])try{b(u,o,h[o])}catch{u[o]=h[o]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(re,q,A){re("../modules/es.array.iterator");function m(ue){try{return decodeURIComponent(ue)}catch{return ue}}function g(ue){return N[ue]}function c(ue){return encodeURIComponent(ue).replace(R,g)}function h(ue){this.entries.length=0,W(this.entries,ue)}function b(ue,ge){if(ue<ge)throw TypeError("Not enough arguments")}function y(){p(this,y,B);var ue,ge,se,pe,ye,te,me,we,Ee=0<arguments.length?arguments[0]:void 0,xe=[];if(H(this,{type:B,entries:xe,updateURL:function(){},updateSearchParams:h}),Ee!==void 0)if(T(Ee))if(typeof(ue=I(Ee))=="function")for(se=(ge=ue.call(Ee)).next;!(pe=se.call(ge)).done;){if((te=(ye=(pe=E(j(pe.value))).next).call(pe)).done||(me=ye.call(pe)).done||!ye.call(pe).done)throw TypeError("Expected sequence with length 2");xe.push({key:te.value+"",value:me.value+""})}else for(we in Ee)d(Ee,we)&&xe.push({key:we,value:Ee[we]+""});else W(xe,typeof Ee=="string"?Ee.charAt(0)==="?"?Ee.slice(1):Ee:Ee+"")}var r=re("../internals/export"),D=re("../internals/get-built-in"),s=re("../internals/native-url"),i=re("../internals/redefine"),l=re("../internals/redefine-all"),u=re("../internals/set-to-string-tag"),o=re("../internals/create-iterator-constructor"),n=re("../internals/internal-state"),p=re("../internals/an-instance"),d=re("../internals/has"),_=re("../internals/function-bind-context"),S=re("../internals/classof"),j=re("../internals/an-object"),T=re("../internals/is-object"),C=re("../internals/object-create"),L=re("../internals/create-property-descriptor"),E=re("../internals/get-iterator"),I=re("../internals/get-iterator-method"),re=re("../internals/well-known-symbol"),O=D("fetch"),U=D("Headers"),D=re("iterator"),B="URLSearchParams",X=B+"Iterator",H=n.set,G=n.getterFor(B),Z=n.getterFor(X),Q=/\+/g,le=Array(4),w=function(ue){var ge,se=ue.replace(Q," "),pe=4;try{return decodeURIComponent(se)}catch{for(;pe;)se=se.replace((ge=pe--,le[ge-1]||(le[ge-1]=RegExp("((?:%[\\da-f]{2}){"+ge+"})","gi"))),m);return se}},R=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},W=function(ue,ge){if(ge)for(var se,pe=ge.split("&"),ye=0;ye<pe.length;)(se=pe[ye++]).length&&(se=se.split("="),ue.push({key:w(se.shift()),value:w(se.join("="))}))},J=o(function(ue,ge){H(this,{type:X,iterator:E(G(ue).entries),kind:ge})},"Iterator",function(){var ge=Z(this),ue=ge.kind,ge=ge.iterator.next(),se=ge.value;return ge.done||(ge.value=ue==="keys"?se.key:ue==="values"?se.value:[se.key,se.value]),ge}),re=y.prototype;l(re,{append:function(ue,ge){b(arguments.length,2);var se=G(this);se.entries.push({key:ue+"",value:ge+""}),se.updateURL()},delete:function(ue){b(arguments.length,1);for(var ge=G(this),se=ge.entries,pe=ue+"",ye=0;ye<se.length;)se[ye].key===pe?se.splice(ye,1):ye++;ge.updateURL()},get:function(ue){b(arguments.length,1);for(var ge=G(this).entries,se=ue+"",pe=0;pe<ge.length;pe++)if(ge[pe].key===se)return ge[pe].value;return null},getAll:function(ue){b(arguments.length,1);for(var ge=G(this).entries,se=ue+"",pe=[],ye=0;ye<ge.length;ye++)ge[ye].key===se&&pe.push(ge[ye].value);return pe},has:function(ue){b(arguments.length,1);for(var ge=G(this).entries,se=ue+"",pe=0;pe<ge.length;)if(ge[pe++].key===se)return!0;return!1},set:function(ue,ge){b(arguments.length,1);for(var se,pe=G(this),ye=pe.entries,te=!1,me=ue+"",we=ge+"",Ee=0;Ee<ye.length;Ee++)(se=ye[Ee]).key===me&&(te?ye.splice(Ee--,1):(te=!0,se.value=we));te||ye.push({key:me,value:we}),pe.updateURL()},sort:function(){for(var ue,ge,se=G(this),pe=se.entries,ye=pe.slice(),te=pe.length=0;te<ye.length;te++){for(ue=ye[te],ge=0;ge<te;ge++)if(pe[ge].key>ue.key){pe.splice(ge,0,ue);break}ge===te&&pe.push(ue)}se.updateURL()},forEach:function(ue){for(var ge,se=G(this).entries,pe=_(ue,1<arguments.length?arguments[1]:void 0,3),ye=0;ye<se.length;)pe((ge=se[ye++]).value,ge.key,this)},keys:function(){return new J(this,"keys")},values:function(){return new J(this,"values")},entries:function(){return new J(this,"entries")}},{enumerable:!0}),i(re,D,re.entries),i(re,"toString",function(){for(var ue,ge=G(this).entries,se=[],pe=0;pe<ge.length;)ue=ge[pe++],se.push(c(ue.key)+"="+c(ue.value));return se.join("&")},{enumerable:!0}),u(y,B),r({global:!0,forced:!s},{URLSearchParams:y}),s||typeof O!="function"||typeof U!="function"||r({global:!0,enumerable:!0,forced:!0},{fetch:function(ye){var ge,se,pe,ye=[ye];return 1<arguments.length&&(T(ge=arguments[1])&&(se=ge.body,S(se)===B&&((pe=ge.headers?new U(ge.headers):new U).has("content-type")||pe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ge=C(ge,{body:L(0,String(se)),headers:L(0,pe)}))),ye.push(ge)),O.apply(this,ye)}}),q.exports={URLSearchParams:y,getState:G}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(E,q,A){E("../modules/es.string.iterator");function m(be){var $e,dt,Qe,It;if(typeof be=="number"){for($e=[],dt=0;dt<4;dt++)$e.unshift(be%256),be=X(be/256);return $e.join(".")}if(typeof be!="object")return be;for($e="",Qe=me(be),dt=0;dt<8;dt++)It&&be[dt]===0||(It=It&&!1,Qe===dt?($e+=dt?":":"::",It=!0):($e+=be[dt].toString(16),dt<7&&($e+=":")));return"["+$e+"]"}function g(be){return!be.host||be.cannotBeABaseURL||be.scheme=="file"}function c(be,$e,dt,Qe){var It,Ye,Ft,at=dt||qe,Lt=0,ct="",dr=!1,yr=!1,lr=!1;for(dt||(be.scheme="",be.username="",be.password="",be.host=null,be.port=null,be.path=[],be.query=null,be.fragment=null,be.cannotBeABaseURL=!1,$e=$e.replace(pe,"")),$e=$e.replace(ye,""),It=S($e);Lt<=It.length;){switch(Ye=It[Lt],at){case qe:if(!Ye||!w.test(Ye)){if(dt)return Z;at=ee;continue}ct+=Ye.toLowerCase(),at=Le;break;case Le:if(Ye&&(R.test(Ye)||Ye=="+"||Ye=="-"||Ye=="."))ct+=Ye.toLowerCase();else{if(Ye!=":"){if(dt)return Z;ct="",at=ee,Lt=0;continue}if(dt&&(Re(be)!=d(We,ct)||ct=="file"&&(ft(be)||be.port!==null)||be.scheme=="file"&&!be.host))return;if(be.scheme=ct,dt)return void(Re(be)&&We[be.scheme]==be.port&&(be.port=null));ct="",be.scheme=="file"?at=Et:Re(be)&&Qe&&Qe.scheme==be.scheme?at=oe:Re(be)?at=Ae:It[Lt+1]=="/"?(at=K,Lt++):(be.cannotBeABaseURL=!0,be.path.push(""),at=Jt)}break;case ee:if(!Qe||Qe.cannotBeABaseURL&&Ye!="#")return Z;if(Qe.cannotBeABaseURL&&Ye=="#"){be.scheme=Qe.scheme,be.path=Qe.path.slice(),be.query=Qe.query,be.fragment="",be.cannotBeABaseURL=!0,at=hr;break}at=Qe.scheme=="file"?Et:ie;continue;case oe:if(Ye!="/"||It[Lt+1]!="/"){at=ie;continue}at=Ve,Lt++;break;case K:if(Ye=="/"){at=Je;break}at=xt;continue;case ie:if(be.scheme=Qe.scheme,Ye==y)be.username=Qe.username,be.password=Qe.password,be.host=Qe.host,be.port=Qe.port,be.path=Qe.path.slice(),be.query=Qe.query;else if(Ye=="/"||Ye=="\\"&&Re(be))at=je;else if(Ye=="?")be.username=Qe.username,be.password=Qe.password,be.host=Qe.host,be.port=Qe.port,be.path=Qe.path.slice(),be.query="",at=Mr;else{if(Ye!="#"){be.username=Qe.username,be.password=Qe.password,be.host=Qe.host,be.port=Qe.port,be.path=Qe.path.slice(),be.path.pop(),at=xt;continue}be.username=Qe.username,be.password=Qe.password,be.host=Qe.host,be.port=Qe.port,be.path=Qe.path.slice(),be.query=Qe.query,be.fragment="",at=hr}break;case je:if(!Re(be)||Ye!="/"&&Ye!="\\"){if(Ye!="/"){be.username=Qe.username,be.password=Qe.password,be.host=Qe.host,be.port=Qe.port,at=xt;continue}at=Je}else at=Ve;break;case Ae:if(at=Ve,Ye!="/"||ct.charAt(Lt+1)!="/")continue;Lt++;break;case Ve:if(Ye=="/"||Ye=="\\")break;at=Je;continue;case Je:if(Ye=="@"){dr&&(ct="%40"+ct);for(var dr=!0,gr=S(ct),qr=0;qr<gr.length;qr++){var Ir=gr[qr];Ir!=":"||lr?(Ir=Pe(Ir,Te),lr?be.password+=Ir:be.username+=Ir):lr=!0}ct=""}else if(Ye==y||Ye=="/"||Ye=="?"||Ye=="#"||Ye=="\\"&&Re(be)){if(dr&&ct=="")return G;Lt-=S(ct).length+1,ct="",at=tt}else ct+=Ye;break;case tt:case nt:if(dt&&be.scheme=="file"){at=gt;continue}if(Ye!=":"||yr){if(Ye==y||Ye=="/"||Ye=="?"||Ye=="#"||Ye=="\\"&&Re(be)){if(Re(be)&&ct=="")return Q;if(dt&&ct==""&&(ft(be)||be.port!==null))return;if(Ft=te(be,ct))return Ft;if(ct="",at=jt,dt)return;continue}Ye=="["?yr=!0:Ye=="]"&&(yr=!1),ct+=Ye}else{if(ct=="")return Q;if(Ft=te(be,ct))return Ft;if(ct="",at=lt,dt==nt)return}break;case lt:if(!N.test(Ye)){if(Ye==y||Ye=="/"||Ye=="?"||Ye=="#"||Ye=="\\"&&Re(be)||dt){if(ct!=""){var $r=parseInt(ct,10);if(65535<$r)return le;be.port=Re(be)&&$r===We[be.scheme]?null:$r,ct=""}if(dt)return;at=jt;continue}return le}ct+=Ye;break;case Et:if(be.scheme="file",Ye=="/"||Ye=="\\")at=wt;else{if(!Qe||Qe.scheme!="file"){at=xt;continue}if(Ye==y)be.host=Qe.host,be.path=Qe.path.slice(),be.query=Qe.query;else if(Ye=="?")be.host=Qe.host,be.path=Qe.path.slice(),be.query="",at=Mr;else{if(Ye!="#"){rt(It.slice(Lt).join(""))||(be.host=Qe.host,be.path=Qe.path.slice(),ut(be)),at=xt;continue}be.host=Qe.host,be.path=Qe.path.slice(),be.query=Qe.query,be.fragment="",at=hr}}break;case wt:if(Ye=="/"||Ye=="\\"){at=gt;break}Qe&&Qe.scheme=="file"&&!rt(It.slice(Lt).join(""))&&(ot(Qe.path[0],!0)?be.path.push(Qe.path[0]):be.host=Qe.host),at=xt;continue;case gt:if(Ye==y||Ye=="/"||Ye=="\\"||Ye=="?"||Ye=="#"){if(!dt&&ot(ct))at=xt;else{if(ct==""){if(be.host="",dt)return}else{if(Ft=te(be,ct))return Ft;if(be.host=="localhost"&&(be.host=""),dt)return;ct=""}at=jt}continue}ct+=Ye;break;case jt:if(Re(be)){if(at=xt,Ye!="/"&&Ye!="\\")continue}else if(dt||Ye!="?")if(dt||Ye!="#"){if(Ye!=y&&(at=xt,Ye!="/"))continue}else be.fragment="",at=hr;else be.query="",at=Mr;break;case xt:if(Ye==y||Ye=="/"||Ye=="\\"&&Re(be)||!dt&&(Ye=="?"||Ye=="#")){if(Oe(ct)?(ut(be),Ye=="/"||Ye=="\\"&&Re(be)||be.path.push("")):it(ct)?Ye=="/"||Ye=="\\"&&Re(be)||be.path.push(""):(be.scheme=="file"&&!be.path.length&&ot(ct)&&(be.host&&(be.host=""),ct=ct.charAt(0)+":"),be.path.push(ct)),ct="",be.scheme=="file"&&(Ye==y||Ye=="?"||Ye=="#"))for(;1<be.path.length&&be.path[0]==="";)be.path.shift();Ye=="?"?(be.query="",at=Mr):Ye=="#"&&(be.fragment="",at=hr)}else ct+=Pe(Ye,xe);break;case Jt:Ye=="?"?(be.query="",at=Mr):Ye=="#"?(be.fragment="",at=hr):Ye!=y&&(be.path[0]+=Pe(Ye,we));break;case Mr:dt||Ye!="#"?Ye!=y&&(Ye=="'"&&Re(be)?be.query+="%27":be.query+=Ye=="#"?"%23":Pe(Ye,we)):(be.fragment="",at=hr);break;case hr:Ye!=y&&(be.fragment+=Pe(Ye,Ee))}Lt++}}function h(Ye){var $e,dt,Qe=p(this,h,"URL"),It=1<arguments.length?arguments[1]:void 0,Ye=String(Ye),Ft=D(Qe,{type:"URL"});if(It!==void 0){if(It instanceof h)$e=B(It);else if(dt=c($e={},String(It)))throw TypeError(dt)}if(dt=c(Ft,Ye,null,$e))throw TypeError(dt);var at=Ft.searchParams=new O;(It=U(at)).updateSearchParams(Ft.query),It.updateURL=function(){Ft.query=String(at)||null},l||(Qe.href=$t.call(Qe),Qe.origin=Bt.call(Qe),Qe.protocol=mr.call(Qe),Qe.username=_r.call(Qe),Qe.password=Zt.call(Qe),Qe.host=jr.call(Qe),Qe.hostname=zn.call(Qe),Qe.port=Hn.call(Qe),Qe.pathname=Wn.call(Qe),Qe.search=ao.call(Qe),Qe.searchParams=qn.call(Qe),Qe.hash=Cn.call(Qe))}function b(be,$e){return{get:be,set:$e,configurable:!0,enumerable:!0}}var y,r,s,i=E("../internals/export"),l=E("../internals/descriptors"),u=E("../internals/native-url"),Ht=E("../internals/global"),o=E("../internals/object-define-properties"),n=E("../internals/redefine"),p=E("../internals/an-instance"),d=E("../internals/has"),_=E("../internals/object-assign"),S=E("../internals/array-from"),j=E("../internals/string-multibyte").codeAt,T=E("../internals/string-punycode-to-ascii"),C=E("../internals/set-to-string-tag"),L=E("../modules/web.url-search-params"),E=E("../internals/internal-state"),I=Ht.URL,O=L.URLSearchParams,U=L.getState,D=E.set,B=E.getterFor("URL"),X=Math.floor,H=Math.pow,G="Invalid authority",Z="Invalid scheme",Q="Invalid host",le="Invalid port",w=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,N=/\d/,W=/^(0x|0X)/,J=/^[0-7]+$/,re=/^\d+$/,ue=/^[\dA-Fa-f]+$/,ge=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,se=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,pe=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ye=/[\u0009\u000A\u000D]/g,te=function(be,$e){var dt,Qe,It;if($e.charAt(0)=="[")return $e.charAt($e.length-1)=="]"&&(dt=(function(Ye){var Ft=[0,0,0,0,0,0,0,0],at=0,Lt=null,ct=0,dr,yr,lr,gr,qr,Ir,$r,xr=function(){return Ye.charAt(ct)};if(xr()==":"){if(Ye.charAt(1)!=":")return;ct+=2,at++,Lt=at}for(;xr();){if(at==8)return;if(xr()==":"){if(Lt!==null)return;ct++,at++,Lt=at;continue}for(dr=yr=0;yr<4&&ue.test(xr());)dr=dr*16+parseInt(xr(),16),ct++,yr++;if(xr()=="."){if(yr==0||(ct-=yr,at>6))return;for(lr=0;xr();){if(gr=null,lr>0)if(xr()=="."&&lr<4)ct++;else return;if(!N.test(xr()))return;for(;N.test(xr());){if(qr=parseInt(xr(),10),gr===null)gr=qr;else{if(gr==0)return;gr=gr*10+qr}if(gr>255)return;ct++}Ft[at]=Ft[at]*256+gr,lr++,(lr==2||lr==4)&&at++}if(lr!=4)return;break}else if(xr()==":"){if(ct++,!xr())return}else if(xr())return;Ft[at++]=dr}if(Lt!==null)for(Ir=at-Lt,at=7;at!=0&&Ir>0;)$r=Ft[at],Ft[at--]=Ft[Lt+Ir-1],Ft[Lt+--Ir]=$r;else if(at!=8)return;return Ft})($e.slice(1,-1)))?void(be.host=dt):Q;if(Re(be))return $e=T($e),ge.test($e)||(dt=(function(Ye){var Ft=Ye.split("."),at,Lt,ct,dr,yr,lr,gr;if(Ft.length&&Ft[Ft.length-1]==""&&Ft.pop(),(at=Ft.length)>4)return Ye;for(Lt=[],ct=0;ct<at;ct++){if(dr=Ft[ct],dr=="")return Ye;if(yr=10,dr.length>1&&dr.charAt(0)=="0"&&(yr=W.test(dr)?16:8,dr=dr.slice(yr==8?1:2)),dr==="")lr=0;else{if(!(yr==10?re:yr==8?J:ue).test(dr))return Ye;lr=parseInt(dr,yr)}Lt.push(lr)}for(ct=0;ct<at;ct++)if(lr=Lt[ct],ct==at-1){if(lr>=H(256,5-at))return null}else if(lr>255)return null;for(gr=Lt.pop(),ct=0;ct<Lt.length;ct++)gr+=Lt[ct]*H(256,3-ct);return gr})($e))===null?Q:void(be.host=dt);if(se.test($e))return Q;for(dt="",Qe=S($e),It=0;It<Qe.length;It++)dt+=Pe(Qe[It],we);be.host=dt},me=function(be){for(var $e=null,dt=1,Qe=null,It=0,Ye=0;Ye<8;Ye++)be[Ye]!==0?(dt<It&&($e=Qe,dt=It),Qe=null,It=0):(Qe===null&&(Qe=Ye),++It);return dt<It&&($e=Qe,dt=It),$e},we={},Ee=_({},we,{" ":1,'"':1,"<":1,">":1,"`":1}),xe=_({},Ee,{"#":1,"?":1,"{":1,"}":1}),Te=_({},xe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pe=function(be,$e){var dt=j(be,0);return 32<dt&&dt<127&&!d($e,be)?be:encodeURIComponent(be)},We={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Re=function(be){return d(We,be.scheme)},ft=function(be){return be.username!=""||be.password!=""},ot=function(be,$e){return be.length==2&&w.test(be.charAt(0))&&((be=be.charAt(1))==":"||!$e&&be=="|")},rt=function(be){return 1<be.length&&ot(be.slice(0,2))&&(be.length==2||(be=be.charAt(2))==="/"||be==="\\"||be==="?"||be==="#")},ut=function(be){var $e=be.path,dt=$e.length;!dt||be.scheme=="file"&&dt==1&&ot($e[0],!0)||$e.pop()},it=function(be){return be==="."||be.toLowerCase()==="%2e"},Oe=function(be){return(be=be.toLowerCase())===".."||be==="%2e."||be===".%2e"||be==="%2e%2e"},qe={},Le={},ee={},oe={},K={},ie={},je={},Ae={},Ve={},Je={},tt={},nt={},lt={},Et={},wt={},gt={},jt={},xt={},Jt={},Mr={},hr={},Ht=h.prototype,$t=function(){var be=B(this),$e=be.scheme,dt=be.username,Qe=be.password,It=be.host,Ye=be.port,Ft=be.path,at=be.query,Lt=be.fragment,ct=$e+":";return It!==null?(ct+="//",ft(be)&&(ct+=dt+(Qe?":"+Qe:"")+"@"),ct+=m(It),Ye!==null&&(ct+=":"+Ye)):$e=="file"&&(ct+="//"),ct+=be.cannotBeABaseURL?Ft[0]:Ft.length?"/"+Ft.join("/"):"",at!==null&&(ct+="?"+at),Lt!==null&&(ct+="#"+Lt),ct},Bt=function(){var be=B(this),$e=be.scheme,dt=be.port;if($e=="blob")try{return new URL($e.path[0]).origin}catch{return"null"}return $e!="file"&&Re(be)?$e+"://"+m(be.host)+(dt!==null?":"+dt:""):"null"},mr=function(){return B(this).scheme+":"},_r=function(){return B(this).username},Zt=function(){return B(this).password},jr=function(){var $e=B(this),be=$e.host,$e=$e.port;return be===null?"":$e===null?m(be):m(be)+":"+$e},zn=function(){var be=B(this).host;return be===null?"":m(be)},Hn=function(){var be=B(this).port;return be===null?"":String(be)},Wn=function(){var be=B(this),$e=be.path;return be.cannotBeABaseURL?$e[0]:$e.length?"/"+$e.join("/"):""},ao=function(){var be=B(this).query;return be?"?"+be:""},qn=function(){return B(this).searchParams},Cn=function(){var be=B(this).fragment;return be?"#"+be:""};l&&o(Ht,{href:b($t,function(dt){var $e=B(this),dt=String(dt),dt=c($e,dt);if(dt)throw TypeError(dt);U($e.searchParams).updateSearchParams($e.query)}),origin:b(Bt),protocol:b(mr,function(be){var $e=B(this);c($e,String(be)+":",qe)}),username:b(_r,function(be){var $e=B(this),dt=S(String(be));if(!g($e)){$e.username="";for(var Qe=0;Qe<dt.length;Qe++)$e.username+=Pe(dt[Qe],Te)}}),password:b(Zt,function(be){var $e=B(this),dt=S(String(be));if(!g($e)){$e.password="";for(var Qe=0;Qe<dt.length;Qe++)$e.password+=Pe(dt[Qe],Te)}}),host:b(jr,function(be){var $e=B(this);$e.cannotBeABaseURL||c($e,String(be),tt)}),hostname:b(zn,function(be){var $e=B(this);$e.cannotBeABaseURL||c($e,String(be),nt)}),port:b(Hn,function(be){var $e=B(this);g($e)||((be=String(be))==""?$e.port=null:c($e,be,lt))}),pathname:b(Wn,function(be){var $e=B(this);$e.cannotBeABaseURL||($e.path=[],c($e,be+"",jt))}),search:b(ao,function(be){var $e=B(this);(be=String(be))==""?$e.query=null:(be.charAt(0)=="?"&&(be=be.slice(1)),$e.query="",c($e,be,Mr)),U($e.searchParams).updateSearchParams($e.query)}),searchParams:b(qn),hash:b(Cn,function(be){var $e=B(this);(be=String(be))==""?$e.fragment=null:(be.charAt(0)=="#"&&(be=be.slice(1)),$e.fragment="",c($e,be,hr))})}),n(Ht,"toJSON",function(){return $t.call(this)},{enumerable:!0}),n(Ht,"toString",function(){return $t.call(this)},{enumerable:!0}),I&&(r=I.createObjectURL,s=I.revokeObjectURL,r&&n(h,"createObjectURL",function(be){return r.apply(I,arguments)}),s&&n(h,"revokeObjectURL",function(be){return s.apply(I,arguments)})),C(h,"URL"),i({global:!0,forced:!u,sham:!l},{URL:h})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,q,A){q.exports=t("./").polyfill()},{"./":250}],250:[function(t,q,A){(function(m,g){var c,h;c=this,h=function(){function b(te){return typeof te=="function"}var y=Array.isArray||function(te){return Object.prototype.toString.call(te)==="[object Array]"},r=0,s=void 0,i=void 0,l=function(te,me){_[r]=te,_[r+1]=me,(r+=2)===2&&(i?i(S):O())},u=typeof window<"u"?window:void 0,o=u||{},o=o.MutationObserver||o.WebKitMutationObserver,n=typeof self>"u"&&m!==void 0&&{}.toString.call(m)==="[object process]",p=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function d(){var te=setTimeout;return function(){return te(S,1)}}var _=new Array(1e3);function S(){for(var te=0;te<r;te+=2)(0,_[te])(_[te+1]),_[te]=void 0,_[te+1]=void 0;r=0}function j(){try{var te=Function("return this")().require("vertx");return(s=te.runOnLoop||te.runOnContext)!==void 0?function(){s(S)}:d()}catch{return d()}}var T,C,L,O=void 0;function E(te,me){var we,Ee=this,xe=new this.constructor(D),Te=(xe[U]===void 0&&ue(xe),Ee._state);return Te?(we=arguments[Te-1],l(function(){return J(Te,xe,we,Ee._result)})):N(Ee,xe,te,me),xe}function I(te){var me;return te&&typeof te=="object"&&te.constructor===this?te:(Q(me=new this(D),te),me)}var O=n?function(){return m.nextTick(S)}:o?(C=0,n=new o(S),L=document.createTextNode(""),n.observe(L,{characterData:!0}),function(){L.data=C=++C%2}):p?((T=new MessageChannel).port1.onmessage=S,function(){return T.port2.postMessage(0)}):(u===void 0&&typeof t=="function"?j:d)(),U=Math.random().toString(36).substring(2);function D(){}var B=void 0,X=1,H=2;function G(te,me,we){l(function(Ee){var xe=!1,Te=(function(Pe,We,Re,ft){try{Pe.call(We,Re,ft)}catch(ot){return ot}})(we,me,function(Pe){xe||(xe=!0,(me!==Pe?Q:w)(Ee,Pe))},function(Pe){xe||(xe=!0,R(Ee,Pe))},Ee._label);!xe&&Te&&(xe=!0,R(Ee,Te))},te)}function Z(te,me,we){var Ee,xe;me.constructor===te.constructor&&we===E&&me.constructor.resolve===I?(Ee=te,(xe=me)._state===X?w(Ee,xe._result):xe._state===H?R(Ee,xe._result):N(xe,void 0,function(Te){return Q(Ee,Te)},function(Te){return R(Ee,Te)})):we!==void 0&&b(we)?G(te,me,we):w(te,me)}function Q(te,me){if(te===me)R(te,new TypeError("You cannot resolve a promise with itself"));else if(we=typeof me,me===null||we!="object"&&we!="function")w(te,me);else{we=void 0;try{we=me.then}catch(Ee){return void R(te,Ee)}Z(te,me,we)}var we}function le(te){te._onerror&&te._onerror(te._result),W(te)}function w(te,me){te._state===B&&(te._result=me,te._state=X,te._subscribers.length!==0&&l(W,te))}function R(te,me){te._state===B&&(te._state=H,te._result=me,l(le,te))}function N(te,me,we,Ee){var xe=te._subscribers,Te=xe.length;te._onerror=null,xe[Te]=me,xe[Te+X]=we,xe[Te+H]=Ee,Te===0&&te._state&&l(W,te)}function W(te){var me=te._subscribers,we=te._state;if(me.length!==0){for(var Ee,xe=void 0,Te=te._result,Pe=0;Pe<me.length;Pe+=3)Ee=me[Pe],xe=me[Pe+we],Ee?J(we,Ee,xe,Te):xe(Te);te._subscribers.length=0}}function J(te,me,we,Ee){var xe=b(we),Te=void 0,Pe=void 0,We=!0;if(xe){try{Te=we(Ee)}catch(Re){We=!1,Pe=Re}if(me===Te)return void R(me,new TypeError("A promises callback cannot return that same promise."))}else Te=Ee;me._state===B&&(xe&&We?Q(me,Te):We===!1?R(me,Pe):te===X?w(me,Te):te===H&&R(me,Te))}var re=0;function ue(te){te[U]=re++,te._state=void 0,te._result=void 0,te._subscribers=[]}se.prototype._enumerate=function(te){for(var me=0;this._state===B&&me<te.length;me++)this._eachEntry(te[me],me)},se.prototype._eachEntry=function(te,me){var we=this._instanceConstructor,Ee=we.resolve;if(Ee===I){var xe,Te=void 0,Pe=void 0,We=!1;try{Te=te.then}catch(Re){We=!0,Pe=Re}Te===E&&te._state!==B?this._settledAt(te._state,me,te._result):typeof Te!="function"?(this._remaining--,this._result[me]=te):we===pe?(xe=new we(D),We?R(xe,Pe):Z(xe,te,Te),this._willSettleAt(xe,me)):this._willSettleAt(new we(function(Re){return Re(te)}),me)}else this._willSettleAt(Ee(te),me)},se.prototype._settledAt=function(te,me,we){var Ee=this.promise;Ee._state===B&&(this._remaining--,te===H?R(Ee,we):this._result[me]=we),this._remaining===0&&w(Ee,this._result)},se.prototype._willSettleAt=function(te,me){var we=this;N(te,void 0,function(Ee){return we._settledAt(X,me,Ee)},function(Ee){return we._settledAt(H,me,Ee)})};var ge=se;function se(te,me){this._instanceConstructor=te,this.promise=new te(D),this.promise[U]||ue(this.promise),y(me)?(this.length=me.length,this._remaining=me.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(me),this._remaining!==0)||w(this.promise,this._result)):R(this.promise,new Error("Array Methods must be provided an Array"))}ye.prototype.catch=function(te){return this.then(null,te)},ye.prototype.finally=function(te){var me=this.constructor;return b(te)?this.then(function(we){return me.resolve(te()).then(function(){return we})},function(we){return me.resolve(te()).then(function(){throw we})}):this.then(te,te)};var pe=ye;function ye(te){if(this[U]=re++,this._result=this._state=void 0,this._subscribers=[],D!==te){if(typeof te!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ye))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var me=this;try{te(function(we){Q(me,we)},function(we){R(me,we)})}catch(we){R(me,we)}}}return pe.prototype.then=E,pe.all=function(te){return new ge(this,te).promise},pe.race=function(te){var me=this;return y(te)?new me(function(we,Ee){for(var xe=te.length,Te=0;Te<xe;Te++)me.resolve(te[Te]).then(we,Ee)}):new me(function(we,Ee){return Ee(new TypeError("You must pass an array to race."))})},pe.resolve=I,pe.reject=function(te){var me=new this(D);return R(me,te),me},pe._setScheduler=function(te){i=te},pe._setAsap=function(te){l=te},pe._asap=l,pe.polyfill=function(){var te=void 0;if(g!==void 0)te=g;else if(typeof self<"u")te=self;else try{te=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var me=te.Promise;if(me){var we=null;try{we=Object.prototype.toString.call(me.resolve())}catch{}if(we==="[object Promise]"&&!me.cast)return}te.Promise=pe},pe.Promise=pe},typeof A=="object"&&q!==void 0?q.exports=h():c.ES6Promise=h()}).call(this,t("_process"),typeof Vn<"u"?Vn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,q,A){var m,g;m=this,g=function(c,h){var b=5e3,y="callback";function r(i){try{delete window[i]}catch{window[i]=void 0}}function s(i){i=document.getElementById(i),i&&document.getElementsByTagName("head")[0].removeChild(i)}h.exports=function(i){var l=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],u=i,o=l.timeout||b,n=l.jsonpCallback||y,p=void 0;return new Promise(function(d,_){var S=l.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),j=n+"_"+S,T=(window[S]=function(C){d({ok:!0,json:function(){return Promise.resolve(C)}}),p&&clearTimeout(p),s(j),r(S)},u+=u.indexOf("?")===-1?"?":"&",document.createElement("script"));T.setAttribute("src",""+u+n+"="+S),l.charset&&T.setAttribute("charset",l.charset),T.id=j,document.getElementsByTagName("head")[0].appendChild(T),p=setTimeout(function(){_(new Error("JSONP request to "+i+" timed out")),r(S),s(j),window[S]=function(){r(S)}},o),T.onerror=function(){_(new Error("JSONP request to "+i+" failed")),r(S),s(j),p&&clearTimeout(p)}})}},A!==void 0&&q!==void 0?g(0,q):(g(g={exports:{}},g),m.fetchJsonp=g.exports)},{}],252:[function(t,q,A){var m=(function(g){var c,h,b,y,r,s,i,l,u,o,n;if(!(g===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return n=g.document,c=function(){return g.URL||g.webkitURL||g},h=n.createElementNS("http://www.w3.org/1999/xhtml","a"),b="download"in h,y=/constructor/i.test(g.HTMLElement)||g.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(p){(g.setImmediate||g.setTimeout)(function(){throw p},0)},i=4e4,l=function(p){setTimeout(function(){typeof p=="string"?c().revokeObjectURL(p):p.remove()},i)},u=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p},n=(o=function(p,d,C){C||(p=u(p));var S,j,T=this,C=p.type==="application/octet-stream",L=function(){for(var E=T,I="writestart progress write writeend".split(" "),O=void 0,U=(I=[].concat(I)).length;U--;){var D=E["on"+I[U]];if(typeof D=="function")try{D.call(E,O||E)}catch(B){s(B)}}};T.readyState=T.INIT,b?(S=c().createObjectURL(p),setTimeout(function(){var E,I;h.href=S,h.download=d,E=h,I=new MouseEvent("click"),E.dispatchEvent(I),L(),l(S),T.readyState=T.DONE})):(r||C&&y)&&g.FileReader?((j=new FileReader).onloadend=function(){var E=r?j.result:j.result.replace(/^data:[^;]*;/,"data:attachment/file;");g.open(E,"_blank")||(g.location.href=E),E=void 0,T.readyState=T.DONE,L()},j.readAsDataURL(p),T.readyState=T.INIT):(S=S||c().createObjectURL(p),!C&&g.open(S,"_blank")||(g.location.href=S),T.readyState=T.DONE,L(),l(S))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(p,d,_){return d=d||p.name||"download",_||(p=u(p)),navigator.msSaveOrOpenBlob(p,d)}:(n.abort=function(){},n.readyState=n.INIT=0,n.WRITING=1,n.DONE=2,n.error=n.onwritestart=n.onprogress=n.onwrite=n.onabort=n.onerror=n.onwriteend=null,function(p,d,_){return new o(p,d||p.name||"download",_)})})(typeof self<"u"&&self||typeof window<"u"&&window||this.content);q!==void 0&&q.exports?q.exports.saveAs=m:he!=null},{}],253:[function(t,q,A){var m,g=Object.defineProperty,c=(g(A,"__esModule",{value:!0}),A),h={GIFEncoder:()=>L,applyPalette:()=>function(B,X,H="rgb565"){if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<X.length)throw new Error("applyPalette() only works with 256 colors or less");const G=new Uint32Array(B.buffer),Z=G.length,Q=H==="rgb444"?4096:65536,le=new Uint8Array(Z),w=new Array(Q);if(H==="rgba4444")for(let ye=0;ye<Z;ye++){var J=G[ye],R=J>>24&255,N=J>>16&255,W=J>>8&255,J=255&J,re=l(J,W,N,R),re=re in w?w[re]:w[re]=(function(te,me,we,Ee,xe){let Te=0,Pe=1e100;for(let ot=0;ot<xe.length;ot++){var We,Re=xe[ot],ft=j(Re[3]-Ee);ft>Pe||(We=Re[0],(ft+=j(We-te))>Pe||(We=Re[1],(ft+=j(We-me))>Pe||(We=Re[2],(ft+=j(We-we))>Pe||(Pe=ft,Te=ot))))}return Te})(J,W,N,R,X);le[ye]=re}else{const ye=H==="rgb444"?u:i;for(let te=0;te<Z;te++){var se=G[te],ue=se>>16&255,ge=se>>8&255,se=255&se,pe=ye(se,ge,ue),pe=pe in w?w[pe]:w[pe]=(function(me,we,Ee,xe){let Te=0,Pe=1e100;for(let ot=0;ot<xe.length;ot++){var We,Re=xe[ot],ft=j(Re[0]-me);ft>Pe||(We=Re[1],(ft+=j(We-we))>Pe||(We=Re[2],(ft+=j(We-Ee))>Pe||(Pe=ft,Te=ot)))}return Te})(se,ge,ue,X);le[te]=pe}}return le},default:()=>D,nearestColor:()=>function(B,X,H=_){return B[T(B,X,H)]},nearestColorIndex:()=>T,nearestColorIndexWithDistance:()=>C,prequantize:()=>function(B,{roundRGB:X=5,roundAlpha:H=10,oneBitAlpha:G=null}={}){const Z=new Uint32Array(B.buffer);for(let N=0;N<Z.length;N++){var R=Z[N];let W=R>>24&255;var Q,le=R>>16&255,w=R>>8&255,R=255&R;W=S(W,H),G&&(Q=typeof G=="number"?G:127,W=W<=Q?0:255),R=S(R,X),w=S(w,X),le=S(le,X),Z[N]=W<<24|le<<16|w<<8|R<<0}},quantize:()=>function(B,X,H={}){var{format:G="rgb565",clearAlpha:Z=!0,clearAlphaColor:Q=0,clearAlphaThreshold:le=0,oneBitAlpha:w=!1}=H;if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");B=new Uint32Array(B.buffer);let R=H.useSqrt!==!1;const N=G==="rgba4444",W=(function(rt,ut){const it=ut==="rgb444"?4096:65536,Oe=new Array(it),qe=rt.length;if(ut==="rgba4444")for(let wt=0;wt<qe;++wt){var K=rt[wt],Le=K>>24&255,ee=K>>16&255,oe=K>>8&255,K=255&K,ie=l(K,oe,ee,Le);let gt=ie in Oe?Oe[ie]:Oe[ie]=d();gt.rc+=K,gt.gc+=oe,gt.bc+=ee,gt.ac+=Le,gt.cnt++}else if(ut==="rgb444")for(let wt=0;wt<qe;++wt){var Ve=rt[wt],je=Ve>>16&255,Ae=Ve>>8&255,Ve=255&Ve,Je=u(Ve,Ae,je);let gt=Je in Oe?Oe[Je]:Oe[Je]=d();gt.rc+=Ve,gt.gc+=Ae,gt.bc+=je,gt.cnt++}else for(let wt=0;wt<qe;++wt){var lt=rt[wt],tt=lt>>16&255,nt=lt>>8&255,lt=255&lt,Et=i(lt,nt,tt);let gt=Et in Oe?Oe[Et]:Oe[Et]=d();gt.rc+=lt,gt.gc+=nt,gt.bc+=tt,gt.cnt++}return Oe})(B,G),J=W.length,re=J-1,ue=new Uint32Array(J+1);for(var ge=0,se=0;se<J;++se){const rt=W[se];rt!=null&&(Re=1/rt.cnt,N&&(rt.ac*=Re),rt.rc*=Re,rt.gc*=Re,rt.bc*=Re,W[ge++]=rt)}n(X)/ge<.022&&(R=!1);for(var pe,ye,te,se=0;se<ge-1;++se)W[se].fw=se+1,W[se+1].bk=se,R&&(W[se].cnt=Math.sqrt(W[se].cnt));for(R&&(W[se].cnt=Math.sqrt(W[se].cnt)),se=0;se<ge;++se){p(W,se);var me=W[se].err;for(ye=++ue[0];1<ye&&(te=ye>>1,!(W[pe=ue[te]].err<=me));ye=te)ue[ye]=pe;ue[ye]=se}var we,Ee=ge-X;for(se=0;se<Ee;){for(;;){var xe=ue[1];if((we=W[xe]).tm>=we.mtm&&W[we.nn].mtm<=we.tm)break;for(we.mtm==re?xe=ue[1]=ue[ue[0]--]:(p(W,xe),we.tm=se),me=W[xe].err,ye=1;(te=ye+ye)<=ue[0]&&(te<ue[0]&&W[ue[te]].err>W[ue[te+1]].err&&te++,!(me<=W[pe=ue[te]].err));ye=te)ue[ye]=pe;ue[ye]=xe}var Te=W[we.nn],Pe=we.cnt,We=Te.cnt,Re=1/(Pe+We);N&&(we.ac=Re*(Pe*we.ac+We*Te.ac)),we.rc=Re*(Pe*we.rc+We*Te.rc),we.gc=Re*(Pe*we.gc+We*Te.gc),we.bc=Re*(Pe*we.bc+We*Te.bc),we.cnt+=Te.cnt,we.mtm=++se,W[Te.bk].fw=Te.fw,W[Te.fw].bk=Te.bk,Te.mtm=re}let ft=[];for(se=0;;0){let rt=o(Math.round(W[se].rc),0,255),ut=o(Math.round(W[se].gc),0,255),it=o(Math.round(W[se].bc),0,255),Oe=255;N&&(Oe=o(Math.round(W[se].ac),0,255),w&&(ot=typeof w=="number"?w:127,Oe=Oe<=ot?0:255),Z&&Oe<=le&&(rt=ut=it=Q,Oe=0));var ot=N?[rt,ut,it,Oe]:[rt,ut,it];if((function(qe,Le){for(let K=0;K<qe.length;K++){var oe=qe[K],ee=oe[0]===Le[0]&&oe[1]===Le[1]&&oe[2]===Le[2],oe=!(4<=oe.length&&4<=Le.length)||oe[3]===Le[3];if(ee&&oe)return!0}return!1})(ft,ot)||ft.push(ot),(se=W[se].fw)==0)break}return ft},snapColorsToPalette:()=>function(B,X,H=5){if(B.length&&X.length){var G=B.map(R=>R.slice(0,3)),Z=H*H,Q=B[0].length;for(let R=0;R<X.length;R++){let N=X[R];N=N.length<Q?[N[0],N[1],N[2],255]:N.length>Q?N.slice(0,3):N.slice();var w=C(G,N.slice(0,3),_),le=w[0],w=w[1];0<w&&w<=Z&&(B[le]=N)}}}};for(m in h)g(c,m,{get:h[m],enumerable:!0});var b={trailer:59};function y(B=256){let X=0,H=new Uint8Array(B);return{get buffer(){return H.buffer},reset(){X=0},bytesView(){return H.subarray(0,X)},bytes(){return H.slice(0,X)},writeByte(Z){G(X+1),H[X]=Z,X++},writeBytes(Z,Q=0,le=Z.length){G(X+le);for(let w=0;w<le;w++)H[X++]=Z[w+Q]},writeBytesView(Z,Q=0,le=Z.byteLength){G(X+le),H.set(Z.subarray(Q,Q+le),X),X+=le}};function G(Z){var Q=H.length;if(!(Z<=Q)){Z=Math.max(Z,Q*(Q<1048576?2:1.125)>>>0),Q!=0&&(Z=Math.max(Z,256));const le=H;H=new Uint8Array(Z),0<X&&H.set(le.subarray(0,X),0)}}}var r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],s=function(B,X,H,N,Z=y(512),Q=new Uint8Array(256),le=new Int32Array(5003),w=new Int32Array(5003)){var R=le.length,N=Math.max(2,N);Q.fill(0),w.fill(0),le.fill(-1);let W=0,J=0;var re=N+1;const ue=re;let ge=!1,se=ue,pe=(1<<se)-1;var ye=1<<re-1;const te=1+ye;let me=2+ye,we=0,Ee=H[0],xe=0;for(let ot=R;ot<65536;ot*=2)++xe;xe=8-xe,Z.writeByte(N),ft(ye);var Te=H.length;for(let ot=1;ot<Te;ot++)e:{var Pe=H[ot],We=(Pe<<12)+Ee;let rt=Pe<<xe^Ee;if(le[rt]===We)Ee=w[rt];else{for(var Re=rt===0?1:R-rt;0<=le[rt];)if((rt-=Re)<0&&(rt+=R),le[rt]===We){Ee=w[rt];break e}ft(Ee),Ee=Pe,me<4096?(w[rt]=me++,le[rt]=We):(le.fill(-1),me=2+ye,ge=!0,ft(ye))}}return ft(Ee),ft(te),Z.writeByte(0),Z.bytesView();function ft(ot){for(W&=r[J],0<J?W|=ot<<J:W=ot,J+=se;8<=J;)Q[we++]=255&W,254<=we&&(Z.writeByte(we),Z.writeBytesView(Q,0,we),we=0),W>>=8,J-=8;if((me>pe||ge)&&(ge?(se=ue,pe=(1<<se)-1,ge=!1):(++se,pe=se===12?1<<se:(1<<se)-1)),ot==te){for(;0<J;)Q[we++]=255&W,254<=we&&(Z.writeByte(we),Z.writeBytesView(Q,0,we),we=0),W>>=8,J-=8;0<we&&(Z.writeByte(we),Z.writeBytesView(Q,0,we),we=0)}}};function i(B,X,H){return B<<8&63488|X<<2&992|H>>3}function l(B,X,H,G){return B>>4|240&X|(240&H)<<4|(240&G)<<8}function u(B,X,H){return B>>4<<8|240&X|H>>4}function o(B,X,H){return B<X?X:H<B?H:B}function n(B){return B*B}function p(B,X,H){var G=0,Z=1e100;const Q=B[X];for(var le=Q.cnt,w=Q.ac,R=Q.rc,N=Q.gc,W=Q.bc,J=Q.fw;J!=0;J=B[J].fw){var re,ue=B[J],ge=ue.cnt,ge=le*ge/(le+ge);Z<=ge||(re=0,Z<=(re+=ge*n(ue.rc-R))||Z<=(re+=ge*n(ue.gc-N))||Z<=(re+=ge*n(ue.bc-W))||(Z=re,G=J))}Q.err=Z,Q.nn=G}function d(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function _(B,X){for(var H=0,G=0;G<B.length;G++){var Z=B[G]-X[G];H+=Z*Z}return H}function S(B,X){return 1<X?Math.round(B/X)*X:B}function j(B){return B*B}function T(B,X,H=_){let G=1/0,Z=-1;for(let le=0;le<B.length;le++){var Q=H(X,B[le]);Q<G&&(G=Q,Z=le)}return Z}function C(B,X,H=_){let G=1/0,Z=-1;for(let le=0;le<B.length;le++){var Q=H(X,B[le]);Q<G&&(G=Q,Z=le)}return[Z,G]}function L(B={}){const{initialCapacity:X=4096,auto:H=!0}=B,G=y(X),Z=new Uint8Array(256),Q=new Int32Array(5003),le=new Int32Array(5003);let w=!1;return{reset(){G.reset(),w=!1},finish(){G.writeByte(b.trailer)},bytes(){return G.bytes()},bytesView(){return G.bytesView()},get buffer(){return G.buffer},get stream(){return G},writeHeader:R,writeFrame(N,W,J,Ee={}){var{transparent:ue=!1,transparentIndex:ge=0,delay:Re=0,palette:se=null,repeat:Te=0,colorDepth:pe=8,dispose:ye=-1}=Ee;let te=!1;if(H?w||(te=!0,R(),w=!0):te=!!Ee.first,W=Math.max(0,Math.floor(W)),J=Math.max(0,Math.floor(J)),te){if(!se)throw new Error("First frame must include a { palette } option");var[Ee,Pe,we,We,xe=8]=[G,W,J,se,pe];We=U(We.length)-1,xe=128|xe-1<<4|We,I(Ee,Pe),I(Ee,we),Ee.writeBytes([xe,0,0]),E(G,se),0<=Te&&(We=G,Pe=Te,We.writeByte(33),We.writeByte(255),We.writeByte(11),O(We,"NETSCAPE2.0"),We.writeByte(3),We.writeByte(1),I(We,Pe),We.writeByte(0))}var me,we=Math.round(Re/10),Ee=G,xe=ye,Te=we,Pe=ue,We=ge,Re=(Ee.writeByte(33),Ee.writeByte(249),Ee.writeByte(4),We<0&&(We=0,Pe=!1),Pe=Pe?(me=1,2):me=0,0<=xe&&(Pe=7&xe),Pe<<=2,Ee.writeByte(0|Pe|me),I(Ee,Te),Ee.writeByte(We||0),Ee.writeByte(0),!!se&&!te);ye=G,ue=W,ge=J,me=Re?se:null,ye.writeByte(44),I(ye,0),I(ye,0),I(ye,ue),I(ye,ge),me?(ue=U(me.length)-1,ye.writeByte(128|ue)):ye.writeByte(0),Re&&E(G,se),[Te,Ee,ge,ue,ye=8,Re,se,N]=[G,N,W,J,pe,Z,Q,le],s(ge,ue,Ee,ye,Te,Re,se,N)}};function R(){O(G,"GIF89a")}}function E(B,X){var H=1<<U(X.length);for(let G=0;G<H;G++){let Z=[0,0,0];G<X.length&&(Z=X[G]),B.writeByte(Z[0]),B.writeByte(Z[1]),B.writeByte(Z[2])}}function I(B,X){B.writeByte(255&X),B.writeByte(X>>8&255)}function O(B,X){for(var H=0;H<X.length;H++)B.writeByte(X.charCodeAt(H))}function U(B){return Math.max(Math.ceil(Math.log2(B)),1)}var D=L},{}],254:[function(t,q,A){A.read=function(m,g,c,h,p){var y,r,s=8*p-h-1,i=(1<<s)-1,l=i>>1,u=-7,o=c?p-1:0,n=c?-1:1,p=m[g+o];for(o+=n,y=p&(1<<-u)-1,p>>=-u,u+=s;0<u;y=256*y+m[g+o],o+=n,u-=8);for(r=y&(1<<-u)-1,y>>=-u,u+=h;0<u;r=256*r+m[g+o],o+=n,u-=8);if(y===0)y=1-l;else{if(y===i)return r?NaN:1/0*(p?-1:1);r+=Math.pow(2,h),y-=l}return(p?-1:1)*r*Math.pow(2,y-h)},A.write=function(m,g,c,h,b,d){var r,s,i=8*d-b-1,l=(1<<i)-1,u=l>>1,o=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,n=h?0:d-1,p=h?1:-1,d=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(s=isNaN(g)?1:0,r=l):(r=Math.floor(Math.log(g)/Math.LN2),g*(h=Math.pow(2,-r))<1&&(r--,h*=2),2<=(g+=1<=r+u?o/h:o*Math.pow(2,1-u))*h&&(r++,h/=2),l<=r+u?(s=0,r=l):1<=r+u?(s=(g*h-1)*Math.pow(2,b),r+=u):(s=g*Math.pow(2,u-1)*Math.pow(2,b),r=0));8<=b;m[c+n]=255&s,n+=p,s/=256,b-=8);for(r=r<<b|s,i+=b;0<i;m[c+n]=255&r,n+=p,r/=256,i-=8);m[c+n-p]|=128*d}},{}],255:[function(t,q,A){var m;function g(ee,oe){return ee.b===oe.b&&ee.a===oe.a}function c(ee,oe){return ee.b<oe.b||ee.b===oe.b&&ee.a<=oe.a}function h(ee,oe,K){var ie=oe.b-ee.b,je=K.b-oe.b;return 0<ie+je?ie<je?oe.a-ee.a+ie/(ie+je)*(ee.a-K.a):oe.a-K.a+je/(ie+je)*(K.a-ee.a):0}function b(ee,oe,K){var ie=oe.b-ee.b,je=K.b-oe.b;return 0<ie+je?(oe.a-K.a)*ie+(oe.a-ee.a)*je:0}function y(ee,oe){return ee.a<oe.a||ee.a===oe.a&&ee.b<=oe.b}function r(ee,oe,K){var ie=oe.a-ee.a,je=K.a-oe.a;return 0<ie+je?ie<je?oe.b-ee.b+ie/(ie+je)*(ee.b-K.b):oe.b-K.b+je/(ie+je)*(K.b-ee.b):0}function s(ee,oe,K){var ie=oe.a-ee.a,je=K.a-oe.a;return 0<ie+je?(oe.b-K.b)*ie+(oe.b-ee.b)*je:0}function i(ee,oe,K,ie){return(ee=ee<0?0:ee)<=(K=K<0?0:K)?K===0?(oe+ie)/2:oe+ee/(ee+K)*(ie-oe):ie+K/(ee+K)*(oe-ie)}function l(ee){var oe=d(ee.b);return S(oe,ee.c),S(oe.b,ee.c),j(oe,ee.a),oe}function u(ee,oe){var K=!1,ie=!1;ee!==oe&&(oe.a!==ee.a&&(ie=!0,C(oe.a,ee.a)),oe.d!==ee.d&&(K=!0,L(oe.d,ee.d)),_(oe,ee),ie||(S(oe,ee.a),ee.a.c=ee),K||(j(oe,ee.d),ee.d.a=ee))}function o(ee){var oe=ee.b,K=!1;ee.d!==ee.b.d&&(K=!0,L(ee.d,ee.b.d)),ee.c===ee?C(ee.a,null):(ee.b.d.a=ee.b.e,ee.a.c=ee.c,_(ee,ee.b.e),K||j(ee,ee.d)),oe.c===oe?(C(oe.a,null),L(oe.d,null)):(ee.d.a=oe.b.e,oe.a.c=oe.c,_(oe,oe.b.e)),T(ee)}function n(ee){var oe=d(ee),K=oe.b;return _(oe,ee.e),oe.a=ee.b.a,S(K,oe.a),oe.d=K.d=ee.d,oe=oe.b,_(ee.b,ee.b.b.e),_(ee.b,oe),ee.b.a=oe.a,oe.b.a.c=oe.b,oe.b.d=ee.b.d,oe.f=ee.f,oe.b.f=ee.b.f,oe}function p(ee,oe){var K=!1,ie=d(ee),je=ie.b;return oe.d!==ee.d&&(K=!0,L(oe.d,ee.d)),_(ie,ee.e),_(je,oe),ie.a=ee.b.a,je.a=oe.a,ie.d=je.d=ee.d,ee.d.a=je,K||j(ie,ee.d),ie}function d(ee){var oe=new we,K=new we,ie=ee.b.h;return(((K.h=ie).b.h=oe).h=ee).b.h=K,oe.b=K,((oe.c=oe).e=K).b=oe,(K.c=K).e=oe}function _(ee,oe){var K=ee.c,ie=oe.c;K.b.e=oe,(ie.b.e=ee).c=ie,oe.c=K}function S(ee,oe){var K=oe.f,ie=new xe(oe,K);for(K.e=ie,K=(oe.f=ie).c=ee;K.a=ie,(K=K.c)!==ee;);}function j(ee,oe){var K=oe.d,ie=new me(oe,K);for(K.b=ie,(oe.d=ie).a=ee,ie.c=oe.c,K=ee;K.d=ie,(K=K.e)!==ee;);}function T(ee){var oe=ee.h;ee=ee.b.h,(oe.b.h=ee).b.h=oe}function C(ee,oe){for(var K=ee.c,ie=K;ie.a=oe,(ie=ie.c)!==K;);K=ee.f,((ie=ee.e).f=K).e=ie}function L(ee,oe){for(var K=ee.a,ie=K;ie.d=oe,(ie=ie.e)!==K;);K=ee.d,((ie=ee.b).d=K).b=ie}function E(ee){var oe=0;return Math.abs(ee[1])>Math.abs(ee[0])&&(oe=1),oe=Math.abs(ee[2])>Math.abs(ee[oe])?2:oe}function I(ee,oe){ee.f+=oe.f,ee.b.f+=oe.b.f}function O(ee,oe,K){return ee=ee.a,oe=oe.a,K=K.a,oe.b.a===ee?K.b.a===ee?c(oe.a,K.a)?b(K.b.a,oe.a,K.a)<=0:0<=b(oe.b.a,K.a,oe.a):b(K.b.a,ee,K.a)<=0:K.b.a===ee?0<=b(oe.b.a,ee,oe.a):(oe=h(oe.b.a,ee,oe.a),(ee=h(K.b.a,ee,K.a))<=oe)}function U(ee){ee.a.i=null;var oe=ee.e;oe.a.c=oe.c,oe.c.a=oe.a,ee.e=null}function D(ee,oe){o(ee.a),ee.c=!1,(ee.a=oe).i=ee}function B(ee){for(var oe=ee.a.a;(ee=Le(ee)).a.a===oe;);return ee.c&&(D(ee,oe=p(qe(ee).a.b,ee.a.e)),ee=Le(ee)),ee}function X(ee,oe,K){var ie=new Oe;return ie.a=K,ie.e=ge(ee.f,oe.e,ie),K.i=ie}function H(ee,oe){switch(ee.s){case 100130:return(1&oe)!=0;case 100131:return oe!==0;case 100132:return 0<oe;case 100133:return oe<0;case 100134:return 2<=oe||oe<=-2}return!1}function G(ee){var oe=ee.a,K=oe.d;K.c=ee.d,K.a=oe,U(ee)}function Z(ee,oe,K){for(oe=(ee=oe).a;ee!==K;){ee.c=!1;var ie=qe(ee),je=ie.a;if(je.a!==oe.a){if(!ie.c){G(ee);break}D(ie,je=p(oe.c.b,je.b))}oe.c!==je&&(u(je.b.e,je),u(oe,je)),G(ee),oe=ie.a,ee=ie}return oe}function Q(ee,oe,K,ie,je,Ae){for(var Ve=!0;X(ee,oe,K.b),(K=K.c)!==ie;);for(je===null&&(je=qe(oe).a.b.c);(K=(ie=qe(oe)).a.b).a===je.a;)K.c!==je&&(u(K.b.e,K),u(je.b.e,K)),ie.f=oe.f-K.f,ie.d=H(ee,ie.f),oe.b=!0,!Ve&&N(ee,oe)&&(I(K,je),U(oe),o(je)),Ve=!1,oe=ie,je=K;oe.b=!0,Ae&&J(ee,oe)}function le(ee,oe,K,ie,je){var Ae=[oe.g[0],oe.g[1],oe.g[2]];oe.d=null,oe.d=ee.o&&ee.o(Ae,K,ie,ee.c)||null,oe.d===null&&(je?ee.n||(te(ee,100156),ee.n=!0):oe.d=K[0])}function w(ee,oe,K){var ie=[null,null,null,null];ie[0]=oe.a.d,ie[1]=K.a.d,le(ee,oe.a,ie,[.5,.5,0,0],!1),u(oe,K)}function R(ee,oe,K,ie,je){var Ae=Math.abs(oe.b-ee.b)+Math.abs(oe.a-ee.a),Ve=Math.abs(K.b-ee.b)+Math.abs(K.a-ee.a),Je=je+1;ie[je]=.5*Ve/(Ae+Ve),ie[Je]=.5*Ae/(Ae+Ve),ee.g[0]+=ie[je]*oe.g[0]+ie[Je]*K.g[0],ee.g[1]+=ie[je]*oe.g[1]+ie[Je]*K.g[1],ee.g[2]+=ie[je]*oe.g[2]+ie[Je]*K.g[2]}function N(ee,oe){var K=qe(oe),ie=oe.a,je=K.a;if(c(ie.a,je.a)){if(0<b(je.b.a,ie.a,je.a))return;if(g(ie.a,je.a)){if(ie.a!==je.a){var K=ee.e,Ae=ie.a.h;if(0<=Ae){var Ve=(K=K.b).d,Je=K.e,tt=K.c,nt=tt[Ae];Ve[nt]=Ve[K.a],(tt[Ve[nt]]=nt)<=--K.a&&(nt<=1||c(Je[Ve[nt>>1]],Je[Ve[nt]])?ut:it)(K,nt),Je[Ae]=null,tt[Ae]=K.b,K.b=Ae}else for(K.c[-(Ae+1)]=null;0<K.a&&K.c[K.d[K.a-1]]===null;)--K.a;w(ee,je.b.e,ie)}}else n(je.b),u(ie,je.b.e),oe.b=K.b=!0}else{if(b(ie.b.a,je.a,ie.a)<0)return;Le(oe).b=oe.b=!0,n(ie.b),u(je.b.e,ie)}return 1}function W(ee,oe){var K=qe(oe),ie=oe.a,je=K.a,Ae=ie.a,Ve=je.a,Je=ie.b.a,tt=je.b.a,nt=new xe;if(b(Je,ee.a,Ae),b(tt,ee.a,Ve),!(Ae===Ve||Math.min(Ae.a,Je.a)>Math.max(Ve.a,tt.a))){if(c(Ae,Ve)){if(0<b(tt,Ae,Ve))return}else if(b(Je,Ve,Ae)<0)return;var lt,Et,wt=Je,gt=Ae,jt=tt,xt=Ve;if(c(wt,gt)||(lt=wt,wt=gt,gt=lt),c(jt,xt)||(lt=jt,jt=xt,xt=lt),c(wt,jt)||(lt=wt,wt=jt,jt=lt,lt=gt,gt=xt,xt=lt),c(jt,gt)?c(gt,xt)?((lt=h(wt,jt,gt))+(Et=h(jt,gt,xt))<0&&(lt=-lt,Et=-Et),nt.b=i(lt,jt.b,Et,gt.b)):((lt=b(wt,jt,gt))+(Et=-b(wt,xt,gt))<0&&(lt=-lt,Et=-Et),nt.b=i(lt,jt.b,Et,xt.b)):nt.b=(jt.b+gt.b)/2,y(wt,gt)||(lt=wt,wt=gt,gt=lt),y(jt,xt)||(lt=jt,jt=xt,xt=lt),y(wt,jt)||(lt=wt,wt=jt,jt=lt,lt=gt,gt=xt,xt=lt),y(jt,gt)?y(gt,xt)?((lt=r(wt,jt,gt))+(Et=r(jt,gt,xt))<0&&(lt=-lt,Et=-Et),nt.a=i(lt,jt.a,Et,gt.a)):((lt=s(wt,jt,gt))+(Et=-s(wt,xt,gt))<0&&(lt=-lt,Et=-Et),nt.a=i(lt,jt.a,Et,xt.a)):nt.a=(jt.a+gt.a)/2,c(nt,ee.a)&&(nt.b=ee.a.b,nt.a=ee.a.a),wt=c(Ae,Ve)?Ae:Ve,c(wt,nt)&&(nt.b=wt.b,nt.a=wt.a),g(nt,Ae)||g(nt,Ve))return N(ee,oe),0;if(!g(Je,ee.a)&&0<=b(Je,ee.a,nt)||!g(tt,ee.a)&&b(tt,ee.a,nt)<=0){if(tt===ee.a)n(ie.b),u(je.b,ie),ie=qe(oe=B(oe)).a,Z(ee,qe(oe),K),Q(ee,oe,ie.b.e,ie,ie,!0);else{if(Je!==ee.a)return 0<=b(Je,ee.a,nt)&&(Le(oe).b=oe.b=!0,n(ie.b),ie.a.b=ee.a.b,ie.a.a=ee.a.a),void(b(tt,ee.a,nt)<=0&&(oe.b=K.b=!0,n(je.b),je.a.b=ee.a.b,je.a.a=ee.a.a));for(n(je.b),u(ie.e,je.b.e),Ve=(Ae=K=oe).a.b.a;(Ae=Le(Ae)).a.b.a===Ve;);Ae=qe(oe=Ae).a.b.c,K.a=je.b.e,Q(ee,oe,(je=Z(ee,K,null)).c,ie.b.c,Ae,!0)}return 1}n(ie.b),n(je.b),u(je.b.e,ie),ie.a.b=nt.b,ie.a.a=nt.a,ie.a.h=Pe(ee.e,ie.a),ie=ie.a,je=[0,0,0,0],nt=[Ae.d,Je.d,Ve.d,tt.d],ie.g[0]=ie.g[1]=ie.g[2]=0,R(ie,Ae,Je,je,0),R(ie,Ve,tt,je,2),le(ee,ie,nt,je,!0),Le(oe).b=oe.b=K.b=!0}}function J(ee,oe){for(var K=qe(oe);;){for(;K.b;)K=qe(oe=K);if(!oe.b&&((oe=Le(K=oe))===null||!oe.b))break;oe.b=!1;var ie=oe.a,je=K.a;if(Ae=ie.b.a!==je.b.a)e:{var Ae,Ve=qe(Ae=oe),Je=Ae.a,tt=Ve.a,nt=void 0;if(c(Je.b.a,tt.b.a)){if(b(Je.b.a,tt.b.a,Je.a)<0){Ae=!1;break e}Le(Ae).b=Ae.b=!0,nt=n(Je),u(tt.b,nt),nt.d.c=Ae.d}else{if(0<b(tt.b.a,Je.b.a,tt.a)){Ae=!1;break e}Ae.b=Ve.b=!0,nt=n(tt),u(Je.e,tt.b),nt.b.d.c=Ae.d}Ae=!0}if(Ae&&(K.c?(U(K),o(je),je=(K=qe(oe)).a):oe.c&&(U(oe),o(ie),ie=(oe=Le(K)).a)),ie.a!==je.a){if(ie.b.a===je.b.a||oe.c||K.c||ie.b.a!==ee.a&&je.b.a!==ee.a)N(ee,oe);else if(W(ee,oe))break}ie.a===je.a&&ie.b.a===je.b.a&&(I(je,ie),U(oe),o(ie),oe=Le(K))}}function re(ee,oe){var K=new Oe,ie=l(ee.b);ie.a.b=4e150,ie.a.a=oe,ie.b.a.b=-4e150,ie.b.a.a=oe,ee.a=ie.b.a,K.a=ie,K.f=0,K.d=!1,K.c=!1,K.h=!0,K.b=!1,ie=ge(ie=ee.f,ie.a,K),K.e=ie}function ue(ee){this.a=new se,this.b=ee,this.c=O}function ge(ee,oe,K){for(;(oe=oe.c).b!==null&&!ee.c(ee.b,oe.b,K););return ee=new se(K,oe.a,oe),oe.a.c=ee,oe.a=ee}function se(ee,oe,K){this.b=ee||null,this.a=oe||this,this.c=K||this}function pe(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ye(ee,oe){if(ee.d!==oe)for(;ee.d!==oe;)if(ee.d<oe)switch(ee.d){case 0:te(ee,100151),ee.u(null);break;case 1:te(ee,100152),ee.t()}else switch(ee.d){case 2:te(ee,100154),ee.v();break;case 1:te(ee,100153),ee.w()}}function te(ee,oe){ee.p&&ee.p(oe,ee.c)}function me(ee,oe){this.b=ee||this,this.d=oe||this,this.a=null,this.c=!1}function we(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ee(){this.c=new xe,this.a=new me,this.b=new we,this.d=new we,this.b.b=this.d,this.d.b=this.b}function xe(ee,oe){this.e=ee||this,this.f=oe||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Te(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Re}function Pe(ee,oe){var K,ie,je;return ee.e?(2*(ie=++(K=ee.b).a)>K.f&&(K.f*=2,K.c=ft(K.c,K.f+1)),K.b===0?je=ie:(je=K.b,K.b=K.c[K.b]),K.e[je]=oe,K.c[je]=ie,K.d[ie]=je,K.h&&it(K,ie),je):(K=ee.a++,ee.c[K]=oe,-(K+1))}function We(ee){if(ee.a===0)return rt(ee.b);var oe=ee.c[ee.d[ee.a-1]];if(ee.b.a!==0&&c(ot(ee.b),oe))return rt(ee.b);for(;--ee.a,0<ee.a&&ee.c[ee.d[ee.a-1]]===null;);return oe}function Re(){this.d=ft([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ft(ee,oe){for(var K=Array(oe),ie=0;ie<ee.length;ie++)K[ie]=ee[ie];for(;ie<oe;ie++)K[ie]=0;return K}function ot(ee){return ee.e[ee.d[1]]}function rt(ee){var oe=ee.d,K=ee.e,ie=ee.c,je=oe[1],Ae=K[je];return 0<ee.a&&(oe[1]=oe[ee.a],ie[oe[1]]=1,K[je]=null,ie[je]=ee.b,ee.b=je,0<--ee.a&&ut(ee,1)),Ae}function ut(ee,oe){for(var K=ee.d,ie=ee.e,je=ee.c,Ae=oe,Ve=K[Ae];;){var Je=Ae<<1,tt=(Je<ee.a&&c(ie[K[Je+1]],ie[K[Je]])&&(Je+=1),K[Je]);if(Je>ee.a||c(ie[Ve],ie[tt])){je[K[Ae]=Ve]=Ae;break}je[K[Ae]=tt]=Ae,Ae=Je}}function it(ee,oe){for(var K=ee.d,ie=ee.e,je=ee.c,Ae=oe,Ve=K[Ae];;){var Je=Ae>>1,tt=K[Je];if(Je==0||c(ie[tt],ie[Ve])){je[K[Ae]=Ve]=Ae;break}je[K[Ae]=tt]=Ae,Ae=Je}}function Oe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function qe(ee){return ee.e.c.b}function Le(ee){return ee.e.a.b}(m=pe.prototype).x=function(){ye(this,0)},m.B=function(ee,oe){switch(ee){case 100142:return;case 100140:switch(oe){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=oe)}break;case 100141:return void(this.m=!!oe);default:return void te(this,100900)}te(this,100901)},m.y=function(ee){switch(ee){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:te(this,100900)}return!1},m.A=function(ee,oe,K){this.j[0]=ee,this.j[1]=oe,this.j[2]=K},m.z=function(ee,oe){var K=oe||null;switch(ee){case 100100:case 100106:this.h=K;break;case 100104:case 100110:this.l=K;break;case 100101:case 100107:this.k=K;break;case 100102:case 100108:this.i=K;break;case 100103:case 100109:this.p=K;break;case 100105:case 100111:this.o=K;break;case 100112:this.r=K;break;default:te(this,100900)}},m.C=function(ee,oe){var K=!1,ie=[0,0,0];ye(this,2);for(var je=0;je<3;++je){var Ae=ee[je];Ae<-1e150&&(Ae=-1e150,K=!0),1e150<Ae&&(Ae=1e150,K=!0),ie[je]=Ae}K&&te(this,100155),(K=this.q)===null?u(K=l(this.b),K.b):(n(K),K=K.e),K.a.d=oe,K.a.g[0]=ie[0],K.a.g[1]=ie[1],K.a.g[2]=ie[2],K.f=1,K.b.f=-1,this.q=K},m.u=function(ee){ye(this,0),this.d=1,this.b=new Ee,this.c=ee},m.t=function(){ye(this,1),this.d=2,this.q=null},m.v=function(){ye(this,2),this.d=1},m.w=function(){ye(this,1),this.d=0;var ee,oe,K=this.j[0],ie=this.j[1],je=this.j[2],Ae=!1,Ve=[K,ie,je];if(K===0&&ie===0&&je===0){for(var ie=[-2e150,-2e150,-2e150],Je=[2e150,2e150,2e150],je=[],tt=[],K=(Ae=this.b.c).e;K!==Ae;K=K.e)for(var nt=0;nt<3;++nt){var lt=K.g[nt];lt<Je[nt]&&(Je[nt]=lt,tt[nt]=K),lt>ie[nt]&&(ie[nt]=lt,je[nt]=K)}if(ie[1]-Je[1]>ie[K=0]-Je[0]&&(K=1),Je[K=ie[2]-Je[2]>ie[K]-Je[K]?2:K]>=ie[K])Ve[0]=0,Ve[1]=0,Ve[2]=1;else{for(Je=tt[K],je=je[K],tt=[ie=0,0,0],Je=[Je.g[0]-je.g[0],Je.g[1]-je.g[1],Je.g[2]-je.g[2]],nt=[0,0,0],K=Ae.e;K!==Ae;K=K.e)nt[0]=K.g[0]-je.g[0],nt[1]=K.g[1]-je.g[1],nt[2]=K.g[2]-je.g[2],tt[0]=Je[1]*nt[2]-Je[2]*nt[1],tt[1]=Je[2]*nt[0]-Je[0]*nt[2],tt[2]=Je[0]*nt[1]-Je[1]*nt[0],ie<(lt=tt[0]*tt[0]+tt[1]*tt[1]+tt[2]*tt[2])&&(ie=lt,Ve[0]=tt[0],Ve[1]=tt[1],Ve[2]=tt[2]);ie<=0&&(Ve[0]=Ve[1]=Ve[2]=0,Ve[E(Je)]=1)}Ae=!0}for(tt=E(Ve),K=this.b.c,ie=(tt+1)%3,je=(tt+2)%3,tt=0<Ve[tt]?1:-1,Ve=K.e;Ve!==K;Ve=Ve.e)Ve.b=Ve.g[ie],Ve.a=tt*Ve.g[je];if(Ae){for(Ve=0,K=(Ae=this.b.a).b;K!==Ae;K=K.b)if(!((ie=K.a).f<=0))for(;Ve+=(ie.a.b-ie.b.a.b)*(ie.a.a+ie.b.a.a),(ie=ie.e)!==K.a;);if(Ve<0)for(Ae=(Ve=this.b.c).e;Ae!==Ve;Ae=Ae.e)Ae.a=-Ae.a}for(this.n=!1,Ve=this.b.b,K=Ve.h;K!==Ve;K=Ae)Ae=K.h,ie=K.e,g(K.a,K.b.a)&&K.e.e!==K&&(w(this,ie,K),o(K),ie=(K=ie).e),ie.e===K&&(ie!==K&&(ie!==Ae&&ie!==Ae.b||(Ae=Ae.h),o(ie)),K!==Ae&&K!==Ae.b||(Ae=Ae.h),o(K));for(this.e=Ve=new Te,Ae=this.b.c,K=Ae.e;K!==Ae;K=K.e)K.h=Pe(Ve,K);var Et=Ve;Et.d=[];for(var wt=0;wt<Et.a;wt++)Et.d[wt]=wt;Et.d.sort((function(xt){return function(Jt,Mr){return c(xt[Jt],xt[Mr])?1:-1}})(Et.c)),Et.e=!0;for(var gt=Et.b,jt=gt.a;1<=jt;--jt)ut(gt,jt);for(gt.h=!0,this.f=new ue(this),re(this,-4e150),re(this,4e150);(Ve=We(this.e))!==null;){for(;;){e:if((K=this.e).a===0)Ae=ot(K.b);else if(Ae=K.c[K.d[K.a-1]],K.b.a!==0&&c(K=ot(K.b),Ae)){Ae=K;break e}if(Ae===null||!g(Ae,Ve))break;Ae=We(this.e),w(this,Ve.c,Ae.c)}(function xt(Jt,Mr){for(var hr,Ht=(Jt.a=Mr).c;Ht.i===null;)if((Ht=Ht.c)===Mr.c){var Ht=Jt,$t=Mr;(Zt=new Oe).a=$t.c.b;for(var jr=(Bt=Ht.f).a;(jr=jr.a).b!==null&&!Bt.c(Bt.b,Zt,jr.b););var Bt,mr,_r=qe(Bt=jr.b),Zt=Bt.a,jr=_r.a;return void(b(Zt.b.a,$t,Zt.a)===0?g((Zt=Bt.a).a,$t)||g(Zt.b.a,$t)||(n(Zt.b),Bt.c&&(o(Zt.c),Bt.c=!1),u($t.c,Zt),xt(Ht,$t)):(mr=c(jr.b.a,Zt.b.a)?Bt:_r,_r=void 0,Bt.d||mr.c?(_r=mr===Bt?p($t.c.b,Zt.e):p(jr.b.c.b,$t.c).b,mr.c?D(mr,_r):((Bt=X(Zt=Ht,Bt,_r)).f=Le(Bt).f+Bt.a.f,Bt.d=H(Zt,Bt.f)),xt(Ht,$t)):Q(Ht,Bt,$t.c,$t.c,null,!0)))}Bt=(Zt=qe(Ht=B(Ht.i))).a,(Zt=Z(Jt,Zt,null)).c===Bt?(Zt=(Bt=Zt).c,jr=qe(Ht),_r=Ht.a,mr=jr.a,hr=!1,_r.b.a!==mr.b.a&&W(Jt,Ht),g(_r.a,Jt.a)&&(u(Zt.b.e,_r),Zt=qe(Ht=B(Ht)).a,Z(Jt,qe(Ht),jr),hr=!0),g(mr.a,Jt.a)&&(u(Bt,mr.b.e),Bt=Z(Jt,jr,null),hr=!0),hr?Q(Jt,Ht,Bt.c,Zt,Zt,!0):($t=c(mr.a,_r.a)?mr.b.e:_r,Q(Jt,Ht,$t=p(Bt.c.b,$t),$t.c,$t.c,!1),$t.b.i.c=!0,J(Jt,Ht))):Q(Jt,Ht,Zt.c,Bt,Bt,!0)})(this,Ve)}for(this.a=this.f.a.a.b.a.a,Ve=0;(Ae=this.f.a.a.b)!==null;)Ae.h||++Ve,U(Ae);for(this.f=null,(Ve=this.e).b=null,Ve.d=null,this.e=Ve.c=null,Ve=this.b,K=Ve.a.b;K!==Ve.a;K=Ae)Ae=K.b,(K=K.a).e.e===K&&(I(K.c,K),o(K));if(!this.n){if(Ve=this.b,this.m)for(K=Ve.b.h;K!==Ve.b;K=Ae)Ae=K.h,K.b.d.c!==K.d.c?K.f=K.d.c?1:-1:o(K);else for(K=Ve.a.b;K!==Ve.a;K=Ae)if(Ae=K.b,K.c){for(K=K.a;c(K.b.a,K.a);K=K.c.b);for(;c(K.a,K.b.a);K=K.e);for(ie=K.c.b,je=void 0;K.e!==ie;)if(c(K.b.a,ie.a)){for(;ie.e!==K&&(c((oe=ie.e).b.a,oe.a)||b(ie.a,ie.b.a,ie.e.b.a)<=0);)ie=(je=p(ie.e,ie)).b;ie=ie.c.b}else{for(;ie.e!==K&&(c((ee=K.c.b).a,ee.b.a)||0<=b(K.b.a,K.a,K.c.b.a));)K=(je=p(K,K.c.b)).b;K=K.e}for(;ie.e.e!==K;)je=p(ie.e,ie),ie=je.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ae=(Ve=this.b).a.b;Ae!==Ve.a;Ae=Ae.b)if(Ae.c){for(this.h&&this.h(2,this.c),K=Ae.a;this.k&&this.k(K.a.d,this.c),(K=K.e)!==Ae.a;);this.i&&this.i(this.c)}}else{for(Ve=this.b,Ae=!!this.l,K=!1,ie=-1,je=Ve.a.d;je!==Ve.a;je=je.d)if(je.c)for(K||(this.h&&this.h(4,this.c),K=!0),tt=je.a;Ae&&(Je=tt.b.d.c?0:1,ie!==Je&&(ie=Je,this.l&&this.l(!!ie,this.c))),this.k&&this.k(tt.a.d,this.c),(tt=tt.e)!==je.a;);K&&this.i&&this.i(this.c)}if(this.r){for(Ve=this.b,K=Ve.a.b;K!==Ve.a;K=Ae)if(Ae=K.b,!K.c){for(je=(ie=K.a).e,tt=void 0;je=(tt=je).e,(tt.d=null)===tt.b.d&&(tt.c===tt?C(tt.a,null):(tt.a.c=tt.c,_(tt,tt.b.e)),(Je=tt.b).c===Je?C(Je.a,null):(Je.a.c=Je.c,_(Je,Je.b.e)),T(tt)),tt!==ie;);ie=K.d,((K=K.b).d=ie).b=K}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:pe,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},pe.prototype.gluDeleteTess=pe.prototype.x,pe.prototype.gluTessProperty=pe.prototype.B,pe.prototype.gluGetTessProperty=pe.prototype.y,pe.prototype.gluTessNormal=pe.prototype.A,pe.prototype.gluTessCallback=pe.prototype.z,pe.prototype.gluTessVertex=pe.prototype.C,pe.prototype.gluTessBeginPolygon=pe.prototype.u,pe.prototype.gluTessBeginContour=pe.prototype.t,pe.prototype.gluTessEndContour=pe.prototype.v,pe.prototype.gluTessEndPolygon=pe.prototype.w,q!==void 0&&(q.exports=this.libtess)},{}],256:[function(t,q,A){function m(c,h,b,y){var r=0,s=(y=y===void 0?{}:y).loop===void 0?null:y.loop,i=y.palette===void 0?null:y.palette;if(h<=0||b<=0||65535<h||65535<b)throw new Error("Width/Height invalid.");function l(j){if(j=j.length,j<2||256<j||j&j-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return j}c[r++]=71,c[r++]=73,c[r++]=70,c[r++]=56,c[r++]=57,c[r++]=97;var u=0,o=0;if(i!==null){for(var n=l(i);n>>=1;)++u;if(n=1<<u,--u,y.background!==void 0){if(n<=(o=y.background))throw new Error("Background index out of range.");if(o===0)throw new Error("Background index explicitly passed as 0.")}}if(c[r++]=255&h,c[r++]=h>>8&255,c[r++]=255&b,c[r++]=b>>8&255,c[r++]=(i!==null?128:0)|u,c[r++]=o,c[r++]=0,i!==null)for(var p=0,d=i.length;p<d;++p){var _=i[p];c[r++]=_>>16&255,c[r++]=_>>8&255,c[r++]=255&_}if(s!==null){if(s<0||65535<s)throw new Error("Loop count invalid.");c[r++]=33,c[r++]=255,c[r++]=11,c[r++]=78,c[r++]=69,c[r++]=84,c[r++]=83,c[r++]=67,c[r++]=65,c[r++]=80,c[r++]=69,c[r++]=50,c[r++]=46,c[r++]=48,c[r++]=3,c[r++]=1,c[r++]=255&s,c[r++]=s>>8&255,c[r++]=0}var S=!1;this.addFrame=function(j,T,C,L,E,I){if(S===!0&&(--r,S=!1),I=I===void 0?{}:I,j<0||T<0||65535<j||65535<T)throw new Error("x/y invalid.");if(C<=0||L<=0||65535<C||65535<L)throw new Error("Width/Height invalid.");if(E.length<C*L)throw new Error("Not enough pixels for the frame size.");var O=!0,U=I.palette;if(U==null&&(O=!1,U=i),U==null)throw new Error("Must supply either a local or global palette.");for(var B=l(U),D=0;B>>=1;)++D;var B=1<<D,X=I.delay===void 0?0:I.delay,H=I.disposal===void 0?0:I.disposal;if(H<0||3<H)throw new Error("Disposal out of range.");var G=!1,Z=0;if(I.transparent!==void 0&&I.transparent!==null&&(G=!0,(Z=I.transparent)<0||B<=Z))throw new Error("Transparent color index.");if(H===0&&!G&&X===0||(c[r++]=33,c[r++]=249,c[r++]=4,c[r++]=H<<2|(G===!0?1:0),c[r++]=255&X,c[r++]=X>>8&255,c[r++]=Z,c[r++]=0),c[r++]=44,c[r++]=255&j,c[r++]=j>>8&255,c[r++]=255&T,c[r++]=T>>8&255,c[r++]=255&C,c[r++]=C>>8&255,c[r++]=255&L,c[r++]=L>>8&255,c[r++]=O===!0?128|D-1:0,O===!0)for(var Q=0,le=U.length;Q<le;++Q){var w=U[Q];c[r++]=w>>16&255,c[r++]=w>>8&255,c[r++]=255&w}return r=(function(R,N,W,J){R[N++]=W;var re=N++,ue=1<<W,ge=ue-1,se=1+ue,pe=1+se,ye=W+1,te=0,me=0;function we(rt){for(;rt<=te;)R[N++]=255&me,me>>=8,te-=8,N===re+256&&(R[re]=255,re=N++)}function Ee(rt){me|=rt<<te,te+=ye,we(8)}var xe=J[0]&ge,Te={};Ee(ue);for(var Pe=1,We=J.length;Pe<We;++Pe){var Re=J[Pe]&ge,ft=xe<<8|Re,ot=Te[ft];if(ot===void 0){for(me|=xe<<te,te+=ye;8<=te;)R[N++]=255&me,me>>=8,te-=8,N===re+256&&(R[re]=255,re=N++);pe===4096?(Ee(ue),pe=1+se,ye=W+1,Te={}):(1<<ye<=pe&&++ye,Te[ft]=pe++),xe=Re}else xe=ot}return Ee(xe),Ee(se),we(1),re+1===N?R[re]=0:(R[re]=N-re-1,R[N++]=0),N})(c,r,D<2?2:D,E)},this.end=function(){return S===!1&&(c[r++]=59,S=!0),r},this.getOutputBuffer=function(){return c},this.setOutputBuffer=function(j){c=j},this.getOutputBufferPosition=function(){return r},this.setOutputBufferPosition=function(j){r=j}}function g(c,h,b,y){for(var r=c[h++],s=1<<r,i=1+s,l=1+i,u=r+1,o=(1<<u)-1,n=0,p=0,d=0,_=c[h++],S=new Int32Array(4096),j=null;;){for(;n<16&&_!==0;)p|=c[h++]<<n,n+=8,_===1?_=c[h++]:--_;if(n<u)break;var T=p&o;if(p>>=u,n-=u,T==s)l=1+i,o=(1<<(u=r+1))-1,j=null;else{if(T==i)break;for(var C=T<l?T:j,L=0,E=C;s<E;)E=S[E]>>8,++L;var I=E;if(y<d+L+(C!==T?1:0))return void console.log("Warning, gif stream longer than expected.");b[d++]=I;var O=d+=L;for(C!==T&&(b[d++]=I),E=C;L--;)E=S[E],b[--O]=255&E,E>>=8;j!==null&&l<4096&&(S[l++]=j<<8|I,o+1<=l&&u<12&&(++u,o=o<<1|1)),j=T}}d!==y&&console.log("Warning, gif stream shorter than expected.")}try{A.GifWriter=m,A.GifReader=function(c){var h=0;if(c[h++]!==71||c[h++]!==73||c[h++]!==70||c[h++]!==56||(c[h++]+1&253)!=56||c[h++]!==97)throw new Error("Invalid GIF 87a/89a header.");var b=c[h++]|c[h++]<<8,y=c[h++]|c[h++]<<8,r=c[h++],s=1<<1+(7&r),i=(c[h++],c[h++],null),l=null,u=(r>>7&&(i=h,h+=3*(l=s)),!0),o=[],n=0,p=null,d=0,_=null;for(this.width=b,this.height=y;u&&h<c.length;)switch(c[h++]){case 33:switch(c[h++]){case 255:if(c[h]!==11||c[h+1]==78&&c[h+2]==69&&c[h+3]==84&&c[h+4]==83&&c[h+5]==67&&c[h+6]==65&&c[h+7]==80&&c[h+8]==69&&c[h+9]==50&&c[h+10]==46&&c[h+11]==48&&c[h+12]==3&&c[h+13]==1&&c[h+16]==0)h+=14,_=c[h++]|c[h++]<<8,h++;else for(h+=12;;){if(!(0<=(j=c[h++])))throw Error("Invalid block size");if(j===0)break;h+=j}break;case 249:if(c[h++]!==4||c[h+4]!==0)throw new Error("Invalid graphics extension block.");var S=c[h++],n=c[h++]|c[h++]<<8,p=c[h++];(1&S)==0&&(p=null),d=S>>2&7,h++;break;case 254:for(;;){if(!(0<=(j=c[h++])))throw Error("Invalid block size");if(j===0)break;h+=j}break;default:throw new Error("Unknown graphic control label: 0x"+c[h-1].toString(16))}break;case 44:var j,T=c[h++]|c[h++]<<8,C=c[h++]|c[h++]<<8,L=c[h++]|c[h++]<<8,E=c[h++]|c[h++]<<8,X=c[h++],I=X>>6&1,O=1<<1+(7&X),U=i,D=l,B=!1,X=(X>>7&&(B=!0,U=h,h+=3*(D=O)),h);for(h++;;){if(!(0<=(j=c[h++])))throw Error("Invalid block size");if(j===0)break;h+=j}o.push({x:T,y:C,width:L,height:E,has_local_palette:B,palette_offset:U,palette_size:D,data_offset:X,data_length:h-X,transparent_index:p,interlaced:!!I,delay:n,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+c[h-1].toString(16))}this.numFrames=function(){return o.length},this.loopCount=function(){return _},this.frameInfo=function(H){if(H<0||H>=o.length)throw new Error("Frame index out of range.");return o[H]},this.decodeAndBlitFrameBGRA=function(H,G){for(var H=this.frameInfo(H),Z=H.width*H.height,Q=new Uint8Array(Z),le=(g(c,H.data_offset,Q,Z),H.palette_offset),w=H.transparent_index,R=(w===null&&(w=256),H.width),N=b-R,W=R,J=4*(H.y*b+H.x),re=4*((H.y+H.height)*b+H.x),ue=J,ge=4*N,se=(H.interlaced===!0&&(ge+=4*b*7),8),pe=0,ye=Q.length;pe<ye;++pe){var te,me,we=Q[pe];W===0&&(W=R,re<=(ue+=ge)&&(ge=4*N+4*b*(se-1),ue=J+(R+N)*(se<<1),se>>=1)),we===w?ue+=4:(te=c[le+3*we],me=c[le+3*we+1],we=c[le+3*we+2],G[ue++]=we,G[ue++]=me,G[ue++]=te,G[ue++]=255),--W}},this.decodeAndBlitFrameRGBA=function(H,G){for(var H=this.frameInfo(H),Z=H.width*H.height,Q=new Uint8Array(Z),le=(g(c,H.data_offset,Q,Z),H.palette_offset),w=H.transparent_index,R=(w===null&&(w=256),H.width),N=b-R,W=R,J=4*(H.y*b+H.x),re=4*((H.y+H.height)*b+H.x),ue=J,ge=4*N,se=(H.interlaced===!0&&(ge+=4*b*7),8),pe=0,ye=Q.length;pe<ye;++pe){var te,me,we=Q[pe];W===0&&(W=R,re<=(ue+=ge)&&(ge=4*N+4*b*(se-1),ue=J+(R+N)*(se<<1),se>>=1)),we===w?ue+=4:(te=c[le+3*we],me=c[le+3*we+1],we=c[le+3*we+2],G[ue++]=te,G[ue++]=me,G[ue++]=we,G[ue++]=255),--W}}}}catch{}},{}],257:[function(t,q,A){(function(m){var g,c;g=this,c=function(h){function b(F){if(this==null)throw TypeError();var x,M=String(this),k=M.length,F=F?Number(F):0;if(!((F=F!=F?0:F)<0||k<=F))return 55296<=(x=M.charCodeAt(F))&&x<=56319&&F+1<k&&56320<=(k=M.charCodeAt(F+1))&&k<=57343?1024*(x-55296)+k-56320+65536:x}String.prototype.codePointAt||((y=(function(){try{var f={},x=Object.defineProperty,M=x(f,f,f)&&x}catch{}return M})())?y(String.prototype,"codePointAt",{value:b,configurable:!0,writable:!0}):String.prototype.codePointAt=b);var y,r=0,s=-3;function i(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function l(f,x){this.source=f,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=x,this.destLen=0,this.ltree=new i,this.dtree=new i}var u=new i,o=new i,n=new Uint8Array(30),p=new Uint16Array(30),d=new Uint8Array(30),_=new Uint16Array(30),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=new i,T=new Uint8Array(320);function C(f,x,M,k){for(var F,z=0;z<M;++z)f[z]=0;for(z=0;z<30-M;++z)f[z+M]=z/M|0;for(F=k,z=0;z<30;++z)x[z]=F,F+=1<<f[z]}var L=new Uint16Array(16);function E(f,x,M,k){for(var F,z=0;z<16;++z)f.table[z]=0;for(z=0;z<k;++z)f.table[x[M+z]]++;for(z=F=f.table[0]=0;z<16;++z)L[z]=F,F+=f.table[z];for(z=0;z<k;++z)x[M+z]&&(f.trans[L[x[M+z]]++]=z)}function I(f,x,M){if(!x)return M;for(;f.bitcount<24;)f.tag|=f.source[f.sourceIndex++]<<f.bitcount,f.bitcount+=8;var k=f.tag&65535>>>16-x;return f.tag>>>=x,f.bitcount-=x,k+M}function O(f,x){for(;f.bitcount<24;)f.tag|=f.source[f.sourceIndex++]<<f.bitcount,f.bitcount+=8;for(var M=0,k=0,F=0,z=f.tag;k=2*k+(1&z),z>>>=1,M+=x.table[++F],0<=(k-=x.table[F]););return f.tag=z,f.bitcount-=F,x.trans[M+k]}function U(f,x,M){for(;;){var k=O(f,x);if(k===256)return r;if(k<256)f.dest[f.destLen++]=k;else for(var F,z=I(f,n[k-=257],p[k]),k=O(f,M),Y=F=f.destLen-I(f,d[k],_[k]);Y<F+z;++Y)f.dest[f.destLen++]=f.dest[Y]}}for(var D=u,B=o,X=0;X<7;++X)D.table[X]=0;for(D.table[7]=24,D.table[8]=152,D.table[9]=112,X=0;X<24;++X)D.trans[X]=256+X;for(X=0;X<144;++X)D.trans[24+X]=X;for(X=0;X<8;++X)D.trans[168+X]=280+X;for(X=0;X<112;++X)D.trans[176+X]=144+X;for(X=0;X<5;++X)B.table[X]=0;for(B.table[5]=32,X=0;X<32;++X)B.trans[X]=X;C(n,p,4,3),C(d,_,2,1),n[28]=0,p[28]=258;var H=function(f,x){var M,k,F,z=new l(f,x);do{switch(F=void 0,(k=z).bitcount--||(k.tag=k.source[k.sourceIndex++],k.bitcount=7),F=1&k.tag,k.tag>>>=1,k=F,I(z,2,0)){case 0:M=(function(Ne){for(var vt,kt;8<Ne.bitcount;)Ne.sourceIndex--,Ne.bitcount-=8;if((vt=256*Ne.source[Ne.sourceIndex+1]+Ne.source[Ne.sourceIndex])!==(65535&~(256*Ne.source[Ne.sourceIndex+3]+Ne.source[Ne.sourceIndex+2])))return s;for(Ne.sourceIndex+=4,kt=vt;kt;--kt)Ne.dest[Ne.destLen++]=Ne.source[Ne.sourceIndex++];return Ne.bitcount=0,r})(z);break;case 1:M=U(z,u,o);break;case 2:He=Ge=Xe=Ue=Y=ve=Ce=Ie=Se=fe=de=ne=void 0;for(var Y,ne=z,de=z.ltree,fe=z.dtree,Se=I(ne,5,257),Ie=I(ne,5,1),Ce=I(ne,4,4),ve=0;ve<19;++ve)T[ve]=0;for(ve=0;ve<Ce;++ve){var Xe=I(ne,3,0);T[S[ve]]=Xe}for(E(j,T,0,19),Y=0;Y<Se+Ie;){var Ge=O(ne,j);switch(Ge){case 16:for(var He=T[Y-1],Ue=I(ne,2,3);Ue;--Ue)T[Y++]=He;break;case 17:for(Ue=I(ne,3,3);Ue;--Ue)T[Y++]=0;break;case 18:for(Ue=I(ne,7,11);Ue;--Ue)T[Y++]=0;break;default:T[Y++]=Ge}}E(de,T,0,Se),E(fe,T,Se,Ie),M=U(z,z.ltree,z.dtree);break;default:M=s}if(M!==r)throw new Error("Data error")}while(!k);return z.destLen<z.dest.length?typeof z.dest.slice=="function"?z.dest.slice(0,z.destLen):z.dest.subarray(0,z.destLen):z.dest};function G(f,x,M,k,F){return Math.pow(1-F,3)*f+3*Math.pow(1-F,2)*F*x+3*(1-F)*Math.pow(F,2)*M+Math.pow(F,3)*k}function Z(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Q(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function le(f){throw new Error(f)}function w(f,x){f||le(x)}Z.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Z.prototype.addPoint=function(f,x){typeof f=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=f,this.x2=f),f<this.x1&&(this.x1=f),f>this.x2&&(this.x2=f)),typeof x=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=x,this.y2=x),x<this.y1&&(this.y1=x),x>this.y2&&(this.y2=x))},Z.prototype.addX=function(f){this.addPoint(f,null)},Z.prototype.addY=function(f){this.addPoint(null,f)},Z.prototype.addBezier=function(f,x,M,k,F,z,Y,ne){var de=[f,x],fe=[M,k],Se=[F,z],Ie=[Y,ne];this.addPoint(f,x),this.addPoint(Y,ne);for(var Ce=0;Ce<=1;Ce++){var ve,Xe=6*de[Ce]-12*fe[Ce]+6*Se[Ce],Ge=-3*de[Ce]+9*fe[Ce]-9*Se[Ce]+3*Ie[Ce],He=3*fe[Ce]-3*de[Ce];Ge==0?Xe==0||0<(ve=-He/Xe)&&ve<1&&(Ce===0&&this.addX(G(de[Ce],fe[Ce],Se[Ce],Ie[Ce],ve)),Ce===1&&this.addY(G(de[Ce],fe[Ce],Se[Ce],Ie[Ce],ve))):(ve=Math.pow(Xe,2)-4*He*Ge)<0||(0<(He=(-Xe+Math.sqrt(ve))/(2*Ge))&&He<1&&(Ce===0&&this.addX(G(de[Ce],fe[Ce],Se[Ce],Ie[Ce],He)),Ce===1&&this.addY(G(de[Ce],fe[Ce],Se[Ce],Ie[Ce],He))),0<(He=(-Xe-Math.sqrt(ve))/(2*Ge))&&He<1&&(Ce===0&&this.addX(G(de[Ce],fe[Ce],Se[Ce],Ie[Ce],He)),Ce===1&&this.addY(G(de[Ce],fe[Ce],Se[Ce],Ie[Ce],He))))}},Z.prototype.addQuad=function(f,x,M,k,F,z){M=f+2/3*(M-f),k=x+2/3*(k-x),this.addBezier(f,x,M,k,M+1/3*(F-f),k+1/3*(z-x),F,z)},Q.prototype.moveTo=function(f,x){this.commands.push({type:"M",x:f,y:x})},Q.prototype.lineTo=function(f,x){this.commands.push({type:"L",x:f,y:x})},Q.prototype.curveTo=Q.prototype.bezierCurveTo=function(f,x,M,k,F,z){this.commands.push({type:"C",x1:f,y1:x,x2:M,y2:k,x:F,y:z})},Q.prototype.quadTo=Q.prototype.quadraticCurveTo=function(f,x,M,k){this.commands.push({type:"Q",x1:f,y1:x,x:M,y:k})},Q.prototype.close=Q.prototype.closePath=function(){this.commands.push({type:"Z"})},Q.prototype.extend=function(f){var x;if(f.commands)f=f.commands;else if(f instanceof Z)return x=f,this.moveTo(x.x1,x.y1),this.lineTo(x.x2,x.y1),this.lineTo(x.x2,x.y2),this.lineTo(x.x1,x.y2),void this.close();Array.prototype.push.apply(this.commands,f)},Q.prototype.getBoundingBox=function(){for(var f=new Z,x=0,M=0,k=0,F=0,z=0;z<this.commands.length;z++){var Y=this.commands[z];switch(Y.type){case"M":f.addPoint(Y.x,Y.y),x=k=Y.x,M=F=Y.y;break;case"L":f.addPoint(Y.x,Y.y),k=Y.x,F=Y.y;break;case"Q":f.addQuad(k,F,Y.x1,Y.y1,Y.x,Y.y),k=Y.x,F=Y.y;break;case"C":f.addBezier(k,F,Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y),k=Y.x,F=Y.y;break;case"Z":k=x,F=M;break;default:throw new Error("Unexpected path command "+Y.type)}}return f.isEmpty()&&f.addPoint(0,0),f},Q.prototype.draw=function(f){f.beginPath();for(var x=0;x<this.commands.length;x+=1){var M=this.commands[x];M.type==="M"?f.moveTo(M.x,M.y):M.type==="L"?f.lineTo(M.x,M.y):M.type==="C"?f.bezierCurveTo(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?f.quadraticCurveTo(M.x1,M.y1,M.x,M.y):M.type==="Z"&&f.closePath()}this.fill&&(f.fillStyle=this.fill,f.fill()),this.stroke&&(f.strokeStyle=this.stroke,f.lineWidth=this.strokeWidth,f.stroke())},Q.prototype.toPathData=function(f){function x(){for(var z=arguments,Y="",ne=0;ne<arguments.length;ne+=1){var de=z[ne];0<=de&&0<ne&&(Y+=" "),Y+=(de=de,Math.round(de)===de?""+Math.round(de):de.toFixed(f))}return Y}f=f!==void 0?f:2;for(var M="",k=0;k<this.commands.length;k+=1){var F=this.commands[k];F.type==="M"?M+="M"+x(F.x,F.y):F.type==="L"?M+="L"+x(F.x,F.y):F.type==="C"?M+="C"+x(F.x1,F.y1,F.x2,F.y2,F.x,F.y):F.type==="Q"?M+="Q"+x(F.x1,F.y1,F.x,F.y):F.type==="Z"&&(M+="Z")}return M},Q.prototype.toSVG=function(f){var x=(x='<path d="')+this.toPathData(f)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?x+=' fill="none"':x+=' fill="'+this.fill+'"'),this.stroke&&(x+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),x+="/>"},Q.prototype.toDOMElement=function(x){var x=this.toPathData(x),M=document.createElementNS("http://www.w3.org/2000/svg","path");return M.setAttribute("d",x),M};var R={fail:le,argument:w,assert:w},N={},W={},J={};function re(f){return function(){return f}}W.BYTE=function(f){return R.argument(0<=f&&f<=255,"Byte value should be between 0 and 255."),[f]},J.BYTE=re(1),W.CHAR=function(f){return[f.charCodeAt(0)]},J.CHAR=re(1),W.CHARARRAY=function(f){for(var x=[],M=0;M<f.length;M+=1)x[M]=f.charCodeAt(M);return x},J.CHARARRAY=function(f){return f.length},W.USHORT=function(f){return[f>>8&255,255&f]},J.USHORT=re(2),W.SHORT=function(f){return[(f=32768<=f?-(65536-f):f)>>8&255,255&f]},J.SHORT=re(2),W.UINT24=function(f){return[f>>16&255,f>>8&255,255&f]},J.UINT24=re(3),W.ULONG=function(f){return[f>>24&255,f>>16&255,f>>8&255,255&f]},J.ULONG=re(4),W.LONG=function(f){return[(f=2147483648<=f?-(4294967296-f):f)>>24&255,f>>16&255,f>>8&255,255&f]},J.LONG=re(4),W.FIXED=W.ULONG,J.FIXED=J.ULONG,W.FWORD=W.SHORT,J.FWORD=J.SHORT,W.UFWORD=W.USHORT,J.UFWORD=J.USHORT,W.LONGDATETIME=function(f){return[0,0,0,0,f>>24&255,f>>16&255,f>>8&255,255&f]},J.LONGDATETIME=re(8),W.TAG=function(f){return R.argument(f.length===4,"Tag should be exactly 4 ASCII characters."),[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]},J.TAG=re(4),W.Card8=W.BYTE,J.Card8=J.BYTE,W.Card16=W.USHORT,J.Card16=J.USHORT,W.OffSize=W.BYTE,J.OffSize=J.BYTE,W.SID=W.USHORT,J.SID=J.USHORT,W.NUMBER=function(f){return-107<=f&&f<=107?[f+139]:108<=f&&f<=1131?[247+((f-=108)>>8),255&f]:-1131<=f&&f<=-108?[251+((f=-f-108)>>8),255&f]:-32768<=f&&f<=32767?W.NUMBER16(f):W.NUMBER32(f)},J.NUMBER=function(f){return W.NUMBER(f).length},W.NUMBER16=function(f){return[28,f>>8&255,255&f]},J.NUMBER16=re(3),W.NUMBER32=function(f){return[29,f>>24&255,f>>16&255,f>>8&255,255&f]},J.NUMBER32=re(5),W.REAL=function(f){for(var x=f.toString(),M=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(x),k=(M&&(M=parseFloat("1e"+((M[2]?+M[2]:0)+M[1].length)),x=(Math.round(f*M)/M).toString()),""),F=0,z=x.length;F<z;F+=1){var Y=x[F];k+=Y==="e"?x[++F]==="-"?"c":"b":Y==="."?"a":Y==="-"?"e":Y}for(var ne=[30],de=0,fe=(k+=1&k.length?"f":"ff").length;de<fe;de+=2)ne.push(parseInt(k.substr(de,2),16));return ne},J.REAL=function(f){return W.REAL(f).length},W.NAME=W.CHARARRAY,J.NAME=J.CHARARRAY,W.STRING=W.CHARARRAY,J.STRING=J.CHARARRAY,N.UTF8=function(f,x,M){for(var k=[],F=M,z=0;z<F;z++,x+=1)k[z]=f.getUint8(x);return String.fromCharCode.apply(null,k)},N.UTF16=function(f,x,M){for(var k=[],F=M/2,z=0;z<F;z++,x+=2)k[z]=f.getUint16(x);return String.fromCharCode.apply(null,k)},W.UTF16=function(f){for(var x=[],M=0;M<f.length;M+=1){var k=f.charCodeAt(M);x[x.length]=k>>8&255,x[x.length]=255&k}return x},J.UTF16=function(f){return 2*f.length};var ue,ge={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},se=(N.MACSTRING=function(f,x,M,k){var F=ge[k];if(F!==void 0){for(var z="",Y=0;Y<M;Y++){var ne=f.getUint8(x+Y);z+=ne<=127?String.fromCharCode(ne):F[127&ne]}return z}},typeof WeakMap=="function"&&new WeakMap);function pe(f){return-128<=f&&f<=127}W.MACSTRING=function(f,x){var M=(function(Y){if(!ue)for(var ne in ue={},ge)ue[ne]=new String(ne);var de=ue[Y];if(de!==void 0){if(se){var fe=se.get(de);if(fe!==void 0)return fe}var Se=ge[Y];if(Se!==void 0){for(var Ie={},Ce=0;Ce<Se.length;Ce++)Ie[Se.charCodeAt(Ce)]=Ce+128;return se&&se.set(de,Ie),Ie}}})(x);if(M!==void 0){for(var k=[],F=0;F<f.length;F++){var z=f.charCodeAt(F);if(128<=z&&(z=M[z])===void 0)return;k[F]=z}return k}},J.MACSTRING=function(f,x){return f=W.MACSTRING(f,x),f!==void 0?f.length:0},W.VARDELTAS=function(f){for(var k=0,x=[];k<f.length;)var M=f[k],k=(M===0?function(F,z,Y){for(var ne=0,de=F.length;z<de&&ne<64&&F[z]===0;)++z,++ne;return Y.push(128|ne-1),z}:-128<=M&&M<=127?function(F,z,Y){for(var ne=0,de=F.length,fe=z;fe<de&&ne<64;){var Se=F[fe];if(!pe(Se)||Se===0&&fe+1<de&&F[fe+1]===0)break;++fe,++ne}Y.push(ne-1);for(var Ie=z;Ie<fe;++Ie)Y.push(F[Ie]+256&255);return fe}:function(F,z,Y){for(var ne=0,de=F.length,fe=z;fe<de&&ne<64;){var Se=F[fe];if(Se===0||pe(Se)&&fe+1<de&&pe(F[fe+1]))break;++fe,++ne}Y.push(64|ne-1);for(var Ie=z;Ie<fe;++Ie){var Ce=F[Ie];Y.push(Ce+65536>>8&255,Ce+256&255)}return fe})(f,k,x);return x},W.INDEX=function(f){for(var x=1,M=[x],k=[],F=0;F<f.length;F+=1){var z=W.OBJECT(f[F]);Array.prototype.push.apply(k,z),x+=z.length,M.push(x)}if(k.length===0)return[0,0];for(var Y=[],ne=1+Math.floor(Math.log(x)/Math.log(2))/8|0,de=[void 0,W.BYTE,W.USHORT,W.UINT24,W.ULONG][ne],fe=0;fe<M.length;fe+=1){var Se=de(M[fe]);Array.prototype.push.apply(Y,Se)}return Array.prototype.concat(W.Card16(f.length),W.OffSize(ne),Y,k)},J.INDEX=function(f){return W.INDEX(f).length},W.DICT=function(f){for(var x=[],M=Object.keys(f),k=M.length,F=0;F<k;F+=1){var z=parseInt(M[F],0),Y=f[z];x=(x=x.concat(W.OPERAND(Y.value,Y.type))).concat(W.OPERATOR(z))}return x},J.DICT=function(f){return W.DICT(f).length},W.OPERATOR=function(f){return f<1200?[f]:[12,f-1200]},W.OPERAND=function(f,x){var M=[];if(Array.isArray(x))for(var k=0;k<x.length;k+=1)R.argument(f.length===x.length,"Not enough arguments given for type"+x),M=M.concat(W.OPERAND(f[k],x[k]));else if(x==="SID")M=M.concat(W.NUMBER(f));else if(x==="offset")M=M.concat(W.NUMBER32(f));else if(x==="number")M=M.concat(W.NUMBER(f));else{if(x!=="real")throw new Error("Unknown operand type "+x);M=M.concat(W.REAL(f))}return M},W.OP=W.BYTE,J.OP=J.BYTE;var ye=typeof WeakMap=="function"&&new WeakMap;function te(f,x,M){for(var k=0;k<x.length;k+=1){var F=x[k];this[F.name]=F.value}if(this.tableName=f,this.fields=x,M)for(var z=Object.keys(M),Y=0;Y<z.length;Y+=1){var ne=z[Y],de=M[ne];this[ne]!==void 0&&(this[ne]=de)}}function me(f,x,M){M===void 0&&(M=x.length);var k=new Array(x.length+1);k[0]={name:f+"Count",type:"USHORT",value:M};for(var F=0;F<x.length;F++)k[F+1]={name:f+F,type:"USHORT",value:x[F]};return k}function we(f,x,M){var k=x.length,F=new Array(k+1);F[0]={name:f+"Count",type:"USHORT",value:k};for(var z=0;z<k;z++)F[z+1]={name:f+z,type:"TABLE",value:M(x[z],z)};return F}function Ee(f,x,M){var k=x.length,F=[];F[0]={name:f+"Count",type:"USHORT",value:k};for(var z=0;z<k;z++)F=F.concat(M(x[z],z));return F}function xe(f){f.format===1?te.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(me("glyph",f.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function Te(f){te.call(this,"scriptListTable",Ee("scriptRecord",f,function(x,M){var k=x.script,F=k.defaultLangSys;return R.assert(!!F,"Unable to write GSUB: script "+x.tag+" has no default language system."),[{name:"scriptTag"+M,type:"TAG",value:x.tag},{name:"script"+M,type:"TABLE",value:new te("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new te("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:F.reqFeatureIndex}].concat(me("featureIndex",F.featureIndexes)))}].concat(Ee("langSys",k.langSysRecords,function(z,Y){var ne=z.langSys;return[{name:"langSysTag"+Y,type:"TAG",value:z.tag},{name:"langSys"+Y,type:"TABLE",value:new te("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ne.reqFeatureIndex}].concat(me("featureIndex",ne.featureIndexes)))}]})))}]}))}function Pe(f){te.call(this,"featureListTable",Ee("featureRecord",f,function(x,M){var k=x.feature;return[{name:"featureTag"+M,type:"TAG",value:x.tag},{name:"feature"+M,type:"TABLE",value:new te("featureTable",[{name:"featureParams",type:"USHORT",value:k.featureParams}].concat(me("lookupListIndex",k.lookupListIndexes)))}]}))}function We(f,x){te.call(this,"lookupListTable",we("lookup",f,function(M){var k=x[M.lookupType];return R.assert(!!k,"Unable to write GSUB lookup type "+M.lookupType+" tables."),new te("lookupTable",[{name:"lookupType",type:"USHORT",value:M.lookupType},{name:"lookupFlag",type:"USHORT",value:M.lookupFlag}].concat(we("subtable",M.subtables,k)))}))}W.CHARSTRING=function(f){if(ye){var x=ye.get(f);if(x!==void 0)return x}for(var z=[],M=f.length,k=0;k<M;k+=1)var F=f[k],z=z.concat(W[F.type](F.value));return ye&&ye.set(f,z),z},J.CHARSTRING=function(f){return W.CHARSTRING(f).length},W.OBJECT=function(f){var x=W[f.type];return R.argument(x!==void 0,"No encoding function for type "+f.type),x(f.value)},J.OBJECT=function(f){var x=J[f.type];return R.argument(x!==void 0,"No sizeOf function for type "+f.type),x(f.value)},W.TABLE=function(f){for(var x=[],M=f.fields.length,k=[],F=[],z=0;z<M;z+=1){var Y=f.fields[z],de=W[Y.type],ne=(R.argument(de!==void 0,"No encoding function for field type "+Y.type+" ("+Y.name+")"),f[Y.name]),de=de(ne=ne===void 0?Y.value:ne);Y.type==="TABLE"?(F.push(x.length),x=x.concat([0,0]),k.push(de)):x=x.concat(de)}for(var fe=0;fe<k.length;fe+=1){var Se=F[fe],Ie=x.length;R.argument(Ie<65536,"Table "+f.tableName+" too big."),x[Se]=Ie>>8,x[Se+1]=255&Ie,x=x.concat(k[fe])}return x},J.TABLE=function(f){for(var x=0,M=f.fields.length,k=0;k<M;k+=1){var F=f.fields[k],z=J[F.type],Y=(R.argument(z!==void 0,"No sizeOf function for field type "+F.type+" ("+F.name+")"),f[F.name]);x+=z(Y=Y===void 0?F.value:Y),F.type==="TABLE"&&(x+=2)}return x},W.RECORD=W.TABLE,J.RECORD=J.TABLE,W.LITERAL=function(f){return f},J.LITERAL=function(f){return f.length},te.prototype.encode=function(){return W.TABLE(this)},te.prototype.sizeOf=function(){return J.TABLE(this)};var Re={Table:te,Record:te,Coverage:(xe.prototype=Object.create(te.prototype)).constructor=xe,ScriptList:(Te.prototype=Object.create(te.prototype)).constructor=Te,FeatureList:(Pe.prototype=Object.create(te.prototype)).constructor=Pe,LookupList:(We.prototype=Object.create(te.prototype)).constructor=We,ushortList:me,tableList:we,recordList:Ee};function ft(f,x){return f.getUint8(x)}function ot(f,x){return f.getUint16(x,!1)}function rt(f,x){return f.getUint32(x,!1)}function ut(f,x){return f.getInt16(x,!1)+f.getUint16(x+2,!1)/65535}var it={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Oe(f,x){this.data=f,this.offset=x,this.relativeOffset=0}Oe.prototype.parseByte=function(){var f=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,f},Oe.prototype.parseChar=function(){var f=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,f},Oe.prototype.parseCard8=Oe.prototype.parseByte,Oe.prototype.parseCard16=Oe.prototype.parseUShort=function(){var f=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,f},Oe.prototype.parseSID=Oe.prototype.parseUShort,Oe.prototype.parseOffset16=Oe.prototype.parseUShort,Oe.prototype.parseShort=function(){var f=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,f},Oe.prototype.parseF2Dot14=function(){var f=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,f},Oe.prototype.parseOffset32=Oe.prototype.parseULong=function(){var f=rt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,f},Oe.prototype.parseFixed=function(){var f=ut(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,f},Oe.prototype.parseString=function(f){var x=this.data,M=this.offset+this.relativeOffset,k="";this.relativeOffset+=f;for(var F=0;F<f;F++)k+=String.fromCharCode(x.getUint8(M+F));return k},Oe.prototype.parseTag=function(){return this.parseString(4)},Oe.prototype.parseLongDateTime=function(){var f=rt(this.data,this.offset+this.relativeOffset+4);return f-=2082844800,this.relativeOffset+=8,f},Oe.prototype.parseVersion=function(f){var x=ot(this.data,this.offset+this.relativeOffset),M=ot(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,x+M/(f=f===void 0?4096:f)/10},Oe.prototype.skip=function(f,x){this.relativeOffset+=it[f]*(x=x===void 0?1:x)},Oe.prototype.parseULongList=function(f){f===void 0&&(f=this.parseULong());for(var x=new Array(f),M=this.data,k=this.offset+this.relativeOffset,F=0;F<f;F++)x[F]=M.getUint32(k),k+=4;return this.relativeOffset+=4*f,x},Oe.prototype.parseOffset16List=Oe.prototype.parseUShortList=function(f){f===void 0&&(f=this.parseUShort());for(var x=new Array(f),M=this.data,k=this.offset+this.relativeOffset,F=0;F<f;F++)x[F]=M.getUint16(k),k+=2;return this.relativeOffset+=2*f,x},Oe.prototype.parseShortList=function(f){for(var x=new Array(f),M=this.data,k=this.offset+this.relativeOffset,F=0;F<f;F++)x[F]=M.getInt16(k),k+=2;return this.relativeOffset+=2*f,x},Oe.prototype.parseByteList=function(f){for(var x=new Array(f),M=this.data,k=this.offset+this.relativeOffset,F=0;F<f;F++)x[F]=M.getUint8(k++);return this.relativeOffset+=f,x},Oe.prototype.parseList=function(f,x){x||(x=f,f=this.parseUShort());for(var M=new Array(f),k=0;k<f;k++)M[k]=x.call(this);return M},Oe.prototype.parseList32=function(f,x){x||(x=f,f=this.parseULong());for(var M=new Array(f),k=0;k<f;k++)M[k]=x.call(this);return M},Oe.prototype.parseRecordList=function(f,x){x||(x=f,f=this.parseUShort());for(var M=new Array(f),k=Object.keys(x),F=0;F<f;F++){for(var z={},Y=0;Y<k.length;Y++){var ne=k[Y],de=x[ne];z[ne]=de.call(this)}M[F]=z}return M},Oe.prototype.parseRecordList32=function(f,x){x||(x=f,f=this.parseULong());for(var M=new Array(f),k=Object.keys(x),F=0;F<f;F++){for(var z={},Y=0;Y<k.length;Y++){var ne=k[Y],de=x[ne];z[ne]=de.call(this)}M[F]=z}return M},Oe.prototype.parseStruct=function(f){if(typeof f=="function")return f.call(this);for(var x=Object.keys(f),M={},k=0;k<x.length;k++){var F=x[k],z=f[F];M[F]=z.call(this)}return M},Oe.prototype.parseValueRecord=function(f){var x;if((f=f===void 0?this.parseUShort():f)!==0)return x={},1&f&&(x.xPlacement=this.parseShort()),2&f&&(x.yPlacement=this.parseShort()),4&f&&(x.xAdvance=this.parseShort()),8&f&&(x.yAdvance=this.parseShort()),16&f&&(x.xPlaDevice=void 0,this.parseShort()),32&f&&(x.yPlaDevice=void 0,this.parseShort()),64&f&&(x.xAdvDevice=void 0,this.parseShort()),128&f&&(x.yAdvDevice=void 0,this.parseShort()),x},Oe.prototype.parseValueRecordList=function(){for(var f=this.parseUShort(),x=this.parseUShort(),M=new Array(x),k=0;k<x;k++)M[k]=this.parseValueRecord(f);return M},Oe.prototype.parsePointer=function(f){var x=this.parseOffset16();if(0<x)return new Oe(this.data,this.offset+x).parseStruct(f)},Oe.prototype.parsePointer32=function(f){var x=this.parseOffset32();if(0<x)return new Oe(this.data,this.offset+x).parseStruct(f)},Oe.prototype.parseListOfLists=function(f){for(var x=this.parseOffset16List(),M=x.length,k=this.relativeOffset,F=new Array(M),z=0;z<M;z++){var Y=x[z];if(Y===0)F[z]=void 0;else if(this.relativeOffset=Y,f){for(var ne=this.parseOffset16List(),de=new Array(ne.length),fe=0;fe<ne.length;fe++)this.relativeOffset=Y+ne[fe],de[fe]=f.call(this);F[z]=de}else F[z]=this.parseUShortList()}return this.relativeOffset=k,F},Oe.prototype.parseCoverage=function(){var f=this.offset+this.relativeOffset,x=this.parseUShort(),M=this.parseUShort();if(x===1)return{format:1,glyphs:this.parseUShortList(M)};if(x!==2)throw new Error("0x"+f.toString(16)+": Coverage format must be 1 or 2.");for(var k=new Array(M),F=0;F<M;F++)k[F]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:k}},Oe.prototype.parseClassDef=function(){var f=this.offset+this.relativeOffset,x=this.parseUShort();if(x===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(x===2)return{format:2,ranges:this.parseRecordList({start:Oe.uShort,end:Oe.uShort,classId:Oe.uShort})};throw new Error("0x"+f.toString(16)+": ClassDef format must be 1 or 2.")},Oe.list=function(f,x){return function(){return this.parseList(f,x)}},Oe.list32=function(f,x){return function(){return this.parseList32(f,x)}},Oe.recordList=function(f,x){return function(){return this.parseRecordList(f,x)}},Oe.recordList32=function(f,x){return function(){return this.parseRecordList32(f,x)}},Oe.pointer=function(f){return function(){return this.parsePointer(f)}},Oe.pointer32=function(f){return function(){return this.parsePointer32(f)}},Oe.tag=Oe.prototype.parseTag,Oe.byte=Oe.prototype.parseByte,Oe.uShort=Oe.offset16=Oe.prototype.parseUShort,Oe.uShortList=Oe.prototype.parseUShortList,Oe.uLong=Oe.offset32=Oe.prototype.parseULong,Oe.uLongList=Oe.prototype.parseULongList,Oe.struct=Oe.prototype.parseStruct,Oe.coverage=Oe.prototype.parseCoverage,Oe.classDef=Oe.prototype.parseClassDef;var qe={reserved:Oe.uShort,reqFeatureIndex:Oe.uShort,featureIndexes:Oe.uShortList},Le=(Oe.prototype.parseScriptList=function(){return this.parsePointer(Oe.recordList({tag:Oe.tag,script:Oe.pointer({defaultLangSys:Oe.pointer(qe),langSysRecords:Oe.recordList({tag:Oe.tag,langSys:Oe.pointer(qe)})})}))||[]},Oe.prototype.parseFeatureList=function(){return this.parsePointer(Oe.recordList({tag:Oe.tag,feature:Oe.pointer({featureParams:Oe.offset16,lookupListIndexes:Oe.uShortList})}))||[]},Oe.prototype.parseLookupList=function(f){return this.parsePointer(Oe.list(Oe.pointer(function(){var x=this.parseUShort(),M=(R.argument(1<=x&&x<=9,"GPOS/GSUB lookup type "+x+" unknown."),this.parseUShort()),k=16&M;return{lookupType:x,lookupFlag:M,subtables:this.parseList(Oe.pointer(f[x])),markFilteringSet:k?this.parseUShort():void 0}})))||[]},Oe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var f=this.parseUShort(),x=this.parseUShort();return R.argument(f===1&&x<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Oe.offset32,featureTableSubstitutionOffset:Oe.offset32})})||[]},{getByte:ft,getCard8:ft,getUShort:ot,getCard16:ot,getShort:function(f,x){return f.getInt16(x,!1)},getULong:rt,getFixed:ut,getTag:function(f,x){for(var M="",k=x;k<x+4;k+=1)M+=String.fromCharCode(f.getInt8(k));return M},getOffset:function(f,x,M){for(var k=0,F=0;F<M;F+=1)k=(k<<=8)+f.getUint8(x+F);return k},getBytes:function(f,x,M){for(var k=[],F=x;F<M;F+=1)k.push(f.getUint8(F));return k},bytesToString:function(f){for(var x="",M=0;M<f.length;M+=1)x+=String.fromCharCode(f[M]);return x},Parser:Oe}),ee={parse:function(f,x){for(var M={},k=(M.version=Le.getUShort(f,x),R.argument(M.version===0,"cmap table version should be 0."),M.numTables=Le.getUShort(f,x+2),-1),F=M.numTables-1;0<=F;--F){var z=Le.getUShort(f,x+4+8*F),Y=Le.getUShort(f,x+4+8*F+2);if(z===3&&(Y===0||Y===1||Y===10)||z===0&&(Y===0||Y===1||Y===2||Y===3||Y===4)){k=Le.getULong(f,x+4+8*F+4);break}}if(k===-1)throw new Error("No valid cmap sub-tables found.");var ne=new Le.Parser(f,x+k);if(M.format=ne.parseUShort(),M.format===12){var de,fe=M,Se=ne;Se.parseUShort(),fe.length=Se.parseULong(),fe.language=Se.parseULong(),fe.groupCount=de=Se.parseULong(),fe.glyphIndexMap={};for(var Ie=0;Ie<de;Ie+=1)for(var Ce=Se.parseULong(),ve=Se.parseULong(),Xe=Se.parseULong(),Ge=Ce;Ge<=ve;Ge+=1)fe.glyphIndexMap[Ge]=Xe,Xe++}else{if(M.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+M.format+").");var He=M,Ue=f,Ne=x,vt=k;He.length=ne.parseUShort(),He.language=ne.parseUShort(),He.segCount=kt=ne.parseUShort()>>1,ne.skip("uShort",3),He.glyphIndexMap={};for(var kt,yt=new Le.Parser(Ue,Ne+vt+14),bt=new Le.Parser(Ue,Ne+vt+16+2*kt),At=new Le.Parser(Ue,Ne+vt+16+4*kt),nr=new Le.Parser(Ue,Ne+vt+16+6*kt),cr=Ne+vt+16+8*kt,sr=0;sr<kt-1;sr+=1)for(var or=void 0,Sr=yt.parseUShort(),Yr=bt.parseUShort(),tr=At.parseShort(),ir=nr.parseUShort(),Xt=Yr;Xt<=Sr;Xt+=1)ir!==0?(cr=(cr=nr.offset+nr.relativeOffset-2)+ir+2*(Xt-Yr),(or=Le.getUShort(Ue,cr))!==0&&(or=or+tr&65535)):or=Xt+tr&65535,He.glyphIndexMap[Xt]=or}return M},make:function(f){for(var x=!0,M=f.length-1;0<M;--M)if(65535<f.get(M).unicode){console.log("Adding CMAP format 12 (needed!)"),x=!1;break}var k,F,z=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:x?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:x?12:20}],Y=(z=(z=x?z:z.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Re.Table("cmap",z));for(Y.segments=[],M=0;M<f.length;M+=1){for(var ne=f.get(M),de=0;de<ne.unicodes.length;de+=1)k=ne.unicodes[de],F=M,Y.segments.push({end:k,start:k,delta:-(k-F),offset:0,glyphIndex:F});Y.segments=Y.segments.sort(function(Ne,vt){return Ne.start-vt.start})}Y.segments.push({end:65535,start:65535,delta:1,offset:0});var fe=Y.segments.length,Se=0,Ie=[],Ce=[],ve=[],Xe=[],Ge=[],He=[];for(M=0;M<fe;M+=1){var Ue=Y.segments[M];Ue.end<=65535&&Ue.start<=65535?(Ie=Ie.concat({name:"end_"+M,type:"USHORT",value:Ue.end}),Ce=Ce.concat({name:"start_"+M,type:"USHORT",value:Ue.start}),ve=ve.concat({name:"idDelta_"+M,type:"SHORT",value:Ue.delta}),Xe=Xe.concat({name:"idRangeOffset_"+M,type:"USHORT",value:Ue.offset}),Ue.glyphId!==void 0&&(Ge=Ge.concat({name:"glyph_"+M,type:"USHORT",value:Ue.glyphId}))):Se+=1,x||Ue.glyphIndex===void 0||(He=(He=(He=He.concat({name:"cmap12Start_"+M,type:"ULONG",value:Ue.start})).concat({name:"cmap12End_"+M,type:"ULONG",value:Ue.end})).concat({name:"cmap12Glyph_"+M,type:"ULONG",value:Ue.glyphIndex}))}return Y.segCountX2=2*(fe-Se),Y.searchRange=2*Math.pow(2,Math.floor(Math.log(fe-Se)/Math.log(2))),Y.entrySelector=Math.log(Y.searchRange/2)/Math.log(2),Y.rangeShift=Y.segCountX2-Y.searchRange,Y.fields=Y.fields.concat(Ie),Y.fields.push({name:"reservedPad",type:"USHORT",value:0}),Y.fields=Y.fields.concat(Ce),Y.fields=Y.fields.concat(ve),Y.fields=Y.fields.concat(Xe),Y.fields=Y.fields.concat(Ge),Y.cmap4Length=14+2*Ie.length+2+2*Ce.length+2*ve.length+2*Xe.length+2*Ge.length,x||(z=16+4*He.length,Y.cmap12Offset=20+Y.cmap4Length,Y.fields=Y.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:z},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:He.length/3}]),Y.fields=Y.fields.concat(He)),Y}},oe=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],je=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ae(f){this.font=f}function Ve(f){this.cmap=f}function Je(f,x){this.encoding=f,this.charset=x}function tt(f){switch(f.version){case 1:this.names=je.slice();break;case 2:this.names=new Array(f.numberOfGlyphs);for(var x=0;x<f.numberOfGlyphs;x++)f.glyphNameIndex[x]<je.length?this.names[x]=je[f.glyphNameIndex[x]]:this.names[x]=f.names[f.glyphNameIndex[x]-je.length];break;case 2.5:this.names=new Array(f.numberOfGlyphs);for(var M=0;M<f.numberOfGlyphs;M++)this.names[M]=je[M+f.glyphNameIndex[M]];break;default:this.names=[]}}Ae.prototype.charToGlyphIndex=function(f){var x=f.codePointAt(0),M=this.font.glyphs;if(M){for(var k=0;k<M.length;k+=1)for(var F=M.get(k),z=0;z<F.unicodes.length;z+=1)if(F.unicodes[z]===x)return k}return null},Ve.prototype.charToGlyphIndex=function(f){return this.cmap.glyphIndexMap[f.codePointAt(0)]||0},Je.prototype.charToGlyphIndex=function(f){return f=f.codePointAt(0),f=this.encoding[f],this.charset.indexOf(f)},tt.prototype.nameToGlyphIndex=function(f){return this.names.indexOf(f)},tt.prototype.glyphIndexToName=function(f){return this.names[f]};var nt={line:function(f,x,M,k,F){f.beginPath(),f.moveTo(x,M),f.lineTo(k,F),f.stroke()}};function lt(f){this.bindConstructorValues(f)}function Et(f,x,M){Object.defineProperty(f,x,{get:function(){return f.path,f[M]},set:function(k){f[M]=k},enumerable:!0,configurable:!0})}function wt(f,x){if(this.font=f,this.glyphs={},Array.isArray(x))for(var M=0;M<x.length;M++)this.glyphs[M]=x[M];this.length=x&&x.length||0}lt.prototype.bindConstructorValues=function(f){var x;this.index=f.index||0,this.name=f.name||null,this.unicode=f.unicode||void 0,this.unicodes=f.unicodes||f.unicode!==void 0?[f.unicode]:[],f.xMin&&(this.xMin=f.xMin),f.yMin&&(this.yMin=f.yMin),f.xMax&&(this.xMax=f.xMax),f.yMax&&(this.yMax=f.yMax),f.advanceWidth&&(this.advanceWidth=f.advanceWidth),Object.defineProperty(this,"path",(f=f.path,x=f||new Q,{configurable:!0,get:function(){return x=typeof x=="function"?x():x},set:function(M){x=M}}))},lt.prototype.addUnicode=function(f){this.unicodes.length===0&&(this.unicode=f),this.unicodes.push(f)},lt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},lt.prototype.getPath=function(f,x,M,k,F){f=f!==void 0?f:0,x=x!==void 0?x:0,M=M!==void 0?M:72;for(var z,Y,ne=(k=k||{}).xScale,de=k.yScale,fe=((z=k.hinting&&F&&F.hinting?this.path&&F.hinting.exec(this,M):z)?(Y=F.hinting.getCommands(z),f=Math.round(f),x=Math.round(x),ne=de=1):(Y=this.path.commands,k=1/this.path.unitsPerEm*M,ne===void 0&&(ne=k),de===void 0&&(de=k)),new Q),Se=0;Se<Y.length;Se+=1){var Ie=Y[Se];Ie.type==="M"?fe.moveTo(f+Ie.x*ne,x+-Ie.y*de):Ie.type==="L"?fe.lineTo(f+Ie.x*ne,x+-Ie.y*de):Ie.type==="Q"?fe.quadraticCurveTo(f+Ie.x1*ne,x+-Ie.y1*de,f+Ie.x*ne,x+-Ie.y*de):Ie.type==="C"?fe.curveTo(f+Ie.x1*ne,x+-Ie.y1*de,f+Ie.x2*ne,x+-Ie.y2*de,f+Ie.x*ne,x+-Ie.y*de):Ie.type==="Z"&&fe.closePath()}return fe},lt.prototype.getContours=function(){if(this.points===void 0)return[];for(var f=[],x=[],M=0;M<this.points.length;M+=1){var k=this.points[M];x.push(k),k.lastPointOfContour&&(f.push(x),x=[])}return R.argument(x.length===0,"There are still points left in the current contour."),f},lt.prototype.getMetrics=function(){for(var f=this.path.commands,x=[],M=[],k=0;k<f.length;k+=1){var F=f[k];F.type!=="Z"&&(x.push(F.x),M.push(F.y)),F.type!=="Q"&&F.type!=="C"||(x.push(F.x1),M.push(F.y1)),F.type==="C"&&(x.push(F.x2),M.push(F.y2))}var z={xMin:Math.min.apply(null,x),yMin:Math.min.apply(null,M),xMax:Math.max.apply(null,x),yMax:Math.max.apply(null,M),leftSideBearing:this.leftSideBearing};return isFinite(z.xMin)||(z.xMin=0),isFinite(z.xMax)||(z.xMax=this.advanceWidth),isFinite(z.yMin)||(z.yMin=0),isFinite(z.yMax)||(z.yMax=0),z.rightSideBearing=this.advanceWidth-z.leftSideBearing-(z.xMax-z.xMin),z},lt.prototype.draw=function(f,x,M,k,F){this.getPath(x,M,k,F).draw(f)},lt.prototype.drawPoints=function(f,x,M,k){function F(Se,Ie,Ce,ve){var Xe=2*Math.PI;f.beginPath();for(var Ge=0;Ge<Se.length;Ge+=1)f.moveTo(Ie+Se[Ge].x*ve,Ce+Se[Ge].y*ve),f.arc(Ie+Se[Ge].x*ve,Ce+Se[Ge].y*ve,2,0,Xe,!1);f.closePath(),f.fill()}x=x!==void 0?x:0,M=M!==void 0?M:0;for(var k=1/this.path.unitsPerEm*(k=k!==void 0?k:24),z=[],Y=[],ne=this.path,de=0;de<ne.commands.length;de+=1){var fe=ne.commands[de];fe.x!==void 0&&z.push({x:fe.x,y:-fe.y}),fe.x1!==void 0&&Y.push({x:fe.x1,y:-fe.y1}),fe.x2!==void 0&&Y.push({x:fe.x2,y:-fe.y2})}f.fillStyle="blue",F(z,x,M,k),f.fillStyle="red",F(Y,x,M,k)},lt.prototype.drawMetrics=function(f,x,M,k){x=x!==void 0?x:0,M=M!==void 0?M:0,k=1/this.path.unitsPerEm*(k=k!==void 0?k:24),f.lineWidth=1,f.strokeStyle="black",nt.line(f,x,-1e4,x,1e4),nt.line(f,-1e4,M,1e4,M);var F=this.xMin||0,z=this.yMin||0,Y=this.xMax||0,ne=this.yMax||0,de=this.advanceWidth||0;f.strokeStyle="blue",nt.line(f,x+F*k,-1e4,x+F*k,1e4),nt.line(f,x+Y*k,-1e4,x+Y*k,1e4),nt.line(f,-1e4,M+-z*k,1e4,M+-z*k),nt.line(f,-1e4,M+-ne*k,1e4,M+-ne*k),f.strokeStyle="green",nt.line(f,x+de*k,-1e4,x+de*k,1e4)},wt.prototype.get=function(f){return typeof this.glyphs[f]=="function"&&(this.glyphs[f]=this.glyphs[f]()),this.glyphs[f]},wt.prototype.push=function(f,x){this.glyphs[f]=x,this.length++};var gt={GlyphSet:wt,glyphLoader:function(f,x){return new lt({index:x,font:f})},ttfGlyphLoader:function(f,x,M,k,F,z){return function(){var Y=new lt({index:x,font:f});return Y.path=function(){M(Y,k,F);var ne=z(f.glyphs,Y);return ne.unitsPerEm=f.unitsPerEm,ne},Et(Y,"xMin","_xMin"),Et(Y,"xMax","_xMax"),Et(Y,"yMin","_yMin"),Et(Y,"yMax","_yMax"),Y}},cffGlyphLoader:function(f,x,M,k){return function(){var F=new lt({index:x,font:f});return F.path=function(){var z=M(f,F,k);return z.unitsPerEm=f.unitsPerEm,z},F}}};function jt(f){return f=f.length<1240?107:f.length<33900?1131:32768,f}function xt(f,x,M){var k,F=[],z=[],Y=Le.getCard16(f,x);if(Y!==0){for(var ne=Le.getByte(f,x+2),de=x+(Y+1)*ne+2,fe=x+3,Se=0;Se<Y+1;Se+=1)F.push(Le.getOffset(f,fe,ne)),fe+=ne;k=de+F[Y]}else k=x+2;for(var Ie=0;Ie<F.length-1;Ie+=1){var Ce=Le.getBytes(f,de+F[Ie],de+F[Ie+1]);M&&(Ce=M(Ce)),z.push(Ce)}return{objects:z,startOffset:x,endOffset:k}}function Jt(f,x){if(x===28)return f.parseByte()<<8|f.parseByte();if(x===29)return f.parseByte()<<24|f.parseByte()<<16|f.parseByte()<<8|f.parseByte();if(x===30){for(var M=f,k="",F=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Y=M.parseByte(),z=Y>>4,Y=15&Y;if(z==15||(k+=F[z],Y==15))break;k+=F[Y]}return parseFloat(k)}if(32<=x&&x<=246)return x-139;if(247<=x&&x<=250)return 256*(x-247)+f.parseByte()+108;if(251<=x&&x<=254)return 256*-(x-251)-f.parseByte()-108;throw new Error("Invalid b0 "+x)}function Mr(f,x,M){var k=new Le.Parser(f,x=x!==void 0?x:0),F=[],z=[];for(M=M!==void 0?M:f.length;k.relativeOffset<M;){var Y=k.parseByte();Y<=21?(Y===12&&(Y=1200+k.parseByte()),F.push([Y,z]),z=[]):z.push(Jt(k,Y))}for(var ne=F,de={},fe=0;fe<ne.length;fe+=1){var Se=ne[fe][0],Ie=ne[fe][1],Ce=void 0,Ce=Ie.length===1?Ie[0]:Ie;if(de.hasOwnProperty(Se)&&!isNaN(de[Se]))throw new Error("Object "+de+" already has key "+Se);de[Se]=Ce}return de}function hr(f,x){return x=x<=390?oe[x]:f[x-391]}function Ht(f,x,M){for(var k,F={},z=0;z<x.length;z+=1){var Y=x[z];if(Array.isArray(Y.type)){var ne=[];ne.length=Y.type.length;for(var de=0;de<Y.type.length;de++)(k=f[Y.op]!==void 0?f[Y.op][de]:void 0)===void 0&&(k=Y.value!==void 0&&Y.value[de]!==void 0?Y.value[de]:null),Y.type[de]==="SID"&&(k=hr(M,k)),ne[de]=k;F[Y.name]=ne}else(k=f[Y.op])===void 0&&(k=Y.value!==void 0?Y.value:null),Y.type==="SID"&&(k=hr(M,k)),F[Y.name]=k}return F}var $t=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Bt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function mr(f,x,M,k){return Ht(Mr(f,x,M),Bt,k)}function _r(f,x,M,k){for(var F=[],z=0;z<M.length;z+=1){var Y=new DataView(new Uint8Array(M[z]).buffer),Y=(ne=k,Ht(Mr(Y,0,Y.byteLength),$t,ne)),ne=(Y._subrs=[],Y._subrsBias=0,Y.private[0]),de=Y.private[1];ne!==0&&de!==0&&(ne=mr(f,de+x,ne,k),Y._defaultWidthX=ne.defaultWidthX,Y._nominalWidthX=ne.nominalWidthX,ne.subrs!==0&&(de=xt(f,de+ne.subrs+x),Y._subrs=de.objects,Y._subrsBias=jt(Y._subrs)),Y._privateDict=ne),F.push(Y)}return F}function Zt(f,x,M){var k,F,z,Y,ne,de,fe,Se,Ie,Ce=new Q,ve=[],Xe=0,Ge=!1,He=!1,Ue=0,Ne=0,vt=(Ie=(f.isCIDFont?(ne=f.tables.cff.topDict._fdSelect[x.index],ne=f.tables.cff.topDict._fdArray[ne],de=ne._subrs,fe=ne._subrsBias,Se=ne._defaultWidthX,ne):(de=f.tables.cff.topDict._subrs,fe=f.tables.cff.topDict._subrsBias,Se=f.tables.cff.topDict._defaultWidthX,f.tables.cff.topDict))._nominalWidthX,Se);function kt(bt,At){He&&Ce.closePath(),Ce.moveTo(bt,At),He=!0}function yt(){ve.length%2==0||Ge||(vt=ve.shift()+Ie),Xe+=ve.length>>1,ve.length=0,Ge=!0}return(function bt(At){for(var nr,cr,sr,or,Sr,Yr,tr,ir,Xt,kr,Kt,ke,ze=0;ze<At.length;){var Be=At[ze];switch(ze+=1,Be){case 1:case 3:yt();break;case 4:1<ve.length&&!Ge&&(vt=ve.shift()+Ie,Ge=!0),Ne+=ve.pop(),kt(Ue,Ne);break;case 5:for(;0<ve.length;)Ue+=ve.shift(),Ne+=ve.shift(),Ce.lineTo(Ue,Ne);break;case 6:for(;0<ve.length&&(Ue+=ve.shift(),Ce.lineTo(Ue,Ne),ve.length!==0);)Ne+=ve.shift(),Ce.lineTo(Ue,Ne);break;case 7:for(;0<ve.length&&(Ne+=ve.shift(),Ce.lineTo(Ue,Ne),ve.length!==0);)Ue+=ve.shift(),Ce.lineTo(Ue,Ne);break;case 8:for(;0<ve.length;)k=Ue+ve.shift(),F=Ne+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Ue=z+ve.shift(),Ne=Y+ve.shift(),Ce.curveTo(k,F,z,Y,Ue,Ne);break;case 10:Sr=ve.pop()+fe,(Yr=de[Sr])&&bt(Yr);break;case 11:return;case 12:switch(Be=At[ze],ze+=1,Be){case 35:k=Ue+ve.shift(),F=Ne+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),tr=z+ve.shift(),ir=Y+ve.shift(),Xt=tr+ve.shift(),kr=ir+ve.shift(),Kt=Xt+ve.shift(),ke=kr+ve.shift(),Ue=Kt+ve.shift(),Ne=ke+ve.shift(),ve.shift(),Ce.curveTo(k,F,z,Y,tr,ir),Ce.curveTo(Xt,kr,Kt,ke,Ue,Ne);break;case 34:k=Ue+ve.shift(),F=Ne,z=k+ve.shift(),Y=F+ve.shift(),tr=z+ve.shift(),ir=Y,Xt=tr+ve.shift(),kr=Y,Kt=Xt+ve.shift(),ke=Ne,Ue=Kt+ve.shift(),Ce.curveTo(k,F,z,Y,tr,ir),Ce.curveTo(Xt,kr,Kt,ke,Ue,Ne);break;case 36:k=Ue+ve.shift(),F=Ne+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),tr=z+ve.shift(),ir=Y,Xt=tr+ve.shift(),kr=Y,Kt=Xt+ve.shift(),ke=kr+ve.shift(),Ue=Kt+ve.shift(),Ce.curveTo(k,F,z,Y,tr,ir),Ce.curveTo(Xt,kr,Kt,ke,Ue,Ne);break;case 37:k=Ue+ve.shift(),F=Ne+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),tr=z+ve.shift(),ir=Y+ve.shift(),Xt=tr+ve.shift(),kr=ir+ve.shift(),Kt=Xt+ve.shift(),ke=kr+ve.shift(),Math.abs(Kt-Ue)>Math.abs(ke-Ne)?Ue=Kt+ve.shift():Ne=ke+ve.shift(),Ce.curveTo(k,F,z,Y,tr,ir),Ce.curveTo(Xt,kr,Kt,ke,Ue,Ne);break;default:console.log("Glyph "+x.index+": unknown operator 1200"+Be),ve.length=0}break;case 14:0<ve.length&&!Ge&&(vt=ve.shift()+Ie,Ge=!0),He&&(Ce.closePath(),He=!1);break;case 18:yt();break;case 19:case 20:yt(),ze+=Xe+7>>3;break;case 21:2<ve.length&&!Ge&&(vt=ve.shift()+Ie,Ge=!0),Ne+=ve.pop(),kt(Ue+=ve.pop(),Ne);break;case 22:1<ve.length&&!Ge&&(vt=ve.shift()+Ie,Ge=!0),kt(Ue+=ve.pop(),Ne);break;case 23:yt();break;case 24:for(;2<ve.length;)k=Ue+ve.shift(),F=Ne+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Ue=z+ve.shift(),Ne=Y+ve.shift(),Ce.curveTo(k,F,z,Y,Ue,Ne);Ue+=ve.shift(),Ne+=ve.shift(),Ce.lineTo(Ue,Ne);break;case 25:for(;6<ve.length;)Ue+=ve.shift(),Ne+=ve.shift(),Ce.lineTo(Ue,Ne);k=Ue+ve.shift(),F=Ne+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Ue=z+ve.shift(),Ne=Y+ve.shift(),Ce.curveTo(k,F,z,Y,Ue,Ne);break;case 26:for(ve.length%2&&(Ue+=ve.shift());0<ve.length;)k=Ue,F=Ne+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Ue=z,Ne=Y+ve.shift(),Ce.curveTo(k,F,z,Y,Ue,Ne);break;case 27:for(ve.length%2&&(Ne+=ve.shift());0<ve.length;)k=Ue+ve.shift(),F=Ne,z=k+ve.shift(),Y=F+ve.shift(),Ue=z+ve.shift(),Ne=Y,Ce.curveTo(k,F,z,Y,Ue,Ne);break;case 28:nr=At[ze],cr=At[ze+1],ve.push((nr<<24|cr<<16)>>16),ze+=2;break;case 29:Sr=ve.pop()+f.gsubrsBias,(Yr=f.gsubrs[Sr])&&bt(Yr);break;case 30:for(;0<ve.length&&(k=Ue,F=Ne+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Ue=z+ve.shift(),Ne=Y+(ve.length===1?ve.shift():0),Ce.curveTo(k,F,z,Y,Ue,Ne),ve.length!==0);)k=Ue+ve.shift(),F=Ne,z=k+ve.shift(),Y=F+ve.shift(),Ne=Y+ve.shift(),Ue=z+(ve.length===1?ve.shift():0),Ce.curveTo(k,F,z,Y,Ue,Ne);break;case 31:for(;0<ve.length&&(k=Ue+ve.shift(),F=Ne,z=k+ve.shift(),Y=F+ve.shift(),Ne=Y+ve.shift(),Ue=z+(ve.length===1?ve.shift():0),Ce.curveTo(k,F,z,Y,Ue,Ne),ve.length!==0);)k=Ue,F=Ne+ve.shift(),z=k+ve.shift(),Y=F+ve.shift(),Ue=z+ve.shift(),Ne=Y+(ve.length===1?ve.shift():0),Ce.curveTo(k,F,z,Y,Ue,Ne);break;default:Be<32?console.log("Glyph "+x.index+": unknown operator "+Be):Be<247?ve.push(Be-139):Be<251?(nr=At[ze],ze+=1,ve.push(256*(Be-247)+nr+108)):Be<255?(nr=At[ze],ze+=1,ve.push(256*-(Be-251)-nr-108)):(nr=At[ze],cr=At[ze+1],sr=At[ze+2],or=At[ze+3],ze+=4,ve.push((nr<<24|cr<<16|sr<<8|or)/65536))}}})(M),x.advanceWidth=vt,Ce}function jr(f,x){var M,k=oe.indexOf(f);return 0<=k&&(M=k),0<=(k=x.indexOf(f))?M=k+oe.length:(M=oe.length+x.length,x.push(f)),M}function zn(f,x,M){for(var k={},F=0;F<f.length;F+=1){var z=f[F],Y=x[z.name];Y===void 0||(function ne(de,fe){if(de===fe)return 1;if(Array.isArray(de)&&Array.isArray(fe)&&de.length===fe.length){for(var Se=0;Se<de.length;Se+=1)if(!ne(de[Se],fe[Se]))return;return 1}})(Y,z.value)||(z.type==="SID"&&(Y=jr(Y,M)),k[z.op]={name:z.name,type:z.type,value:Y})}return k}function Hn(f,x){var M=new Re.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return M.dict=zn($t,f,x),M}function Wn(f){var x=new Re.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return x.topDicts=[{name:"topDict_0",type:"TABLE",value:f}],x}function ao(f){for(var x=new Re.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),M=0;M<f.length;M+=1){var k=f.get(M),F=(function(z){for(var Y=[],ne=z.path,de=(Y.push({name:"width",type:"NUMBER",value:z.advanceWidth}),0),fe=0,Se=0;Se<ne.commands.length;Se+=1){var Ie,Ce,ve,Xe,Ge=void 0,He=void 0,Ue=ne.commands[Se];(Ue=Ue.type==="Q"?{type:"C",x:Ue.x,y:Ue.y,x1:1/3*de+2/3*Ue.x1,y1:1/3*fe+2/3*Ue.y1,x2:1/3*Ue.x+2/3*Ue.x1,y2:1/3*Ue.y+2/3*Ue.y1}:Ue).type==="M"?(Ge=Math.round(Ue.x-de),He=Math.round(Ue.y-fe),Y.push({name:"dx",type:"NUMBER",value:Ge}),Y.push({name:"dy",type:"NUMBER",value:He}),Y.push({name:"rmoveto",type:"OP",value:21}),de=Math.round(Ue.x),fe=Math.round(Ue.y)):Ue.type==="L"?(Ge=Math.round(Ue.x-de),He=Math.round(Ue.y-fe),Y.push({name:"dx",type:"NUMBER",value:Ge}),Y.push({name:"dy",type:"NUMBER",value:He}),Y.push({name:"rlineto",type:"OP",value:5}),de=Math.round(Ue.x),fe=Math.round(Ue.y)):Ue.type==="C"&&(Ie=Math.round(Ue.x1-de),Ce=Math.round(Ue.y1-fe),ve=Math.round(Ue.x2-Ue.x1),Xe=Math.round(Ue.y2-Ue.y1),Ge=Math.round(Ue.x-Ue.x2),He=Math.round(Ue.y-Ue.y2),Y.push({name:"dx1",type:"NUMBER",value:Ie}),Y.push({name:"dy1",type:"NUMBER",value:Ce}),Y.push({name:"dx2",type:"NUMBER",value:ve}),Y.push({name:"dy2",type:"NUMBER",value:Xe}),Y.push({name:"dx",type:"NUMBER",value:Ge}),Y.push({name:"dy",type:"NUMBER",value:He}),Y.push({name:"rrcurveto",type:"OP",value:8}),de=Math.round(Ue.x),fe=Math.round(Ue.y))}return Y.push({name:"endchar",type:"OP",value:14}),Y})(k);x.charStrings.push({name:k.name,type:"CHARSTRING",value:F})}return x}var qn={parse:function(f,x,M){M.tables.cff={},ne=f,k=x,(F={}).formatMajor=Le.getCard8(ne,k),F.formatMinor=Le.getCard8(ne,k+1),F.size=Le.getCard8(ne,k+2),F.offsetSize=Le.getCard8(ne,k+3),F.startOffset=k,F.endOffset=k+4;var ne=xt(f,F.endOffset,Le.bytesToString),k=xt(f,ne.endOffset),F=xt(f,k.endOffset,Le.bytesToString),ne=xt(f,F.endOffset);if(M.gsubrs=ne.objects,M.gsubrsBias=jt(M.gsubrs),(ne=_r(f,x,k.objects,F.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ne.length);if(k=ne[0],(M.tables.cff.topDict=k)._privateDict&&(M.defaultWidthX=k._privateDict.defaultWidthX,M.nominalWidthX=k._privateDict.nominalWidthX),k.ros[0]!==void 0&&k.ros[1]!==void 0&&(M.isCIDFont=!0),M.isCIDFont){var ne=k.fdArray,z=k.fdSelect;if(ne===0||z===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ne=_r(f,x,xt(f,ne+=x).objects,F.objects),k._fdArray=ne,k._fdSelect=(function(Ce,ve,Xe,Ge){var He,Ue=[],Ne=new Le.Parser(Ce,ve);if((Ce=Ne.parseCard8())===0)for(var vt=0;vt<Xe;vt++){if(Ge<=(He=Ne.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+He+" (FD count "+Ge+")");Ue.push(He)}else{if(Ce!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ce);var kt,yt=Ne.parseCard16(),bt=Ne.parseCard16();if(bt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+bt);for(var At=0;At<yt;At++){if(He=Ne.parseCard8(),kt=Ne.parseCard16(),Ge<=He)throw new Error("CFF table CID Font FDSelect has bad FD index value "+He+" (FD count "+Ge+")");if(Xe<kt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+kt);for(;bt<kt;bt++)Ue.push(He);bt=kt}if(kt!==Xe)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+kt)}return Ue})(f,z+=x,M.numGlyphs,ne.length)}var z=x+k.private[1],ne=mr(f,z,k.private[0],F.objects),Y=(M.defaultWidthX=ne.defaultWidthX,M.nominalWidthX=ne.nominalWidthX,ne.subrs!==0?(z=xt(f,z+ne.subrs),M.subrs=z.objects,M.subrsBias=jt(M.subrs)):(M.subrs=[],M.subrsBias=0),xt(f,x+k.charStrings)),ne=(M.nGlyphs=Y.objects.length,(function(Se,Ie,Ce,ve){var Xe=new Le.Parser(Se,Ie),Ge=(--Ce,[".notdef"]);if((Se=Xe.parseCard8())===0)for(var He=0;He<Ce;He+=1)Ue=Xe.parseSID(),Ge.push(hr(ve,Ue));else if(Se===1)for(;Ge.length<=Ce;)for(var Ue=Xe.parseSID(),Ne=Xe.parseCard8(),vt=0;vt<=Ne;vt+=1)Ge.push(hr(ve,Ue)),Ue+=1;else{if(Se!==2)throw new Error("Unknown charset format "+Se);for(;Ge.length<=Ce;){Ue=Xe.parseSID(),Ne=Xe.parseCard16();for(var kt=0;kt<=Ne;kt+=1)Ge.push(hr(ve,Ue)),Ue+=1}}return Ge})(f,x+k.charset,M.nGlyphs,F.objects));k.encoding===0?M.cffEncoding=new Je(K,ne):k.encoding===1?M.cffEncoding=new Je(ie,ne):M.cffEncoding=(function(Se,Ie,Ce){var ve={},Xe=new Le.Parser(Se,Ie);if((Se=Xe.parseCard8())===0)for(var Ge=Xe.parseCard8(),He=0;He<Ge;He+=1)ve[Ne=Xe.parseCard8()]=He;else{if(Se!==1)throw new Error("Unknown encoding format "+Se);for(var Ue=Xe.parseCard8(),Ne=1,vt=0;vt<Ue;vt+=1)for(var kt=Xe.parseCard8(),yt=Xe.parseCard8(),bt=kt;bt<=kt+yt;bt+=1)ve[bt]=Ne,Ne+=1}return new Je(ve,Ce)})(f,x+k.encoding,ne),M.encoding=M.encoding||M.cffEncoding,M.glyphs=new gt.GlyphSet(M);for(var de=0;de<M.nGlyphs;de+=1){var fe=Y.objects[de];M.glyphs.push(de,gt.cffGlyphLoader(M,de,Zt,fe))}},make:function(f,Se){for(var M,k=new Re.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),F=1/Se.unitsPerEm,F={version:Se.version,fullName:Se.fullName,familyName:Se.familyName,weight:Se.weightName,fontBBox:Se.fontBBox||[0,0,0,0],fontMatrix:[F,0,0,F,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},z=[],Y=1;Y<f.length;Y+=1)M=f.get(Y),z.push(M.name);var ne,de,fe=[],Se=(k.header=new Re.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),k.nameIndex=(function(Ce){var ve=new Re.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);ve.names=[];for(var Xe=0;Xe<Ce.length;Xe+=1)ve.names.push({name:"name_"+Xe,type:"NAME",value:Ce[Xe]});return ve})([Se.postScriptName]),Hn(F,fe)),Ie=(k.topDictIndex=Wn(Se),k.globalSubrIndex=new Re.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),k.charsets=(function(Ce,ve){for(var Xe=new Re.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ge=0;Ge<Ce.length;Ge+=1){var He=jr(Ce[Ge],ve);Xe.fields.push({name:"glyph_"+Ge,type:"SID",value:He})}return Xe})(z,fe),k.charStringsIndex=ao(f),k.privateDict=(Ie={},ne=fe,(de=new Re.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=zn(Bt,Ie,ne),de),k.stringIndex=(function(Ce){var ve=new Re.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);ve.strings=[];for(var Xe=0;Xe<Ce.length;Xe+=1)ve.strings.push({name:"string_"+Xe,type:"STRING",value:Ce[Xe]});return ve})(fe),k.header.sizeOf()+k.nameIndex.sizeOf()+k.topDictIndex.sizeOf()+k.stringIndex.sizeOf()+k.globalSubrIndex.sizeOf());return F.charset=Ie,F.encoding=0,F.charStrings=F.charset+k.charsets.sizeOf(),F.private[1]=F.charStrings+k.charStringsIndex.sizeOf(),Se=Hn(F,fe),k.topDictIndex=Wn(Se),k}},Cn={parse:function(k,x){var M={},k=new Le.Parser(k,x);return M.version=k.parseVersion(),M.fontRevision=Math.round(1e3*k.parseFixed())/1e3,M.checkSumAdjustment=k.parseULong(),M.magicNumber=k.parseULong(),R.argument(M.magicNumber===1594834165,"Font header has wrong magic number."),M.flags=k.parseUShort(),M.unitsPerEm=k.parseUShort(),M.created=k.parseLongDateTime(),M.modified=k.parseLongDateTime(),M.xMin=k.parseShort(),M.yMin=k.parseShort(),M.xMax=k.parseShort(),M.yMax=k.parseShort(),M.macStyle=k.parseUShort(),M.lowestRecPPEM=k.parseUShort(),M.fontDirectionHint=k.parseShort(),M.indexToLocFormat=k.parseShort(),M.glyphDataFormat=k.parseShort(),M},make:function(f){var x=Math.round(new Date().getTime()/1e3)+2082844800,M=x;return f.createdTimestamp&&(M=f.createdTimestamp+2082844800),new Re.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:M},{name:"modified",type:"LONGDATETIME",value:x},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],f)}},be={parse:function(k,x){var M={},k=new Le.Parser(k,x);return M.version=k.parseVersion(),M.ascender=k.parseShort(),M.descender=k.parseShort(),M.lineGap=k.parseShort(),M.advanceWidthMax=k.parseUShort(),M.minLeftSideBearing=k.parseShort(),M.minRightSideBearing=k.parseShort(),M.xMaxExtent=k.parseShort(),M.caretSlopeRise=k.parseShort(),M.caretSlopeRun=k.parseShort(),M.caretOffset=k.parseShort(),k.relativeOffset+=8,M.metricDataFormat=k.parseShort(),M.numberOfHMetrics=k.parseUShort(),M},make:function(f){return new Re.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],f)}},$e={parse:function(f,x,M,k,F){for(var z,Y,ne=new Le.Parser(f,x),de=0;de<k;de+=1){de<M&&(z=ne.parseUShort(),Y=ne.parseShort());var fe=F.get(de);fe.advanceWidth=z,fe.leftSideBearing=Y}},make:function(f){for(var x=new Re.Table("hmtx",[]),M=0;M<f.length;M+=1){var F=f.get(M),k=F.advanceWidth||0,F=F.leftSideBearing||0;x.fields.push({name:"advanceWidth_"+M,type:"USHORT",value:k}),x.fields.push({name:"leftSideBearing_"+M,type:"SHORT",value:F})}return x}},dt={make:function(f){for(var x=new Re.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:f.length}]),M="",k=12+4*f.length,F=0;F<f.length;++F){var z=M.indexOf(f[F]);z<0&&(z=M.length,M+=f[F]),x.fields.push({name:"offset "+F,type:"USHORT",value:k+z}),x.fields.push({name:"length "+F,type:"USHORT",value:f[F].length})}return x.fields.push({name:"stringPool",type:"CHARARRAY",value:M}),x},parse:function(f,x){for(var M=new Le.Parser(f,x),k=M.parseULong(),F=(R.argument(k===1,"Unsupported ltag table version."),M.skip("uLong",1),M.parseULong()),z=[],Y=0;Y<F;Y++){for(var ne="",de=x+M.parseUShort(),fe=M.parseUShort(),Se=de;Se<de+fe;++Se)ne+=String.fromCharCode(f.getInt8(Se));z.push(ne)}return z}},Qe={parse:function(k,x){var M={},k=new Le.Parser(k,x);return M.version=k.parseVersion(),M.numGlyphs=k.parseUShort(),M.version===1&&(M.maxPoints=k.parseUShort(),M.maxContours=k.parseUShort(),M.maxCompositePoints=k.parseUShort(),M.maxCompositeContours=k.parseUShort(),M.maxZones=k.parseUShort(),M.maxTwilightPoints=k.parseUShort(),M.maxStorage=k.parseUShort(),M.maxFunctionDefs=k.parseUShort(),M.maxInstructionDefs=k.parseUShort(),M.maxStackElements=k.parseUShort(),M.maxSizeOfInstructions=k.parseUShort(),M.maxComponentElements=k.parseUShort(),M.maxComponentDepth=k.parseUShort()),M},make:function(f){return new Re.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:f}])}},It=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ye={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Ft={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},at={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Lt="utf-16",ct={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},dr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function yr(f,x,M){switch(f){case 0:return Lt;case 1:return dr[M]||ct[x];case 3:if(x===1||x===10)return Lt}}function lr(f){var x,M={};for(x in f)M[f[x]]=parseInt(x);return M}function gr(f,x,M,k,F,z){return new Re.Record("NameRecord",[{name:"platformID",type:"USHORT",value:f},{name:"encodingID",type:"USHORT",value:x},{name:"languageID",type:"USHORT",value:M},{name:"nameID",type:"USHORT",value:k},{name:"length",type:"USHORT",value:F},{name:"offset",type:"USHORT",value:z}])}function qr(f,x){if((M=(function(z,Y){var ne=z.length,de=Y.length-ne+1;e:for(var fe=0;fe<de;fe++)for(;fe<de;fe++){for(var Se=0;Se<ne;Se++)if(Y[fe+Se]!==z[Se])continue e;return fe}return-1})(f,x))<0)for(var M=x.length,k=0,F=f.length;k<F;++k)x.push(f[k]);return M}var Ir={parse:function(f,x,M){for(var k={},F=new Le.Parser(f,x),x=F.parseUShort(),z=F.parseUShort(),Y=F.offset+F.parseUShort(),ne=0;ne<z;ne++){var Xe=F.parseUShort(),de=F.parseUShort(),fe=F.parseUShort(),Se=F.parseUShort(),Se=It[Se]||Se,Ie=F.parseUShort(),Ce=F.parseUShort(),ve=(function(He,Ue,Ne){switch(He){case 0:if(Ue===65535)return"und";if(Ne)return Ne[Ue];break;case 1:return Ye[Ue];case 3:return at[Ue]}})(Xe,fe,M),Xe=yr(Xe,de,fe);Xe!==void 0&&ve!==void 0&&(de=void 0,(de=Xe===Lt?N.UTF16(f,Y+Ce,Ie):N.MACSTRING(f,Y+Ce,Ie,Xe))&&((fe=(fe=k[Se])===void 0?k[Se]={}:fe)[ve]=de))}return x===1&&F.parseUShort(),k},make:function(f,x){var M,k=[],F={},z=lr(It);for(M in f){var Y=z[M];if(Y===void 0&&(Y=M),Ce=parseInt(Y),isNaN(Ce))throw new Error('Name table entry "'+M+'" does not exist, see nameTableNames for complete list.');F[Ce]=f[M],k.push(Ce)}for(var ne=lr(Ye),de=lr(at),fe=[],Se=[],Ie=0;Ie<k.length;Ie++){var Ce,ve,Xe=F[Ce=k[Ie]];for(ve in Xe){var Ge=Xe[ve],kt=1,He=ne[ve],Ue=Ft[He],Ne=yr(kt,Ue,He),Ne=W.MACSTRING(Ge,Ne),vt=(Ne===void 0&&(kt=0,(He=x.indexOf(ve))<0&&(He=x.length,x.push(ve)),Ue=4,Ne=W.UTF16(Ge)),qr(Ne,Se)),kt=(fe.push(gr(kt,Ue,He,Ce,Ne.length,vt)),de[ve]);kt!==void 0&&(He=qr(Ue=W.UTF16(Ge),Se),fe.push(gr(3,1,kt,Ce,Ue.length,He)))}}fe.sort(function(At,nr){return At.platformID-nr.platformID||At.encodingID-nr.encodingID||At.languageID-nr.languageID||At.nameID-nr.nameID});for(var yt=new Re.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:fe.length},{name:"stringOffset",type:"USHORT",value:6+12*fe.length}]),bt=0;bt<fe.length;bt++)yt.fields.push({name:"record_"+bt,type:"RECORD",value:fe[bt]});return yt.fields.push({name:"strings",type:"LITERAL",value:Se}),yt}},$r=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],xr={parse:function(f,x){var M={},k=new Le.Parser(f,x);M.version=k.parseUShort(),M.xAvgCharWidth=k.parseShort(),M.usWeightClass=k.parseUShort(),M.usWidthClass=k.parseUShort(),M.fsType=k.parseUShort(),M.ySubscriptXSize=k.parseShort(),M.ySubscriptYSize=k.parseShort(),M.ySubscriptXOffset=k.parseShort(),M.ySubscriptYOffset=k.parseShort(),M.ySuperscriptXSize=k.parseShort(),M.ySuperscriptYSize=k.parseShort(),M.ySuperscriptXOffset=k.parseShort(),M.ySuperscriptYOffset=k.parseShort(),M.yStrikeoutSize=k.parseShort(),M.yStrikeoutPosition=k.parseShort(),M.sFamilyClass=k.parseShort(),M.panose=[];for(var F=0;F<10;F++)M.panose[F]=k.parseByte();return M.ulUnicodeRange1=k.parseULong(),M.ulUnicodeRange2=k.parseULong(),M.ulUnicodeRange3=k.parseULong(),M.ulUnicodeRange4=k.parseULong(),M.achVendID=String.fromCharCode(k.parseByte(),k.parseByte(),k.parseByte(),k.parseByte()),M.fsSelection=k.parseUShort(),M.usFirstCharIndex=k.parseUShort(),M.usLastCharIndex=k.parseUShort(),M.sTypoAscender=k.parseShort(),M.sTypoDescender=k.parseShort(),M.sTypoLineGap=k.parseShort(),M.usWinAscent=k.parseUShort(),M.usWinDescent=k.parseUShort(),1<=M.version&&(M.ulCodePageRange1=k.parseULong(),M.ulCodePageRange2=k.parseULong()),2<=M.version&&(M.sxHeight=k.parseShort(),M.sCapHeight=k.parseShort(),M.usDefaultChar=k.parseUShort(),M.usBreakChar=k.parseUShort(),M.usMaxContent=k.parseUShort()),M},make:function(f){return new Re.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],f)},unicodeRanges:$r,getUnicodeRange:function(f){for(var x=0;x<$r.length;x+=1){var M=$r[x];if(f>=M.begin&&f<M.end)return x}return-1}},as={parse:function(f,x){var M={},k=new Le.Parser(f,x);switch(M.version=k.parseVersion(),M.italicAngle=k.parseFixed(),M.underlinePosition=k.parseShort(),M.underlineThickness=k.parseShort(),M.isFixedPitch=k.parseULong(),M.minMemType42=k.parseULong(),M.maxMemType42=k.parseULong(),M.minMemType1=k.parseULong(),M.maxMemType1=k.parseULong(),M.version){case 1:M.names=je.slice();break;case 2:M.numberOfGlyphs=k.parseUShort(),M.glyphNameIndex=new Array(M.numberOfGlyphs);for(var F=0;F<M.numberOfGlyphs;F++)M.glyphNameIndex[F]=k.parseUShort();M.names=[];for(var z,Y=0;Y<M.numberOfGlyphs;Y++)M.glyphNameIndex[Y]>=je.length&&(z=k.parseChar(),M.names.push(k.parseString(z)));break;case 2.5:M.numberOfGlyphs=k.parseUShort(),M.offset=new Array(M.numberOfGlyphs);for(var ne=0;ne<M.numberOfGlyphs;ne++)M.offset[ne]=k.parseChar()}return M},make:function(){return new Re.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Gr=new Array(9),_n=(Gr[1]=function(){var f=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{substFormat:1,coverage:this.parsePointer(Oe.coverage),deltaGlyphId:this.parseUShort()}:x===2?{substFormat:2,coverage:this.parsePointer(Oe.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+f.toString(16)+": lookup type 1 format must be 1 or 2.")},Gr[2]=function(){var f=this.parseUShort();return R.argument(f===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Oe.coverage),sequences:this.parseListOfLists()}},Gr[3]=function(){var f=this.parseUShort();return R.argument(f===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Oe.coverage),alternateSets:this.parseListOfLists()}},Gr[4]=function(){var f=this.parseUShort();return R.argument(f===1,"GSUB ligature table identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Oe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Oe.uShort,lookupListIndex:Oe.uShort});Gr[5]=function(){var f,x,M=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{substFormat:k,coverage:this.parsePointer(Oe.coverage),ruleSets:this.parseListOfLists(function(){var F=this.parseUShort(),z=this.parseUShort();return{input:this.parseUShortList(F-1),lookupRecords:this.parseRecordList(z,_n)}})}:k===2?{substFormat:k,coverage:this.parsePointer(Oe.coverage),classDef:this.parsePointer(Oe.classDef),classSets:this.parseListOfLists(function(){var F=this.parseUShort(),z=this.parseUShort();return{classes:this.parseUShortList(F-1),lookupRecords:this.parseRecordList(z,_n)}})}:k===3?(f=this.parseUShort(),x=this.parseUShort(),{substFormat:k,coverages:this.parseList(f,Oe.pointer(Oe.coverage)),lookupRecords:this.parseRecordList(x,_n)}):void R.assert(!1,"0x"+M.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Gr[6]=function(){var f=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{substFormat:1,coverage:this.parsePointer(Oe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(_n)}})}:x===2?{substFormat:2,coverage:this.parsePointer(Oe.coverage),backtrackClassDef:this.parsePointer(Oe.classDef),inputClassDef:this.parsePointer(Oe.classDef),lookaheadClassDef:this.parsePointer(Oe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(_n)}})}:x===3?{substFormat:3,backtrackCoverage:this.parseList(Oe.pointer(Oe.coverage)),inputCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookaheadCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookupRecords:this.parseRecordList(_n)}:void R.assert(!1,"0x"+f.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Gr[7]=function(){var f=this.parseUShort(),f=(R.argument(f===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),x=new Oe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:f,extension:Gr[f].call(x)}},Gr[8]=function(){var f=this.parseUShort();return R.argument(f===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Oe.coverage),backtrackCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookaheadCoverage:this.parseList(Oe.pointer(Oe.coverage)),substitutes:this.parseUShortList()}};var Xn=new Array(9);Xn[1]=function(f){return f.substFormat===1?new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Re.Coverage(f.coverage)},{name:"deltaGlyphID",type:"USHORT",value:f.deltaGlyphId}]):new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Re.Coverage(f.coverage)}].concat(Re.ushortList("substitute",f.substitute)))},Xn[3]=function(f){return R.assert(f.substFormat===1,"Lookup type 3 substFormat must be 1."),new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Re.Coverage(f.coverage)}].concat(Re.tableList("altSet",f.alternateSets,function(x){return new Re.Table("alternateSetTable",Re.ushortList("alternate",x))})))},Xn[4]=function(f){return R.assert(f.substFormat===1,"Lookup type 4 substFormat must be 1."),new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Re.Coverage(f.coverage)}].concat(Re.tableList("ligSet",f.ligatureSets,function(x){return new Re.Table("ligatureSetTable",Re.tableList("ligature",x,function(M){return new Re.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:M.ligGlyph}].concat(Re.ushortList("component",M.components,M.components.length+1)))}))})))};var lo={parse:function(f,x){return x=(f=new Oe(f,x=x||0)).parseVersion(1),R.argument(x===1||x===1.1,"Unsupported GSUB table version."),x===1?{version:x,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(Gr)}:{version:x,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(Gr),variations:f.parseFeatureVariationsList()}},make:function(f){return new Re.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Re.ScriptList(f.scripts)},{name:"features",type:"TABLE",value:new Re.FeatureList(f.features)},{name:"lookups",type:"TABLE",value:new Re.LookupList(f.lookups,Xn)}])}},ls={parse:function(f,x){for(var M=new Le.Parser(f,x),k=M.parseULong(),F=(R.argument(k===1,"Unsupported META table version."),M.parseULong(),M.parseULong(),M.parseULong()),z={},Y=0;Y<F;Y++){var ne=M.parseTag(),fe=M.parseULong(),de=M.parseULong(),fe=N.UTF8(f,x+fe,de);z[ne]=fe}return z},make:function(f){var x,M=Object.keys(f).length,k="",F=16+12*M,z=new Re.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:F},{name:"numTags",type:"ULONG",value:M}]);for(x in f){var Y=k.length;k+=f[x],z.fields.push({name:"tag "+x,type:"TAG",value:x}),z.fields.push({name:"offset "+x,type:"ULONG",value:F+Y}),z.fields.push({name:"length "+x,type:"ULONG",value:f[x].length})}return z.fields.push({name:"stringPool",type:"CHARARRAY",value:k}),z}};function Mo(f){return Math.log(f)/Math.log(2)|0}function An(f){for(;f.length%4!=0;)f.push(0);for(var x=0,M=0;M<f.length;M+=4)x+=(f[M]<<24)+(f[M+1]<<16)+(f[M+2]<<8)+f[M+3];return x%=Math.pow(2,32)}function Oo(f,x,M,k){return new Re.Record("Table Record",[{name:"tag",type:"TAG",value:f!==void 0?f:""},{name:"checkSum",type:"ULONG",value:x!==void 0?x:0},{name:"offset",type:"ULONG",value:M!==void 0?M:0},{name:"length",type:"ULONG",value:k!==void 0?k:0}])}function us(f){for(var x=new Re.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),M=(x.tables=f,x.numTables=f.length,Math.pow(2,Mo(x.numTables))),k=(x.searchRange=16*M,x.entrySelector=Mo(M),x.rangeShift=16*x.numTables-x.searchRange,[]),F=[],z=x.sizeOf()+Oo().sizeOf()*x.numTables;z%4!=0;)z+=1,F.push({name:"padding",type:"BYTE",value:0});for(var Y=0;Y<f.length;Y+=1){var ne=f[Y],de=(R.argument(ne.tableName.length===4,"Table name"+ne.tableName+" is invalid."),ne.sizeOf()),fe=Oo(ne.tableName,An(ne.encode()),z,de);for(k.push({name:fe.tag+" Table Record",type:"RECORD",value:fe}),F.push({name:ne.tableName+" table",type:"RECORD",value:ne}),z+=de,R.argument(!isNaN(z),"Something went wrong calculating the offset.");z%4!=0;)z+=1,F.push({name:"padding",type:"BYTE",value:0})}return k.sort(function(Se,Ie){return Se.value.tag>Ie.value.tag?1:-1}),x.fields=x.fields.concat(k),x.fields=x.fields.concat(F),x}function ko(f,x,M){for(var k=0;k<x.length;k+=1){var F=f.charToGlyphIndex(x[k]);if(0<F)return f.glyphs.get(F).getMetrics()}return M}var cs={make:us,fontToTable:function(f){for(var x,M=[],k=[],F=[],z=[],Y=[],ne=[],de=[],fe=0,Se=0,Ie=0,Ce=0,ve=0,Xe=0;Xe<f.glyphs.length;Xe+=1){var Ge=f.glyphs.get(Xe),He=0|Ge.unicode;if(isNaN(Ge.advanceWidth))throw new Error("Glyph "+Ge.name+" ("+Xe+"): advanceWidth is not a number.");(He<x||x===void 0)&&0<He&&(x=He),fe<He&&(fe=He);var He=xr.getUnicodeRange(He);if(He<32)Se|=1<<He;else if(He<64)Ie|=1<<He-32;else if(He<96)Ce|=1<<He-64;else{if(!(He<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");ve|=1<<He-96}Ge.name!==".notdef"&&(He=Ge.getMetrics(),M.push(He.xMin),k.push(He.yMin),F.push(He.xMax),z.push(He.yMax),ne.push(He.leftSideBearing),de.push(He.rightSideBearing),Y.push(Ge.advanceWidth))}var Ue,Ne={xMin:Math.min.apply(null,M),yMin:Math.min.apply(null,k),xMax:Math.max.apply(null,F),yMax:Math.max.apply(null,z),advanceWidthMax:Math.max.apply(null,Y),advanceWidthAvg:(function(Be){for(var mt=0,St=0;St<Be.length;St+=1)mt+=Be[St];return mt/Be.length})(Y),minLeftSideBearing:Math.min.apply(null,ne),maxLeftSideBearing:Math.max.apply(null,ne),minRightSideBearing:Math.min.apply(null,de)},vt=(Ne.ascender=f.ascender,Ne.descender=f.descender,Cn.make({flags:3,unitsPerEm:f.unitsPerEm,xMin:Ne.xMin,yMin:Ne.yMin,xMax:Ne.xMax,yMax:Ne.yMax,lowestRecPPEM:3,createdTimestamp:f.createdTimestamp})),kt=be.make({ascender:Ne.ascender,descender:Ne.descender,advanceWidthMax:Ne.advanceWidthMax,minLeftSideBearing:Ne.minLeftSideBearing,minRightSideBearing:Ne.minRightSideBearing,xMaxExtent:Ne.maxLeftSideBearing+(Ne.xMax-Ne.xMin),numberOfHMetrics:f.glyphs.length}),yt=Qe.make(f.glyphs.length),bt=xr.make({xAvgCharWidth:Math.round(Ne.advanceWidthAvg),usWeightClass:f.tables.os2.usWeightClass,usWidthClass:f.tables.os2.usWidthClass,usFirstCharIndex:x,usLastCharIndex:fe,ulUnicodeRange1:Se,ulUnicodeRange2:Ie,ulUnicodeRange3:Ce,ulUnicodeRange4:ve,fsSelection:f.tables.os2.fsSelection,sTypoAscender:Ne.ascender,sTypoDescender:Ne.descender,sTypoLineGap:0,usWinAscent:Ne.yMax,usWinDescent:Math.abs(Ne.yMin),ulCodePageRange1:1,sxHeight:ko(f,"xyvw",{yMax:Math.round(Ne.ascender/2)}).yMax,sCapHeight:ko(f,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ne).yMax,usDefaultChar:f.hasChar(" ")?32:0,usBreakChar:f.hasChar(" ")?32:0}),At=$e.make(f.glyphs),nr=ee.make(f.glyphs),ir=f.getEnglishName("fontFamily"),Xt=f.getEnglishName("fontSubfamily"),tr=ir+" "+Xt,cr=(cr=f.getEnglishName("postScriptName"))||ir.replace(/\s/g,"")+"-"+Xt,sr={};for(Ue in f.names)sr[Ue]=f.names[Ue];sr.uniqueID||(sr.uniqueID={en:f.getEnglishName("manufacturer")+":"+tr}),sr.postScriptName||(sr.postScriptName={en:cr}),sr.preferredFamily||(sr.preferredFamily=f.names.fontFamily),sr.preferredSubfamily||(sr.preferredSubfamily=f.names.fontSubfamily);var Sr=[],or=Ir.make(sr,Sr),Sr=0<Sr.length?dt.make(Sr):void 0,Yr=as.make(),tr=qn.make(f.glyphs,{version:f.getEnglishName("version"),fullName:tr,familyName:ir,weightName:Xt,postScriptName:cr,unitsPerEm:f.unitsPerEm,fontBBox:[0,Ne.yMin,Ne.ascender,Ne.advanceWidthMax]}),ir=f.metas&&0<Object.keys(f.metas).length?ls.make(f.metas):void 0,Xt=[vt,kt,yt,bt,or,nr,Yr,tr,At];Sr&&Xt.push(Sr),f.tables.gsub&&Xt.push(lo.make(f.tables.gsub)),ir&&Xt.push(ir);for(var kr=An((cr=us(Xt)).encode()),Kt=cr.fields,ke=!1,ze=0;ze<Kt.length;ze+=1)if(Kt[ze].name==="head table"){Kt[ze].value.checkSumAdjustment=2981146554-kr,ke=!0;break}if(ke)return cr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:An};function Yn(f,x){for(var M=0,k=f.length-1;M<=k;){var F=M+k>>>1,z=f[F].tag;if(z===x)return F;z<x?M=1+F:k=F-1}return-M-1}function ds(f,x){for(var M=0,k=f.length-1;M<=k;){var F=M+k>>>1,z=f[F];if(z===x)return F;z<x?M=1+F:k=F-1}return-M-1}function Co(f,x){for(var M=0,k=f.length-1;M<=k;){var F,z=M+k>>>1,Y=(F=f[z]).start;if(Y===x)return F;Y<x?M=1+z:k=z-1}if(0<M)return x>(F=f[M-1]).end?0:F}function Pn(f,x){this.font=f,this.tableName=x}function Ln(f){Pn.call(this,f,"gpos")}function Ar(f){Pn.call(this,f,"gsub")}function Ao(f,x,M){for(var k=f.subtables,F=0;F<k.length;F++){var z=k[F];if(z.substFormat===x)return z}if(M)return k.push(M),M}function Po(f){for(var x=new ArrayBuffer(f.length),M=new Uint8Array(x),k=0;k<f.length;++k)M[k]=f[k];return x}function Rn(f,x){if(!f)throw x}function Lo(f,x,M,k,F){var z=0<(x&k)?(z=f.parseByte(),M+(z=(x&F)==0?-z:z)):0<(x&F)?M:M+f.parseShort();return z}function fs(f,x,M){var k,F=new Le.Parser(x,M);if(f.numberOfContours=F.parseShort(),f._xMin=F.parseShort(),f._yMin=F.parseShort(),f._xMax=F.parseShort(),f._yMax=F.parseShort(),0<f.numberOfContours){for(var z=f.endPointIndices=[],Y=0;Y<f.numberOfContours;Y+=1)z.push(F.parseUShort());f.instructionLength=F.parseUShort(),f.instructions=[];for(var ne=0;ne<f.instructionLength;ne+=1)f.instructions.push(F.parseByte());for(var de=z[z.length-1]+1,fe=[],Se=0;Se<de;Se+=1)if(k=F.parseByte(),fe.push(k),0<(8&k))for(var Ie=F.parseByte(),Ce=0;Ce<Ie;Ce+=1)fe.push(k),Se+=1;if(R.argument(fe.length===de,"Bad flags."),0<z.length){var ve,Xe=[];if(0<de){for(var Ge=0;Ge<de;Ge+=1)k=fe[Ge],(ve={}).onCurve=!!(1&k),ve.lastPointOfContour=0<=z.indexOf(Ge),Xe.push(ve);for(var He=0,Ue=0;Ue<de;Ue+=1)k=fe[Ue],(ve=Xe[Ue]).x=Lo(F,k,He,2,16),He=ve.x;for(var Ne=0,vt=0;vt<de;vt+=1)k=fe[vt],(ve=Xe[vt]).y=Lo(F,k,Ne,4,32),Ne=ve.y}f.points=Xe}else f.points=[]}else if(f.numberOfContours===0)f.points=[];else{f.isComposite=!0,f.points=[],f.components=[];for(var kt=!0;kt;){fe=F.parseUShort();var yt={glyphIndex:F.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&fe)?0<(2&fe)?(yt.dx=F.parseShort(),yt.dy=F.parseShort()):yt.matchedPoints=[F.parseUShort(),F.parseUShort()]:0<(2&fe)?(yt.dx=F.parseChar(),yt.dy=F.parseChar()):yt.matchedPoints=[F.parseByte(),F.parseByte()],0<(8&fe)?yt.xScale=yt.yScale=F.parseF2Dot14():0<(64&fe)?(yt.xScale=F.parseF2Dot14(),yt.yScale=F.parseF2Dot14()):0<(128&fe)&&(yt.xScale=F.parseF2Dot14(),yt.scale01=F.parseF2Dot14(),yt.scale10=F.parseF2Dot14(),yt.yScale=F.parseF2Dot14()),f.components.push(yt),kt=!!(32&fe)}if(256&fe){f.instructionLength=F.parseUShort(),f.instructions=[];for(var bt=0;bt<f.instructionLength;bt+=1)f.instructions.push(F.parseByte())}}}function uo(f,x){for(var M=[],k=0;k<f.length;k+=1){var F=f[k],F={x:x.xScale*F.x+x.scale01*F.y+x.dx,y:x.scale10*F.x+x.yScale*F.y+x.dy,onCurve:F.onCurve,lastPointOfContour:F.lastPointOfContour};M.push(F)}return M}function Ro(f){var x=new Q;if(f)for(var M=(function(Ie){for(var Ce=[],ve=[],Xe=0;Xe<Ie.length;Xe+=1){var Ge=Ie[Xe];ve.push(Ge),Ge.lastPointOfContour&&(Ce.push(ve),ve=[])}return R.argument(ve.length===0,"There are still points left in the current contour."),Ce})(f),k=0;k<M.length;++k){var F,z=M[k],Y=z[z.length-1],ne=z[0];Y.onCurve?x.moveTo(Y.x,Y.y):ne.onCurve?x.moveTo(ne.x,ne.y):(F={x:.5*(Y.x+ne.x),y:.5*(Y.y+ne.y)},x.moveTo(F.x,F.y));for(var de=0;de<z.length;++de){var fe,Se=Y,Y=ne,ne=z[(de+1)%z.length];Y.onCurve?x.lineTo(Y.x,Y.y):(fe=ne,Se.onCurve||(Y.x,Se.x,Y.y,Se.y),ne.onCurve||(fe={x:.5*(Y.x+ne.x),y:.5*(Y.y+ne.y)}),x.quadraticCurveTo(Y.x,Y.y,fe.x,fe.y))}x.closePath()}return x}function li(f,x){if(x.isComposite)for(var M=0;M<x.components.length;M+=1){var k=x.components[M],F=f.get(k.glyphIndex);if(F.getPath(),F.points){var z=void 0;if(k.matchedPoints===void 0)z=uo(F.points,k);else{if(k.matchedPoints[0]>x.points.length-1||k.matchedPoints[1]>F.points.length-1)throw Error("Matched points out of range in "+x.name);var Y=x.points[k.matchedPoints[0]],ne=F.points[k.matchedPoints[1]],k={xScale:k.xScale,scale01:k.scale01,scale10:k.scale10,yScale:k.yScale,dx:0,dy:0},ne=uo([ne],k)[0];k.dx=Y.x-ne.x,k.dy=Y.y-ne.y,z=uo(F.points,k)}x.points=x.points.concat(z)}}return Ro(x.points)}(Ln.prototype=Pn.prototype={searchTag:Yn,binSearch:ds,getTable:function(f){var x=this.font.tables[this.tableName];return x=!x&&f?this.font.tables[this.tableName]=this.createDefaultTable():x},getScriptNames:function(){var f=this.getTable();return f?f.scripts.map(function(x){return x.tag}):[]},getDefaultScriptName:function(){var f=this.getTable();if(f){for(var x=!1,M=0;M<f.scripts.length;M++){var k=f.scripts[M].tag;if(k==="DFLT")return k;k==="latn"&&(x=!0)}return x?"latn":void 0}},getScriptTable:function(f,x){var M,k=this.getTable(x);if(k)return M=k.scripts,0<=(k=Yn(k.scripts,f=f||"DFLT"))?M[k].script:x?(M.splice(-1-k,0,x={tag:f,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),x.script):void 0},getLangSysTable:function(F,x,M){var k,F=this.getScriptTable(F,M);if(F)return x&&x!=="dflt"&&x!=="DFLT"?0<=(k=Yn(F.langSysRecords,x))?F.langSysRecords[k].langSys:M?(F.langSysRecords.splice(-1-k,0,M={tag:x,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),M.langSys):void 0:F.defaultLangSys},getFeatureTable:function(f,x,M,k){if(f=this.getLangSysTable(f,x,k),f){for(var F,z=f.featureIndexes,Y=this.font.tables[this.tableName].features,ne=0;ne<z.length;ne++)if((F=Y[z[ne]]).tag===M)return F.feature;if(k)return x=Y.length,R.assert(x===0||M>=Y[x-1].tag,"Features must be added in alphabetical order."),Y.push(F={tag:M,feature:{params:0,lookupListIndexes:[]}}),z.push(x),F.feature}},getLookupTables:function(z,x,M,k,F){var z=this.getFeatureTable(z,x,M,F),Y=[];if(z){for(var ne,de=z.lookupListIndexes,fe=this.font.tables[this.tableName].lookups,Se=0;Se<de.length;Se++)(ne=fe[de[Se]]).lookupType===k&&Y.push(ne);if(Y.length===0&&F)return x=fe.length,fe.push(ne={lookupType:k,lookupFlag:0,subtables:[],markFilteringSet:void 0}),de.push(x),[ne]}return Y},getGlyphClass:function(f,x){switch(f.format){case 1:return f.startGlyph<=x&&x<f.startGlyph+f.classes.length?f.classes[x-f.startGlyph]:0;case 2:var M=Co(f.ranges,x);return M?M.classId:0}},getCoverageIndex:function(f,x){switch(f.format){case 1:var M=ds(f.glyphs,x);return 0<=M?M:-1;case 2:return M=Co(f.ranges,x),M?M.index+x-M.start:-1}},expandCoverage:function(f){if(f.format===1)return f.glyphs;for(var x=[],M=f.ranges,k=0;k<M.length;k++)for(var F=M[k],z=F.start,Y=F.end,ne=z;ne<=Y;ne++)x.push(ne);return x}}).init=function(){var f=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(f)},Ln.prototype.getKerningValue=function(f,x,M){for(var k=0;k<f.length;k++)for(var F=f[k].subtables,z=0;z<F.length;z++){var Y=F[z],ne=this.getCoverageIndex(Y.coverage,x);if(!(ne<0))switch(Y.posFormat){case 1:for(var de=Y.pairSets[ne],fe=0;fe<de.length;fe++){var Se=de[fe];if(Se.secondGlyph===M)return Se.value1&&Se.value1.xAdvance||0}break;case 2:var Ce=this.getGlyphClass(Y.classDef1,x),Ie=this.getGlyphClass(Y.classDef2,M),Ce=Y.classRecords[Ce][Ie];return Ce.value1&&Ce.value1.xAdvance||0}}return 0},Ln.prototype.getKerningTables=function(f,x){if(this.font.tables.gpos)return this.getLookupTables(f,x,"kern",2)},(Ar.prototype=Pn.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Ar.prototype.getSingle=function(f,x,M){for(var k=[],F=this.getLookupTables(x,M,f,1),z=0;z<F.length;z++)for(var Y=F[z].subtables,ne=0;ne<Y.length;ne++){var de=Y[ne],fe=this.expandCoverage(de.coverage),Se=void 0;if(de.substFormat===1)for(var Ie=de.deltaGlyphId,Se=0;Se<fe.length;Se++){var Ce=fe[Se];k.push({sub:Ce,by:Ce+Ie})}else{var ve=de.substitute;for(Se=0;Se<fe.length;Se++)k.push({sub:fe[Se],by:ve[Se]})}}return k},Ar.prototype.getAlternates=function(f,x,M){for(var k=[],F=this.getLookupTables(x,M,f,3),z=0;z<F.length;z++)for(var Y=F[z].subtables,ne=0;ne<Y.length;ne++)for(var de=Y[ne],fe=this.expandCoverage(de.coverage),Se=de.alternateSets,Ie=0;Ie<fe.length;Ie++)k.push({sub:fe[Ie],by:Se[Ie]});return k},Ar.prototype.getLigatures=function(f,x,M){for(var k=[],F=this.getLookupTables(x,M,f,4),z=0;z<F.length;z++)for(var Y=F[z].subtables,ne=0;ne<Y.length;ne++)for(var de=Y[ne],fe=this.expandCoverage(de.coverage),Se=de.ligatureSets,Ie=0;Ie<fe.length;Ie++)for(var Ce=fe[Ie],ve=Se[Ie],Xe=0;Xe<ve.length;Xe++){var Ge=ve[Xe];k.push({sub:[Ce].concat(Ge.components),by:Ge.ligGlyph})}return k},Ar.prototype.addSingle=function(f,x,M,k){M=Ao(this.getLookupTables(M,k,f,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),R.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format),k=x.sub,f=this.binSearch(M.coverage.glyphs,k),f<0&&(M.coverage.glyphs.splice(f=-1-f,0,k),M.substitute.splice(f,0,0)),M.substitute[f]=x.by},Ar.prototype.addAlternate=function(f,x,M,k){M=Ao(this.getLookupTables(M,k,f,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),R.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format),k=x.sub,f=this.binSearch(M.coverage.glyphs,k),f<0&&(M.coverage.glyphs.splice(f=-1-f,0,k),M.alternateSets.splice(f,0,0)),M.alternateSets[f]=x.by},Ar.prototype.addLigature=function(z,de,ne,F){var ne=this.getLookupTables(ne,F,z,4,!0)[0],F=ne.subtables[0],z=(F||(ne.subtables[0]=F={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),R.assert(F.coverage.format===1,"Ligature: unable to modify coverage table format "+F.coverage.format),de.sub[0]),Y=de.sub.slice(1),ne={ligGlyph:de.by,components:Y},de=this.binSearch(F.coverage.glyphs,z);if(0<=de){for(var fe=F.ligatureSets[de],Se=0;Se<fe.length;Se++)if((function(Ie,Ce){var ve=Ie.length;if(ve===Ce.length){for(var Xe=0;Xe<ve;Xe++)if(Ie[Xe]!==Ce[Xe])return;return 1}})(fe[Se].components,Y))return;fe.push(ne)}else F.coverage.glyphs.splice(de=-1-de,0,z),F.ligatureSets.splice(de,0,[ne])},Ar.prototype.getFeature=function(f,x,M){if(/ss\d\d/.test(f))return this.getSingle(f,x,M);switch(f){case"aalt":case"salt":return this.getSingle(f,x,M).concat(this.getAlternates(f,x,M));case"dlig":case"liga":case"rlig":return this.getLigatures(f,x,M)}},Ar.prototype.add=function(f,x,M,k){if(/ss\d\d/.test(f))return this.addSingle(f,x,M,k);switch(f){case"aalt":case"salt":return typeof x.by=="number"?this.addSingle(f,x,M,k):this.addAlternate(f,x,M,k);case"dlig":case"liga":case"rlig":return this.addLigature(f,x,M,k)}};var hs={getPath:Ro,parse:function(f,x,M,k){for(var F=new gt.GlyphSet(k),z=0;z<M.length-1;z+=1){var Y=M[z];Y!==M[z+1]?F.push(z,gt.ttfGlyphLoader(k,z,fs,f,x+Y,li)):F.push(z,gt.glyphLoader(k,z))}return F}};function ps(f){this.font=f,this.getCommands=function(x){return hs.getPath(x).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function ms(f){return f}function ys(f){return Math.sign(f)*Math.round(Math.abs(f))}function ui(f){return Math.sign(f)*Math.round(Math.abs(2*f))/2}function ci(f){return Math.sign(f)*(Math.round(Math.abs(f)+.5)-.5)}function di(f){return Math.sign(f)*Math.ceil(Math.abs(f))}function Io(f){return Math.sign(f)*Math.floor(Math.abs(f))}function gs(f){var x=this.srPeriod,M=this.srPhase,k=1;return f<0&&(f=-f,k=-1),f+=this.srThreshold-M,f=Math.trunc(f/x)*x,(f+=M)<0?M*k:f*k}var en={x:1,y:0,axis:"x",distance:function(f,x,M,k){return(M?f.xo:f.x)-(k?x.xo:x.x)},interpolate:function(f,x,M,k){var F,z,Y,ne,de,fe,Se;if(!k||k===this)return F=f.xo-x.xo,z=f.xo-M.xo,de=x.x-x.xo,fe=M.x-M.xo,(Se=(Y=Math.abs(F))+(ne=Math.abs(z)))===0?void(f.x=f.xo+(de+fe)/2):void(f.x=f.xo+(de*ne+fe*Y)/Se);F=k.distance(f,x,!0,!0),z=k.distance(f,M,!0,!0),de=k.distance(x,x,!1,!0),fe=k.distance(M,M,!1,!0),(Se=(Y=Math.abs(F))+(ne=Math.abs(z)))===0?en.setRelative(f,f,(de+fe)/2,k,!0):en.setRelative(f,f,(de*ne+fe*Y)/Se,k,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(f,x,M,k,F){var z,Y;k&&k!==this?(z=F?x.xo:x.x,Y=F?x.yo:x.y,z+=M*k.x,Y+=M*k.y,f.x=z+(f.y-Y)/k.normalSlope):f.x=(F?x.xo:x.x)+M},slope:0,touch:function(f){f.xTouched=!0},touched:function(f){return f.xTouched},untouch:function(f){f.xTouched=!1}},ln={x:0,y:1,axis:"y",distance:function(f,x,M,k){return(M?f.yo:f.y)-(k?x.yo:x.y)},interpolate:function(f,x,M,k){var F,z,Y,ne,de,fe,Se;if(!k||k===this)return F=f.yo-x.yo,z=f.yo-M.yo,de=x.y-x.yo,fe=M.y-M.yo,(Se=(Y=Math.abs(F))+(ne=Math.abs(z)))===0?void(f.y=f.yo+(de+fe)/2):void(f.y=f.yo+(de*ne+fe*Y)/Se);F=k.distance(f,x,!0,!0),z=k.distance(f,M,!0,!0),de=k.distance(x,x,!1,!0),fe=k.distance(M,M,!1,!0),(Se=(Y=Math.abs(F))+(ne=Math.abs(z)))===0?ln.setRelative(f,f,(de+fe)/2,k,!0):ln.setRelative(f,f,(de*ne+fe*Y)/Se,k,!0)},normalSlope:0,setRelative:function(f,x,M,k,F){var z,Y;k&&k!==this?(z=F?x.xo:x.x,Y=F?x.yo:x.y,z+=M*k.x,Y+=M*k.y,f.y=Y+k.normalSlope*(f.x-z)):f.y=(F?x.yo:x.y)+M},slope:Number.POSITIVE_INFINITY,touch:function(f){f.yTouched=!0},touched:function(f){return f.yTouched},untouch:function(f){f.yTouched=!1}};function Zn(f,x){this.x=f,this.y=x,this.axis=void 0,this.slope=x/f,this.normalSlope=-f/x,Object.freeze(this)}function Kn(f,x){var M=Math.sqrt(f*f+x*x);return x/=M,(f/=M)===1&&x===0?en:f===0&&x===1?ln:new Zn(f,x)}function Gt(f,x,M,k){this.x=this.xo=Math.round(64*f)/64,this.y=this.yo=Math.round(64*x)/64,this.lastPointOfContour=M,this.onCurve=k,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(en),Object.freeze(ln),Zn.prototype.distance=function(f,x,M,k){return this.x*en.distance(f,x,M,k)+this.y*ln.distance(f,x,M,k)},Zn.prototype.interpolate=function(f,F,z,k){var Y=k.distance(f,F,!0,!0),ne=k.distance(f,z,!0,!0),F=k.distance(F,F,!1,!0),z=k.distance(z,z,!1,!0),Y=Math.abs(Y),ne=Math.abs(ne),de=Y+ne;de===0?this.setRelative(f,f,(F+z)/2,k,!0):this.setRelative(f,f,(F*ne+z*Y)/de,k,!0)},Zn.prototype.setRelative=function(f,z,de,fe,ne){var Y=ne?z.xo:z.x,ne=ne?z.yo:z.y,z=Y+de*(fe=fe||this).x,Y=ne+de*fe.y,ne=fe.normalSlope,de=this.slope,fe=f.x,Se=f.y;f.x=(de*fe-ne*z+Y-Se)/(de-ne),f.y=de*(f.x-fe)+Se},Zn.prototype.touch=function(f){f.xTouched=!0,f.yTouched=!0},Gt.prototype.nextTouched=function(f){for(var x=this.nextPointOnContour;!f.touched(x)&&x!==this;)x=x.nextPointOnContour;return x},Gt.prototype.prevTouched=function(f){for(var x=this.prevPointOnContour;!f.touched(x)&&x!==this;)x=x.prevPointOnContour;return x};var Wt=Object.freeze(new Gt(0,0)),fi={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function hn(f,x){switch(this.env=f,this.stack=[],this.prog=x,f){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=en,this.round=ys}}function co(f){for(var x=f.tZone=new Array(f.gZone.length),M=0;M<x.length;M++)x[M]=new Gt(0,0)}function vs(f,x){var M,k=f.prog,F=f.ip,z=1;do if((M=k[++F])===88)z++;else if(M===89)z--;else if(M===64)F+=k[F+1]+1;else if(M===65)F+=2*k[F+1]+1;else if(176<=M&&M<=183)F+=M-176+1;else if(184<=M&&M<=191)F+=2*(M-184+1);else if(x&&z===1&&M===27)break;while(0<z);f.ip=F}function bs(f,x){h.DEBUG&&console.log(x.step,"SVTCA["+f.axis+"]"),x.fv=x.pv=x.dpv=f}function _s(f,x){h.DEBUG&&console.log(x.step,"SPVTCA["+f.axis+"]"),x.pv=x.dpv=f}function Do(f,x){h.DEBUG&&console.log(x.step,"SFVTCA["+f.axis+"]"),x.fv=f}function xs(f,x){var M,F=x.stack,k=F.pop(),F=F.pop(),z=x.z2[k],Y=x.z1[F];h.DEBUG&&console.log("SPVTL["+f+"]",k,F),k=f?(M=z.y-Y.y,Y.x-z.x):(M=Y.x-z.x,Y.y-z.y),x.pv=x.dpv=Kn(M,k)}function wr(f,x){var M,F=x.stack,k=F.pop(),F=F.pop(),z=x.z2[k],Y=x.z1[F];h.DEBUG&&console.log("SFVTL["+f+"]",k,F),k=f?(M=z.y-Y.y,Y.x-z.x):(M=Y.x-z.x,Y.y-z.y),x.fv=Kn(M,k)}function Qn(f){h.DEBUG&&console.log(f.step,"POP[]"),f.stack.pop()}function pn(f,x){var M=x.stack.pop(),k=x.z0[M],F=x.fv,z=x.pv,Y=(h.DEBUG&&console.log(x.step,"MDAP["+f+"]",M),z.distance(k,Wt));f&&(Y=x.round(Y)),F.setRelative(k,Wt,Y,z),F.touch(k),x.rp0=x.rp1=M}function Fo(f,x){var M,k,F,z=x.z2,Y=z.length-2;h.DEBUG&&console.log(x.step,"IUP["+f.axis+"]");for(var ne=0;ne<Y;ne++)M=z[ne],f.touched(M)||(k=M.prevTouched(f))!==M&&(k===(F=M.nextTouched(f))&&f.setRelative(M,M,f.distance(k,k,!1,!0),f,!0),f.interpolate(M,k,F,f))}function fo(f,x){for(var M=x.stack,k=f?x.rp1:x.rp2,F=(f?x.z0:x.z1)[k],z=x.fv,Y=x.pv,ne=x.loop,de=x.z2;ne--;){var fe=M.pop(),Se=de[fe],Ie=Y.distance(F,F,!1,!0);z.setRelative(Se,Se,Ie,Y),z.touch(Se),h.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-ne)+": ":"")+"SHP["+(f?"rp1":"rp2")+"]",fe)}x.loop=1}function Dr(f,x){for(var M=x.stack,Y=f?x.rp1:x.rp2,k=(f?x.z0:x.z1)[Y],F=x.fv,z=x.pv,Y=M.pop(),ne=x.z2[x.contours[Y]],de=ne,fe=(h.DEBUG&&console.log(x.step,"SHC["+f+"]",Y),z.distance(k,k,!1,!0));de!==k&&F.setRelative(de,de,fe,z),(de=de.nextPointOnContour)!==ne;);}function Uo(f,x){var M,k,ne=x.stack,F=f?x.rp1:x.rp2,F=(f?x.z0:x.z1)[F],z=x.fv,Y=x.pv,ne=ne.pop();switch(h.DEBUG&&console.log(x.step,"SHZ["+f+"]",ne),ne){case 0:M=x.tZone;break;case 1:M=x.gZone;break;default:throw new Error("Invalid zone")}for(var de=Y.distance(F,F,!1,!0),fe=M.length-2,Se=0;Se<fe;Se++)k=M[Se],z.setRelative(k,k,de,Y)}function No(f,x){var k=x.stack,M=k.pop()/64,k=k.pop(),F=x.z1[k],z=x.z0[x.rp0],Y=x.fv,ne=x.pv;Y.setRelative(F,z,M,ne),Y.touch(F),h.DEBUG&&console.log(x.step,"MSIRP["+f+"]",M,k),x.rp1=x.rp0,x.rp2=k,f&&(x.rp0=k)}function Bo(f,x){var M=x.stack,ne=M.pop(),M=M.pop(),k=x.z0[M],F=x.fv,z=x.pv,Y=x.cvt[ne],ne=(h.DEBUG&&console.log(x.step,"MIAP["+f+"]",ne,"(",Y,")",M),z.distance(k,Wt));f&&(Math.abs(ne-Y)<x.cvCutIn&&(ne=Y),ne=x.round(ne)),F.setRelative(k,Wt,ne,z),x.zp0===0&&(k.xo=k.x,k.yo=k.y),F.touch(k),x.rp0=x.rp1=M}function Go(f,x){var M=x.stack,k=M.pop(),F=x.z2[k];h.DEBUG&&console.log(x.step,"GC["+f+"]",k),M.push(64*x.dpv.distance(F,Wt,f,!1))}function Vo(f,x){var k=x.stack,M=k.pop(),k=k.pop(),F=x.z1[M],z=x.z0[k],z=x.dpv.distance(z,F,f,f);h.DEBUG&&console.log(x.step,"MD["+f+"]",M,k,"->",z),x.stack.push(Math.round(64*z))}function ho(f,x){var M=x.stack,k=M.pop(),F=x.fv,z=x.pv,Y=x.ppem,ne=x.deltaBase+16*(f-1),de=x.deltaShift,fe=x.z0;h.DEBUG&&console.log(x.step,"DELTAP["+f+"]",k,M);for(var Se=0;Se<k;Se++){var Ie=M.pop(),Ce=M.pop();ne+((240&Ce)>>4)===Y&&(0<=(Ce=(15&Ce)-8)&&Ce++,h.DEBUG&&console.log(x.step,"DELTAPFIX",Ie,"by",Ce*de),Ie=fe[Ie],F.setRelative(Ie,Ie,Ce*de,z))}}function Or(f,x){var M=x.stack,k=M.pop();h.DEBUG&&console.log(x.step,"ROUND[]"),M.push(64*x.round(k/64))}function zo(f,x){var M=x.stack,k=M.pop(),F=x.ppem,z=x.deltaBase+16*(f-1),Y=x.deltaShift;h.DEBUG&&console.log(x.step,"DELTAC["+f+"]",k,M);for(var ne=0;ne<k;ne++){var de=M.pop(),fe=M.pop();z+((240&fe)>>4)===F&&(0<=(fe=(15&fe)-8)&&fe++,fe=fe*Y,h.DEBUG&&console.log(x.step,"DELTACFIX",de,"by",fe),x.cvt[de]+=fe)}}function Fr(f,x){var M,F=x.stack,k=F.pop(),F=F.pop(),z=x.z2[k],Y=x.z1[F];h.DEBUG&&console.log(x.step,"SDPVTL["+f+"]",k,F),k=f?(M=z.y-Y.y,Y.x-z.x):(M=Y.x-z.x,Y.y-z.y),x.dpv=Kn(M,k)}function mn(f,x){var M=x.stack,k=x.prog,F=x.ip;h.DEBUG&&console.log(x.step,"PUSHB["+f+"]");for(var z=0;z<f;z++)M.push(k[++F]);x.ip=F}function un(f,x){var M=x.ip,k=x.prog,F=x.stack;h.DEBUG&&console.log(x.ip,"PUSHW["+f+"]");for(var z=0;z<f;z++){var Y=k[++M]<<8|k[++M];32768&Y&&(Y=-(1+(65535^Y))),F.push(Y)}x.ip=M}function pt(f,x,M,k,F,z){var Y,ne,fe=z.stack,de=f&&fe.pop(),fe=fe.pop(),Se=z.rp0,Se=z.z0[Se],Ie=z.z1[fe],Ce=z.minDis,ve=z.fv,Xe=z.dpv,Ge=Y=Xe.distance(Ie,Se,!0,!0),He=0<=Ge?1:-1;Ge=Math.abs(Ge),f&&(ne=z.cvt[de],k&&Math.abs(Ge-ne)<z.cvCutIn&&(Ge=ne)),M&&Ge<Ce&&(Ge=Ce),k&&(Ge=z.round(Ge)),ve.setRelative(Ie,Se,He*Ge,Xe),ve.touch(Ie),h.DEBUG&&console.log(z.step,(f?"MIRP[":"MDRP[")+(x?"M":"m")+(M?">":"_")+(k?"R":"_")+(F===0?"Gr":F===1?"Bl":F===2?"Wh":"")+"]",f?de+"("+z.cvt[de]+","+ne+")":"",fe,"(d =",Y,"->",He*Ge,")"),z.rp1=z.rp0,z.rp2=fe,x&&(z.rp0=fe)}ps.prototype.exec=function(f,x){if(typeof x!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var M=this.font,k=this._prepState;if(!k||k.ppem!==x){var F=this._fpgmState;if(!F){hn.prototype=fi,(F=this._fpgmState=new hn("fpgm",M.tables.fpgm)).funcs=[],F.font=M,h.DEBUG&&(console.log("---EXEC FPGM---"),F.step=-1);try{qt(F)}catch(fe){return console.log("Hinting error in FPGM:"+fe),void(this._errorState=3)}}hn.prototype=F,(k=this._prepState=new hn("prep",M.tables.prep)).ppem=x;var z=M.tables.cvt;if(z)for(var Y=k.cvt=new Array(z.length),ne=x/M.unitsPerEm,de=0;de<z.length;de++)Y[de]=z[de]*ne;else k.cvt=[];h.DEBUG&&(console.log("---EXEC PREP---"),k.step=-1);try{qt(k)}catch(fe){this._errorState<2&&console.log("Hinting error in PREP:"+fe),this._errorState=2}}if(!(1<this._errorState))try{return po(f,k)}catch(fe){this._errorState<1&&(console.log("Hinting error:"+fe),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var po=function(f,x){var M=x.ppem/x.font.unitsPerEm,k=M,F=f.components;if(hn.prototype=x,F){for(var z=x.font,Y=[],ne=[],de=0;de<F.length;de++){var fe=F[de],Se=z.glyphs.get(fe.glyphIndex),Ie=new hn("glyf",Se.instructions);h.DEBUG&&(console.log("---EXEC COMP "+de+"---"),Ie.step=-1),mo(Se,Ie,M,k);for(var Ce=Math.round(fe.dx*M),ve=Math.round(fe.dy*k),Xe=Ie.gZone,Ge=Ie.contours,He=0;He<Xe.length;He++){var Ue=Xe[He];Ue.xTouched=Ue.yTouched=!1,Ue.xo=Ue.x=Ue.x+Ce,Ue.yo=Ue.y=Ue.y+ve}var Ne=Y.length;Y.push.apply(Y,Xe);for(var vt=0;vt<Ge.length;vt++)ne.push(Ge[vt]+Ne)}f.instructions&&!Ie.inhibitGridFit&&((Ie=new hn("glyf",f.instructions)).gZone=Ie.z0=Ie.z1=Ie.z2=Y,Ie.contours=ne,Y.push(new Gt(0,0),new Gt(Math.round(f.advanceWidth*M),0)),h.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ie.step=-1),qt(Ie),Y.length-=2)}else Ie=new hn("glyf",f.instructions),h.DEBUG&&(console.log("---EXEC GLYPH---"),Ie.step=-1),mo(f,Ie,M,k),Y=Ie.gZone;return Y},mo=function(f,x,M,k){for(var F,z,Y,ne=f.points||[],de=ne.length,fe=x.gZone=x.z0=x.z1=x.z2=[],Se=x.contours=[],Ie=0;Ie<de;Ie++)F=ne[Ie],fe[Ie]=new Gt(F.x*M,F.y*k,F.lastPointOfContour,F.onCurve);for(var Ce=0;Ce<de;Ce++)F=fe[Ce],z||(z=F,Se.push(Ce)),F.lastPointOfContour?((F.nextPointOnContour=z).prevPointOnContour=F,z=void 0):(Y=fe[Ce+1],(F.nextPointOnContour=Y).prevPointOnContour=F);if(!x.inhibitGridFit){if(h.DEBUG){console.log("PROCESSING GLYPH",x.stack);for(var ve=0;ve<de;ve++)console.log(ve,fe[ve].x,fe[ve].y)}if(fe.push(new Gt(0,0),new Gt(Math.round(f.advanceWidth*M),0)),qt(x),fe.length-=2,h.DEBUG){console.log("FINISHED GLYPH",x.stack);for(var Xe=0;Xe<de;Xe++)console.log(Xe,fe[Xe].x,fe[Xe].y)}}},qt=function(f){var x=f.prog;if(x){var M,k=x.length;for(f.ip=0;f.ip<k;f.ip++){if(h.DEBUG&&f.step++,!(M=yn[x[f.ip]]))throw new Error("unknown instruction: 0x"+Number(x[f.ip]).toString(16));M(f)}}},yn=[bs.bind(void 0,ln),bs.bind(void 0,en),_s.bind(void 0,ln),_s.bind(void 0,en),Do.bind(void 0,ln),Do.bind(void 0,en),xs.bind(void 0,0),xs.bind(void 0,1),wr.bind(void 0,0),wr.bind(void 0,1),function(f){var x=(M=f.stack).pop(),M=M.pop();h.DEBUG&&console.log(f.step,"SPVFS[]",x,M),f.pv=f.dpv=Kn(M,x)},function(f){var x=(M=f.stack).pop(),M=M.pop();h.DEBUG&&console.log(f.step,"SPVFS[]",x,M),f.fv=Kn(M,x)},function(f){var x=f.stack,M=f.pv;h.DEBUG&&console.log(f.step,"GPV[]"),x.push(16384*M.x),x.push(16384*M.y)},function(f){var x=f.stack,M=f.fv;h.DEBUG&&console.log(f.step,"GFV[]"),x.push(16384*M.x),x.push(16384*M.y)},function(f){f.fv=f.pv,h.DEBUG&&console.log(f.step,"SFVTPV[]")},function(x){var M=(Y=x.stack).pop(),k=Y.pop(),F=Y.pop(),z=Y.pop(),Y=Y.pop(),de=x.z0,Se=x.z1,ne=de[M],de=de[k],fe=Se[F],Se=Se[z],x=x.z2[Y],M=(h.DEBUG&&console.log("ISECT[], ",M,k,F,z,Y),ne.x),k=ne.y,F=de.x,z=de.y,Y=fe.x,ne=fe.y,de=Se.x,fe=Se.y,Se=(M-F)*(ne-fe)-(k-z)*(Y-de),Ie=M*z-k*F,Ce=Y*fe-ne*de;x.x=(Ie*(Y-de)-Ce*(M-F))/Se,x.y=(Ie*(ne-fe)-Ce*(k-z))/Se},function(f){f.rp0=f.stack.pop(),h.DEBUG&&console.log(f.step,"SRP0[]",f.rp0)},function(f){f.rp1=f.stack.pop(),h.DEBUG&&console.log(f.step,"SRP1[]",f.rp1)},function(f){f.rp2=f.stack.pop(),h.DEBUG&&console.log(f.step,"SRP2[]",f.rp2)},function(f){var x=f.stack.pop();switch(h.DEBUG&&console.log(f.step,"SZP0[]",x),f.zp0=x){case 0:f.tZone||co(f),f.z0=f.tZone;break;case 1:f.z0=f.gZone;break;default:throw new Error("Invalid zone pointer")}},function(f){var x=f.stack.pop();switch(h.DEBUG&&console.log(f.step,"SZP1[]",x),f.zp1=x){case 0:f.tZone||co(f),f.z1=f.tZone;break;case 1:f.z1=f.gZone;break;default:throw new Error("Invalid zone pointer")}},function(f){var x=f.stack.pop();switch(h.DEBUG&&console.log(f.step,"SZP2[]",x),f.zp2=x){case 0:f.tZone||co(f),f.z2=f.tZone;break;case 1:f.z2=f.gZone;break;default:throw new Error("Invalid zone pointer")}},function(f){var x=f.stack.pop();switch(h.DEBUG&&console.log(f.step,"SZPS[]",x),f.zp0=f.zp1=f.zp2=x){case 0:f.tZone||co(f),f.z0=f.z1=f.z2=f.tZone;break;case 1:f.z0=f.z1=f.z2=f.gZone;break;default:throw new Error("Invalid zone pointer")}},function(f){f.loop=f.stack.pop(),h.DEBUG&&console.log(f.step,"SLOOP[]",f.loop)},function(f){h.DEBUG&&console.log(f.step,"RTG[]"),f.round=ys},function(f){h.DEBUG&&console.log(f.step,"RTHG[]"),f.round=ci},function(f){var x=f.stack.pop();h.DEBUG&&console.log(f.step,"SMD[]",x),f.minDis=x/64},function(f){h.DEBUG&&console.log(f.step,"ELSE[]"),vs(f,!1)},function(f){var x=f.stack.pop();h.DEBUG&&console.log(f.step,"JMPR[]",x),f.ip+=x-1},function(f){var x=f.stack.pop();h.DEBUG&&console.log(f.step,"SCVTCI[]",x),f.cvCutIn=x/64},void 0,void 0,function(f){var x=f.stack;h.DEBUG&&console.log(f.step,"DUP[]"),x.push(x[x.length-1])},Qn,function(f){h.DEBUG&&console.log(f.step,"CLEAR[]"),f.stack.length=0},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"SWAP[]"),x.push(M),x.push(k)},function(f){var x=f.stack;h.DEBUG&&console.log(f.step,"DEPTH[]"),x.push(x.length)},function(f){var x=f.stack,M=x.pop();h.DEBUG&&console.log(f.step,"CINDEX[]",M),x.push(x[x.length-M])},function(f){var x=f.stack,M=x.pop();h.DEBUG&&console.log(f.step,"MINDEX[]",M),x.push(x.splice(x.length-M,1)[0])},void 0,void 0,void 0,function(f){var x=(k=f.stack).pop(),M=k.pop(),k=(h.DEBUG&&console.log(f.step,"LOOPCALL[]",x,M),f.ip),F=f.prog;f.prog=f.funcs[x];for(var z=0;z<M;z++)qt(f),h.DEBUG&&console.log(++f.step,z+1<M?"next loopcall":"done loopcall",z);f.ip=k,f.prog=F},function(f){var x=f.stack.pop(),M=(h.DEBUG&&console.log(f.step,"CALL[]",x),f.ip),k=f.prog;f.prog=f.funcs[x],qt(f),f.ip=M,f.prog=k,h.DEBUG&&console.log(++f.step,"returning from",x)},function(f){if(f.env!=="fpgm")throw new Error("FDEF not allowed here");var k=f.stack,x=f.prog,M=f.ip,k=k.pop(),F=M;for(h.DEBUG&&console.log(f.step,"FDEF[]",k);x[++M]!==45;);f.ip=M,f.funcs[k]=x.slice(F+1,M)},void 0,pn.bind(void 0,0),pn.bind(void 0,1),Fo.bind(void 0,ln),Fo.bind(void 0,en),fo.bind(void 0,0),fo.bind(void 0,1),Dr.bind(void 0,0),Dr.bind(void 0,1),Uo.bind(void 0,0),Uo.bind(void 0,1),function(f){for(var x=f.stack,M=f.loop,k=f.fv,F=x.pop()/64,z=f.z2;M--;){var Y=x.pop(),ne=z[Y];h.DEBUG&&console.log(f.step,(1<f.loop?"loop "+(f.loop-M)+": ":"")+"SHPIX[]",Y,F),k.setRelative(ne,ne,F),k.touch(ne)}f.loop=1},function(f){for(var x=f.stack,M=f.rp1,k=f.rp2,F=f.loop,z=f.z0[M],Y=f.z1[k],ne=f.fv,de=f.dpv,fe=f.z2;F--;){var Se=x.pop(),Ie=fe[Se];h.DEBUG&&console.log(f.step,(1<f.loop?"loop "+(f.loop-F)+": ":"")+"IP[]",Se,M,"<->",k),ne.interpolate(Ie,z,Y,de),ne.touch(Ie)}f.loop=1},No.bind(void 0,0),No.bind(void 0,1),function(f){for(var x=f.stack,M=f.rp0,k=f.z0[M],F=f.loop,z=f.fv,Y=f.pv,ne=f.z1;F--;){var de=x.pop(),fe=ne[de];h.DEBUG&&console.log(f.step,(1<f.loop?"loop "+(f.loop-F)+": ":"")+"ALIGNRP[]",de),z.setRelative(fe,k,0,Y),z.touch(fe)}f.loop=1},function(f){h.DEBUG&&console.log(f.step,"RTDG[]"),f.round=ui},Bo.bind(void 0,0),Bo.bind(void 0,1),function(f){var x=f.prog,M=f.ip,k=f.stack,F=x[++M];h.DEBUG&&console.log(f.step,"NPUSHB[]",F);for(var z=0;z<F;z++)k.push(x[++M]);f.ip=M},function(f){var x=f.ip,M=f.prog,k=f.stack,F=M[++x];h.DEBUG&&console.log(f.step,"NPUSHW[]",F);for(var z=0;z<F;z++){var Y=M[++x]<<8|M[++x];32768&Y&&(Y=-(1+(65535^Y))),k.push(Y)}f.ip=x},function(f){var k=f.stack,x=(x=f.store)||(f.store=[]),M=k.pop(),k=k.pop();h.DEBUG&&console.log(f.step,"WS",M,k),x[k]=M},function(F){var x=F.stack,M=F.store,k=x.pop(),F=(h.DEBUG&&console.log(F.step,"RS",k),M&&M[k]||0);x.push(F)},function(f){var x=(M=f.stack).pop(),M=M.pop();h.DEBUG&&console.log(f.step,"WCVTP",x,M),f.cvt[M]=x/64},function(f){var x=f.stack,M=x.pop();h.DEBUG&&console.log(f.step,"RCVT",M),x.push(64*f.cvt[M])},Go.bind(void 0,0),Go.bind(void 0,1),void 0,Vo.bind(void 0,0),Vo.bind(void 0,1),function(f){h.DEBUG&&console.log(f.step,"MPPEM[]"),f.stack.push(f.ppem)},void 0,function(f){h.DEBUG&&console.log(f.step,"FLIPON[]"),f.autoFlip=!0},void 0,void 0,function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"LT[]",M,k),x.push(k<M?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"LTEQ[]",M,k),x.push(k<=M?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"GT[]",M,k),x.push(M<k?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"GTEQ[]",M,k),x.push(M<=k?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"EQ[]",M,k),x.push(M===k?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"NEQ[]",M,k),x.push(M!==k?1:0)},function(f){var x=f.stack,M=x.pop();h.DEBUG&&console.log(f.step,"ODD[]",M),x.push(Math.trunc(M)%2?1:0)},function(f){var x=f.stack,M=x.pop();h.DEBUG&&console.log(f.step,"EVEN[]",M),x.push(Math.trunc(M)%2?0:1)},function(f){var x=f.stack.pop();h.DEBUG&&console.log(f.step,"IF[]",x),x||(vs(f,!0),h.DEBUG&&console.log(f.step,"EIF[]"))},function(f){h.DEBUG&&console.log(f.step,"EIF[]")},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"AND[]",M,k),x.push(M&&k?1:0)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"OR[]",M,k),x.push(M||k?1:0)},function(f){var x=f.stack,M=x.pop();h.DEBUG&&console.log(f.step,"NOT[]",M),x.push(M?0:1)},ho.bind(void 0,1),function(f){var x=f.stack.pop();h.DEBUG&&console.log(f.step,"SDB[]",x),f.deltaBase=x},function(f){var x=f.stack.pop();h.DEBUG&&console.log(f.step,"SDS[]",x),f.deltaShift=Math.pow(.5,x)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"ADD[]",M,k),x.push(k+M)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"SUB[]",M,k),x.push(k-M)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"DIV[]",M,k),x.push(64*k/M)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"MUL[]",M,k),x.push(k*M/64)},function(f){var x=f.stack,M=x.pop();h.DEBUG&&console.log(f.step,"ABS[]",M),x.push(Math.abs(M))},function(f){var x=f.stack,M=x.pop();h.DEBUG&&console.log(f.step,"NEG[]",M),x.push(-M)},function(f){var x=f.stack,M=x.pop();h.DEBUG&&console.log(f.step,"FLOOR[]",M),x.push(64*Math.floor(M/64))},function(f){var x=f.stack,M=x.pop();h.DEBUG&&console.log(f.step,"CEILING[]",M),x.push(64*Math.ceil(M/64))},Or.bind(void 0,0),Or.bind(void 0,1),Or.bind(void 0,2),Or.bind(void 0,3),void 0,void 0,void 0,void 0,function(f){var x=(M=f.stack).pop(),M=M.pop();h.DEBUG&&console.log(f.step,"WCVTF[]",x,M),f.cvt[M]=x*f.ppem/f.font.unitsPerEm},ho.bind(void 0,2),ho.bind(void 0,3),zo.bind(void 0,1),zo.bind(void 0,2),zo.bind(void 0,3),function(f){var x,M=f.stack.pop();switch(h.DEBUG&&console.log(f.step,"SROUND[]",M),f.round=gs,192&M){case 0:x=.5;break;case 64:x=1;break;case 128:x=2;break;default:throw new Error("invalid SROUND value")}switch(f.srPeriod=x,48&M){case 0:f.srPhase=0;break;case 16:f.srPhase=.25*x;break;case 32:f.srPhase=.5*x;break;case 48:f.srPhase=.75*x;break;default:throw new Error("invalid SROUND value")}f.srThreshold=(M&=15)===0?0:(M/8-.5)*x},function(f){var x,M=f.stack.pop();switch(h.DEBUG&&console.log(f.step,"S45ROUND[]",M),f.round=gs,192&M){case 0:x=Math.sqrt(2)/2;break;case 64:x=Math.sqrt(2);break;case 128:x=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(f.srPeriod=x,48&M){case 0:f.srPhase=0;break;case 16:f.srPhase=.25*x;break;case 32:f.srPhase=.5*x;break;case 48:f.srPhase=.75*x;break;default:throw new Error("invalid S45ROUND value")}f.srThreshold=(M&=15)===0?0:(M/8-.5)*x},void 0,void 0,function(f){h.DEBUG&&console.log(f.step,"ROFF[]"),f.round=ms},void 0,function(f){h.DEBUG&&console.log(f.step,"RUTG[]"),f.round=di},function(f){h.DEBUG&&console.log(f.step,"RDTG[]"),f.round=Io},Qn,Qn,void 0,void 0,void 0,void 0,void 0,function(f){var x=f.stack.pop();h.DEBUG&&console.log(f.step,"SCANCTRL[]",x)},Fr.bind(void 0,0),Fr.bind(void 0,1),function(f){var x=f.stack,M=x.pop(),k=0;h.DEBUG&&console.log(f.step,"GETINFO[]",M),1&M&&(k=35),32&M&&(k|=4096),x.push(k)},void 0,function(f){var x=f.stack,M=x.pop(),k=x.pop(),F=x.pop();h.DEBUG&&console.log(f.step,"ROLL[]"),x.push(k),x.push(M),x.push(F)},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"MAX[]",M,k),x.push(Math.max(k,M))},function(f){var x=f.stack,M=x.pop(),k=x.pop();h.DEBUG&&console.log(f.step,"MIN[]",M,k),x.push(Math.min(k,M))},function(f){var x=f.stack.pop();h.DEBUG&&console.log(f.step,"SCANTYPE[]",x)},function(f){var x=f.stack.pop(),M=f.stack.pop();switch(h.DEBUG&&console.log(f.step,"INSTCTRL[]",x,M),x){case 1:return void(f.inhibitGridFit=!!M);case 2:return void(f.ignoreCvt=!!M);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,mn.bind(void 0,1),mn.bind(void 0,2),mn.bind(void 0,3),mn.bind(void 0,4),mn.bind(void 0,5),mn.bind(void 0,6),mn.bind(void 0,7),mn.bind(void 0,8),un.bind(void 0,1),un.bind(void 0,2),un.bind(void 0,3),un.bind(void 0,4),un.bind(void 0,5),un.bind(void 0,6),un.bind(void 0,7),un.bind(void 0,8),pt.bind(void 0,0,0,0,0,0),pt.bind(void 0,0,0,0,0,1),pt.bind(void 0,0,0,0,0,2),pt.bind(void 0,0,0,0,0,3),pt.bind(void 0,0,0,0,1,0),pt.bind(void 0,0,0,0,1,1),pt.bind(void 0,0,0,0,1,2),pt.bind(void 0,0,0,0,1,3),pt.bind(void 0,0,0,1,0,0),pt.bind(void 0,0,0,1,0,1),pt.bind(void 0,0,0,1,0,2),pt.bind(void 0,0,0,1,0,3),pt.bind(void 0,0,0,1,1,0),pt.bind(void 0,0,0,1,1,1),pt.bind(void 0,0,0,1,1,2),pt.bind(void 0,0,0,1,1,3),pt.bind(void 0,0,1,0,0,0),pt.bind(void 0,0,1,0,0,1),pt.bind(void 0,0,1,0,0,2),pt.bind(void 0,0,1,0,0,3),pt.bind(void 0,0,1,0,1,0),pt.bind(void 0,0,1,0,1,1),pt.bind(void 0,0,1,0,1,2),pt.bind(void 0,0,1,0,1,3),pt.bind(void 0,0,1,1,0,0),pt.bind(void 0,0,1,1,0,1),pt.bind(void 0,0,1,1,0,2),pt.bind(void 0,0,1,1,0,3),pt.bind(void 0,0,1,1,1,0),pt.bind(void 0,0,1,1,1,1),pt.bind(void 0,0,1,1,1,2),pt.bind(void 0,0,1,1,1,3),pt.bind(void 0,1,0,0,0,0),pt.bind(void 0,1,0,0,0,1),pt.bind(void 0,1,0,0,0,2),pt.bind(void 0,1,0,0,0,3),pt.bind(void 0,1,0,0,1,0),pt.bind(void 0,1,0,0,1,1),pt.bind(void 0,1,0,0,1,2),pt.bind(void 0,1,0,0,1,3),pt.bind(void 0,1,0,1,0,0),pt.bind(void 0,1,0,1,0,1),pt.bind(void 0,1,0,1,0,2),pt.bind(void 0,1,0,1,0,3),pt.bind(void 0,1,0,1,1,0),pt.bind(void 0,1,0,1,1,1),pt.bind(void 0,1,0,1,1,2),pt.bind(void 0,1,0,1,1,3),pt.bind(void 0,1,1,0,0,0),pt.bind(void 0,1,1,0,0,1),pt.bind(void 0,1,1,0,0,2),pt.bind(void 0,1,1,0,0,3),pt.bind(void 0,1,1,0,1,0),pt.bind(void 0,1,1,0,1,1),pt.bind(void 0,1,1,0,1,2),pt.bind(void 0,1,1,0,1,3),pt.bind(void 0,1,1,1,0,0),pt.bind(void 0,1,1,1,0,1),pt.bind(void 0,1,1,1,0,2),pt.bind(void 0,1,1,1,0,3),pt.bind(void 0,1,1,1,1,0),pt.bind(void 0,1,1,1,1,1),pt.bind(void 0,1,1,1,1,2),pt.bind(void 0,1,1,1,1,3)],Ho=Array.from||function(f){return f.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function er(f){(f=f||{}).empty||(Rn(f.familyName,"When creating a new Font object, familyName is required."),Rn(f.styleName,"When creating a new Font object, styleName is required."),Rn(f.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Rn(f.ascender,"When creating a new Font object, ascender is required."),Rn(f.descender,"When creating a new Font object, descender is required."),Rn(f.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:f.familyName||" "},fontSubfamily:{en:f.styleName||" "},fullName:{en:f.fullName||f.familyName+" "+f.styleName},postScriptName:{en:f.postScriptName||(f.familyName+f.styleName).replace(/\s/g,"")},designer:{en:f.designer||" "},designerURL:{en:f.designerURL||" "},manufacturer:{en:f.manufacturer||" "},manufacturerURL:{en:f.manufacturerURL||" "},license:{en:f.license||" "},licenseURL:{en:f.licenseURL||" "},version:{en:f.version||"Version 0.1"},description:{en:f.description||" "},copyright:{en:f.copyright||" "},trademark:{en:f.trademark||" "}},this.unitsPerEm=f.unitsPerEm||1e3,this.ascender=f.ascender,this.descender=f.descender,this.createdTimestamp=f.createdTimestamp,this.tables={os2:{usWeightClass:f.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:f.widthClass||this.usWidthClasses.MEDIUM,fsSelection:f.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new gt.GlyphSet(this,f.glyphs||[]),this.encoding=new Ae(this),this.position=new Ln(this),this.substitution=new Ar(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new ps(this):void 0)}})}function yo(f,x){var M,k=JSON.stringify(f),F=256;for(M in x){var z=parseInt(M);if(z&&!(z<256)){if(JSON.stringify(x[M])===k)return z;F<=z&&(F=z+1)}}return x[F]=f,F}er.prototype.hasChar=function(f){return this.encoding.charToGlyphIndex(f)!==null},er.prototype.charToGlyphIndex=function(f){return this.encoding.charToGlyphIndex(f)},er.prototype.charToGlyph=function(f){return f=this.charToGlyphIndex(f),this.glyphs.get(f)||this.glyphs.get(0)},er.prototype.stringToGlyphs=function(f,x){x=x||this.defaultRenderOptions;for(var M=Ho(f),k=[],F=0;F<M.length;F+=1){var z=M[F];k.push(this.charToGlyphIndex(z))}var Y=k.length;if(x.features){var f=x.script||this.substitution.getDefaultScriptName(),ne=[];x.features.liga&&(ne=ne.concat(this.substitution.getFeature("liga",f,x.language))),x.features.rlig&&(ne=ne.concat(this.substitution.getFeature("rlig",f,x.language)));for(var de=0;de<Y;de+=1)for(var fe=0;fe<ne.length;fe++){for(var Se=ne[fe],Ie=Se.sub,Ce=Ie.length,ve=0;ve<Ce&&Ie[ve]===k[de+ve];)ve++;ve===Ce&&(k.splice(de,Ce,Se.by),Y=Y-Ce+1)}}for(var Xe=new Array(Y),Ge=this.glyphs.get(0),He=0;He<Y;He+=1)Xe[He]=this.glyphs.get(k[He])||Ge;return Xe},er.prototype.nameToGlyphIndex=function(f){return this.glyphNames.nameToGlyphIndex(f)},er.prototype.nameToGlyph=function(f){return f=this.nameToGlyphIndex(f),this.glyphs.get(f)||this.glyphs.get(0)},er.prototype.glyphIndexToName=function(f){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(f):""},er.prototype.getKerningValue=function(f,x){f=f.index||f,x=x.index||x;var M=this.position.defaultKerningTables;return M?this.position.getKerningValue(M,f,x):this.kerningPairs[f+","+x]||0},er.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},er.prototype.forEachGlyph=function(f,x,M,k,F,z){x=x!==void 0?x:0,M=M!==void 0?M:0,F=F||this.defaultRenderOptions;var Y,ne=1/this.unitsPerEm*(k=k!==void 0?k:72),de=this.stringToGlyphs(f,F);F.kerning&&(f=F.script||this.position.getDefaultScriptName(),Y=this.position.getKerningTables(f,F.language));for(var fe=0;fe<de.length;fe+=1){var Se=de[fe];z.call(this,Se,x,M,k,F),Se.advanceWidth&&(x+=Se.advanceWidth*ne),F.kerning&&fe<de.length-1&&(x+=(Y?this.position.getKerningValue(Y,Se.index,de[fe+1].index):this.getKerningValue(Se,de[fe+1]))*ne),F.letterSpacing?x+=F.letterSpacing*k:F.tracking&&(x+=F.tracking/1e3*k)}return x},er.prototype.getPath=function(f,x,M,k,F){var z=new Q;return this.forEachGlyph(f,x,M,k,F,function(Y,ne,de,fe){Y=Y.getPath(ne,de,fe,F,this),z.extend(Y)}),z},er.prototype.getPaths=function(f,x,M,k,F){var z=[];return this.forEachGlyph(f,x,M,k,F,function(Y,ne,de,fe){Y=Y.getPath(ne,de,fe,F,this),z.push(Y)}),z},er.prototype.getAdvanceWidth=function(f,x,M){return this.forEachGlyph(f,0,0,x,M,function(){})},er.prototype.draw=function(f,x,M,k,F,z){this.getPath(x,M,k,F,z).draw(f)},er.prototype.drawPoints=function(f,x,M,k,F,z){this.forEachGlyph(x,M,k,F,z,function(Y,ne,de,fe){Y.drawPoints(f,ne,de,fe)})},er.prototype.drawMetrics=function(f,x,M,k,F,z){this.forEachGlyph(x,M,k,F,z,function(Y,ne,de,fe){Y.drawMetrics(f,ne,de,fe)})},er.prototype.getEnglishName=function(f){if(f=this.names[f],f)return f.en},er.prototype.validate=function(){var f=this;function x(M){M=f.getEnglishName(M),M&&M.trim().length}x("fontFamily"),x("weightName"),x("manufacturer"),x("copyright"),x("version"),this.unitsPerEm},er.prototype.toTables=function(){return cs.fontToTable(this)},er.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},er.prototype.toArrayBuffer=function(){for(var f=this.toTables().encode(),x=new ArrayBuffer(f.length),M=new Uint8Array(x),k=0;k<f.length;k++)M[k]=f[k];return x},er.prototype.download=function(f){var x=this.getEnglishName("fontFamily"),M=this.getEnglishName("fontSubfamily"),k=(f=f||x.replace(/\s/g,"")+"-"+M+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,k.byteLength,function(F){F.root.getFile(f,{create:!0},function(z){z.createWriter(function(Y){var ne=new DataView(k),ne=new Blob([ne],{type:"font/opentype"});Y.write(ne),Y.addEventListener("writeend",function(){location.href=z.toURL()},!1)})})},function(F){throw new Error(F.name+": "+F.message)})):(x=t("fs"),M=(function(F){for(var z=new m(F.byteLength),Y=new Uint8Array(F),ne=0;ne<z.length;++ne)z[ne]=Y[ne];return z})(k),x.writeFileSync(f,M))},er.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},er.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},er.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var hi={make:function(f,x){var M=new Re.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:f.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:f.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*f.axes.length}]);M.offsetToData=M.sizeOf();for(var k,F,z,Y=0;Y<f.axes.length;Y++)M.fields=M.fields.concat((k=Y,F=f.axes[Y],z=x,z=yo(F.name,x),[{name:"tag_"+k,type:"TAG",value:F.tag},{name:"minValue_"+k,type:"FIXED",value:F.minValue<<16},{name:"defaultValue_"+k,type:"FIXED",value:F.defaultValue<<16},{name:"maxValue_"+k,type:"FIXED",value:F.maxValue<<16},{name:"flags_"+k,type:"USHORT",value:0},{name:"nameID_"+k,type:"USHORT",value:z}]));for(var ne=0;ne<f.instances.length;ne++)M.fields=M.fields.concat((function(de,fe,Se,Ie){for(var Ce=[{name:"nameID_"+de,type:"USHORT",value:yo(fe.name,Ie)},{name:"flags_"+de,type:"USHORT",value:0}],ve=0;ve<Se.length;++ve){var Xe=Se[ve].tag;Ce.push({name:"axis_"+de+" "+Xe,type:"FIXED",value:fe.coordinates[Xe]<<16})}return Ce})(ne,f.instances[ne],f.axes,x));return M},parse:function(f,x,M){for(var k,F,z,Y,ne=new Le.Parser(f,x),de=ne.parseULong(),fe=(R.argument(de===65536,"Unsupported fvar table version."),ne.parseOffset16()),Se=(ne.skip("uShort",1),ne.parseUShort()),Ie=ne.parseUShort(),Ce=ne.parseUShort(),ve=ne.parseUShort(),Xe=[],Ge=0;Ge<Se;Ge++)Xe.push((k=f,F=x+fe+Ge*Ie,z=M,Y={},k=new Le.Parser(k,F),Y.tag=k.parseTag(),Y.minValue=k.parseFixed(),Y.defaultValue=k.parseFixed(),Y.maxValue=k.parseFixed(),k.skip("uShort",1),Y.name=z[k.parseUShort()]||{},Y));for(var He=[],Ue=x+fe+Se*Ie,Ne=0;Ne<Ce;Ne++)He.push((function(vt,kt,yt,bt){var At={},nr=new Le.Parser(vt,kt);At.name=bt[nr.parseUShort()]||{},nr.skip("uShort",1),At.coordinates={};for(var cr=0;cr<yt.length;++cr)At.coordinates[yt[cr].tag]=nr.parseFixed();return At})(f,Ue+Ne*ve,Xe,M));return{axes:Xe,instances:He}}},Xr=new Array(10);Xr[1]=function(){var f=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{posFormat:1,coverage:this.parsePointer(Oe.coverage),value:this.parseValueRecord()}:x===2?{posFormat:2,coverage:this.parsePointer(Oe.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+f.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Xr[2]=function(){var f,x,M,k,z=this.offset+this.relativeOffset,F=this.parseUShort(),z=(R.assert(F===1||F===2,"0x"+z.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Oe.coverage)),Y=this.parseUShort(),ne=this.parseUShort();return F===1?{posFormat:F,coverage:z,valueFormat1:Y,valueFormat2:ne,pairSets:this.parseList(Oe.pointer(Oe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Y),value2:this.parseValueRecord(ne)}})))}:F===2?(f=this.parsePointer(Oe.classDef),x=this.parsePointer(Oe.classDef),M=this.parseUShort(),k=this.parseUShort(),{posFormat:F,coverage:z,valueFormat1:Y,valueFormat2:ne,classDef1:f,classDef2:x,class1Count:M,class2Count:k,classRecords:this.parseList(M,Oe.list(k,function(){return{value1:this.parseValueRecord(Y),value2:this.parseValueRecord(ne)}}))}):void 0},Xr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Xr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Xr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Xr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Xr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Xr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Xr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var pi=new Array(10),ws={parse:function(f,x){return x=(f=new Oe(f,x=x||0)).parseVersion(1),R.argument(x===1||x===1.1,"Unsupported GPOS table version "+x),x===1?{version:x,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(Xr)}:{version:x,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(Xr),variations:f.parseFeatureVariationsList()}},make:function(f){return new Re.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Re.ScriptList(f.scripts)},{name:"features",type:"TABLE",value:new Re.FeatureList(f.features)},{name:"lookups",type:"TABLE",value:new Re.LookupList(f.lookups,pi)}])}},go={parse:function(f,x){if(f=new Le.Parser(f,x),(x=f.parseUShort())===0){var M=f,k={},Ie=(M.skip("uShort"),M.parseUShort()),F=(R.argument(Ie===0,"Unsupported kern sub-table version."),M.skip("uShort",2),M.parseUShort());M.skip("uShort",3);for(var z=0;z<F;z+=1){var Y=M.parseUShort(),ne=M.parseUShort(),de=M.parseShort();k[Y+","+ne]=de}return k}if(x!==1)throw new Error("Unsupported kern table version ("+x+").");var fe=f,Se={},Ie=(fe.skip("uShort"),1<fe.parseULong()&&console.warn("Only the first kern subtable is supported."),fe.skip("uLong"),255&fe.parseUShort());if(fe.skip("uShort"),Ie==0){var Ce=fe.parseUShort();fe.skip("uShort",3);for(var ve=0;ve<Ce;ve+=1){var Xe=fe.parseUShort(),Ge=fe.parseUShort(),He=fe.parseShort();Se[Xe+","+Ge]=He}}return Se}},In={parse:function(f,x,M,k){for(var F=new Le.Parser(f,x),z=k?F.parseUShort:F.parseULong,Y=[],ne=0;ne<M+1;ne+=1){var de=z.call(F);k&&(de*=2),Y.push(de)}return Y}};function mi(f,x){t("fs").readFile(f,function(M,k){if(M)return x(M.message);x(null,Po(k))})}function js(f,x){var M=new XMLHttpRequest;M.open("get",f,!0),M.responseType="arraybuffer",M.onload=function(){return M.response?x(null,M.response):x("Font could not be loaded: "+M.statusText)},M.onerror=function(){x("Font could not be loaded")},M.send()}function Wo(f,x){for(var M=[],k=12,F=0;F<x;F+=1){var z=Le.getTag(f,k),Y=Le.getULong(f,k+4),ne=Le.getULong(f,k+8),de=Le.getULong(f,k+12);M.push({tag:z,checksum:Y,offset:ne,length:de,compression:!1}),k+=16}return M}function ur(M,x){if(x.compression!=="WOFF")return{data:M,offset:x.offset};var M=new Uint8Array(M.buffer,x.offset+2,x.compressedLength-2),k=new Uint8Array(x.length);if(H(M,k),k.byteLength!==x.length)throw new Error("Decompression error: "+x.tag+" decompressed length doesn't match recorded length");return{data:new DataView(k.buffer,0),offset:0}}function Jn(Ne){var x,M,k,F,z,Y,ne,de,fe,Se,Ie,Ce,ve,Xe,Ge=new er({empty:!0}),He=new DataView(Ne,0),Ue=[],Ne=Le.getTag(He,0);if(Ne==="\0\0\0"||Ne==="true"||Ne==="typ1")Ge.outlinesFormat="truetype",Ue=Wo(He,k=Le.getUShort(He,4));else if(Ne==="OTTO")Ge.outlinesFormat="cff",Ue=Wo(He,k=Le.getUShort(He,4));else{if(Ne!=="wOFF")throw new Error("Unsupported OpenType signature "+Ne);var vt=Le.getTag(He,4);if(vt==="\0\0\0")Ge.outlinesFormat="truetype";else{if(vt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ne);Ge.outlinesFormat="cff"}Ue=(function(ir,Xt){for(var kr=[],Kt=44,ke=0;ke<Xt;ke+=1){var ze=Le.getTag(ir,Kt),Be=Le.getULong(ir,Kt+4),mt=Le.getULong(ir,Kt+8),St=Le.getULong(ir,Kt+12),zt=void 0,zt=mt<St&&"WOFF";kr.push({tag:ze,offset:Be,compression:zt,compressedLength:mt,length:St}),Kt+=20}return kr})(He,k=Le.getUShort(He,12))}for(var kt=0;kt<k;kt+=1){var yt=Ue[kt],bt=void 0;switch(yt.tag){case"cmap":bt=ur(He,yt),Ge.tables.cmap=ee.parse(bt.data,bt.offset),Ge.encoding=new Ve(Ge.tables.cmap);break;case"cvt ":bt=ur(He,yt),Xe=new Le.Parser(bt.data,bt.offset),Ge.tables.cvt=Xe.parseShortList(yt.length/2);break;case"fvar":z=yt;break;case"fpgm":bt=ur(He,yt),Xe=new Le.Parser(bt.data,bt.offset),Ge.tables.fpgm=Xe.parseByteList(yt.length);break;case"head":bt=ur(He,yt),Ge.tables.head=Cn.parse(bt.data,bt.offset),Ge.unitsPerEm=Ge.tables.head.unitsPerEm,x=Ge.tables.head.indexToLocFormat;break;case"hhea":bt=ur(He,yt),Ge.tables.hhea=be.parse(bt.data,bt.offset),Ge.ascender=Ge.tables.hhea.ascender,Ge.descender=Ge.tables.hhea.descender,Ge.numberOfHMetrics=Ge.tables.hhea.numberOfHMetrics;break;case"hmtx":fe=yt;break;case"ltag":bt=ur(He,yt),M=dt.parse(bt.data,bt.offset);break;case"maxp":bt=ur(He,yt),Ge.tables.maxp=Qe.parse(bt.data,bt.offset),Ge.numGlyphs=Ge.tables.maxp.numGlyphs;break;case"name":Ce=yt;break;case"OS/2":bt=ur(He,yt),Ge.tables.os2=xr.parse(bt.data,bt.offset);break;case"post":bt=ur(He,yt),Ge.tables.post=as.parse(bt.data,bt.offset),Ge.glyphNames=new tt(Ge.tables.post);break;case"prep":bt=ur(He,yt),Xe=new Le.Parser(bt.data,bt.offset),Ge.tables.prep=Xe.parseByteList(yt.length);break;case"glyf":Y=yt;break;case"loca":Ie=yt;break;case"CFF ":F=yt;break;case"kern":Se=yt;break;case"GPOS":ne=yt;break;case"GSUB":de=yt;break;case"meta":ve=yt}}if(vt=ur(He,Ce),Ge.tables.name=Ir.parse(vt.data,vt.offset,M),Ge.names=Ge.tables.name,Y&&Ie)Ne=x===0,vt=ur(He,Ie),vt=In.parse(vt.data,vt.offset,Ge.numGlyphs,Ne),Ne=ur(He,Y),Ge.glyphs=hs.parse(Ne.data,Ne.offset,vt,Ge);else{if(!F)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ne=ur(He,F),qn.parse(Ne.data,Ne.offset,Ge)}for(var vt=ur(He,fe),At=($e.parse(vt.data,vt.offset,Ge.numberOfHMetrics,Ge.numGlyphs,Ge.glyphs),Ge),nr=At.tables.cmap.glyphIndexMap,cr=Object.keys(nr),sr=0;sr<cr.length;sr+=1){var or,Sr=cr[sr],Yr=nr[Sr];(or=At.glyphs.get(Yr)).addUnicode(parseInt(Sr))}for(var tr=0;tr<At.glyphs.length;tr+=1)or=At.glyphs.get(tr),At.cffEncoding?At.isCIDFont?or.name="gid"+tr:or.name=At.cffEncoding.charset[tr]:At.glyphNames.names&&(or.name=At.glyphNames.glyphIndexToName(tr));return Se?(Ne=ur(He,Se),Ge.kerningPairs=go.parse(Ne.data,Ne.offset)):Ge.kerningPairs={},ne&&(vt=ur(He,ne),Ge.tables.gpos=ws.parse(vt.data,vt.offset),Ge.position.init()),de&&(Ne=ur(He,de),Ge.tables.gsub=lo.parse(Ne.data,Ne.offset)),z&&(vt=ur(He,z),Ge.tables.fvar=hi.parse(vt.data,vt.offset,Ge.names)),ve&&(Ne=ur(He,ve),Ge.tables.meta=ls.parse(Ne.data,Ne.offset),Ge.metas=Ge.tables.meta),Ge}h.Font=er,h.Glyph=lt,h.Path=Q,h.BoundingBox=Z,h._parse=Le,h.parse=Jn,h.load=function(f,x){(typeof window>"u"?mi:js)(f,function(M,k){if(M)return x(M);var F;try{F=Jn(k)}catch(z){return x(z,null)}return x(null,F)})},h.loadSync=function(f){return Jn(Po(t("fs").readFileSync(f)))},Object.defineProperty(h,"__esModule",{value:!0})},c(typeof A=="object"&&q!==void 0?A:g.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,q,A){(function(m){function g(b,y){for(var r=0,s=b.length-1;0<=s;s--){var i=b[s];i==="."?b.splice(s,1):i===".."?(b.splice(s,1),r++):r&&(b.splice(s,1),r--)}if(y)for(;r--;)b.unshift("..");return b}function c(b,y){if(b.filter)return b.filter(y);for(var r=[],s=0;s<b.length;s++)y(b[s],s,b)&&r.push(b[s]);return r}A.resolve=function(){for(var b="",y=!1,r=arguments.length-1;-1<=r&&!y;r--){var s=0<=r?arguments[r]:m.cwd();if(typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");s&&(b=s+"/"+b,y=s.charAt(0)==="/")}return(y?"/":"")+(b=g(c(b.split("/"),function(i){return!!i}),!y).join("/"))||"."},A.normalize=function(b){var y=A.isAbsolute(b),r=h(b,-1)==="/";return(b=(b=g(c(b.split("/"),function(s){return!!s}),!y).join("/"))||y?b:".")&&r&&(b+="/"),(y?"/":"")+b},A.isAbsolute=function(b){return b.charAt(0)==="/"},A.join=function(){var b=Array.prototype.slice.call(arguments,0);return A.normalize(c(b,function(y,r){if(typeof y!="string")throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},A.relative=function(b,y){function r(p){for(var d=0;d<p.length&&p[d]==="";d++);for(var _=p.length-1;0<=_&&p[_]==="";_--);return _<d?[]:p.slice(d,_-d+1)}b=A.resolve(b).substr(1),y=A.resolve(y).substr(1);for(var s=r(b.split("/")),i=r(y.split("/")),l=Math.min(s.length,i.length),u=l,o=0;o<l;o++)if(s[o]!==i[o]){u=o;break}for(var n=[],o=u;o<s.length;o++)n.push("..");return(n=n.concat(i.slice(u))).join("/")},A.sep="/",A.delimiter=":",A.dirname=function(b){if(typeof b!="string"&&(b+=""),b.length===0)return".";for(var y=b.charCodeAt(0)===47,r=-1,s=!0,i=b.length-1;1<=i;--i)if(b.charCodeAt(i)===47){if(!s){r=i;break}}else s=!1;return r===-1?y?"/":".":y&&r===1?"/":b.slice(0,r)},A.basename=function(b,y){return b=(function(r){typeof r!="string"&&(r+="");for(var s=0,i=-1,l=!0,u=r.length-1;0<=u;--u)if(r.charCodeAt(u)===47){if(!l){s=u+1;break}}else i===-1&&(l=!1,i=u+1);return i===-1?"":r.slice(s,i)})(b),b=y&&b.substr(-1*y.length)===y?b.substr(0,b.length-y.length):b},A.extname=function(b){typeof b!="string"&&(b+="");for(var y=-1,r=0,s=-1,i=!0,l=0,u=b.length-1;0<=u;--u){var o=b.charCodeAt(u);if(o===47){if(i)continue;r=u+1;break}s===-1&&(i=!1,s=u+1),o===46?y===-1?y=u:l!==1&&(l=1):y!==-1&&(l=-1)}return y===-1||s===-1||l===0||l===1&&y===s-1&&y===r+1?"":b.slice(y,s)};var h="ab".substr(-1)==="b"?function(b,y,r){return b.substr(y,r)}:function(b,y,r){return y<0&&(y=b.length+y),b.substr(y,r)}}).call(this,t("_process"))},{_process:259}],259:[function(t,c,A){var m,g,c=c.exports={};function h(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}try{m=typeof setTimeout=="function"?setTimeout:h}catch{m=h}try{g=typeof clearTimeout=="function"?clearTimeout:b}catch{g=b}function y(d){if(m===setTimeout)return setTimeout(d,0);if((m===h||!m)&&setTimeout)return(m=setTimeout)(d,0);try{return m(d,0)}catch{try{return m.call(null,d,0)}catch{return m.call(this,d,0)}}}var r,s=[],i=!1,l=-1;function u(){i&&r&&(i=!1,r.length?s=r.concat(s):l=-1,s.length&&o())}function o(){if(!i){for(var d=y(u),_=(i=!0,s.length);_;){for(r=s,s=[];++l<_;)r&&r[l].run();l=-1,_=s.length}r=null,i=!1,(function(S){if(g===clearTimeout)return clearTimeout(S);if((g===b||!g)&&clearTimeout)return(g=clearTimeout)(S);try{g(S)}catch{try{return g.call(null,S)}catch{return g.call(this,S)}}})(d)}}function n(d,_){this.fun=d,this.array=_}function p(){}c.nextTick=function(d){var _=new Array(arguments.length-1);if(1<arguments.length)for(var S=1;S<arguments.length;S++)_[S-1]=arguments[S];s.push(new n(d,_)),s.length!==1||i||y(o)},n.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=p,c.addListener=p,c.once=p,c.off=p,c.removeListener=p,c.removeAllListeners=p,c.emit=p,c.prependListener=p,c.prependOnceListener=p,c.listeners=function(d){return[]},c.binding=function(d){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(d){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],260:[function(t,q,A){q=(function(m){var g,c=Object.prototype,h=c.hasOwnProperty,j=typeof Symbol=="function"?Symbol:{},b=j.iterator||"@@iterator",y=j.asyncIterator||"@@asyncIterator",r=j.toStringTag||"@@toStringTag";function s(X,N,G,W){var Q,le,w,R,N=N&&N.prototype instanceof d?N:d,N=Object.create(N.prototype),W=new U(W||[]);return N._invoke=(Q=X,le=G,w=W,R=l,function(J,re){if(R===o)throw new Error("Generator is already running");if(R===n){if(J==="throw")throw re;return B()}for(w.method=J,w.arg=re;;){var ue=w.delegate;if(ue&&(ue=(function ge(se,pe){var ye=se.iterator[pe.method];if(ye===g){if(pe.delegate=null,pe.method==="throw"){if(se.iterator.return&&(pe.method="return",pe.arg=g,ge(se,pe),pe.method==="throw"))return p;pe.method="throw",pe.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}if(ye=i(ye,se.iterator,pe.arg),ye.type==="throw")return pe.method="throw",pe.arg=ye.arg,pe.delegate=null,p;if(ye=ye.arg,!ye)return pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,p;{if(!ye.done)return ye;pe[se.resultName]=ye.value,pe.next=se.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=g)}return pe.delegate=null,p})(ue,w),ue)){if(ue===p)continue;return ue}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(R===l)throw R=n,w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);if(R=o,ue=i(Q,le,w),ue.type==="normal"){if(R=w.done?n:u,ue.arg!==p)return{value:ue.arg,done:w.done}}else ue.type==="throw"&&(R=n,w.method="throw",w.arg=ue.arg)}}),N}function i(X,H,G){try{return{type:"normal",arg:X.call(H,G)}}catch(Z){return{type:"throw",arg:Z}}}m.wrap=s;var l="suspendedStart",u="suspendedYield",o="executing",n="completed",p={};function d(){}function _(){}function S(){}var j={},T=(j[b]=function(){return this},Object.getPrototypeOf),T=T&&T(T(D([]))),C=(T&&T!==c&&h.call(T,b)&&(j=T),S.prototype=d.prototype=Object.create(j));function L(X){["next","throw","return"].forEach(function(H){X[H]=function(G){return this._invoke(H,G)}})}function E(X){var H;this._invoke=function(G,Z){function Q(){return new Promise(function(le,w){(function R(ge,W,J,re){var ue,ge=i(X[ge],X,W);if(ge.type!=="throw")return(W=(ue=ge.arg).value)&&typeof W=="object"&&h.call(W,"__await")?Promise.resolve(W.__await).then(function(se){R("next",se,J,re)},function(se){R("throw",se,J,re)}):Promise.resolve(W).then(function(se){ue.value=se,J(ue)},function(se){return R("throw",se,J,re)});re(ge.arg)})(G,Z,le,w)})}return H=H?H.then(Q,Q):Q()}}function I(X){var H={tryLoc:X[0]};1 in X&&(H.catchLoc=X[1]),2 in X&&(H.finallyLoc=X[2],H.afterLoc=X[3]),this.tryEntries.push(H)}function O(X){var H=X.completion||{};H.type="normal",delete H.arg,X.completion=H}function U(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(I,this),this.reset(!0)}function D(X){if(X){var H,G=X[b];if(G)return G.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length))return H=-1,(G=function Z(){for(;++H<X.length;)if(h.call(X,H))return Z.value=X[H],Z.done=!1,Z;return Z.value=g,Z.done=!0,Z}).next=G}return{next:B}}function B(){return{value:g,done:!0}}return(_.prototype=C.constructor=S).constructor=_,S[r]=_.displayName="GeneratorFunction",m.isGeneratorFunction=function(X){return X=typeof X=="function"&&X.constructor,!!X&&(X===_||(X.displayName||X.name)==="GeneratorFunction")},m.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,S):(X.__proto__=S,r in X||(X[r]="GeneratorFunction")),X.prototype=Object.create(C),X},m.awrap=function(X){return{__await:X}},L(E.prototype),E.prototype[y]=function(){return this},m.AsyncIterator=E,m.async=function(X,H,G,Z){var Q=new E(s(X,H,G,Z));return m.isGeneratorFunction(H)?Q:Q.next().then(function(le){return le.done?le.value:Q.next()})},L(C),C[r]="Generator",C[b]=function(){return this},C.toString=function(){return"[object Generator]"},m.keys=function(X){var H,G=[];for(H in X)G.push(H);return G.reverse(),function Z(){for(;G.length;){var Q=G.pop();if(Q in X)return Z.value=Q,Z.done=!1,Z}return Z.done=!0,Z}},m.values=D,U.prototype={constructor:U,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(O),!X)for(var H in this)H.charAt(0)==="t"&&h.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=g)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if(X.type==="throw")throw X.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var H=this;function G(N,W){return le.type="throw",le.arg=X,H.next=N,W&&(H.method="next",H.arg=g),!!W}for(var Z=this.tryEntries.length-1;0<=Z;--Z){var Q=this.tryEntries[Z],le=Q.completion;if(Q.tryLoc==="root")return G("end");if(Q.tryLoc<=this.prev){var w=h.call(Q,"catchLoc"),R=h.call(Q,"finallyLoc");if(w&&R){if(this.prev<Q.catchLoc)return G(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return G(Q.finallyLoc)}else if(w){if(this.prev<Q.catchLoc)return G(Q.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return G(Q.finallyLoc)}}}},abrupt:function(X,H){for(var G=this.tryEntries.length-1;0<=G;--G){var Z=this.tryEntries[G];if(Z.tryLoc<=this.prev&&h.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var Q=Z;break}}var le=(Q=Q&&(X==="break"||X==="continue")&&Q.tryLoc<=H&&H<=Q.finallyLoc?null:Q)?Q.completion:{};return le.type=X,le.arg=H,Q?(this.method="next",this.next=Q.finallyLoc,p):this.complete(le)},complete:function(X,H){if(X.type==="throw")throw X.arg;return X.type==="break"||X.type==="continue"?this.next=X.arg:X.type==="return"?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):X.type==="normal"&&H&&(this.next=H),p},finish:function(X){for(var H=this.tryEntries.length-1;0<=H;--H){var G=this.tryEntries[H];if(G.finallyLoc===X)return this.complete(G.completion,G.afterLoc),O(G),p}},catch:function(X){for(var H=this.tryEntries.length-1;0<=H;--H){var G,Z,Q=this.tryEntries[H];if(Q.tryLoc===X)return(G=Q.completion).type==="throw"&&(Z=G.arg,O(Q)),Z}throw new Error("illegal catch attempt")},delegateYield:function(X,H,G){return this.delegate={iterator:D(X),resultName:H,nextLoc:G},this.method==="next"&&(this.arg=g),p}},m})(typeof q=="object"?q.exports:{});try{regeneratorRuntime=q}catch{Function("r","regeneratorRuntime = r")(q)}},{}],261:[function(t,q,A){(function(m){var g,c,h,b,y,r,s,i,l,u;function o(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function n(O){return O=typeof O!="string"?String(O):O}function p(O){var U={next:function(){var D=O.shift();return{done:D===void 0,value:D}}};return c&&(U[Symbol.iterator]=function(){return U}),U}function d(O){this.map={},O instanceof d?O.forEach(function(U,D){this.append(D,U)},this):Array.isArray(O)?O.forEach(function(U){this.append(U[0],U[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(U){this.append(U,O[U])},this)}function _(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function S(O){return new Promise(function(U,D){O.onload=function(){U(O.result)},O.onerror=function(){D(O.error)}})}function j(O){var U=new FileReader,D=S(U);return U.readAsArrayBuffer(O),D}function T(O){var U;return O.slice?O.slice(0):((U=new Uint8Array(O.byteLength)).set(new Uint8Array(O)),U.buffer)}function C(){return this.bodyUsed=!1,this._initBody=function(O){if(this._bodyInit=O)if(typeof O=="string")this._bodyText=O;else if(h&&Blob.prototype.isPrototypeOf(O))this._bodyBlob=O;else if(b&&FormData.prototype.isPrototypeOf(O))this._bodyFormData=O;else if(g&&URLSearchParams.prototype.isPrototypeOf(O))this._bodyText=O.toString();else if(y&&h&&s(O))this._bodyArrayBuffer=T(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(O)&&!i(O))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=T(O)}else this._bodyText="";this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h&&(this.blob=function(){var O=_(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var O,U,D=_(this);if(D)return D;if(this._bodyBlob)return D=this._bodyBlob,O=new FileReader,U=S(O),O.readAsText(D),U;if(this._bodyArrayBuffer)return Promise.resolve((function(B){for(var X=new Uint8Array(B),H=new Array(X.length),G=0;G<X.length;G++)H[G]=String.fromCharCode(X[G]);return H.join("")})(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}function L(O,U){var D,B=(U=U||{}).body;if(O instanceof L){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,U.headers||(this.headers=new d(O.headers)),this.method=O.method,this.mode=O.mode,B||O._bodyInit==null||(B=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=U.credentials||this.credentials||"omit",!U.headers&&this.headers||(this.headers=new d(U.headers)),this.method=(O=U.method||this.method||"GET",D=O.toUpperCase(),-1<l.indexOf(D)?D:O),this.mode=U.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}function E(O){var U=new FormData;return O.trim().split("&").forEach(function(D){var B;D&&(B=(D=D.split("=")).shift().replace(/\+/g," "),D=D.join("=").replace(/\+/g," "),U.append(decodeURIComponent(B),decodeURIComponent(D)))}),U}function I(O,U){U=U||{},this.type="default",this.status=U.status===void 0?200:U.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in U?U.statusText:"OK",this.headers=new d(U.headers),this.url=U.url||"",this._initBody(O)}m.fetch||(g="URLSearchParams"in m,c="Symbol"in m&&"iterator"in Symbol,h="FileReader"in m&&"Blob"in m&&(function(){try{return new Blob,!0}catch{return!1}})(),b="FormData"in m,(y="ArrayBuffer"in m)&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(O){return O&&DataView.prototype.isPrototypeOf(O)},i=ArrayBuffer.isView||function(O){return O&&-1<r.indexOf(Object.prototype.toString.call(O))}),d.prototype.append=function(O,U){O=o(O),U=n(U);var D=this.map[O];this.map[O]=D?D+","+U:U},d.prototype.delete=function(O){delete this.map[o(O)]},d.prototype.get=function(O){return O=o(O),this.has(O)?this.map[O]:null},d.prototype.has=function(O){return this.map.hasOwnProperty(o(O))},d.prototype.set=function(O,U){this.map[o(O)]=n(U)},d.prototype.forEach=function(O,U){for(var D in this.map)this.map.hasOwnProperty(D)&&O.call(U,this.map[D],D,this)},d.prototype.keys=function(){var O=[];return this.forEach(function(U,D){O.push(D)}),p(O)},d.prototype.values=function(){var O=[];return this.forEach(function(U){O.push(U)}),p(O)},d.prototype.entries=function(){var O=[];return this.forEach(function(U,D){O.push([D,U])}),p(O)},c&&(d.prototype[Symbol.iterator]=d.prototype.entries),l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],L.prototype.clone=function(){return new L(this,{body:this._bodyInit})},C.call(L.prototype),C.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},I.error=function(){var O=new I(null,{status:0,statusText:""});return O.type="error",O},u=[301,302,303,307,308],I.redirect=function(O,U){if(u.indexOf(U)===-1)throw new RangeError("Invalid status code");return new I(null,{status:U,headers:{location:O}})},m.Headers=d,m.Request=L,m.Response=I,m.fetch=function(O,U){return new Promise(function(D,B){var X=new L(O,U),H=new XMLHttpRequest;H.onload=function(){var G,Z={status:H.status,statusText:H.statusText,headers:(Z=H.getAllResponseHeaders()||"",G=new d,Z.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(w){var w=w.split(":"),R=w.shift().trim();R&&(w=w.join(":").trim(),G.append(R,w))}),G)},Q=(Z.url="responseURL"in H?H.responseURL:Z.headers.get("X-Request-URL"),"response"in H?H.response:H.responseText);D(new I(Q,Z))},H.onerror=function(){B(new TypeError("Network request failed"))},H.ontimeout=function(){B(new TypeError("Network request failed"))},H.open(X.method,X.url,!0),X.credentials==="include"?H.withCredentials=!0:X.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&h&&(H.responseType="blob"),X.headers.forEach(function(G,Z){H.setRequestHeader(Z,G)}),H.send(X._bodyInit===void 0?null:X._bodyInit)})},m.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,q,A){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m,g=h(t("../core/main")),c=h(t("../color/color_conversion"));function h(r){return r&&r.__esModule?r:{default:r}}var b=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],y=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];g.default.prototype._rgbColorName=function(l){var s,i,l=c.default._rgbaToHSBA(l),u=[(m=l)[0],l[1],l[2]];u[0]!==0&&(u[0]=Math.round(100*u[0]),(l=u[0].toString().split(""))[i=l.length-1]=parseInt(l[i]),l[i]<2.5?l[i]=0:2.5<=l[i]&&l[i]<7.5&&(l[i]=5),l.length===2?(l[0]=parseInt(l[0]),7.5<=l[i]&&(l[i]=0,l[0]=l[0]+1),u[0]=10*l[0]+l[1]):7.5<=l[i]?u[0]=10:u[0]=l[i]),u[2]=u[2]/255;for(var o=u.length-1;1<=o;o--)u[o]<=.25?u[o]=0:.25<u[o]&&u[o]<.75?u[o]=.5:u[o]=1;if(u[0]===0&&u[1]===0&&u[2]===1){for(var n=2;0<=n;n--)m[n]=Math.round(1e4*m[n])/1e4;for(var p=0;p<b.length;p++){if(b[p].h===m[0]&&b[p].s===m[1]&&b[p].b===m[2]){s=b[p].name;break}s="white"}}else for(var d=0;d<y.length;d++)if(y[d].h===u[0]&&y[d].s===u[1]&&y[d].b===u[2]){s=y[d].name;break}return s},t=g.default,A.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,q,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t},g="_Description",c="_fallbackDesc",h="_fallbackTable",b="_Label",y="_labelDesc",r="_labelTable";function s(i){if(i==="label"||i==="fallback")throw new Error("description should not be LABEL or FALLBACK");return i.endsWith(".")||i.endsWith(";")||i.endsWith(",")||i.endsWith("?")||i.endsWith("!")||(i+="."),i}m.default.prototype.describe=function(i,l){var u;m.default._validateParameters("describe",arguments),typeof i=="string"&&(u=this.canvas.id,i=s(i),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==i&&(this.descriptions.fallback.innerHTML=i):this._describeHTML("fallback",i),l===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==i&&(this.descriptions.label.innerHTML=i):this._describeHTML("label",i)))},m.default.prototype.describeElement=function(i,l,u){var o,n;m.default._validateParameters("describeElement",arguments),typeof l=="string"&&typeof i=="string"&&(o=this.canvas.id,l=s(l),n=(function(p){if(p==="label"||p==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p})(i),i=i.replace(/[^a-zA-Z0-9]/g,""),n='<th scope="row">'.concat(n,"</th><td>").concat(l,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[i]?this.descriptions.fallbackElements[i].innerHTML!==n&&(this.descriptions.fallbackElements[i].innerHTML=n):this._describeElementHTML("fallback",i,n),u===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[i]?this.descriptions.labelElements[i].innerHTML!==n&&(this.descriptions.labelElements[i].innerHTML=n):this._describeElementHTML("label",i,n)))},m.default.prototype._describeHTML=function(i,l){var u,o=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(o+g))?this.dummyDOM.querySelector("#"+o+h).insertAdjacentHTML("beforebegin",'<p id="'.concat(o+c,'"></p>')):(u='<div id="'.concat(o).concat(g,'" role="region" aria-label="Canvas Description"><p id="').concat(o).concat(c,'"></p></div>'),this.dummyDOM.querySelector("#".concat(o,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(o,"accessibleOutput")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#".concat(o)).innerHTML=u),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(o).concat(c)),this.descriptions.fallback.innerHTML=l):i==="label"&&(this.dummyDOM.querySelector("#".concat(o+b))?this.dummyDOM.querySelector("#".concat(o+r))&&this.dummyDOM.querySelector("#".concat(o+r)).insertAdjacentHTML("beforebegin",'<p id="'.concat(o).concat(y,'"></p>')):(u='<div id="'.concat(o).concat(b,'" class="p5Label"><p id="').concat(o).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(o,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(o,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+o).insertAdjacentHTML("afterend",u)),this.descriptions.label=this.dummyDOM.querySelector("#"+o+y),this.descriptions.label.innerHTML=l)},m.default.prototype._describeElementHTML=function(i,l,u){var o,n=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(n+g))?this.dummyDOM.querySelector("#"+n+h)||this.dummyDOM.querySelector("#"+n+c).insertAdjacentHTML("afterend",'<table id="'.concat(n).concat(h,'"><caption>Canvas elements and their descriptions</caption></table>')):(o='<div id="'.concat(n).concat(g,'" role="region" aria-label="Canvas Description"><table id="').concat(n).concat(h,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(n,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(n,"accessibleOutput")).insertAdjacentHTML("beforebegin",o):this.dummyDOM.querySelector("#"+n).innerHTML=o),(o=document.createElement("tr")).id=n+"_fte_"+l,this.dummyDOM.querySelector("#"+n+h).appendChild(o),this.descriptions.fallbackElements[l]=this.dummyDOM.querySelector("#".concat(n).concat("_fte_").concat(l)),this.descriptions.fallbackElements[l].innerHTML=u):i==="label"&&(this.dummyDOM.querySelector("#".concat(n+b))?this.dummyDOM.querySelector("#".concat(n+r))||this.dummyDOM.querySelector("#"+n+y).insertAdjacentHTML("afterend",'<table id="'.concat(n+r,'"></table>')):(o='<div id="'.concat(n).concat(b,'" class="p5Label"><table id="').concat(n).concat(r,'"></table></div>'),this.dummyDOM.querySelector("#".concat(n,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(n,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",o):this.dummyDOM.querySelector("#"+n).insertAdjacentHTML("afterend",o)),(i=document.createElement("tr")).id=n+"_lte_"+l,this.dummyDOM.querySelector("#"+n+r).appendChild(i),this.descriptions.labelElements[l]=this.dummyDOM.querySelector("#".concat(n).concat("_lte_").concat(l)),this.descriptions.labelElements[l].innerHTML=u)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,q,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype._updateGridOutput=function(g){var c,h,b,y;this._renderer&&this._renderer instanceof m.default.RendererGL?this._didOutputGridWebGLMessage||(this._didOutputGridWebGLMessage=!0,console.error("gridOutput() does not yet work in WebGL mode.")):this.dummyDOM.querySelector("#".concat(g,"_summary"))&&(c=this._accessibleOutputs[g],b=(function(r,s,i,l){return s="".concat(s," canvas, ").concat(i," by ").concat(l," pixels, contains ").concat(r[0]),s=(r[0]===1?"".concat(s," shape: "):"".concat(s," shapes: ")).concat(r[1]),s})((h=(function(r,s){var i,l="",u="",o=0;for(i in s){var n,p=0;for(n in s[i]){var d='<li id="'.concat(r,"shape").concat(o,'">').concat(s[i][n].color," ").concat(i,",");i==="line"?d+=" location = ".concat(s[i][n].pos,", length = ").concat(s[i][n].length," pixels"):(d+=" location = ".concat(s[i][n].pos),i!=="point"&&(d+=", area = ".concat(s[i][n].area," %")),d+="</li>"),l+=d,p++,o++}u=1<p?"".concat(u," ").concat(p," ").concat(i,"s"):"".concat(u," ").concat(p," ").concat(i)}return{numShapes:[o,u],details:l}})(g,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=(function(r,s){var i,l,u=0,o="",n=Array.from(Array(10),function(){return Array(10)});for(i in s)for(var p in s[i]){var d=void 0;d=i!=="line"?'<a href="#'.concat(r,"shape").concat(u,'">').concat(s[i][p].color," ").concat(i,"</a>"):'<a href="#'.concat(r,"shape").concat(u,'">').concat(s[i][p].color," ").concat(i," midpoint</a>"),s[i][p].loc.locY<n.length&&s[i][p].loc.locX<n[s[i][p].loc.locY].length&&(n[s[i][p].loc.locY][s[i][p].loc.locX]?n[s[i][p].loc.locY][s[i][p].loc.locX]=n[s[i][p].loc.locY][s[i][p].loc.locX]+"  "+d:n[s[i][p].loc.locY][s[i][p].loc.locX]=d,u++)}for(l in n){var _,S="<tr>";for(_ in n[l])S+="<td>",n[l][_]!==void 0&&(S+=n[l][_]),S+="</td>";o=o+S+"</tr>"}return o})(g,this.ingredients.shapes),b!==c.summary.innerHTML&&(c.summary.innerHTML=b),y!==c.map.innerHTML&&(c.map.innerHTML=y),h.details!==c.shapeDetails.innerHTML&&(c.shapeDetails.innerHTML=h.details),this._accessibleOutputs[g]=c)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,q,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(h){return(function(b){if(Array.isArray(b)){for(var y=0,r=new Array(b.length);y<b.length;y++)r[y]=b[y];return r}})(h)||(function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)})(h)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function c(r,i,y){var s=r[0],r=r[1],s=Math.floor(s/i*10),i=Math.floor(r/y*10);return{locX:Math.min(Math.max(s,0),9),locY:Math.min(Math.max(i,0),9)}}m.default.prototype.textOutput=function(h){m.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),h===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},m.default.prototype.gridOutput=function(h){m.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),h===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},m.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},m.default.prototype._createOutput=function(h,b){var y,r,s,i=this.canvas.id,l=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),"");b==="Fallback"?(y=i+h,this.dummyDOM.querySelector("#".concat(r=i+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(i,"_Description"))?this.dummyDOM.querySelector("#".concat(i,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(i)).innerHTML='<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>'))):b==="Label"&&(y=i+h+(l=b),this.dummyDOM.querySelector("#".concat(r=i+"accessibleOutput"+b))||(this.dummyDOM.querySelector("#".concat(i,"_Label"))?this.dummyDOM.querySelector("#".concat(i,"_Label")):this.dummyDOM.querySelector("#".concat(i))).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>'))),this._accessibleOutputs[y]={},h==="textOutput"?(l="#".concat(i,"gridOutput").concat(l),s='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(l)?this.dummyDOM.querySelector(l).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#".concat(r)).innerHTML=s,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):h==="gridOutput"&&(l="#".concat(i,"textOutput").concat(l),s='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(l)?this.dummyDOM.querySelector(l).insertAdjacentHTML("afterend",s):this.dummyDOM.querySelector("#".concat(r)).innerHTML=s,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},m.default.prototype._updateAccsOutput=function(){var h=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(h+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(h+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(h+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(h+"gridOutputLabel"))},m.default.prototype._accsBackground=function(h){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==h&&(this.ingredients.colors.backgroundRGBA=h,this.ingredients.colors.background=this._rgbColorName(h))},m.default.prototype._accsCanvasColors=function(h,b){h==="fill"?this.ingredients.colors.fillRGBA!==b&&(this.ingredients.colors.fillRGBA=b,this.ingredients.colors.fill=this._rgbColorName(b)):h==="stroke"&&this.ingredients.colors.strokeRGBA!==b&&(this.ingredients.colors.strokeRGBA=b,this.ingredients.colors.stroke=this._rgbColorName(b))},m.default.prototype._accsOutput=function(h,b){h==="ellipse"&&b[2]===b[3]?h="circle":h==="rectangle"&&b[2]===b[3]&&(h="square");var y,r,s={},i=!0,l=(function(o,n){var p;return o=o==="rectangle"||o==="ellipse"||o==="arc"||o==="circle"||o==="square"?(p=Math.round(n[0]+n[2]/2),Math.round(n[1]+n[3]/2)):o==="triangle"?(p=(n[0]+n[2]+n[4])/3,(n[1]+n[3]+n[5])/3):o==="quadrilateral"?(p=(n[0]+n[2]+n[4]+n[6])/4,(n[1]+n[3]+n[5]+n[7])/4):o==="line"?(p=(n[0]+n[2])/2,(n[1]+n[3])/2):(p=n[0],n[1]),[p,o]})(h,b);if(h==="line"?(s.color=this.ingredients.colors.stroke,s.length=Math.round(this.dist(b[0],b[1],b[2],b[3])),y=this._getPos(b[0],[1]),r=this._getPos(b[2],[3]),s.loc=c(l,this.width,this.height),s.pos=y===r?"at ".concat(y):"from ".concat(y," to ").concat(r)):(h==="point"?s.color=this.ingredients.colors.stroke:(s.color=this.ingredients.colors.fill,s.area=this._getArea(h,b)),s.pos=this._getPos.apply(this,g(l)),s.loc=c(l,this.width,this.height)),this.ingredients.shapes[h]){for(var u in this.ingredients.shapes[h])JSON.stringify(this.ingredients.shapes[h][u])===JSON.stringify(s)&&(i=!1);i===!0&&this.ingredients.shapes[h].push(s)}else this.ingredients.shapes[h]=[s]},m.default.prototype._getPos=function(r,y){var r=new DOMPointReadOnly(r,y),y=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),r=r.matrixTransform(y),y=r.x,r=r.y,s=this.width*this._pixelDensity,i=this.height*this._pixelDensity;return y<.4*s?r<.4*i?"top left":.6*i<r?"bottom left":"mid left":.6*s<y?r<.4*i?"top right":.6*i<r?"bottom right":"mid right":r<.4*i?"top middle":.6*i<r?"bottom middle":"middle"},m.default.prototype._getArea=function(h,b){var y,r,s=0,i=(h==="arc"?(s=(y=((b[5]-b[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*b[2]*b[3]/8,b[6]!=="open"&&b[6]!=="chord"||(r=b[0],n=b[1],i=b[0]+b[2]/2*Math.cos(b[4]).toFixed(2),p=b[1]+b[3]/2*Math.sin(b[4]).toFixed(2),u=b[0]+b[2]/2*Math.cos(b[5]).toFixed(2),l=b[1]+b[3]/2*Math.sin(b[5]).toFixed(2),r=Math.abs(r*(p-l)+i*(l-n)+u*(n-p))/2,y>Math.PI?s+=r:s-=r)):h==="ellipse"||h==="circle"?s=3.14*b[2]/2*b[3]/2:h==="line"||h==="point"?s=0:h==="quadrilateral"?s=Math.abs((b[6]+b[0])*(b[7]-b[1])+(b[0]+b[2])*(b[1]-b[3])+(b[2]+b[4])*(b[3]-b[5])+(b[4]+b[6])*(b[5]-b[7]))/2:h==="rectangle"||h==="square"?s=b[2]*b[3]:h==="triangle"&&(s=Math.abs(b[0]*(b[3]-b[5])+b[2]*(b[5]-b[1])+b[4]*(b[1]-b[3]))/2),this.width*this._pixelDensity),l=this.height*this._pixelDensity,u=[new DOMPoint(0,0),new DOMPoint(i,0),new DOMPoint(i,l),new DOMPoint(0,l)],o=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),n=u.map(function(d){return d.matrixTransform(o)}),p=Math.abs((n[3].x+n[0].x)*(n[3].y-n[0].y)+(n[0].x+n[1].x)*(n[0].y-n[1].y)+(n[1].x+n[2].x)*(n[1].y-n[2].y)+(n[2].x+n[3].x)*(n[2].y-n[3].y))/2;return Math.round(100*s/p)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,q,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype._updateTextOutput=function(g){var c,h,b,y;this._renderer&&this._renderer instanceof m.default.RendererGL?this._didOutputTextWebGLMessage||(this._didOutputTextWebGLMessage=!0,console.error("textOutput() does not yet work in WebGL mode.")):this.dummyDOM.querySelector("#".concat(g,"_summary"))&&(c=this._accessibleOutputs[g],b=(function(r,s,i,l){return i="Your output is a, ".concat(i," by ").concat(l," pixels, ").concat(s," canvas containing the following"),i=r===1?"".concat(i," shape:"):"".concat(i," ").concat(r," shapes:"),i})((h=(function(r,s){var i,l="",u=0;for(i in s)for(var o in s[i]){var n='<li><a href="#'.concat(r,"shape").concat(u,'">').concat(s[i][o].color," ").concat(i,"</a>");i==="line"?n+=", ".concat(s[i][o].pos,", ").concat(s[i][o].length," pixels long.</li>"):(n+=", at ".concat(s[i][o].pos),i!=="point"&&(n+=", covering ".concat(s[i][o].area,"% of the canvas")),n+=".</li>"),l+=n,u++}return{numShapes:u,listShapes:l}})(g,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=(function(r,s){var i,l="",u=0;for(i in s)for(var o in s[i]){var n='<tr id="'.concat(r,"shape").concat(u,'"><th>').concat(s[i][o].color," ").concat(i,"</th>");i==="line"?n+="<td>location = ".concat(s[i][o].pos,"</td><td>length = ").concat(s[i][o].length," pixels</td></tr>"):(n+="<td>location = ".concat(s[i][o].pos,"</td>"),i!=="point"&&(n+="<td> area = ".concat(s[i][o].area,"%</td>")),n+="</tr>"),l+=n,u++}return l})(g,this.ingredients.shapes),b!==c.summary.innerHTML&&(c.summary.innerHTML=b),h.listShapes!==c.list.innerHTML&&(c.list.innerHTML=h.listShapes),y!==c.shapeDetails.innerHTML&&(c.shapeDetails.innerHTML=y),this._accessibleOutputs[g]=c)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,q,A){var m=(m=t("./core/main"))&&m.__esModule?m:{default:m};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),q.exports=m.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(m){var g=m[0],c=m[1],h=m[2],b=(2-c)*h/2;return b!=0&&(b==1?c=0:b<.5?c/=2-c:c=c*h/(2-2*b)),[g,c,b,m[3]]},_hsbaToRGBA:function(m){var g,c,h,b,y,r=6*m[0],s=m[1],i=m[2];return s===0?[i,i,i,m[3]]:(c=i*(1-s),h=i*(1-s*(r-(g=Math.floor(r)))),s=i*(1-s*(1+g-r)),r=g===1?(b=h,y=i,c):g===2?(b=c,y=i,s):g===3?(b=c,y=h,i):g===4?(b=s,y=c,i):g===5?(b=i,y=c,h):(b=i,y=s,c),[b,y,r,m[3]])},_hslaToHSBA:function(m){var g=m[0],c=m[1],h=m[2],b=h<.5?(1+c)*h:h+c-h*c;return[g,c=2*(b-h)/b,b,m[3]]},_hslaToRGBA:function(m){var g,c=6*m[0],h=m[1],b=m[2];return h===0?[b,b,b,m[3]]:[(g=function(y,r,s){return y<0?y+=6:6<=y&&(y-=6),y<1?r+(s-r)*y:y<3?s:y<4?r+(s-r)*(4-y):r})(2+c,h=2*b-(b=b<.5?(1+h)*b:b+h-b*h),b),g(c,h,b),g(c-2,h,b),m[3]]},_rgbaToHSBA:function(m){var g,c,h=m[0],b=m[1],y=m[2],r=Math.max(h,b,y),s=r-Math.min(h,b,y);return s==0?c=g=0:(c=s/r,h===r?g=(b-y)/s:b===r?g=2+(y-h)/s:y===r&&(g=4+(h-b)/s),g<0?g+=6:6<=g&&(g-=6)),[g/6,c,r,m[3]]},_rgbaToHSLA:function(m){var g,c,h=m[0],b=m[1],y=m[2],r=Math.max(h,b,y),i=Math.min(h,b,y),s=r+i,i=r-i;return i==0?c=g=0:(c=s<1?i/s:i/(2-s),h===r?g=(b-y)/i:b===r?g=2+(y-h)/i:y===r&&(g=4+(h-b)/i),g<0?g+=6:6<=g&&(g-=6)),[g/6,c,s/2,m[3]]}},t=t.default.ColorConversion,A.default=t},{"../core/main":283}],269:[function(t,q,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(s){return m(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":m(s)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},h=(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var s=b();if(s&&s.has(r))return s.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var o;Object.prototype.hasOwnProperty.call(r,i)&&((o=u?Object.getOwnPropertyDescriptor(r,i):null)&&(o.get||o.set)?Object.defineProperty(l,i,o):l[i]=r[i])}return l.default=r,s&&s.set(r,l),l})(t("../core/constants"));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.alpha=function(r){return c.default._validateParameters("alpha",arguments),this.color(r)._getAlpha()},c.default.prototype.blue=function(r){return c.default._validateParameters("blue",arguments),this.color(r)._getBlue()},c.default.prototype.brightness=function(r){return c.default._validateParameters("brightness",arguments),this.color(r)._getBrightness()},c.default.prototype.color=function(){for(var r,s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return c.default._validateParameters("color",i),i[0]instanceof c.default.Color?i[0]:(r=Array.isArray(i[0])?i[0]:i,new c.default.Color(this,r))},c.default.prototype.green=function(r){return c.default._validateParameters("green",arguments),this.color(r)._getGreen()},c.default.prototype.hue=function(r){return c.default._validateParameters("hue",arguments),this.color(r)._getHue()},c.default.prototype.lerpColor=function(r,s,i){c.default._validateParameters("lerpColor",arguments),r instanceof c.default.Color||(r=color(r)),s instanceof c.default.Color||(s=color(s));var l,u,o,n=this._colorMode,p=this._colorMaxes;if(n===h.RGB)u=r.levels.map(function(d){return d/255}),o=s.levels.map(function(d){return d/255});else if(n===h.HSB)r._getBrightness(),s._getBrightness(),u=r.hsba,o=s.hsba;else{if(n!==h.HSL)throw new Error("".concat(n," cannot be used for interpolation."));r._getLightness(),s._getLightness(),u=r.hsla,o=s.hsla}return i=Math.max(Math.min(i,1),0),this.lerp===void 0&&(this.lerp=function(d,_,S){return S*(_-d)+d}),n===h.RGB?l=this.lerp(u[0],o[0],i):(.5<Math.abs(u[0]-o[0])&&(u[0]>o[0]?o[0]+=1:u[0]+=1),1<=(l=this.lerp(u[0],o[0],i))&&--l),r=this.lerp(u[1],o[1],i),s=this.lerp(u[2],o[2],i),u=this.lerp(u[3],o[3],i),l*=p[n][0],r*=p[n][1],s*=p[n][2],u*=p[n][3],this.color(l,r,s,u)},c.default.prototype.paletteLerp=function(r,s){var i=r[0];if(s<i[1])return this.color(i[0]);for(var l=1;l<r.length;l++){var u,o=r[l];if(s<o[1])return u=r[l-1],this.lerpColor(this.color(u[0]),this.color(o[0]),(s-u[1])/(o[1]-u[1]))}return this.color(r[r.length-1][0])},c.default.prototype.lightness=function(r){return c.default._validateParameters("lightness",arguments),this.color(r)._getLightness()},c.default.prototype.red=function(r){return c.default._validateParameters("red",arguments),this.color(r)._getRed()},c.default.prototype.saturation=function(r){return c.default._validateParameters("saturation",arguments),this.color(r)._getSaturation()};var y=c.default;A.default=y},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(l,q,A){function m(d){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}function g(d){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(_){return m(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":m(_)})(d)}l("core-js/modules/es.symbol"),l("core-js/modules/es.symbol.description"),l("core-js/modules/es.symbol.iterator"),l("core-js/modules/es.array.includes"),l("core-js/modules/es.array.iterator"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.map"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.object.get-own-property-descriptor"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.regexp.constructor"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),l("core-js/modules/es.string.includes"),l("core-js/modules/es.string.iterator"),l("core-js/modules/es.string.trim"),l("core-js/modules/es.weak-map"),l("core-js/modules/web.dom-collections.iterator"),l("core-js/modules/es.array.includes"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.map"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.regexp.constructor"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),l("core-js/modules/es.string.includes"),l("core-js/modules/es.string.trim"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=r(l("../core/main")),h=(function(d){if(d&&d.__esModule)return d;if(d===null||g(d)!=="object"&&typeof d!="function")return{default:d};var _=y();if(_&&_.has(d))return _.get(d);var S,j={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in d){var C;Object.prototype.hasOwnProperty.call(d,S)&&((C=T?Object.getOwnPropertyDescriptor(d,S):null)&&(C.get||C.set)?Object.defineProperty(j,S,C):j[S]=d[S])}return j.default=d,_&&_.set(d,j),j})(l("../core/constants")),b=r(l("./color_conversion"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}function r(d){return d&&d.__esModule?d:{default:d}}function s(d,_){for(var S=0;S<_.length;S++){var j=_[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(d,j.key,j)}}var i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},l=/\s*/,p=/(\d{1,3})/,u=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,o=new RegExp("".concat(u.source,"%")),n={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(l.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",o.source,",",o.source,",",o.source,"\\)$"].join(l.source),"i"),RGBA:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",u.source,"\\)$"].join(l.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",o.source,",",o.source,",",o.source,",",u.source,"\\)$"].join(l.source),"i"),HSL:new RegExp(["^hsl\\(",p.source,",",o.source,",",o.source,"\\)$"].join(l.source),"i"),HSLA:new RegExp(["^hsla\\(",p.source,",",o.source,",",o.source,",",u.source,"\\)$"].join(l.source),"i"),HSB:new RegExp(["^hsb\\(",p.source,",",o.source,",",o.source,"\\)$"].join(l.source),"i"),HSBA:new RegExp(["^hsba\\(",p.source,",",o.source,",",o.source,",",u.source,"\\)$"].join(l.source),"i")},p=(c.default.Color=(function(){function d(T,C){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(T._colorMode,T._colorMaxes),![h.RGB,h.HSL,h.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=d._parseInputs.apply(this,C),this._calculateLevels()}var _,S,j;return _=d,j=[{key:"_parseInputs",value:function(T,C,L,E){var I,O=arguments.length,U=this.mode,D=this.maxes[U],B=[];if(3<=O){for(B[0]=T/D[0],B[1]=C/D[1],B[2]=L/D[2],B[3]=typeof E=="number"?E/D[3]:1,I=B.length-1;0<=I;--I){var X=B[I];X<0?B[I]=0:1<X&&(B[I]=1)}return U===h.HSL?b.default._hslaToRGBA(B):U===h.HSB?b.default._hsbaToRGBA(B):B}if(O===1&&typeof T=="string"){if(L=T.trim().toLowerCase(),i[L])return d._parseInputs.call(this,i[L]);if(n.HEX3.test(L))return(B=n.HEX3.exec(L).slice(1).map(function(H){return parseInt(H+H,16)/255}))[3]=1,B;if(n.HEX6.test(L))return(B=n.HEX6.exec(L).slice(1).map(function(H){return parseInt(H,16)/255}))[3]=1,B;if(n.HEX4.test(L))return B=n.HEX4.exec(L).slice(1).map(function(H){return parseInt(H+H,16)/255});if(n.HEX8.test(L))return B=n.HEX8.exec(L).slice(1).map(function(H){return parseInt(H,16)/255});if(n.RGB.test(L))return(B=n.RGB.exec(L).slice(1).map(function(H){return H/255}))[3]=1,B;if(n.RGB_PERCENT.test(L))return(B=n.RGB_PERCENT.exec(L).slice(1).map(function(H){return parseFloat(H)/100}))[3]=1,B;if(n.RGBA.test(L))return B=n.RGBA.exec(L).slice(1).map(function(H,G){return G===3?parseFloat(H):H/255});if(n.RGBA_PERCENT.test(L))return B=n.RGBA_PERCENT.exec(L).slice(1).map(function(H,G){return G===3?parseFloat(H):parseFloat(H)/100});if(n.HSL.test(L)?(B=n.HSL.exec(L).slice(1).map(function(H,G){return G===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:n.HSLA.test(L)&&(B=n.HSLA.exec(L).slice(1).map(function(H,G){return G===0?parseInt(H,10)/360:G===3?parseFloat(H):parseInt(H,10)/100})),(B=B.map(function(H){return Math.max(Math.min(H,1),0)})).length)return b.default._hslaToRGBA(B);if(n.HSB.test(L)?(B=n.HSB.exec(L).slice(1).map(function(H,G){return G===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:n.HSBA.test(L)&&(B=n.HSBA.exec(L).slice(1).map(function(H,G){return G===0?parseInt(H,10)/360:G===3?parseFloat(H):parseInt(H,10)/100})),B.length){for(I=B.length-1;0<=I;--I)B[I]=Math.max(Math.min(B[I],1),0);return b.default._hsbaToRGBA(B)}B=[1,1,1,1]}else{if(O!==1&&O!==2||typeof T!="number")throw new Error("".concat(arguments,"is not a valid color representation."));B[0]=T/D[2],B[1]=T/D[2],B[2]=T/D[2],B[3]=typeof C=="number"?C/D[3]:1,B=B.map(function(H){return Math.max(Math.min(H,1),0)})}return B}}],(S=[{key:"toString",value:function(T){var C=this.levels,L=this._array,E=L[3];switch(T){case"#rrggbb":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16));case"#rrggbbaa":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16),C[3]<16?"0".concat(C[3].toString(16)):C[3].toString(16));case"#rgb":return"#".concat(Math.round(15*L[0]).toString(16),Math.round(15*L[1]).toString(16),Math.round(15*L[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*L[0]).toString(16),Math.round(15*L[1]).toString(16),Math.round(15*L[2]).toString(16),Math.round(15*L[3]).toString(16));case"rgb":return"rgb(".concat(C[0],", ",C[1],", ",C[2],")");case"rgb%":return"rgb(".concat((100*L[0]).toPrecision(3),"%, ",(100*L[1]).toPrecision(3),"%, ",(100*L[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*L[0]).toPrecision(3),"%, ",(100*L[1]).toPrecision(3),"%, ",(100*L[2]).toPrecision(3),"%, ",(100*L[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],", ",E,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*E).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],", ",E,")");case"hsla%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*E).toPrecision(3),"%)");default:return"rgba(".concat(C[0],",",C[1],",",C[2],",",E,")")}}},{key:"setRed",value:function(T){this._array[0]=T/this.maxes[h.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(T){this._array[1]=T/this.maxes[h.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(T){this._array[2]=T/this.maxes[h.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(T){this._array[3]=T/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var T=this._array,C=this.levels=new Array(T.length),L=T.length-1;0<=L;--L)C[L]=Math.round(255*T[L]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(T,C){this.mode=T,this.maxes=C}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[h.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[h.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[h.RGB][1]}},{key:"_getHue",value:function(){return this.mode===h.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[h.HSB][0]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[h.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[h.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[h.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===h.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[h.HSB][1]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[h.HSL][1])}}])&&s(_.prototype,S),j&&s(_,j),d})(),c.default.Color);A.default=p},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,q,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(s){return m(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":m(s)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},h=(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var s=b();if(s&&s.has(r))return s.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var o;Object.prototype.hasOwnProperty.call(r,i)&&((o=u?Object.getOwnPropertyDescriptor(r,i):null)&&(o.get||o.set)?Object.defineProperty(l,i,o):l[i]=r[i])}return l.default=r,s&&s.set(r,l),l})(t("../core/constants"));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}t("./p5.Color"),c.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},c.default.prototype.endClip=function(){this._renderer.endClip()},c.default.prototype.clip=function(r,s){this._renderer.beginClip(s),r(),this._renderer.endClip(s)},c.default.prototype.background=function(){var r;return(r=this._renderer).background.apply(r,arguments),this},c.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},c.default.prototype.colorMode=function(r,s,i,l,u){return c.default._validateParameters("colorMode",arguments),r!==h.RGB&&r!==h.HSB&&r!==h.HSL||(this._colorMode=r,r=this._colorMaxes[r],arguments.length===2?(r[0]=s,r[1]=s,r[2]=s,r[3]=s):arguments.length===4?(r[0]=s,r[1]=i,r[2]=l):arguments.length===5&&(r[0]=s,r[1]=i,r[2]=l,r[3]=u)),this},c.default.prototype.fill=function(){var r;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(r=this._renderer).fill.apply(r,arguments),this},c.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},c.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},c.default.prototype.stroke=function(){var r;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(r=this._renderer).stroke.apply(r,arguments),this},c.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},c.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=c.default;A.default=y},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.QUADRATIC=A.LINEAR=A._CTX_MIDDLE=A._DEFAULT_LEADMULT=A._DEFAULT_TEXT_FILL=A.WORD=A.CHAR=A.BOLDITALIC=A.BOLD=A.ITALIC=A.NORMAL=A.BLUR=A.ERODE=A.DILATE=A.POSTERIZE=A.INVERT=A.OPAQUE=A.GRAY=A.THRESHOLD=A.BURN=A.DODGE=A.SOFT_LIGHT=A.HARD_LIGHT=A.OVERLAY=A.REPLACE=A.SCREEN=A.MULTIPLY=A.EXCLUSION=A.SUBTRACT=A.DIFFERENCE=A.LIGHTEST=A.DARKEST=A.ADD=A.REMOVE=A.BLEND=A.UP_ARROW=A.TAB=A.SHIFT=A.RIGHT_ARROW=A.RETURN=A.OPTION=A.LEFT_ARROW=A.ESCAPE=A.ENTER=A.DOWN_ARROW=A.DELETE=A.CONTROL=A.BACKSPACE=A.ALT=A.AUTO=A.HSL=A.HSB=A.RGB=A.MITER=A.BEVEL=A.ROUND=A.SQUARE=A.PROJECT=A.PIE=A.CHORD=A.OPEN=A.CLOSE=A.TESS=A.QUAD_STRIP=A.QUADS=A.TRIANGLE_STRIP=A.TRIANGLE_FAN=A.TRIANGLES=A.LINE_LOOP=A.LINE_STRIP=A.LINES=A.POINTS=A.BASELINE=A.BOTTOM=A.TOP=A.CENTER=A.LEFT=A.RIGHT=A.RADIUS=A.CORNERS=A.CORNER=A.RAD_TO_DEG=A.DEG_TO_RAD=A.RADIANS=A.DEGREES=A.TWO_PI=A.TAU=A.QUARTER_PI=A.PI=A.HALF_PI=A.WAIT=A.TEXT=A.MOVE=A.HAND=A.CROSS=A.ARROW=A.WEBGL2=A.WEBGL=A.P2D=A.VERSION=void 0,A.RGBA=A.HALF_FLOAT=A.FLOAT=A.UNSIGNED_INT=A.UNSIGNED_BYTE=A.COVER=A.CONTAIN=A.FALLBACK=A.LABEL=A.AXES=A.GRID=A._DEFAULT_FILL=A._DEFAULT_STROKE=A.PORTRAIT=A.LANDSCAPE=A.SMOOTH=A.FLAT=A.MIRROR=A.CLAMP=A.REPEAT=A.NEAREST=A.IMAGE=A.IMMEDIATE=A.TEXTURE=A.FILL=A.STROKE=A.CURVE=A.BEZIER=void 0;var m=Math.PI,g=(A.VERSION="1.11.11",A.P2D="p2d",A.WEBGL="webgl",A.WEBGL2="webgl2",A.ARROW="default",A.CROSS="crosshair",A.HAND="pointer",A.MOVE="move",A.TEXT="text",A.WAIT="wait",m/2),g=(A.HALF_PI=g,m),g=(A.PI=g,m/4),g=(A.QUARTER_PI=g,2*m),g=(A.TAU=g,2*m),g=(A.TWO_PI=g,A.DEGREES="degrees",A.RADIANS="radians",m/180),g=(A.DEG_TO_RAD=g,180/m);A.RAD_TO_DEG=g,A.CORNER="corner",A.CORNERS="corners",A.RADIUS="radius",A.RIGHT="right",A.LEFT="left",A.CENTER="center",A.TOP="top",A.BOTTOM="bottom",A.BASELINE="alphabetic",A.POINTS=0,A.LINES=1,A.LINE_STRIP=3,A.LINE_LOOP=2,A.TRIANGLES=4,A.TRIANGLE_FAN=6,A.TRIANGLE_STRIP=5,A.QUADS="quads",A.QUAD_STRIP="quad_strip",A.TESS="tess",A.CLOSE="close",A.OPEN="open",A.CHORD="chord",A.PIE="pie",A.PROJECT="square",A.SQUARE="butt",A.ROUND="round",A.BEVEL="bevel",A.MITER="miter",A.RGB="rgb",A.HSB="hsb",A.HSL="hsl",A.AUTO="auto",A.ALT=18,A.BACKSPACE=8,A.CONTROL=17,A.DELETE=46,A.DOWN_ARROW=40,A.ENTER=13,A.ESCAPE=27,A.LEFT_ARROW=37,A.OPTION=18,A.RETURN=13,A.RIGHT_ARROW=39,A.SHIFT=16,A.TAB=9,A.UP_ARROW=38,A.BLEND="source-over",A.REMOVE="destination-out",A.ADD="lighter",A.DARKEST="darken",A.LIGHTEST="lighten",A.DIFFERENCE="difference",A.SUBTRACT="subtract",A.EXCLUSION="exclusion",A.MULTIPLY="multiply",A.SCREEN="screen",A.REPLACE="copy",A.OVERLAY="overlay",A.HARD_LIGHT="hard-light",A.SOFT_LIGHT="soft-light",A.DODGE="color-dodge",A.BURN="color-burn",A.THRESHOLD="threshold",A.GRAY="gray",A.OPAQUE="opaque",A.INVERT="invert",A.POSTERIZE="posterize",A.DILATE="dilate",A.ERODE="erode",A.BLUR="blur",A.NORMAL="normal",A.ITALIC="italic",A.BOLD="bold",A.BOLDITALIC="bold italic",A.CHAR="CHAR",A.WORD="WORD",A._DEFAULT_TEXT_FILL="#000000",A._DEFAULT_LEADMULT=1.25,A._CTX_MIDDLE="middle",A.LINEAR="linear",A.QUADRATIC="quadratic",A.BEZIER="bezier",A.CURVE="curve",A.STROKE="stroke",A.FILL="fill",A.TEXTURE="texture",A.IMMEDIATE="immediate",A.IMAGE="image",A.NEAREST="nearest",A.REPEAT="repeat",A.CLAMP="clamp",A.MIRROR="mirror",A.FLAT="flat",A.SMOOTH="smooth",A.LANDSCAPE="landscape",A.PORTRAIT="portrait",A._DEFAULT_STROKE="#000000",A._DEFAULT_FILL="#FFFFFF",A.GRID="grid",A.AXES="axes",A.LABEL="label",A.FALLBACK="fallback",A.CONTAIN="contain",A.COVER="cover",A.UNSIGNED_BYTE="unsigned-byte",A.UNSIGNED_INT="unsigned-int",A.FLOAT="float",A.HALF_FLOAT="half-float",A.RGBA="rgba"},{}],273:[function(t,q,A){function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(u)}function g(u){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(o){return m(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":m(o)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(h=t("./main"))&&h.__esModule?h:{default:h},h=(function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var o=b();if(o&&o.has(u))return o.get(u);var n,p={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in u){var _;Object.prototype.hasOwnProperty.call(u,n)&&((_=d?Object.getOwnPropertyDescriptor(u,n):null)&&(_.get||_.set)?Object.defineProperty(p,n,_):p[n]=u[n])}return p.default=u,o&&o.set(u,p),p})(t("./constants"));function b(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,b=function(){return u},u)}var y=[h.ARROW,h.CROSS,h.HAND,h.MOVE,h.TEXT,h.WAIT],r=(c.default.prototype._frameRate=0,c.default.prototype._lastFrameTime=window.performance.now(),c.default.prototype._targetFrameRate=60,window.print),s=!1;function i(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function l(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}c.default.prototype.print=function(){var u;arguments.length?(u=console).log.apply(u,arguments):s||(r(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(s=!0))},c.default.prototype.frameCount=0,c.default.prototype.deltaTime=0,c.default.prototype.focused=document.hasFocus(),c.default.prototype.cursor=function(u,o,n){var p,d="auto",_=this._curElement.elt;y.includes(u)?d=u:typeof u=="string"&&(p="",o&&n&&typeof o=="number"&&typeof n=="number"&&(p="".concat(o," ").concat(n)),d=u.substring(0,7)==="http://"||u.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(u)?"url(".concat(u,") ").concat(p,", auto"):u),_.style.cursor=d},c.default.prototype.frameRate=function(u){return c.default._validateParameters("frameRate",arguments),typeof u!="number"||u<0?this._frameRate:(this._setProperty("_targetFrameRate",u),u===0&&this._setProperty("_frameRate",u),this)},c.default.prototype.getFrameRate=function(){return this.frameRate()},c.default.prototype.setFrameRate=function(u){return this.frameRate(u)},c.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},c.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},c.default.prototype.webglVersion=h.P2D,c.default.prototype.displayWidth=screen.width,c.default.prototype.displayHeight=screen.height,c.default.prototype.windowWidth=0,c.default.prototype.windowHeight=0,c.default.prototype._onresize=function(u){this._setProperty("windowWidth",i()),this._setProperty("windowHeight",l());var o=this._isGlobal?window:this;typeof o.windowResized!="function"||(o=o.windowResized(u))===void 0||o||u.preventDefault()},c.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",i()),this._setProperty("windowHeight",l())},c.default.prototype.width=0,c.default.prototype.height=0,c.default.prototype.fullscreen=function(u){if(c.default._validateParameters("fullscreen",arguments),u===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(u){if(u=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");u.requestFullscreen?u.requestFullscreen():u.mozRequestFullScreen?u.mozRequestFullScreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen():u.msRequestFullscreen&&u.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},c.default.prototype.pixelDensity=function(u){var o;return c.default._validateParameters("pixelDensity",arguments),typeof u=="number"?(u!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=u),(o=this).resizeCanvas(this.width,this.height,!0)):o=this._pixelDensity,o},c.default.prototype.displayDensity=function(){return window.devicePixelRatio},c.default.prototype.getURL=function(){return location.href},c.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(u){return u!==""})},c.default.prototype.getURLParams=function(){for(var u,o=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,n={};(u=o.exec(location.search))!=null;)u.index===o.lastIndex&&o.lastIndex++,n[u[1]]=u[2];return n},t=c.default,A.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,q,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(y=t("../main"))&&y.__esModule?y:{default:y};t("../internationalization");function g(r,s){s=s||console.log.bind(console),c||b(),c.some(function(i){var l;if(r.message&&r.message.match("\\W?".concat(i.name,"\\W"))!==null)return l=i.type==="function"?"".concat(i.name,"()"):i.name,s("Did you just try to use p5.js's ".concat(l," ").concat(i.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(h)),!0})}var c=null,b=null,h=(m.default._friendlyError=m.default._checkForUserDefinedFunctions=m.default._fesErrorMonitor=function(){},c=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),b=function(){function r(i){return Object.getOwnPropertyNames(i).filter(function(l){return l[0]!=="_"&&!(l in s)&&(s[l]=!0)}).map(function(l){var u=typeof i[l]=="function"?"function":l===l.toUpperCase()?"constant":"variable";return{name:l,type:u}})}var s={};(c=[].concat(r(m.default.prototype),r(t("../constants")))).sort(function(i,l){return l.name.length-i.name.length})},y=(m.default.prototype._helpForMisusedAtTopLevelCode=g,document.readyState!=="complete"&&(window.addEventListener("error",g,!1),window.addEventListener("load",function(){window.removeEventListener("error",g,!1)})),m.default);A.default=y},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(m=t("../main"))&&m.__esModule?m:{default:m};t("../internationalization"),m.default._friendlyFileLoadError=function(){},t=m.default,A.default=t},{"../internationalization":281,"../main":283}],276:[function(t,q,A){function m(s){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function g(s){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(i){return m(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":m(i)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=y(t("../main"));t("../internationalization"),b(t("../constants"));function h(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,h=function(){return s},s)}function b(s){if(s&&s.__esModule)return s;if(s===null||g(s)!=="object"&&typeof s!="function")return{default:s};var i=h();if(i&&i.has(s))return i.get(s);var l,u,o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&((u=n?Object.getOwnPropertyDescriptor(s,l):null)&&(u.get||u.set)?Object.defineProperty(o,l,u):o[l]=s[l]);return o.default=s,i&&i.set(s,o),o}function y(s){return s&&s.__esModule?s:{default:s}}c.default._fesCodeReader=function(){};var r=c.default;A.default=r},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,q,A){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function m(){var g=/(^|@)\S+:\d+/,c=/^\s*at .*(\S+:\d+|\(native\))/m,h=/^(eval@)?(\[native code])?$/;return{parse:function(b){return b.stacktrace!==void 0||b["opera#sourceloc"]!==void 0?this.parseOpera(b):b.stack&&b.stack.match(c)?this.parseV8OrIE(b):b.stack?this.parseFFOrSafari(b):void 0},extractLocation:function(b){return b.indexOf(":")===-1?[b]:[(b=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(b.replace(/[()]/g,"")))[1],b[2]||void 0,b[3]||void 0]},parseV8OrIE:function(b){return b.stack.split(`
`).filter(function(y){return!!y.match(c)},this).map(function(y){var r=(y=-1<y.indexOf("(eval ")?y.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):y).replace(/^\s+/,"").replace(/\(eval code/g,"("),s=r.match(/ (\((.+):(\d+):(\d+)\)$)/),r=(r=s?r.replace(s[0],""):r).split(/\s+/).slice(1),s=this.extractLocation(s?s[1]:r.pop());return{functionName:r.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(s[0])?void 0:s[0],lineNumber:s[1],columnNumber:s[2],source:y}},this)},parseFFOrSafari:function(b){return b.stack.split(`
`).filter(function(y){return!y.match(h)},this).map(function(y){var r,s;return(y=-1<y.indexOf(" > eval")?y.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):y).indexOf("@")===-1&&y.indexOf(":")===-1?{functionName:y}:{functionName:(s=y.match(r=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&s[1]?s[1]:void 0,fileName:(s=this.extractLocation(y.replace(r,"")))[0],lineNumber:s[1],columnNumber:s[2],source:y}},this)},parseOpera:function(b){return!b.stacktrace||-1<b.message.indexOf(`
`)&&b.message.split(`
`).length>b.stacktrace.split(`
`).length?this.parseOpera9(b):b.stack?this.parseOpera11(b):this.parseOpera10(b)},parseOpera9:function(b){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,r=b.message.split(`
`),s=[],i=2,l=r.length;i<l;i+=2){var u=y.exec(r[i]);u&&s.push({fileName:u[2],lineNumber:u[1],source:r[i]})}return s},parseOpera10:function(b){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=b.stacktrace.split(`
`),s=[],i=0,l=r.length;i<l;i+=2){var u=y.exec(r[i]);u&&s.push({functionName:u[3]||void 0,fileName:u[2],lineNumber:u[1],source:r[i]})}return s},parseOpera11:function(b){return b.stack.split(`
`).filter(function(y){return!!y.match(g)&&!y.match(/^Error created at/)},this).map(function(y){var r,i=y.split("@"),s=this.extractLocation(i.pop()),i=i.shift()||"";return{functionName:i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(r=i.match(/\(([^)]*)\)/)?i.replace(/^[^(]+\(([^)]*)\)$/,"$1"):r)===void 0||r==="[arguments not available]"?void 0:r.split(","),fileName:s[0],lineNumber:s[1],columnNumber:s[2],source:y}},this)}}}t.default._getErrorStackParser=function(){return new m},t=t.default,A.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,q,A){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(g=t("../main"))&&g.__esModule?g:{default:g};(function(b){if(!(b&&b.__esModule)&&!(b===null||h(b)!=="object"&&typeof b!="function")){var y=c();if(y&&y.has(b))return y.get(b);var r,s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in b){var l;Object.prototype.hasOwnProperty.call(b,r)&&((l=i?Object.getOwnPropertyDescriptor(b,r):null)&&(l.get||l.set)?Object.defineProperty(s,r,l):s[r]=b[r])}s.default=b,y&&y.set(b,s)}})(t("../constants")),t("../internationalization");function c(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,c=function(){return b},b)}function h(b){return(h=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(y){return m(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":m(y)})(b)}g.default._validateParameters=g.default._clearValidateParamsCache=function(){},t=g.default,A.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,q,A){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function g(b){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(y){return m(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":m(y)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(function(b){if(b&&b.__esModule)return b;if(b===null||g(b)!=="object"&&typeof b!="function")return{default:b};var y=h();if(y&&y.has(b))return y.get(b);var r,s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in b){var l;Object.prototype.hasOwnProperty.call(b,r)&&((l=i?Object.getOwnPropertyDescriptor(b,r):null)&&(l.get||l.set)?Object.defineProperty(s,r,l):s[r]=b[r])}return s.default=b,y&&y.set(b,s),s})(t("./constants"));function h(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,h=function(){return b},b)}A.default={modeAdjust:function(b,y,r,s,i){var l;return i===c.CORNER?l={x:b,y,w:Math.abs(r),h:Math.abs(s)}:i===c.CORNERS?l={x:Math.min(b,r),y:Math.min(y,s),w:Math.abs(r-b),h:Math.abs(s-y)}:i===c.RADIUS?l={x:b-(r=Math.abs(r)),y:y-(s=Math.abs(s)),w:2*r,h:2*s}:i===c.CENTER&&(l={x:b-.5*(r=Math.abs(r)),y:y-.5*(s=Math.abs(s)),w:r,h:s}),l}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,q,A){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var m=(g=t("../core/main"))&&g.__esModule?g:{default:g};t("./internationalization");var g=Promise.resolve();Promise.all([new Promise(function(c,h){document.readyState==="complete"?c():window.addEventListener("load",c,!1)}),g]).then(function(){var c;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(c=new Event("p5Ready"),window.dispatchEvent(c),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!m.default.instance&&new m.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,q,A){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.setTranslatorLanguage=A.currentTranslatorLanguage=A.availableTranslatorLanguages=A.initialize=A.translator=void 0;var m,g,c=y(t("i18next")),h=y(t("i18next-browser-languagedetector")),b=t("./constants");function y(i){return i&&i.__esModule?i:{default:i}}function r(i,l){for(var u=0;u<l.length;u++){var o=l[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}var s=(function(){function i(o,n){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.init(o,n)}var l,u;return l=i,(u=[{key:"fetchWithTimeout",value:function(o,n){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(o,n),new Promise(function(d,_){return setTimeout(function(){return _(new Error("timeout"))},p)})])}},{key:"init",value:function(o){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=o,this.options=n}},{key:"read",value:function(o,n,p){var d=this.options.loadPath;o===this.options.fallback?p(null,m[o][n]):g.includes(o)?(d=this.services.interpolator.interpolate(d,{lng:o,ns:n}),this.loadUrl(d,p)):p("Not found",!1)}},{key:"loadUrl",value:function(o,n){this.fetchWithTimeout(o).then(function(p){if(p.ok)return p.json();throw new Error("failed loading ".concat(o))},function(){throw new Error("failed loading ".concat(o))}).then(function(p){return n(null,p)}).catch(n)}}])&&r(l.prototype,u),i})();s.type="backend",A.translator=function(i,l){console.debug("p5.js translator called before translations were loaded"),c.default.t(i,l)},A.initialize=function(){return c.default.use(h.default).use(s).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5@".concat(b.VERSION.replace(/^(\d+\.\d+)\.\d+.*$/,"$1"),"/translations/{{lng}}/{{ns}}.json")},partialBundledLanguages:!0,resources:m}).then(function(i){A.translator=i},function(i){return console.debug("Translations failed to load (".concat(i,")"))})},A.availableTranslatorLanguages=function(){return c.default.languages},A.currentTranslatorLanguage=function(i){return c.default.language},A.setTranslatorLanguage=function(i){return c.default.changeLanguage(i||void 0,function(l){return console.debug("Translations failed to load (".concat(l,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"./constants":272,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,A.default=t},{"./main":283}],283:[function(t,q,A){function m(s){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function g(s){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(i){return m(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":m(i)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t("./shim");var c=(function(s){if(s&&s.__esModule)return s;if(s===null||g(s)!=="object"&&typeof s!="function")return{default:s};var i=h();if(i&&i.has(s))return i.get(s);var l,u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in s){var n;Object.prototype.hasOwnProperty.call(s,l)&&((n=o?Object.getOwnPropertyDescriptor(s,l):null)&&(n.get||n.set)?Object.defineProperty(u,l,n):u[l]=s[l])}return u.default=s,i&&i.set(s,u),u})(t("./constants"));function h(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,h=function(){return s},s)}function b(s,i){for(var l=0;l<i.length;l++){var u=i[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}var y,r=(function(){function s(u,p){var n=this;if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._isGlobal=!u,this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=p,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var p=Object.getOwnPropertyNames(s.prototype._registeredMethods),d=!0,_=!1,S=void 0;try{for(var j,T=p[Symbol.iterator]();!(d=(j=T.next()).done);d=!0){var C=j.value;this._registeredMethods[C]=s.prototype._registeredMethods[C].slice()}}catch(H){_=!0,S=H}finally{try{d||T.return==null||T.return()}finally{if(_)throw S}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),s.prototype.callRegisteredHooksFor=function(H){var G=this||s.prototype,Z=this._isGlobal?window:this;if(G._registeredMethods.hasOwnProperty(H)){var G=G._registeredMethods[H],Q=!0,H=!1,le=void 0;try{for(var w,R=G[Symbol.iterator]();!(Q=(w=R.next()).done);Q=!0){var N=w.value;typeof N=="function"&&N.call(Z)}}catch(re){H=!0,le=re}finally{try{Q||R.return==null||R.return()}finally{if(H)throw le}}}},this._start=function(){n._userNode&&typeof n._userNode=="string"&&(n._userNode=document.getElementById(n._userNode));var H=n._isGlobal?window:n;if(H.preload){n.callRegisteredHooksFor("beforePreload");var G,Z=document.getElementById(n._loadingScreenId),Q=(Z||((Z=document.createElement("div")).innerHTML="Loading...",Z.style.position="absolute",Z.id=n._loadingScreenId,(n._userNode||document.body).appendChild(Z)),n._preloadMethods);for(G in Q){Q[G]=Q[G]||s;var le=Q[G];le!==s.prototype&&le!==s||(n._isGlobal&&(window[G]=n._wrapPreload(n,G)),le=n),n._registeredPreloadMethods[G]=le[G],le[G]=n._wrapPreload(le,G)}H.preload(),n._runIfPreloadsAreDone()}else n._setup(),n._recording||n._draw()},this._runIfPreloadsAreDone=function(){var H,G=this._isGlobal?window:this;G._preloadCount===0&&((H=document.getElementById(G._loadingScreenId))&&H.parentNode.removeChild(H),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),G._setup(),this._recording||G._draw()))},this._decrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||typeof H.preload!="function"||(H._setProperty("_preloadCount",H._preloadCount-1),H._runIfPreloadsAreDone())},this._wrapPreload=function(H,G){var Z=this;return function(){Z._incrementPreload();for(var Q=arguments.length,le=new Array(Q),w=0;w<Q;w++)le[w]=arguments[w];return Z._registeredPreloadMethods[G].apply(H,le)}},this._incrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||H._setProperty("_preloadCount",H._preloadCount+1)},this._setup=function(){n.callRegisteredHooksFor("beforeSetup"),n.createCanvas(n._defaultCanvasSize.width,n._defaultCanvasSize.height,"p2d");var H=n._isGlobal?window:n;if(typeof H.preload=="function")for(var G in n._preloadMethods)H[G]=n._preloadMethods[G][G],H[G]&&n&&(H[G]=H[G].bind(n));n._millisStart=window.performance.now(),H._preloadDone=!0,typeof H.setup=="function"&&H.setup();var Z=document.getElementsByTagName("canvas"),Q=!0,le=!1,w=void 0;try{for(var R,N=Z[Symbol.iterator]();!(Q=(R=N.next()).done);Q=!0){var W=R.value;W.dataset.hidden==="true"&&(W.style.visibility="",delete W.dataset.hidden)}}catch(J){le=!0,w=J}finally{try{Q||N.return==null||N.return()}finally{if(le)throw w}}n._lastTargetFrameTime=window.performance.now(),n._lastRealFrameTime=window.performance.now(),n._setupDone=!0,(n._accessibleOutputs.grid||n._accessibleOutputs.text)&&n._updateAccsOutput(),n.callRegisteredHooksFor("afterSetup")},this._draw=function(G){var G=G||window.performance.now(),Z=G-n._lastTargetFrameTime,Q=1e3/n._targetFrameRate;(!n._loop||Q-5<=Z)&&(n.deltaTime=G-n._lastRealFrameTime,n._setProperty("deltaTime",n.deltaTime),n._frameRate=1e3/n.deltaTime,n.redraw(),n._lastTargetFrameTime=Math.max(n._lastTargetFrameTime+Q,G),n._lastRealFrameTime=G,n._updateMouseCoords!==void 0&&(n._updateMouseCoords(),n._setProperty("movedX",0),n._setProperty("movedY",0))),n._loop&&(n._requestAnimId=window.requestAnimationFrame(n._draw))},this._setProperty=function(H,G){n[H]=G,n._isGlobal&&(window[H]=G)},this.remove=function(){n._startListener&&window.removeEventListener("load",n._startListener,!1);var H=document.getElementById(n._loadingScreenId);if(H&&(H.parentNode.removeChild(H),n._incrementPreload()),n._curElement){for(var G in n._loop=!1,n._requestAnimId&&window.cancelAnimationFrame(n._requestAnimId),n._events)window.removeEventListener(G,n._events[G]);var Z=!0,H=!1,Q=void 0;try{for(var le,w=n._elements[Symbol.iterator]();!(Z=(le=w.next()).done);Z=!0){var R,N=le.value;for(R in N.elt&&N.elt.parentNode&&N.elt.parentNode.removeChild(N.elt),N._events)N.elt.removeEventListener(R,N._events[R])}}catch(ge){H=!0,Q=ge}finally{try{Z||w.return==null||w.return()}finally{if(H)throw Q}}var W=n;n._registeredMethods.remove.forEach(function(ge){ge!==void 0&&ge.call(W)})}if(n._isGlobal){for(var J in s.prototype)try{delete window[J]}catch{window[J]=void 0}for(var re in n)if(n.hasOwnProperty(re))try{delete window[re]}catch{window[re]=void 0}s.instance=null}};var L,E,I=this._createFriendlyGlobalFunctionBinder();if(this._isGlobal){for(var O in s.instance=this,s.prototype)typeof s.prototype[O]=="function"?(L=O.substring(2),this._events.hasOwnProperty(L)||(Math.hasOwnProperty(O)&&Math[O]===s.prototype[O]?I(O,s.prototype[O]):I(O,s.prototype[O].bind(this)))):I(O,s.prototype[O]);for(var U in this)this.hasOwnProperty(U)&&I(U,this[U])}else u(this),s._checkForUserDefinedFunctions(this);for(E in this._updateWindowSize(),this.callRegisteredHooksFor("init"),this._setupPromisePreloads(),this._events){var D=this["_on".concat(E)];D&&(D=D.bind(this),window.addEventListener(E,D,{passive:!1}),this._events[E]=D)}function B(){n._setProperty("focused",!0)}function X(){n._setProperty("focused",!1)}window.addEventListener("focus",B),window.addEventListener("blur",X),this.registerMethod("remove",function(){window.removeEventListener("focus",B),window.removeEventListener("blur",X)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var i,l;return i=s,(l=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=c.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(u,o){s.prototype._preloadMethods.hasOwnProperty(u)||(s.prototype._preloadMethods[u]=o)}},{key:"registerMethod",value:function(u,o){var n=this||s.prototype;n._registeredMethods.hasOwnProperty(u)||(n._registeredMethods[u]=[]),n._registeredMethods[u].push(o)}},{key:"unregisterMethod",value:function(u,o){var n=this||s.prototype;if(n._registeredMethods.hasOwnProperty(u)){for(var p=n._registeredMethods[u],d=[],_=0;_<p.length;_++)p[_]===o&&d.push(_);for(var S=d.length-1;0<=S;S--)p.splice(d[S],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},o=u.globalObject||window;return u.log||console.log.bind(console),function(n,p){s.disableFriendlyErrors,o[n]=p}}}])&&b(i.prototype,l),s})();for(y in r.instance=null,r.disableFriendlyErrors=!1,c)r.prototype[y]=c[y];r.VERSION=c.VERSION,r.prototype._preloadMethods={loadJSON:r.prototype,loadImage:r.prototype,loadStrings:r.prototype,loadXML:r.prototype,loadBytes:r.prototype,loadTable:r.prototype,loadFont:r.prototype,loadModel:r.prototype,loadShader:r.prototype},r.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},r.prototype._registeredPreloadMethods={},A.default=r},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("./main"))&&t.__esModule?t:{default:t};function g(c,h){for(var b=0;b<h.length;b++){var y=h[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}m.default.Element=(function(){function c(r,s){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.elt=r,this._pInst=this._pixelsState=s,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var h,b,y;return h=c,y=[{key:"_adjustListener",value:function(r,s,i){return s===!1?m.default.Element._detachListener(r,i):m.default.Element._attachListener(r,s,i),this}},{key:"_attachListener",value:function(r,s,i){i._events[r]&&m.default.Element._detachListener(r,i),s=s.bind(i),i.elt.addEventListener(r,s,!1),i._events[r]=s}},{key:"_detachListener",value:function(r,s){var i=s._events[r];s.elt.removeEventListener(r,i,!1),s._events[r]=null}}],(b=[{key:"parent",value:function(r){return r===void 0?this.elt.parentNode:(typeof r=="string"?(r[0]==="#"&&(r=r.substring(1)),r=document.getElementById(r)):r instanceof m.default.Element&&(r=r.elt),r.appendChild(this.elt),this)}},{key:"id",value:function(r){return r===void 0?this.elt.id:(this.elt.id=r,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(r){return r===void 0?this.elt.className:(this.elt.className=r,this)}},{key:"mousePressed",value:function(r){return m.default.Element._adjustListener("mousedown",function(s){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(s),r.call(this,s)},this),this}},{key:"doubleClicked",value:function(r){return m.default.Element._adjustListener("dblclick",r,this),this}},{key:"mouseWheel",value:function(r){return m.default.Element._adjustListener("wheel",r,this),this}},{key:"mouseReleased",value:function(r){return m.default.Element._adjustListener("mouseup",r,this),this}},{key:"mouseClicked",value:function(r){return m.default.Element._adjustListener("click",r,this),this}},{key:"mouseMoved",value:function(r){return m.default.Element._adjustListener("mousemove",r,this),this}},{key:"mouseOver",value:function(r){return m.default.Element._adjustListener("mouseover",r,this),this}},{key:"mouseOut",value:function(r){return m.default.Element._adjustListener("mouseout",r,this),this}},{key:"touchStarted",value:function(r){return m.default.Element._adjustListener("touchstart",r,this),this}},{key:"touchMoved",value:function(r){return m.default.Element._adjustListener("touchmove",r,this),this}},{key:"touchEnded",value:function(r){return m.default.Element._adjustListener("touchend",r,this),this}},{key:"dragOver",value:function(r){return m.default.Element._adjustListener("dragover",r,this),this}},{key:"dragLeave",value:function(r){return m.default.Element._adjustListener("dragleave",r,this),this}},{key:"_setProperty",value:function(r,s){this[r]=s}}])&&g(h.prototype,b),y&&g(h,y),c})(),t=m.default.Element,A.default=t},{"./main":283}],285:[function(t,q,A){function m(n){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(n)}function g(n){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(o=t("./main"))&&o.__esModule?o:{default:o},h=(function(n){if(n&&n.__esModule)return n;if(n===null||g(n)!=="object"&&typeof n!="function")return{default:n};var p=b();if(p&&p.has(n))return p.get(n);var d,_={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in n){var j;Object.prototype.hasOwnProperty.call(n,d)&&((j=S?Object.getOwnPropertyDescriptor(n,d):null)&&(j.get||j.set)?Object.defineProperty(_,d,j):_[d]=n[d])}return _.default=n,p&&p.set(n,_),_})(t("./constants"));function b(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,b=function(){return n},n)}function y(n,p){for(var d=0;d<p.length;d++){var _=p[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(n,_.key,_)}}function r(n,p){return(r=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(n,p)}function s(n){return function(){var p,d=u(n);return i(this,(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(p=u(this).constructor,Reflect.construct(d,arguments,p)):d.apply(this,arguments))}}function i(n,p){return!p||g(p)!=="object"&&typeof p!="function"?l(n):p}function l(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function u(n){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(n)}c.default.Graphics=(function(n){var p=_;if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(n&&n.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),n&&r(p,n);var d=s(_);function _(S,j,U,C,L){var E;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");O=L||document.createElement("canvas"),(E=d.call(this,O,C)).canvas=O;var I,O=U||h.P2D,U=C._userNode||document.body;for(I in L||U.appendChild(E.canvas),c.default.prototype)E[I]||(typeof c.default.prototype[I]=="function"?E[I]=c.default.prototype[I].bind(l(E)):E[I]=c.default.prototype[I]);return c.default.prototype._initializeInstanceVariables.apply(l(E)),E.width=S,E.height=j,E._pixelDensity=C._pixelDensity,O===h.WEBGL?(E._renderer=new c.default.RendererGL(E.canvas,l(E),!1),S=(L=E._renderer._adjustDimensions(S,j)).adjustedWidth,j=L.adjustedHeight):E._renderer=new c.default.Renderer2D(E.canvas,l(E),!1),C._elements.push(l(E)),Object.defineProperty(l(E),"deltaTime",{get:function(){return this._pInst.deltaTime}}),E._renderer.resize(S,j),E._renderer._applyDefaults(),i(E,l(E))}return p=_,(n=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var S,j=this._pInst._elements.indexOf(this);for(S in j!==-1&&this._pInst._elements.splice(j,1),this._events)this.elt.removeEventListener(S,this._events[S]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(S){return new c.default.Framebuffer(this,S)}}])&&y(p.prototype,n),_})(c.default.Element);var o=c.default.Graphics;A.default=o},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,q,A){function m(n){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(u=t("./main"))&&u.__esModule?u:{default:u},c=(function(n){if(n&&n.__esModule)return n;if(n===null||b(n)!=="object"&&typeof n!="function")return{default:n};var p=h();if(p&&p.has(n))return p.get(n);var d,_={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in n){var j;Object.prototype.hasOwnProperty.call(n,d)&&((j=S?Object.getOwnPropertyDescriptor(n,d):null)&&(j.get||j.set)?Object.defineProperty(_,d,j):_[d]=n[d])}return _.default=n,p&&p.set(n,_),_})(t("../core/constants"));function h(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,h=function(){return n},n)}function b(n){return(b=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(n)}function y(n,p){for(var d=0;d<p.length;d++){var _=p[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(n,_.key,_)}}function r(n,p){return(r=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(n,p)}function s(n){return function(){var p,d,_=l(n);return p=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(p=l(this).constructor,Reflect.construct(_,arguments,p)):_.apply(this,arguments),_=this,!(d=p)||b(d)!=="object"&&typeof d!="function"?i(_):d}}function i(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function l(n){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(n)}var u=(function(n){var p=_;if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(n&&n.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),n&&r(p,n);var d=s(_);function _(S,j,T){var C;if(this instanceof _)return(C=d.call(this,S,j)).canvas=S,C._pixelsState=j,T?(C._isMainCanvas=!0,C._pInst._setProperty("_curElement",i(C)),C._pInst._setProperty("canvas",C.canvas),C._pInst._setProperty("width",C.width),C._pInst._setProperty("height",C.height)):(C.canvas.style.display="none",C._styles=[]),C._clipping=!1,C._clipInvert=!1,C._textSize=12,C._textLeading=15,C._textFont="sans-serif",C._textStyle=c.NORMAL,C._textAscent=null,C._textDescent=null,C._textAlign=c.LEFT,C._textBaseline=c.BASELINE,C._textWrap=c.WORD,C._rectMode=c.CORNER,C._ellipseMode=c.CENTER,C._curveTightness=0,C._imageMode=c.CORNER,C._tint=null,C._doStroke=!0,C._doFill=!0,C._strokeSet=!1,C._fillSet=!1,C._leadingSet=!1,C._pushPopDepth=0,C;throw new TypeError("Cannot call a class as a function")}return p=_,(n=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(S){this._pushPopDepth--,S.properties&&Object.assign(this,S.properties)}},{key:"beginClip",value:function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=S.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(S,j){this.width=S,this.height=j,this.elt.width=S*this._pInst._pixelDensity,this.elt.height=j*this._pInst._pixelDensity,this.elt.style.width="".concat(S,"px"),this.elt.style.height="".concat(j,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(S,j,T,C){var L=this._pixelsState,E=L._pixelDensity,I=this.canvas;if(S===void 0&&j===void 0)S=j=0,T=L.width,C=L.height;else if(S*=E,j*=E,T===void 0&&C===void 0)return S<0||j<0||S>=I.width||j>=I.height?[0,0,0,0]:this._getPixel(S,j);return L=new g.default.Image(T*E,C*E),L.pixelDensity(E),L.canvas.getContext("2d").drawImage(I,S,j,T*E,C*E,0,0,T*E,C*E),L}},{key:"textLeading",value:function(S){return typeof S=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",S),this._pInst):this._textLeading}},{key:"textStyle",value:function(S){return S?(S!==c.NORMAL&&S!==c.ITALIC&&S!==c.BOLD&&S!==c.BOLDITALIC||this._setProperty("_textStyle",S),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(S,j){return S!==void 0?(this._setProperty("_textAlign",S),j!==void 0&&this._setProperty("_textBaseline",j),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(S){return this._setProperty("_textWrap",S),this._textWrap}},{key:"text",value:function(S,j,T,C,L){var E,I,O,U,D=this._pInst,B=this._textWrap,X=Number.MAX_VALUE,H=T;if((this._doFill||this._doStroke)&&S!==void 0){if(E=(S=(S=typeof S!="string"?S.toString():S).replace(/(\t)/g,"  ")).split(`
`),C!==void 0){switch(this._rectMode===c.CENTER&&(j-=C/2),this._textAlign){case c.CENTER:j+=C/2;break;case c.RIGHT:j+=C}if(L!==void 0){this._rectMode===c.CENTER&&(T-=L/2,H-=L/2);var S=T,G=D.textAscent();switch(this._textBaseline){case c.BOTTOM:U=T+L,T=Math.max(U,T),H+=G;break;case c.CENTER:U=T+L/2,T=Math.max(U,T),H+=G/2}X=T+L-G,this._textBaseline===c.CENTER&&(X=S+L-G/2)}else this._textBaseline!==c.BOTTOM&&this._textBaseline!==c.CENTER||(H=T-(S=D.textSize()*this._textLeading)/2,X=T+S/2);if(B===c.WORD){for(var Z=[],Q=0;Q<E.length;Q++){for(var le="",w=E[Q].split(" "),R=0;R<w.length;R++)I="".concat(le+w[R])+" ",le=C<(O=this.textWidth(I))&&0<le.length?(Z.push(le),"".concat(w[R])+" "):I;Z.push(le)}var N=0;this._textBaseline===c.CENTER?N=(Z.length-1)*D.textLeading()/2:this._textBaseline===c.BOTTOM&&(N=(Z.length-1)*D.textLeading());for(var W=0;W<E.length;W++){le="",w=E[W].split(" ");for(var J=0;J<w.length;J++)I="".concat(le+w[J])+" ",C<(O=this.textWidth(I))&&0<le.length?(this._renderText(D,le.trim(),j,T-N,X,H),le="".concat(w[J])+" ",T+=D.textLeading()):le=I;this._renderText(D,le.trim(),j,T-N,X,H),T+=D.textLeading()}}else{for(var re=[],ue=0;ue<E.length;ue++)for(var ge=E[ue].split(le=""),se=0;se<ge.length;se++)I="".concat(le+ge[se]),(O=this.textWidth(I))<=C?le+=ge[se]:C<O&&0<le.length&&(re.push(le),le="".concat(ge[se]));re.push(le);var pe=0;this._textBaseline===c.CENTER?pe=(re.length-1)*D.textLeading()/2:this._textBaseline===c.BOTTOM&&(pe=(re.length-1)*D.textLeading());for(var ye=0;ye<E.length;ye++){ge=E[ye].split(le="");for(var te=0;te<ge.length;te++)I="".concat(le+ge[te]),(O=this.textWidth(I))<=C?le+=ge[te]:C<O&&0<le.length&&(this._renderText(D,le.trim(),j,T-pe,X,H),T+=D.textLeading(),le="".concat(ge[te]))}this._renderText(D,le.trim(),j,T-pe,X,H),T+=D.textLeading()}}else{var me=0;this._textBaseline===c.CENTER?me=(E.length-1)*D.textLeading()/2:this._textBaseline===c.BOTTOM&&(me=(E.length-1)*D.textLeading());for(var we=0;we<E.length;we++)this._renderText(D,E[we],j,T-me,X,H-me),T+=D.textLeading()}return D}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return b(S)==="object"&&S.font&&S.font.supported}},{key:"_updateTextMetrics",value:function(){var S,j,T,C,L,E;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((S=document.createElement("span")).style.fontFamily=this._textFont,S.style.fontSize="".concat(this._textSize,"px"),S.innerHTML="ABCjgq|",(E=document.createElement("div")).style.display="inline-block",E.style.width="1px",E.style.height="0px",C=((j=document.createElement("div")).appendChild(S),j.appendChild(E),j.style.height="0px",j.style.overflow="hidden",document.body.appendChild(j),E.style.verticalAlign="baseline",o(E)),L=o(S),T=C[1]-L[1],C=(E.style.verticalAlign="bottom",o(E)),L=o(S),E=C[1]-L[1]-T,document.body.removeChild(j),this._setProperty("_textAscent",T),this._setProperty("_textDescent",E)),this}}])&&y(p.prototype,n),_})(g.default.Element);function o(n){var p=0,d=0;if(n.offsetParent)for(;p+=n.offsetLeft,d+=n.offsetTop,n=n.offsetParent;);else p+=n.offsetLeft,d+=n.offsetTop;return[p,d]}u.prototype.textSize=function(n){return typeof n=="number"?(this._setProperty("_textSize",n),this._leadingSet||this._setProperty("_textLeading",n*c._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},g.default.Renderer=u,t=g.default.Renderer,A.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(n,q,A){function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(p)}function g(p){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(d){return m(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":m(d)})(p)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.reflect.get"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(o=n("./main"))&&o.__esModule?o:{default:o},h=(function(p){if(p&&p.__esModule)return p;if(p===null||g(p)!=="object"&&typeof p!="function")return{default:p};var d=b();if(d&&d.has(p))return d.get(p);var _,S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in p){var T;Object.prototype.hasOwnProperty.call(p,_)&&((T=j?Object.getOwnPropertyDescriptor(p,_):null)&&(T.get||T.set)?Object.defineProperty(S,_,T):S[_]=p[_])}return S.default=p,d&&d.set(p,S),S})(n("./constants"));function b(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,b=function(){return p},p)}function y(p,d){for(var _=0;_<d.length;_++){var S=d[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}function r(p,d,_){return(r=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(C,j,T){var C=(function(L,E){for(;!Object.prototype.hasOwnProperty.call(L,E)&&(L=l(L))!==null;);return L})(C,j);if(C)return(C=Object.getOwnPropertyDescriptor(C,j)).get?C.get.call(T):C.value})(p,d,_||p)}function s(p,d){return(s=Object.setPrototypeOf||function(_,S){return _.__proto__=S,_})(p,d)}function i(p){return function(){var d,_=l(p),_=(d=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(d=l(this).constructor,Reflect.construct(_,arguments,d)):_.apply(this,arguments),this);if(!d||g(d)!=="object"&&typeof d!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return d}}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(p)}n("./p5.Renderer");var u="rgba(0,0,0,0)",o=(function(p){var d=S;if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),p&&s(d,p);var _=i(S);function S(j,T,C){if(this instanceof S)return(j=_.call(this,j,T,C)).drawingContext=j.canvas.getContext("2d"),j._pInst._setProperty("drawingContext",j.drawingContext),j;throw new TypeError("Cannot call a class as a function")}return d=S,(p=[{key:"getFilterGraphicsLayer",value:function(){var j;return this.filterGraphicsLayer||(j=(this._pInst instanceof c.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new c.default.Graphics(this.width,this.height,h.WEBGL,j)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=h.BLEND,this._setFill(h._DEFAULT_FILL),this._setStroke(h._DEFAULT_STROKE),this.drawingContext.lineCap=h.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(j,T){r(l(S.prototype),"resize",this).call(this,j,T),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var j,T;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof c.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(j=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(j,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(j=this._getFill(),T=(T=this._pInst).color.apply(T,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(T.levels),T=T.toString(),this._setFill(T),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(j),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setFill(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",j.levels)}},{key:"stroke",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setStroke(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",j.levels)}},{key:"erase",value:function(j,T){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,j=this._pInst.color(255,j).toString(),this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,j=this._pInst.color(255,T).toString(),this.drawingContext.strokeStyle=j,T=this._cachedBlendMode,this.blendMode(h.REMOVE),this._cachedBlendMode=T,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},j=(r(l(S.prototype),"beginClip",this).call(this,j),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),j=(this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),j=(this.drawingContext.strokeStyle=j,this._cachedBlendMode);this.blendMode(h.BLEND),this._cachedBlendMode=j,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),r(l(S.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(j,T,C,L,E,I,O,U,D){j.gifProperties&&j._animateGif(this._pInst);try{c.default.MediaElement&&j instanceof c.default.MediaElement&&j._ensureCanvas();var B=(B=this._tint&&j.canvas?this._getTintedImageCanvas(j):B)||j.canvas||j.elt,X=1;j.width&&0<j.width&&(X=B.width/j.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(B,X*T,X*C,X*L,X*E,I,O,U,D),this._isErasing&&this._pInst.erase()}catch(H){if(H.name!=="NS_ERROR_NOT_AVAILABLE")throw H}}},{key:"_getTintedImageCanvas",value:function(j){if(!j.canvas)return j;j.tintCanvas||(j.tintCanvas=document.createElement("canvas")),j.tintCanvas.width!==j.canvas.width&&(j.tintCanvas.width=j.canvas.width),j.tintCanvas.height!==j.canvas.height&&(j.tintCanvas.height=j.canvas.height);var T=j.tintCanvas.getContext("2d");return T.save(),T.clearRect(0,0,j.canvas.width,j.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(T.drawImage(j.canvas,0,0),T.globalCompositeOperation="luminosity",T.drawImage(j.canvas,0,0),T.globalCompositeOperation="color",T.drawImage(j.canvas,0,0),T.globalCompositeOperation="multiply",T.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),T.fillRect(0,0,j.canvas.width,j.canvas.height),T.globalCompositeOperation="destination-in"),T.globalAlpha=this._tint[3]/255,T.drawImage(j.canvas,0,0),T.restore(),j.tintCanvas}},{key:"blendMode",value:function(j){if(j===h.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(j!==h.BLEND&&j!==h.REMOVE&&j!==h.DARKEST&&j!==h.LIGHTEST&&j!==h.DIFFERENCE&&j!==h.MULTIPLY&&j!==h.EXCLUSION&&j!==h.SCREEN&&j!==h.REPLACE&&j!==h.OVERLAY&&j!==h.HARD_LIGHT&&j!==h.SOFT_LIGHT&&j!==h.DODGE&&j!==h.BURN&&j!==h.ADD)throw new Error("Mode ".concat(j," not recognized."));this._cachedBlendMode=j,this.drawingContext.globalCompositeOperation=j}}},{key:"blend",value:function(){for(var j=this.drawingContext.globalCompositeOperation,T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];var E=C[C.length-1],I=Array.prototype.slice.call(C,0,C.length-1);this.drawingContext.globalCompositeOperation=E,c.default.prototype.copy.apply(this,I),this.drawingContext.globalCompositeOperation=j}},{key:"_getPixel",value:function(j,T){return j=this.drawingContext.getImageData(j,T,1,1).data,[j[0],j[1],j[2],j[3]]}},{key:"loadPixels",value:function(){var j=this._pixelsState,T=j._pixelDensity,C=this.width*T,T=this.height*T,C=this.drawingContext.getImageData(0,0,C,T);j._setProperty("imageData",C),j._setProperty("pixels",C.data)}},{key:"set",value:function(j,T,C){j=Math.floor(j),T=Math.floor(T);var L=this._pixelsState;if(C instanceof c.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(L._pixelDensity,L._pixelDensity),this.drawingContext.clearRect(j,T,C.width,C.height),this.drawingContext.drawImage(C.canvas,j,T),this.drawingContext.restore();else{var E=0,I=0,O=0,U=0,D=4*(T*L._pixelDensity*(this.width*L._pixelDensity)+j*L._pixelDensity);if(L.imageData||L.loadPixels(),typeof C=="number")D<L.pixels.length&&(O=I=E=C,U=255);else if(Array.isArray(C)){if(C.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");D<L.pixels.length&&(E=C[0],I=C[1],O=C[2],U=C[3])}else C instanceof c.default.Color&&D<L.pixels.length&&(E=C.levels[0],I=C.levels[1],O=C.levels[2],U=C.levels[3]);for(var B=0;B<L._pixelDensity;B++)for(var X=0;X<L._pixelDensity;X++)D=4*((T*L._pixelDensity+X)*this.width*L._pixelDensity+(j*L._pixelDensity+B)),L.pixels[D]=E,L.pixels[D+1]=I,L.pixels[D+2]=O,L.pixels[D+3]=U}}},{key:"updatePixels",value:function(j,T,C,L){var E=this._pixelsState,I=E._pixelDensity;j===void 0&&T===void 0&&C===void 0&&L===void 0&&(T=j=0,C=this.width,L=this.height),j*=I,T*=I,C*=I,L*=I,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=E.imageData),this.drawingContext.putImageData(E.imageData,0,0,j,T,C,L)}},{key:"arc",value:function(D,B,X,H,E,I,O){var U=this.drawingContext,D=D+X/2,B=B+H/2,X=X/2,H=H/2,G=!(O===h.CHORD||O===h.OPEN||(I-E)%h.TWO_PI==0);return this._doFill&&(this._clipping||U.beginPath(),U.ellipse(D,B,X,H,0,E,I),G&&U.lineTo(D,B),U.closePath(),this._clipping||U.fill()),this._doStroke&&(this._clipping||U.beginPath(),U.ellipse(D,B,X,H,0,E,I),O===h.PIE&&G&&U.lineTo(D,B),O!==h.PIE&&O!==h.CHORD||U.closePath(),this._clipping||U.stroke()),this}},{key:"ellipse",value:function(U){var T=this.drawingContext,C=this._doFill,L=this._doStroke,E=parseFloat(U[0]),I=parseFloat(U[1]),O=parseFloat(U[2]),U=parseFloat(U[3]);if(C&&!L){if(this._getFill()===u)return this}else if(!C&&L&&this._getStroke()===u)return this;E+=O/2,I+=U/2,O/=2,U/=2,this._clipping||T.beginPath(),T.ellipse(E,I,O,U,0,0,2*Math.PI),T.closePath(),!this._clipping&&C&&T.fill(),!this._clipping&&L&&T.stroke()}},{key:"line",value:function(j,T,C,L){var E=this.drawingContext;return this._doStroke&&this._getStroke()!==u&&(this._clipping||E.beginPath(),E.moveTo(j,T),E.lineTo(C,L),E.stroke()),this}},{key:"point",value:function(j,T){var C,L,E=this.drawingContext;return!this._doStroke||this._getStroke()===u?this:(C=this._getStroke(),L=this._getFill(),this._clipping||this._setFill(C),this._clipping||E.beginPath(),E.arc(j,T,E.lineWidth/2,0,h.TWO_PI,!1),void(this._clipping||(E.fill(),this._setFill(L))))}},{key:"quad",value:function(j,T,C,L,E,I,O,U){var D=this.drawingContext,B=this._doFill,X=this._doStroke;if(B&&!X){if(this._getFill()===u)return this}else if(!B&&X&&this._getStroke()===u)return this;return this._clipping||D.beginPath(),D.moveTo(j,T),D.lineTo(C,L),D.lineTo(E,I),D.lineTo(O,U),D.closePath(),!this._clipping&&B&&D.fill(),!this._clipping&&X&&D.stroke(),this}},{key:"rect",value:function(X){var T,C,L=X[0],E=X[1],I=X[2],O=X[3],U=X[4],D=X[5],B=X[6],X=X[7],H=this.drawingContext,G=this._doFill,Z=this._doStroke;if(G&&!Z){if(this._getFill()===u)return this}else if(!G&&Z&&this._getStroke()===u)return this;return this._clipping||H.beginPath(),U===void 0?H.rect(L,E,I,O):(D===void 0&&(D=U),B===void 0&&(B=D),X===void 0&&(X=B),Z=(G=Math.abs(I))/2,C=(T=Math.abs(O))/2,H.roundRect(L,E,I,O,[U=T<2*(U=G<2*U?Z:U)?C:U,D=T<2*(D=G<2*D?Z:D)?C:D,B=T<2*(B=G<2*B?Z:B)?C:B,X=T<2*(X=G<2*X?Z:X)?C:X])),!this._clipping&&this._doFill&&H.fill(),!this._clipping&&this._doStroke&&H.stroke(),this}},{key:"triangle",value:function(B){var T=this.drawingContext,C=this._doFill,L=this._doStroke,E=B[0],I=B[1],O=B[2],U=B[3],D=B[4],B=B[5];if(C&&!L){if(this._getFill()===u)return this}else if(!C&&L&&this._getStroke()===u)return this;this._clipping||T.beginPath(),T.moveTo(E,I),T.lineTo(O,U),T.lineTo(D,B),T.closePath(),!this._clipping&&C&&T.fill(),!this._clipping&&L&&T.stroke()}},{key:"endShape",value:function(j,T,C,L,E,I,O){if(T.length!==0&&(this._doStroke||this._doFill)){var U,D,B,X=j===h.CLOSE,H=(X&&!I&&T.push(T[0]),T.length);if(C&&O===null){if(3<H){var G=[],Z=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[1][0],T[1][1]),D=1;D+2<H;D++)U=T[D],G[0]=[U[0],U[1]],G[1]=[U[0]+(Z*T[D+1][0]-Z*T[D-1][0])/6,U[1]+(Z*T[D+1][1]-Z*T[D-1][1])/6],G[2]=[T[D+1][0]+(Z*T[D][0]-Z*T[D+2][0])/6,T[D+1][1]+(Z*T[D][1]-Z*T[D+2][1])/6],G[3]=[T[D+1][0],T[D+1][1]],this.drawingContext.bezierCurveTo(G[1][0],G[1][1],G[2][0],G[2][1],G[3][0],G[3][1]);X&&this.drawingContext.lineTo(T[D+1][0],T[D+1][1]),this._doFillStrokeClose(X)}}else if(L&&O===null){for(this._clipping||this.drawingContext.beginPath(),D=0;D<H;D++)T[D].isVert?T[D].moveTo?this.drawingContext.moveTo(T[D][0],T[D][1]):this.drawingContext.lineTo(T[D][0],T[D][1]):this.drawingContext.bezierCurveTo(T[D][0],T[D][1],T[D][2],T[D][3],T[D][4],T[D][5]);this._doFillStrokeClose(X)}else if(E&&O===null){for(this._clipping||this.drawingContext.beginPath(),D=0;D<H;D++)T[D].isVert?T[D].moveTo?this.drawingContext.moveTo(T[D][0],T[D][1]):this.drawingContext.lineTo(T[D][0],T[D][1]):this.drawingContext.quadraticCurveTo(T[D][0],T[D][1],T[D][2],T[D][3]);this._doFillStrokeClose(X)}else if(O===h.POINTS)for(D=0;D<H;D++)U=T[D],this._doStroke&&this._pInst.stroke(U[6]),this._pInst.point(U[0],U[1]);else if(O===h.LINES)for(D=0;D+1<H;D+=2)U=T[D],this._doStroke&&this._pInst.stroke(T[D+1][6]),this._pInst.line(U[0],U[1],T[D+1][0],T[D+1][1]);else if(O===h.TRIANGLES)for(D=0;D+2<H;D+=3)U=T[D],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(T[D+1][0],T[D+1][1]),this.drawingContext.lineTo(T[D+2][0],T[D+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(T[D+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(T[D+2][6]),this.drawingContext.stroke());else if(O===h.TRIANGLE_STRIP)for(D=0;D+1<H;D++)U=T[D],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[D+1][0],T[D+1][1]),this.drawingContext.lineTo(U[0],U[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[D+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(T[D+1][5]),D+2<H&&(this.drawingContext.lineTo(T[D+2][0],T[D+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[D+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(T[D+2][5])),this._doFillStrokeClose(X);else if(O===h.TRIANGLE_FAN){if(2<H){for(this._clipping||this.drawingContext.beginPath(),D=2;D<H;D++)U=T[D],this.drawingContext.moveTo(T[0][0],T[0][1]),this.drawingContext.lineTo(T[D-1][0],T[D-1][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(T[0][0],T[0][1]),D<H-1&&(this._doFill&&U[5]!==T[D+1][5]||this._doStroke&&U[6]!==T[D+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(U[5]),this.drawingContext.fill(),this._pInst.fill(T[D+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(U[6]),this.drawingContext.stroke(),this._pInst.stroke(T[D+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(X)}}else if(O===h.QUADS)for(D=0;D+3<H;D+=4){for(U=T[D],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),B=1;B<4;B++)this.drawingContext.lineTo(T[D+B][0],T[D+B][1]);this.drawingContext.lineTo(U[0],U[1]),!this._clipping&&this._doFill&&this._pInst.fill(T[D+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[D+3][6]),this._doFillStrokeClose(X)}else if(O===h.QUAD_STRIP){if(3<H)for(D=0;D+1<H;D+=2)U=T[D],this._clipping||this.drawingContext.beginPath(),D+3<H?(this.drawingContext.moveTo(T[D+2][0],T[D+2][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(T[D+1][0],T[D+1][1]),this.drawingContext.lineTo(T[D+3][0],T[D+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(T[D+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[D+3][6])):(this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(T[D+1][0],T[D+1][1])),this._doFillStrokeClose(X)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[0][0],T[0][1]),D=1;D<H;D++)(U=T[D]).isVert&&(U.moveTo?(X&&this.drawingContext.closePath(),this.drawingContext.moveTo(U[0],U[1])):this.drawingContext.lineTo(U[0],U[1]));this._doFillStrokeClose(X),this.drawingContext.closePath()}I=E=L=C=!1,X&&T.pop()}return this}},{key:"strokeCap",value:function(j){return j!==h.ROUND&&j!==h.SQUARE&&j!==h.PROJECT||(this.drawingContext.lineCap=j),this}},{key:"strokeJoin",value:function(j){return j!==h.ROUND&&j!==h.BEVEL&&j!==h.MITER||(this.drawingContext.lineJoin=j),this}},{key:"strokeWeight",value:function(j){return this.drawingContext.lineWidth=j===void 0||j===0?1e-4:j,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(j){j!==this._cachedFillStyle&&(this.drawingContext.fillStyle=j,this._cachedFillStyle=j)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(j){j!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=j,this._cachedStrokeStyle=j)}},{key:"bezier",value:function(j,T,C,L,E,I,O,U){return this._pInst.beginShape(),this._pInst.vertex(j,T),this._pInst.bezierVertex(C,L,E,I,O,U),this._pInst.endShape(),this}},{key:"curve",value:function(j,T,C,L,E,I,O,U){return this._pInst.beginShape(),this._pInst.curveVertex(j,T),this._pInst.curveVertex(C,L),this._pInst.curveVertex(E,I),this._pInst.curveVertex(O,U),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(j){j&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(j,T,C,L,E,I){this.drawingContext.transform(j,T,C,L,E,I)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(j){this.drawingContext.rotate(j)}},{key:"scale",value:function(j,T){return this.drawingContext.scale(j,T),this}},{key:"translate",value:function(j,T){return j instanceof c.default.Vector&&(T=j.y,j=j.x),this.drawingContext.translate(j,T),this}},{key:"_renderText",value:function(j,T,C,L,E,I){if(!(L<I||E<=L))return j.push(),this._isOpenType()?this._textFont._renderPath(T,C,L,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(T,C,L),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(h._DEFAULT_TEXT_FILL),this.drawingContext.fillText(T,C,L))),j.pop(),j}},{key:"textWidth",value:function(j){return this._isOpenType()?this._textFont._textWidth(j,this._textSize):this.drawingContext.measureText(j).width}},{key:"_applyTextProperties",value:function(){var j=this._pInst,T=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),T=this._textFont,this._isOpenType()&&(T=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),T||"sans-serif");return/\s/.exec(T)&&(T='"'.concat(T,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(T),this.drawingContext.textAlign=this._textAlign,this._textBaseline===h.CENTER?this.drawingContext.textBaseline=h._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,j}},{key:"push",value:function(){return this.drawingContext.save(),r(l(S.prototype),"push",this).call(this)}},{key:"pop",value:function(j){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,r(l(S.prototype),"pop",this).call(this,j)}}])&&y(d.prototype,p),S})(c.default.Renderer),n=(o.prototype.text=function(p,d,_,C,j){C!==void 0&&this.drawingContext.textBaseline===h.BASELINE&&(T=!0,this.drawingContext.textBaseline=h.TOP);var T,C=c.default.Renderer.prototype.text.apply(this,arguments);return T&&(this.drawingContext.textBaseline=h.BASELINE),C},c.default.Renderer2D=o,c.default.Renderer2D);A.default=n},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,q,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var m=(t=t("./main"))&&t.__esModule?t:{default:t};m.default.prototype._promisePreloads=[];function g(){return{}}var c=!(m.default.prototype.registerPromisePreload=function(h){m.default.prototype._promisePreloads.push(h)});m.default.prototype._setupPromisePreloads=function(){var h=!0,b=!1,y=void 0;try{for(var r,s=this._promisePreloads[Symbol.iterator]();!(h=(r=s.next()).done);h=!0){var i=r.value,l=this,u=i.method,o=i.addCallbacks,n=i.legacyPreloadSetup,p=i.target||this,d=p[u].bind(p);if(p===m.default.prototype){if(c)continue;l=null,d=p[u]}p[u]=this._wrapPromisePreload(l,d,o),n&&(p[n.method]=this._legacyPreloadGenerator(l,n,p[u]))}}catch(_){b=!0,y=_}finally{try{h||s.return==null||s.return()}finally{if(b)throw y}}c=!0},m.default.prototype._wrapPromisePreload=function(h,b,y){var r=function(){for(var s=this,i=(this._incrementPreload(),null),l=null,u=arguments.length,o=new Array(u),n=0;n<u;n++)o[n]=arguments[n];if(y)for(var p=o.length-1;0<=p&&!l&&typeof o[p]=="function";p--)l=i,i=o.pop();var d=Promise.resolve(b.apply(this,o));return i&&d.then(i),l&&d.catch(l),d.then(function(){return s._decrementPreload()}),d};return r=h?r.bind(h):r},m.default.prototype._legacyPreloadGenerator=function(h,s,y){var r=s.createBaseObject||g,s=function(){var i=this;this._incrementPreload();for(var l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];var n=r.apply(this,u);return y.apply(this,u).then(function(p){Object.assign(n,p),i._decrementPreload()}),n};return s=h?s.bind(h):s}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,q,A){function m(s){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(r=t("./main"))&&r.__esModule?r:{default:r},c=(function(s){if(s&&s.__esModule)return s;if(s===null||b(s)!=="object"&&typeof s!="function")return{default:s};var i=h();if(i&&i.has(s))return i.get(s);var l,u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in s){var n;Object.prototype.hasOwnProperty.call(s,l)&&((n=o?Object.getOwnPropertyDescriptor(s,l):null)&&(n.get||n.set)?Object.defineProperty(u,l,n):u[l]=s[l])}return u.default=s,i&&i.set(s,u),u})(t("./constants"));function h(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,h=function(){return s},s)}function b(s){return(b=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(i){return m(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":m(i)})(s)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var y="defaultCanvas0",r=(g.default.prototype.createCanvas=function(s,i,l,u){var o,n,p;if(g.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(l=c.P2D,u=arguments[2]):o=l||c.P2D,u)(p=document.getElementById(y))&&p.parentNode.removeChild(p),p=u,this._defaultGraphicsCreated=!1;else{if(o===c.WEBGL)(p=document.getElementById(y))&&(p.parentNode.removeChild(p),n=this._renderer,this._elements=this._elements.filter(function(_){return _!==n})),(p=document.createElement("canvas")).id=y,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=u||document.createElement("canvas");for(var d=0;document.getElementById("defaultCanvas".concat(d));)d++;y="defaultCanvas".concat(d),p.id=y,p.classList.add("p5Canvas")}this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(l=document.createElement("main"),document.body.appendChild(l)),document.getElementsByTagName("main")[0])).appendChild(p)}return o===c.WEBGL?(this._setProperty("_renderer",new g.default.RendererGL(p,this,!0)),this._elements.push(this._renderer),s=(u=this._renderer._adjustDimensions(s,i)).adjustedWidth,i=u.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new g.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(s,i),this._renderer._applyDefaults(),this._renderer},g.default.prototype.resizeCanvas=function(s,i,l){if(g.default._validateParameters("resizeCanvas",arguments),this._renderer){var u,o,n,p={};for(u in this.drawingContext){var d=this.drawingContext[u];b(d)!=="object"&&typeof d!="function"&&(p[u]=d)}for(n in this._renderer instanceof g.default.RendererGL&&(s=(o=this._renderer._adjustDimensions(s,i)).adjustedWidth,i=o.adjustedHeight),this.width=s,this.height=i,this._renderer.resize(s,i),p)try{this.drawingContext[n]=p[n]}catch{}l||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},g.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},g.default.prototype.createGraphics=function(s,i){for(var l=arguments.length,u=new Array(2<l?l-2:0),o=2;o<l;o++)u[o-2]=arguments[o];return u[0]instanceof HTMLCanvasElement&&(u[1]=u[0],u[0]=c.P2D),g.default._validateParameters("createGraphics",arguments),new g.default.Graphics(s,i,u[0],this,u[1])},g.default.prototype.createFramebuffer=function(s){return new g.default.Framebuffer(this,s)},g.default.prototype.clearDepth=function(s){this._assert3d("clearDepth"),this._renderer.clearDepth(s)},g.default.prototype.blendMode=function(s){g.default._validateParameters("blendMode",arguments),s===c.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),s=c.BLEND),this._renderer.blendMode(s)},g.default);A.default=r},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,q,A){function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function g(i){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(l){return m(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":m(l)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=r(t("../main")),h=(function(i){if(i&&i.__esModule)return i;if(i===null||g(i)!=="object"&&typeof i!="function")return{default:i};var l=y();if(l&&l.has(i))return l.get(i);var u,o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var p;Object.prototype.hasOwnProperty.call(i,u)&&((p=n?Object.getOwnPropertyDescriptor(i,u):null)&&(p.get||p.set)?Object.defineProperty(o,u,p):o[u]=i[u])}return o.default=i,l&&l.set(i,o),o})(t("../constants")),b=r(t("../helpers"));function y(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,y=function(){return i},i)}function r(i){return i&&i.__esModule?i:{default:i}}function s(i){return(function(l){if(Array.isArray(l)){for(var u=0,o=new Array(l.length);u<l.length;u++)o[u]=l[u];return o}})(i)||(function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)})(i)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),c.default.prototype._normalizeArcAngles=function(i,l,u,o,n){var p;return i-=h.TWO_PI*Math.floor(i/h.TWO_PI),l-=h.TWO_PI*Math.floor(l/h.TWO_PI),p=Math.min(Math.abs(i-l),h.TWO_PI-Math.abs(i-l)),n&&(i=i<=h.HALF_PI?Math.atan(u/o*Math.tan(i)):i>h.HALF_PI&&i<=3*h.HALF_PI?Math.atan(u/o*Math.tan(i))+h.PI:Math.atan(u/o*Math.tan(i))+h.TWO_PI,l=l<=h.HALF_PI?Math.atan(u/o*Math.tan(l)):l>h.HALF_PI&&l<=3*h.HALF_PI?Math.atan(u/o*Math.tan(l))+h.PI:Math.atan(u/o*Math.tan(l))+h.TWO_PI),l<i&&(l+=h.TWO_PI),{start:i,stop:l,correspondToSamePoint:p<1e-5}},c.default.prototype.arc=function(i,l,u,o,n,p,d,_){return c.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&n!==p&&(n=this._toRadians(n),p=this._toRadians(p),i=b.default.modeAdjust(i,l,u,o,this._renderer._ellipseMode),(l=this._normalizeArcAngles(n,p,i.w,i.h,!0)).correspondToSamePoint?this._renderer.ellipse([i.x,i.y,i.w,i.h,_]):(this._renderer.arc(i.x,i.y,i.w,i.h,l.start,l.stop,d,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[i.x,i.y,i.w,i.h,l.start,l.stop,d]))),this},c.default.prototype.ellipse=function(i,l,u,o,n){return c.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},c.default.prototype.circle=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];c.default._validateParameters("circle",l);var o=l.slice(0,2);return o.push(l[2],l[2]),this._renderEllipse.apply(this,s(o))},c.default.prototype._renderEllipse=function(i,l,u,o,n){return(this._renderer._doStroke||this._renderer._doFill)&&(i=b.default.modeAdjust(i,l,u,o=o===void 0?u:o,this._renderer._ellipseMode),this._renderer.ellipse([i.x,i.y,i.w,i.h,n]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[i.x,i.y,i.w,i.h])),this},c.default.prototype.line=function(){for(var i,l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];return c.default._validateParameters("line",u),this._renderer._doStroke&&(i=this._renderer).line.apply(i,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",u),this},c.default.prototype.point=function(){for(var i,l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];return c.default._validateParameters("point",u),this._renderer._doStroke&&(u.length===1&&u[0]instanceof c.default.Vector?this._renderer.point.call(this._renderer,u[0].x,u[0].y,u[0].z):((i=this._renderer).point.apply(i,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",u))),this},c.default.prototype.quad=function(){for(var i,l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];return c.default._validateParameters("quad",u),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&u.length<12?this._renderer.quad.call(this._renderer,u[0],u[1],0,u[2],u[3],0,u[4],u[5],0,u[6],u[7],0,u[8],u[9]):((i=this._renderer).quad.apply(i,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",u))),this},c.default.prototype.rect=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return c.default._validateParameters("rect",l),this._renderRect.apply(this,l)},c.default.prototype.square=function(i,l,u,o,n,p,d){return c.default._validateParameters("square",arguments),this._renderRect.call(this,i,l,u,u,o,n,p,d)},c.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var i=b.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),l=(this._renderer._rectMode===h.CORNER&&(i.w=arguments[2],i.h=arguments[3]),[i.x,i.y,i.w,i.h]),u=4;u<arguments.length;u++)l[u]=arguments[u];this._renderer.rect(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[i.x,i.y,i.w,i.h])}return this},c.default.prototype.triangle=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return c.default._validateParameters("triangle",l),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",l),this},t=c.default,A.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,q,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(s){return m(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":m(s)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../main"))&&y.__esModule?y:{default:y},h=(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var s=b();if(s&&s.has(r))return s.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var o;Object.prototype.hasOwnProperty.call(r,i)&&((o=u?Object.getOwnPropertyDescriptor(r,i):null)&&(o.get||o.set)?Object.defineProperty(l,i,o):l[i]=r[i])}return l.default=r,s&&s.set(r,l),l})(t("../constants"));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}c.default.prototype.ellipseMode=function(r){return c.default._validateParameters("ellipseMode",arguments),r!==h.CORNER&&r!==h.CORNERS&&r!==h.RADIUS&&r!==h.CENTER||(this._renderer._ellipseMode=r),this},c.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},c.default.prototype.rectMode=function(r){return c.default._validateParameters("rectMode",arguments),r!==h.CORNER&&r!==h.CORNERS&&r!==h.RADIUS&&r!==h.CENTER||(this._renderer._rectMode=r),this},c.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},c.default.prototype.strokeCap=function(r){return c.default._validateParameters("strokeCap",arguments),r!==h.ROUND&&r!==h.SQUARE&&r!==h.PROJECT||this._renderer.strokeCap(r),this},c.default.prototype.strokeJoin=function(r){return c.default._validateParameters("strokeJoin",arguments),r!==h.ROUND&&r!==h.BEVEL&&r!==h.MITER||this._renderer.strokeJoin(r),this},c.default.prototype.strokeWeight=function(r){return c.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(r),this};var y=c.default;A.default=y},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(g=t("../main"))&&g.__esModule?g:{default:g};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),m.default.prototype.bezier=function(){for(var c,h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];return m.default._validateParameters("bezier",b),(this._renderer._doStroke||this._renderer._doFill)&&(c=this._renderer).bezier.apply(c,b),this},m.default.prototype.bezierDetail=function(c){return m.default._validateParameters("bezierDetail",arguments),this._bezierDetail=c,this},m.default.prototype.bezierPoint=function(c,h,b,y,r){m.default._validateParameters("bezierPoint",arguments);var s=1-r;return Math.pow(s,3)*c+3*Math.pow(s,2)*r*h+3*s*Math.pow(r,2)*b+Math.pow(r,3)*y},m.default.prototype.bezierTangent=function(c,h,b,y,r){m.default._validateParameters("bezierTangent",arguments);var s=1-r;return 3*y*Math.pow(r,2)-3*b*Math.pow(r,2)+6*b*s*r-6*h*s*r+3*h*Math.pow(s,2)-3*c*Math.pow(s,2)},m.default.prototype.curve=function(){for(var c,h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];return m.default._validateParameters("curve",b),this._renderer._doStroke&&(c=this._renderer).curve.apply(c,b),this},m.default.prototype.curveDetail=function(c){return m.default._validateParameters("curveDetail",arguments),this._curveDetail=c<3?3:c,this},m.default.prototype.curveTightness=function(c){return m.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=c,this},m.default.prototype.curvePoint=function(c,h,b,y,r){m.default._validateParameters("curvePoint",arguments);var s=this._renderer._curveTightness,i=r*r*r,l=r*r;return c*((s-1)/2*i+(1-s)*l+(s-1)/2*r)+h*((s+3)/2*i+(-5-s)/2*l+1)+b*((-3-s)/2*i+(s+2)*l+(1-s)/2*r)+y*((1-s)/2*i+(s-1)/2*l)},m.default.prototype.curveTangent=function(c,h,b,y,l){m.default._validateParameters("curveTangent",arguments);var s=this._renderer._curveTightness,i=l*l*3,l=2*l;return c*((s-1)/2*i+(1-s)*l+(s-1)/2)+h*((s+3)/2*i+(-5-s)/2*l)+b*((-3-s)/2*i+(s+2)*l+(1-s)/2)+y*((1-s)/2*i+(s-1)/2*l)};var g=m.default;A.default=g},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,q,A){function m(d){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}function g(d){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(_){return m(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":m(_)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(p=t("../main"))&&p.__esModule?p:{default:p},h=(function(d){if(d&&d.__esModule)return d;if(d===null||g(d)!=="object"&&typeof d!="function")return{default:d};var _=b();if(_&&_.has(d))return _.get(d);var S,j={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in d){var C;Object.prototype.hasOwnProperty.call(d,S)&&((C=T?Object.getOwnPropertyDescriptor(d,S):null)&&(C.get||C.set)?Object.defineProperty(j,S,C):j[S]=d[S])}return j.default=d,_&&_.set(d,j),j})(t("../constants"));function b(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,b=function(){return d},d)}var y=null,r=[],s=[],i=!1,l=!1,u=!1,o=!1,n=!0,p=(c.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(s=[],o=!0),this},c.default.prototype.beginShape=function(d){var _;return c.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(_=this._renderer).beginShape.apply(_,arguments):(y=d===h.POINTS||d===h.LINES||d===h.TRIANGLES||d===h.TRIANGLE_FAN||d===h.TRIANGLE_STRIP||d===h.QUADS||d===h.QUAD_STRIP?d:null,r=[],s=[]),this},c.default.prototype.bezierVertex=function(){for(var d,_=arguments.length,S=new Array(_),j=0;j<_;j++)S[j]=arguments[j];if(c.default._validateParameters("bezierVertex",S),this._renderer.isP3D)(d=this._renderer).bezierVertex.apply(d,S);else if(r.length===0)c.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{i=!0;for(var T=[],C=0;C<S.length;C++)T[C]=S[C];T.isVert=!1,(o?s:r).push(T)}return this},c.default.prototype.curveVertex=function(){for(var d,_=arguments.length,S=new Array(_),j=0;j<_;j++)S[j]=arguments[j];return c.default._validateParameters("curveVertex",S),this._renderer.isP3D?(d=this._renderer).curveVertex.apply(d,S):(l=!0,this.vertex(S[0],S[1])),this},c.default.prototype.endContour=function(){if(!this._renderer.isP3D){var d=s[0].slice();d.isVert=s[0].isVert,d.moveTo=!1,s.push(d),n&&(r.push(r[0]),n=!1);for(var _=0;_<s.length;_++)r.push(s[_])}return this},c.default.prototype.endShape=function(d){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(c.default._validateParameters("endShape",arguments),_<1&&(console.log(" p5.js says: You can not have less than one instance"),_=1),this._renderer.isP3D)this._renderer.endShape(d,l,i,u,o,y,_);else{if(_!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),r.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;_=d===h.CLOSE,_&&!o&&r.push(r[0]),this._renderer.endShape(d,r,l,i,u,o,y),n=!(o=u=i=l=!1),_&&r.pop()}return this},c.default.prototype.quadraticVertex=function(){for(var d,_=arguments.length,S=new Array(_),j=0;j<_;j++)S[j]=arguments[j];if(c.default._validateParameters("quadraticVertex",S),this._renderer.isP3D)(d=this._renderer).quadraticVertex.apply(d,S);else{if(this._contourInited)return(d={}).x=S[0],d.y=S[1],d.x3=S[2],d.y3=S[3],d.type=h.QUADRATIC,this._contourVertices.push(d),this;if(0<r.length){u=!0;for(var T=[],C=0;C<S.length;C++)T[C]=S[C];T.isVert=!1,(o?s:r).push(T)}else c.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},c.default.prototype.vertex=function(d,_,S,j,T){var C;return this._renderer.isP3D?(C=this._renderer).vertex.apply(C,arguments):((C=[]).isVert=!0,C[0]=d,C[1]=_,C[2]=0,C[3]=0,C[4]=0,C[5]=this._renderer._getFill(),C[6]=this._renderer._getStroke(),S&&(C.moveTo=S),(o?(s.length===0&&(C.moveTo=!0),s):r).push(C)),this},c.default.prototype.normal=function(d,_,S){var j;return this._assert3d("normal"),c.default._validateParameters("normal",arguments),(j=this._renderer).normal.apply(j,arguments),this},c.default);A.default=p},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,q,A){},{}],295:[function(t,q,A){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var m=this._styles.pop();m?(this._renderer.pop(m.renderer),Object.assign(this,m.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(m){if(!this._inUserDraw&&this._setupDone){var g=parseInt(m),c=((isNaN(g)||g<1)&&(g=1),this._isGlobal?window:this);if(typeof c.draw=="function"){c.setup===void 0&&c.scale(c._pixelDensity,c._pixelDensity);for(var h=0;h<g;h++){c.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),c._renderer.isP3D&&c._renderer._update(),c._setProperty("frameCount",c.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{c.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,A.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,q,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("./main"))&&t.__esModule?t:{default:t};function g(c){return(function(h){if(Array.isArray(h)){for(var b=0,y=new Array(h.length);b<h.length;b++)y[b]=h[b];return y}})(c)||(function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)})(c)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}m.default.prototype.applyMatrix=function(){var c=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||c?(c=this._renderer).applyMatrix.apply(c,g(arguments.length<=0?void 0:arguments[0])):(c=this._renderer).applyMatrix.apply(c,arguments),this},m.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},m.default.prototype.rotate=function(c,h){return m.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(c),h),this},m.default.prototype.rotateX=function(c){return this._assert3d("rotateX"),m.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(c)),this},m.default.prototype.rotateY=function(c){return this._assert3d("rotateY"),m.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(c)),this},m.default.prototype.rotateZ=function(c){return this._assert3d("rotateZ"),m.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(c)),this},m.default.prototype.scale=function(c,h,b){var y;return m.default._validateParameters("scale",arguments),c instanceof m.default.Vector?(c=(y=c).x,h=y.y,b=y.z):Array.isArray(c)&&(c=(y=c)[0],h=y[1],b=y[2]||1),isNaN(h)?h=b=c:isNaN(b)&&(b=1),this._renderer.scale(c,h,b),this},m.default.prototype.shearX=function(c){return m.default._validateParameters("shearX",arguments),c=this._toRadians(c),this._renderer.applyMatrix(1,0,Math.tan(c),1,0,0),this},m.default.prototype.shearY=function(c){return m.default._validateParameters("shearY",arguments),c=this._toRadians(c),this._renderer.applyMatrix(1,Math.tan(c),0,1,0,0),this},m.default.prototype.translate=function(c,h,b){return m.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(c,h,b):this._renderer.translate(c,h),this},t=m.default,A.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,q,A){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var g=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(b){return(function(y){if(Array.isArray(y)){for(var r=0,s=new Array(y.length);r<y.length;r++)s[r]=y[r];return s}})(b)||(function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)})(b)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function h(b){return(h=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(y){return m(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":m(y)})(b)}g.default.prototype.storeItem=function(b,y){typeof b!="string"&&console.log("The argument that you passed to storeItem() - ".concat(b," is not a string.")),b.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(b," must not end with 'p5TypeID'.")),y===void 0&&console.log("You cannot store undefined variables using storeItem().");var r=h(y);switch(r){case"number":case"boolean":y=y.toString();break;case"object":y instanceof g.default.Color?r="p5.Color":y instanceof g.default.Vector&&(r="p5.Vector",y=[y.x,y.y,y.z]),y=JSON.stringify(y)}localStorage.setItem(b,y),b="".concat(b,"p5TypeID"),localStorage.setItem(b,r)},g.default.prototype.getItem=function(b){var y=localStorage.getItem(b),r=localStorage.getItem("".concat(b,"p5TypeID"));if(r===void 0)console.log("Unable to determine type of item stored under ".concat(b,"in local storage. Did you save the item with something other than setItem()?"));else if(y!==null)switch(r){case"number":y=parseFloat(y);break;case"boolean":y=y==="true";break;case"object":y=JSON.parse(y);break;case"p5.Color":y=JSON.parse(y),y=this.color.apply(this,c(y.levels));break;case"p5.Vector":y=JSON.parse(y),y=this.createVector.apply(this,c(y))}return y},g.default.prototype.clearStorage=function(){var b=this;Object.keys(localStorage).forEach(function(y){y.endsWith("p5TypeID")&&b.removeItem(y.replace("p5TypeID",""))})},g.default.prototype.removeItem=function(b){typeof b!="string"&&console.log("The argument that you passed to removeItem() - ".concat(b," is not a string.")),localStorage.removeItem(b),localStorage.removeItem("".concat(b,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,q,A){function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(u)}function g(u){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(o){return m(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":m(o)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),o&&b(u,o)}function b(u,o){return(b=Object.setPrototypeOf||function(n,p){return n.__proto__=p,n})(u,o)}function y(u){return function(){var o,n=r(u),n=(o=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(o=r(this).constructor,Reflect.construct(n,arguments,o)):n.apply(this,arguments),this);if(!o||g(o)!=="object"&&typeof o!="function"){if(n!==void 0)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return o}}function r(u){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(u)}function s(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function i(u,o){for(var n=0;n<o.length;n++){var p=o[n];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}function l(u,o,n){o&&i(u.prototype,o)}c.default.prototype.createStringDict=function(u,o){return c.default._validateParameters("createStringDict",arguments),new c.default.StringDict(u,o)},c.default.prototype.createNumberDict=function(u,o){return c.default._validateParameters("createNumberDict",arguments),new c.default.NumberDict(u,o)},c.default.TypedDict=(function(){function u(o,n){return s(this,u),o instanceof Object?this.data=o:(this.data={},this.data[o]=n),this}return l(u,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(o){return this.data.hasOwnProperty(o)}},{key:"get",value:function(o){if(this.data.hasOwnProperty(o))return this.data[o];console.log("".concat(o," does not exist in this Dictionary"))}},{key:"set",value:function(o,n){this._validate(n)?this.data[o]=n:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(o){for(var n in o)this.set(n,o[n])}},{key:"create",value:function(o,n){o instanceof Object&&n===void 0?this._addObj(o):o!==void 0?this.set(o,n):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(o){if(!this.data.hasOwnProperty(o))throw new Error("".concat(o," does not exist in this Dictionary"));delete this.data[o]}},{key:"print",value:function(){for(var o in this.data)console.log("key:".concat(o," value:").concat(this.data[o]))}},{key:"saveTable",value:function(o){var n,p="";for(n in this.data)p+="".concat(n,",").concat(this.data[n],`
`);var d=new Blob([p],{type:"text/csv"});c.default.prototype.downloadFile(d,o||"mycsv","csv")}},{key:"saveJSON",value:function(o,n){c.default.prototype.saveJSON(this.data,o,n)}},{key:"_validate",value:function(o){return!0}}]),u})(),c.default.StringDict=(function(){h(o,c.default.TypedDict);var u=y(o);function o(){s(this,o);for(var n=arguments.length,p=new Array(n),d=0;d<n;d++)p[d]=arguments[d];return u.call.apply(u,[this].concat(p))}return l(o,[{key:"_validate",value:function(n){return typeof n=="string"}}]),o})(),c.default.NumberDict=(function(){h(o,c.default.TypedDict);var u=y(o);function o(){s(this,o);for(var n=arguments.length,p=new Array(n),d=0;d<n;d++)p[d]=arguments[d];return u.call.apply(u,[this].concat(p))}return l(o,[{key:"_validate",value:function(n){return typeof n=="number"}},{key:"add",value:function(n,p){this.data.hasOwnProperty(n)?this.data[n]+=p:console.log("The key - ".concat(n," does not exist in this dictionary."))}},{key:"sub",value:function(n,p){this.add(n,-p)}},{key:"mult",value:function(n,p){this.data.hasOwnProperty(n)?this.data[n]*=p:console.log("The key - ".concat(n," does not exist in this dictionary."))}},{key:"div",value:function(n,p){this.data.hasOwnProperty(n)?this.data[n]/=p:console.log("The key - ".concat(n," does not exist in this dictionary."))}},{key:"_valueTest",value:function(n){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var p,d=this.data[Object.keys(this.data)[0]];for(p in this.data)this.data[p]*n<d*n&&(d=this.data[p]);return d}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(n){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var p=Object.keys(this.data)[0],d=1;d<Object.keys(this.data).length;d++)Object.keys(this.data)[d]*n<p*n&&(p=Object.keys(this.data)[d]);return p}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),o})(),t=c.default.TypedDict,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,q,A){function m(d){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(d,_){for(var S=0;S<_.length;S++){var j=_[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(d,j.key,j)}}function h(d,_,S){_&&c(d.prototype,_),S&&c(d,S)}function b(d,_){return(b=Object.setPrototypeOf||function(S,j){return S.__proto__=j,S})(d,_)}function y(d){return function(){var _,S,j=s(d);return _=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(_=s(this).constructor,Reflect.construct(j,arguments,_)):j.apply(this,arguments),j=this,!(S=_)||l(S)!=="object"&&typeof S!="function"?r(j):S}}function r(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function s(d){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(d)}function i(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function l(d){return(l=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(_){return m(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":m(_)})(d)}function u(d,_,S){return(_._userNode||document.body).appendChild(d),S=new(S?g.default.MediaElement:g.default.Element)(d,_),_._elements.push(S),S}g.default.prototype.select=function(d,_){return g.default._validateParameters("select",arguments),_=this._getContainer(_).querySelector(d),_?this._wrapElement(_):null},g.default.prototype.selectAll=function(d,_){g.default._validateParameters("selectAll",arguments);var S=[],j=this._getContainer(_).querySelectorAll(d);if(j)for(var T=0;T<j.length;T++){var C=this._wrapElement(j[T]);S.push(C)}return S},g.default.prototype._getContainer=function(d){var _=document;return typeof d=="string"?_=document.querySelector(d)||document:d instanceof g.default.Element?_=d.elt:d instanceof HTMLElement&&(_=d),_},g.default.prototype._wrapElement=function(d){var _,S=Array.prototype.slice.call(d.children);return d.tagName==="INPUT"&&d.type==="checkbox"?((_=new g.default.Element(d,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},_):d.tagName==="VIDEO"||d.tagName==="AUDIO"?new g.default.MediaElement(d,this):d.tagName==="SELECT"?this.createSelect(new g.default.Element(d,this)):0<S.length&&S.every(function(j){return j.tagName==="INPUT"||j.tagName==="LABEL"})&&(d.tagName==="DIV"||d.tagName==="SPAN")?this.createRadio(new g.default.Element(d,this)):new g.default.Element(d,this)},g.default.prototype.removeElements=function(d){g.default._validateParameters("removeElements",arguments),this._elements.filter(function(_){return!(_.elt instanceof HTMLCanvasElement)}).map(function(_){return _.remove()})},g.default.Element.prototype.changed=function(d){return g.default.Element._adjustListener("change",d,this),this},g.default.Element.prototype.input=function(d){return g.default.Element._adjustListener("input",d,this),this},g.default.prototype.createDiv=function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("div");return _.innerHTML=d,u(_,this)},g.default.prototype.createP=function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("p");return _.innerHTML=d,u(_,this)},g.default.prototype.createSpan=function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("span");return _.innerHTML=d,u(_,this)},g.default.prototype.createImg=function(){g.default._validateParameters("createImg",arguments);var d,_=document.createElement("img"),S=arguments;return 1<S.length&&typeof S[1]=="string"&&(_.alt=S[1]),2<S.length&&typeof S[2]=="string"&&(_.crossOrigin=S[2]),_.src=S[0],d=u(_,this),_.addEventListener("load",function(){d.width=_.offsetWidth||_.width,d.height=_.offsetHeight||_.height;var j=S[S.length-1];typeof j=="function"&&j(d)}),d},g.default.prototype.createA=function(d,_,S){g.default._validateParameters("createA",arguments);var j=document.createElement("a");return j.href=d,j.innerHTML=_,S&&(j.target=S),u(j,this)},g.default.prototype.createSlider=function(d,_,S,j){g.default._validateParameters("createSlider",arguments);var T=document.createElement("input");return T.type="range",T.min=d,T.max=_,j===0?T.step=1e-18:j&&(T.step=j),typeof S=="number"&&(T.value=S),u(T,this)},g.default.prototype.createButton=function(d,_){g.default._validateParameters("createButton",arguments);var S=document.createElement("button");return S.innerHTML=d,_&&(S.value=_),u(S,this)},g.default.prototype.createCheckbox=function(){for(var d=arguments.length,_=new Array(d),S=0;S<d;S++)_[S]=arguments[S];g.default._validateParameters("createCheckbox",_);var j=document.createElement("div"),T=document.createElement("input"),C=(T.type="checkbox",document.createElement("label")),L=(C.appendChild(T),j.appendChild(C),u(j,this));return L.checked=function(){var E=L.elt.firstElementChild.getElementsByTagName("input")[0];if(E){if(arguments.length===0)return E.checked;E.checked=!(arguments.length<=0||!arguments[0])}return L},this.value=function(E){return L.value=E,this},_[0]&&(L.value(_[0]),(j=document.createElement("span")).innerHTML=_[0],C.appendChild(j)),_[1]&&(T.checked=!0),L},g.default.prototype.createSelect=function(){for(var d,_=arguments.length,S=new Array(_),j=0;j<_;j++)S[j]=arguments[j];g.default._validateParameters("createSelect",S);var T,C=S[0];return C instanceof g.default.Element&&C.elt instanceof HTMLSelectElement?this.elt=(d=C).elt:C instanceof HTMLSelectElement?(d=u(C,this),this.elt=C):(T=document.createElement("select"),C&&typeof C=="boolean"&&T.setAttribute("multiple","true"),d=u(T,this),this.elt=T),d.option=function(L,E){var I;if(L!==void 0){for(var O,U=0;U<this.elt.length;U+=1)if(this.elt[U].textContent===L){I=U;break}I!==void 0?E===!1?this.elt.remove(I):this.elt[I].value=E:((O=document.createElement("option")).textContent=L,O.value=E===void 0?L:E,this.elt.appendChild(O),this._pInst._elements.push(O))}},d.selected=function(L){if(L!==void 0){for(var E=0;E<this.elt.length;E+=1)this.elt[E].value.toString()===L.toString()&&(this.elt.selectedIndex=E);return this}if(this.elt.getAttribute("multiple")){var I=[],O=!0,U=!1,D=void 0;try{for(var B,X=this.elt.selectedOptions[Symbol.iterator]();!(O=(B=X.next()).done);O=!0){var H=B.value;I.push(H.value)}}catch(G){U=!0,D=G}finally{try{O||X.return==null||X.return()}finally{if(U)throw D}}return I}return this.elt.value},d.disable=function(L){if(typeof L=="string")for(var E=0;E<this.elt.length;E++)this.elt[E].value.toString()===L&&(this.elt[E].disabled=!0,this.elt[E].selected=!1);else this.elt.disabled=!0;return this},d.enable=function(L){if(typeof L=="string")for(var E=0;E<this.elt.length;E++)this.elt[E].value.toString()===L&&(this.elt[E].disabled=!1,this.elt[E].selected=!1);else{this.elt.disabled=!1;for(var I=0;I<this.elt.length;I++)this.elt[I].disabled=!1,this.elt[I].selected=!1}return this},d};var o=0;function n(d,L,S,j){var T=document.createElement(L),C=(typeof(S=S||"")=="string"&&(S=[S]),!0),L=!1,E=void 0;try{for(var I,O=S[Symbol.iterator]();!(C=(I=O.next()).done);C=!0){var U=I.value,D=document.createElement("source");D.setAttribute("src",U),T.appendChild(D)}}catch(X){L=!0,E=X}finally{try{C||O.return==null||O.return()}finally{if(L)throw E}}var B=u(T,d,!0);return B.loadedmetadata=!1,T.addEventListener("loadedmetadata",function(){B.width=T.videoWidth,B.height=T.videoHeight,B.elt.width===0&&(B.elt.width=T.videoWidth),B.elt.height===0&&(B.elt.height=T.videoHeight),B.presetPlaybackRate&&(B.elt.playbackRate=B.presetPlaybackRate,delete B.presetPlaybackRate),B.loadedmetadata=!0}),typeof j=="function"&&T.addEventListener("canplaythrough",function X(){j(B),T.removeEventListener("canplaythrough",X)}),B}g.default.prototype.createRadio=function(){function d(L){return L instanceof HTMLInputElement&&L.type==="radio"}function _(L){return L instanceof HTMLLabelElement}var S,j,T,C=arguments.length<=0?void 0:arguments[0];return C instanceof g.default.Element&&(C.elt instanceof HTMLDivElement||C.elt instanceof HTMLSpanElement)?(S=C,this.elt=C.elt):C instanceof HTMLDivElement||C instanceof HTMLSpanElement?(S=u(C,this),j=this.elt=C,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(T=arguments.length<=1?void 0:arguments[1])):(typeof C=="string"&&(T=C),j=document.createElement("div"),S=u(j,this),this.elt=j),S._name=T||"radioOption_".concat(o++),S._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(L){return d(L)||_(L)&&d(L.firstElementChild)}).map(function(L){return d(L)?L:L.firstElementChild})},S.option=function(L,E){var I,O,U,D=!0,B=!1,X=void 0;try{for(var H,G=S._getOptionsArray()[Symbol.iterator]();!(D=(H=G.next()).done);D=!0){var Z=H.value;if(Z.value===L){I=Z;break}}}catch(Q){B=!0,X=Q}finally{try{D||G.return==null||G.return()}finally{if(B)throw X}}return I===void 0&&((I=document.createElement("input")).setAttribute("type","radio"),I.setAttribute("value",L)),I.setAttribute("name",S._name),_(I.parentElement)?O=I.parentElement:(O=document.createElement("label")).insertAdjacentElement("afterbegin",I),O.lastElementChild instanceof HTMLSpanElement?U=O.lastElementChild:(U=document.createElement("span"),I.insertAdjacentElement("afterend",U)),U.innerHTML=E===void 0?L:E,this.elt.appendChild(O),I},S.remove=function(L){var E=!0,I=!1,O=void 0;try{for(var U,D=S._getOptionsArray()[Symbol.iterator]();!(E=(U=D.next()).done);E=!0){var B=U.value;if(B.value===L)return void(_(B.parentElement)?B.parentElement:B).remove()}}catch(X){I=!0,O=X}finally{try{E||D.return==null||D.return()}finally{if(I)throw O}}},S.value=function(){var L="",E=!0,I=!1,O=void 0;try{for(var U,D=S._getOptionsArray()[Symbol.iterator]();!(E=(U=D.next()).done);E=!0){var B=U.value;if(B.checked){L=B.value;break}}}catch(X){I=!0,O=X}finally{try{E||D.return==null||D.return()}finally{if(I)throw O}}return L},S.selected=function(L){var E=null;if(L===void 0){var I=!0,O=!1,U=void 0;try{for(var D,B=S._getOptionsArray()[Symbol.iterator]();!(I=(D=B.next()).done);I=!0){var X=D.value;if(X.checked){E=X;break}}}catch(le){O=!0,U=le}finally{try{I||B.return==null||B.return()}finally{if(O)throw U}}}else{S._getOptionsArray().forEach(function(R){R.checked=!1,R.removeAttribute("checked")});var H=!0,O=!1,U=void 0;try{for(var G,Z=S._getOptionsArray()[Symbol.iterator]();!(H=(G=Z.next()).done);H=!0){var Q=G.value;Q.value===L&&(Q.setAttribute("checked",!0),Q.checked=!0,E=Q)}}catch(R){O=!0,U=R}finally{try{H||Z.return==null||Z.return()}finally{if(O)throw U}}}return E},S.disable=function(){var L=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],E=!0,I=!1,O=void 0;try{for(var U,D=S._getOptionsArray()[Symbol.iterator]();!(E=(U=D.next()).done);E=!0)U.value.setAttribute("disabled",L)}catch(B){I=!0,O=B}finally{try{E||D.return==null||D.return()}finally{if(I)throw O}}},S},g.default.prototype.createColorPicker=function(d){g.default._validateParameters("createColorPicker",arguments);var _=document.createElement("input");return _.type="color",d?d instanceof g.default.Color?_.value=d.toString("#rrggbb"):(g.default.prototype._colorMode="rgb",g.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},_.value=g.default.prototype.color(d).toString("#rrggbb")):_.value="#000000",(_=u(_,this)).color=function(){return d&&(d.mode&&(g.default.prototype._colorMode=d.mode),d.maxes&&(g.default.prototype._colorMaxes=d.maxes)),g.default.prototype.color(this.elt.value)},_},g.default.prototype.createInput=function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",S=(g.default._validateParameters("createInput",arguments),document.createElement("input"));return S.setAttribute("value",d),S.setAttribute("type",_),u(S,this)},g.default.prototype.createFileInput=function(d){var _,S=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(g.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(_=document.createElement("input")).setAttribute("type","file"),S&&_.setAttribute("multiple",!0),_.addEventListener("change",function(j){var T=!0,C=!1,L=void 0;try{for(var E,I=j.target.files[Symbol.iterator]();!(T=(E=I.next()).done);T=!0){var O=E.value;g.default.File._load(O,d)}}catch(U){C=!0,L=U}finally{try{T||I.return==null||I.return()}finally{if(C)throw L}}},!1),u(_,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},g.default.prototype.createVideo=function(d,_){return g.default._validateParameters("createVideo",arguments),n(this,"video",d,_)},g.default.prototype.createAudio=function(d,_){return g.default._validateParameters("createAudio",arguments),n(this,"audio",d,_)},g.default.prototype.VIDEO="video",g.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(d){var _=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return _?new Promise(function(S,j){_.call(navigator,d,S,j)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),g.default.prototype.createCapture=function(){for(var d=arguments.length,_=new Array(d),S=0;S<d;S++)_[S]=arguments[S];if(g.default._validateParameters("createCapture",_),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var j,T=!0,C=!0,L=!1,E=0,I=_;E<I.length;E++){var O=I[E];O===g.default.prototype.VIDEO?C=!1:O===g.default.prototype.AUDIO?T=!1:l(O)==="object"?(O.flipped!==void 0&&(L=O.flipped,delete O.flipped),U=Object.assign({},U,O)):typeof O=="function"&&(j=O)}var U=Object.assign({},{video:T,audio:C},U),D=document.createElement("video"),B=(D.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(U).then(function(X){try{"srcObject"in D?D.srcObject=X:D.src=window.URL.createObjectURL(X)}catch{D.src=X}}).catch(function(X){X.name==="NotFoundError"&&g.default._friendlyError("No webcam found on this device","createCapture"),X.name==="NotAllowedError"&&g.default._friendlyError("Access to the camera was denied","createCapture"),console.error(X)}),u(D,this,!0));return B.loadedmetadata=!1,D.addEventListener("loadedmetadata",function(){D.play(),D.width?(B.width=D.width,B.height=D.height,L&&(B.elt.style.transform="scaleX(-1)")):(B.width=B.elt.width=D.videoWidth,B.height=B.elt.height=D.videoHeight),B.loadedmetadata=!0,j&&j(D.srcObject)}),B.flipped=L,B},g.default.prototype.createElement=function(d,_){return g.default._validateParameters("createElement",arguments),d=document.createElement(d),_!==void 0&&(d.innerHTML=_),u(d,this)},g.default.Element.prototype.addClass=function(d){return this.elt.className?this.hasClass(d)||(this.elt.className=this.elt.className+" "+d):this.elt.className=d,this},g.default.Element.prototype.removeClass=function(d){return this.elt.classList.remove(d),this},g.default.Element.prototype.hasClass=function(d){return this.elt.classList.contains(d)},g.default.Element.prototype.toggleClass=function(d){return this.elt.classList.contains(d)?this.elt.classList.remove(d):this.elt.classList.add(d),this},g.default.Element.prototype.child=function(d){return d===void 0?this.elt.childNodes:(typeof d=="string"?(d[0]==="#"&&(d=d.substring(1)),d=document.getElementById(d)):d instanceof g.default.Element&&(d=d.elt),d instanceof HTMLElement&&this.elt.appendChild(d),this)},g.default.Element.prototype.center=function(d){var _=this.elt.style.display,S=this.elt.style.display==="none",j=this.parent().style.display==="none",T={x:this.elt.offsetLeft,y:this.elt.offsetTop},C=(S&&this.show(),j&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),L=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return d==="both"||d===void 0?this.position(C/2+this.parent().offsetLeft,L/2+this.parent().offsetTop):d==="horizontal"?this.position(C/2+this.parent().offsetLeft,T.y):d==="vertical"&&this.position(T.x,L/2+this.parent().offsetTop),this.style("display",_),S&&this.hide(),j&&this.parent().hide(),this},g.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},g.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},g.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var d="";return this.elt.style.transform&&(d=(d=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=d,this},g.default.Element.prototype._rotate=function(){var d="";return this.elt.style.transform&&(d=(d=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=d,this},g.default.Element.prototype.style=function(d,_){if((_=_ instanceof g.default.Color?"rgba("+_.levels[0]+","+_.levels[1]+","+_.levels[2]+","+_.levels[3]/255+")":_)===void 0){if(d.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(d);for(var S=d.split(";"),j=0;j<S.length;j++){var T=S[j].split(":");T[0]&&T[1]&&(this.elt.style[T[0].trim()]=T[1].trim())}}else this.elt.style[d]=_,d!=="width"&&d!=="height"&&d!=="left"&&d!=="top"||(_=window.getComputedStyle(this.elt).getPropertyValue(d).replace(/[^\d.]/g,""),this[d]=Math.round(parseFloat(_,10)));return this},g.default.Element.prototype.attribute=function(d,_){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return _===void 0?this.elt.getAttribute(d):(this.elt.setAttribute(d,_),this);if(_===void 0)return this.elt.firstChild.getAttribute(d);for(var S=0;S<this.elt.childNodes.length;S++)this.elt.childNodes[S].setAttribute(d,_)},g.default.Element.prototype.removeAttribute=function(d){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var _=0;_<this.elt.childNodes.length;_++)this.elt.childNodes[_].removeAttribute(d);return this.elt.removeAttribute(d),this},g.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},g.default.Element.prototype.show=function(){return this.elt.style.display="block",this},g.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},g.default.Element.prototype.size=function(d,_){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var S=d,j=_,T=g.default.prototype.AUTO;if(S!==T||j!==T){if(S===T?S=_*this.width/this.height:j===T&&(j=d*this.height/this.width),this.elt instanceof HTMLCanvasElement){var C,L={},E=this.elt.getContext("2d");for(C in E)L[C]=E[C];for(C in this.elt.setAttribute("width",S*this._pInst._pixelDensity),this.elt.setAttribute("height",j*this._pInst._pixelDensity),this.elt.style.width=S+"px",this.elt.style.height=j+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),L)this.elt.getContext("2d")[C]=L[C]}else this.elt.style.width=S+"px",this.elt.style.height=j+"px",this.elt.width=S,this.elt.height=j;this.width=S,this.height=j,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",S),this._pInst._setProperty("height",j))}return this},g.default.Element.prototype.remove=function(){this instanceof g.default.MediaElement&&(this.stop(),(_=this.elt.srcObject)!==null&&_.getTracks().forEach(function(S){S.stop()}));var d,_=this._pInst._elements.indexOf(this);for(d in _!==-1&&this._pInst._elements.splice(_,1),this._events)this.elt.removeEventListener(d,this._events[d]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},g.default.Element.prototype.drop=function(d,_){var S;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",S=function(j){j.preventDefault()}),this.elt.addEventListener("dragleave",S)),g.default.Element._attachListener("drop",function(T){T.preventDefault(),typeof _=="function"&&_.call(this,T);var T=T.dataTransfer.files,C=!0,L=!1,E=void 0;try{for(var I,O=T[Symbol.iterator]();!(C=(I=O.next()).done);C=!0){var U=I.value;g.default.File._load(U,d)}}catch(D){L=!0,E=D}finally{try{C||O.return==null||O.return()}finally{if(L)throw E}}},this)):console.log("The File APIs are not fully supported in this browser."),this},g.default.Element.prototype.draggable=function(d){var _,S="ontouchstart"in window,j=0,T=0,C=0,L=0,E=S?"touchend":"mouseup",I=S?"touchmove":"mousemove";function O(D){var B;D=D||window.event,L=S?(B=D.changedTouches,j=C-parseInt(B[0].clientX),T=L-parseInt(B[0].clientY),C=parseInt(B[0].clientX),parseInt(B[0].clientY)):(j=C-parseInt(D.clientX),T=L-parseInt(D.clientY),C=parseInt(D.clientX),parseInt(D.clientY)),d.style.left=d.offsetLeft-j+"px",d.style.top=d.offsetTop-T+"px"}function U(){document.removeEventListener(E,U,!1),document.removeEventListener(I,O,!1)}return d===void 0?_=d=this.elt:d!==this.elt&&d.elt!==this.elt&&(d=d.elt,_=this.elt),_.addEventListener(S?"touchstart":"mousedown",function(D){{var B;D=D||window.event,L=S?(B=D.changedTouches,C=parseInt(B[0].clientX),parseInt(B[0].clientY)):(C=parseInt(D.clientX),parseInt(D.clientY))}return document.addEventListener(E,U,!1),document.addEventListener(I,O,!1),!1},!1),_.style.cursor="move",this};function p(d,_,S,j){i(this,p),this.callback=d,this.time=_,this.id=S,this.val=j}t=(function(d){var _=j;if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(d&&d.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),d&&b(_,d);var S=y(j);function j(T,C){i(this,j);var L=r(C=S.call(this,T,C));return C.elt.crossOrigin="anonymous",C._prevTime=0,C._cueIDCounter=0,C._cues=[],C.pixels=[],C._pixelsState=r(C),C._pixelDensity=1,C._modified=!1,C._frameOnCanvas=-1,Object.defineProperty(L,"src",{get:function(){var E=L.elt.children[0].src,I=L.elt.src===window.location.href?"":L.elt.src;return E===window.location.href?I:E},set:function(E){for(var I=0;I<L.elt.children.length;I++)L.elt.removeChild(L.elt.children[I]);var O=document.createElement("source");O.src=E,T.appendChild(O),L.elt.src=E,L.modified=!0}}),L._onended=function(){},L.elt.onended=function(){L._onended(L)},C}return h(j,[{key:"play",value:function(){var T;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(T=this.elt.play())&&T.catch&&T.catch(function(C){C.name==="NotAllowedError"?console.error(C):console.error("Media play method encountered an unexpected error",C)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var T=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(T)},{passive:!0,once:!0})}},{key:"autoplay",value:function(T){var C=this,L=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",T),T&&!L&&(T=function(){return C._setupAutoplayFailDetection()},this.elt.readyState===4?T():this.elt.addEventListener("canplay",T,{passive:!0,once:!0})),this}},{key:"volume",value:function(T){if(T===void 0)return this.elt.volume;this.elt.volume=T}},{key:"speed",value:function(T){if(T===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=T:this.presetPlaybackRate=T}},{key:"time",value:function(T){return T===void 0?this.elt.currentTime:(this.elt.currentTime=T,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var T=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&T&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];return g.default.Renderer2D.prototype.loadPixels.apply(this,C)}},{key:"updatePixels",value:function(T,C,L,E){return this.loadedmetadata&&(this._ensureCanvas(),g.default.Renderer2D.prototype.updatePixels.call(this,T,C,L,E)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];return g.default.Renderer2D.prototype.get.apply(this,C)}},{key:"_getPixel",value:function(){this.loadPixels();for(var T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];return g.default.Renderer2D.prototype._getPixel.apply(this,C)}},{key:"set",value:function(T,C,L){this.loadedmetadata&&(this._ensureCanvas(),g.default.Renderer2D.prototype.set.call(this,T,C,L),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];g.default.prototype.copy.apply(this,C)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];g.default.Image.prototype.mask.apply(this,C)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(T){this._modified=T}},{key:"onended",value:function(T){return this._onended=T,this}},{key:"connect",value:function(T){var C,L;if(typeof g.default.prototype.getAudioContext=="function")C=g.default.prototype.getAudioContext(),L=g.default.soundOut.input;else try{L=(C=T.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=C.createMediaElementSource(this.elt),this.audioSourceNode.connect(L)),T?T.input?this.audioSourceNode.connect(T.input):this.audioSourceNode.connect(T):this.audioSourceNode.connect(L)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(T,I,L){var E=this._cueIDCounter++,I=new p(I,T,E,L);return this._cues.push(I),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),E}},{key:"removeCue",value:function(T){for(var C=0;C<this._cues.length;C++)this._cues[C].id===T&&(console.log(T),this._cues.splice(C,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var T=this.time(),C=0;C<this._cues.length;C++){var L=this._cues[C].time,E=this._cues[C].val;this._prevTime<L&&L<=T&&this._cues[C].callback(E)}this._prevTime=T}}]),j})(g.default.Element),g.default.MediaElement=t,t=(function(){function d(_,S){i(this,d),this.file=_,this._pInst=S,S=_.type.split("/"),this.type=S[0],this.subtype=S[1],this.name=_.name,this.size=_.size,this.data=void 0}return h(d,null,[{key:"_createLoader",value:function(_,S){var j=new FileReader;return j.onload=function(T){var C,L=new g.default.File(_);L.file.type==="application/json"?L.data=JSON.parse(T.target.result):L.file.type==="text/xml"?(C=new DOMParser().parseFromString(T.target.result,"text/xml"),L.data=new g.default.XML(C.documentElement)):L.data=T.target.result,S(L)},j}},{key:"_load",value:function(_,S){var j;/^text\//.test(_.type)||_.type==="application/json"?g.default.File._createLoader(_,S).readAsText(_):/^(video|audio)\//.test(_.type)?((j=new g.default.File(_)).data=URL.createObjectURL(_),S(j)):g.default.File._createLoader(_,S).readAsDataURL(_)}}]),d})(),g.default.File=t,t=g.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(l,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(l=l("../core/main"))&&l.__esModule?l:{default:l};m.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",m.default.prototype.accelerationX=0,m.default.prototype.accelerationY=0,m.default.prototype.accelerationZ=0,m.default.prototype.pAccelerationX=0,m.default.prototype.pAccelerationY=0,m.default.prototype.pAccelerationZ=0,m.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},m.default.prototype.rotationX=0,m.default.prototype.rotationY=0,m.default.prototype.rotationZ=0,m.default.prototype.pRotationX=0,m.default.prototype.pRotationY=0;var g=m.default.prototype.pRotationZ=0,c=0,h=0,b="clockwise",y="clockwise",r="clockwise",s=(m.default.prototype.pRotateDirectionX=void 0,m.default.prototype.pRotateDirectionY=void 0,m.default.prototype.pRotateDirectionZ=void 0,m.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},m.default.prototype.turnAxis=void 0,.5),i=30,l=(m.default.prototype.setMoveThreshold=function(u){m.default._validateParameters("setMoveThreshold",arguments),s=u},m.default.prototype.setShakeThreshold=function(u){m.default._validateParameters("setShakeThreshold",arguments),i=u},m.default.prototype._ondeviceorientation=function(u){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(u.beta)),this._setProperty("rotationY",this._fromDegrees(u.gamma)),this._setProperty("rotationZ",this._fromDegrees(u.alpha)),this._handleMotion()},m.default.prototype._ondevicemotion=function(u){this._updatePAccelerations(),this._setProperty("accelerationX",2*u.acceleration.x),this._setProperty("accelerationY",2*u.acceleration.y),this._setProperty("accelerationZ",2*u.acceleration.z),this._handleMotion()},m.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var u,o,n,p,d,_=this._isGlobal?window:this;typeof _.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>s||Math.abs(this.accelerationY-this.pAccelerationY)>s||Math.abs(this.accelerationZ-this.pAccelerationZ)>s)&&_.deviceMoved(),typeof _.deviceTurned=="function"&&(o=this._toDegrees(this.rotationX)+180,n=this._toDegrees(this.pRotationX)+180,u=g+180,0<o-n&&o-n<270||o-n<-270?b="clockwise":(o-n<0||270<o-n)&&(b="counter-clockwise"),b!==this.pRotateDirectionX&&(u=o),90<Math.abs(o-u)&&Math.abs(o-u)<270&&(u=o,this._setProperty("turnAxis","X"),_.deviceTurned()),this.pRotateDirectionX=b,g=u-180,n=this._toDegrees(this.rotationY)+180,o=this._toDegrees(this.pRotationY)+180,u=c+180,0<n-o&&n-o<270||n-o<-270?y="clockwise":(n-o<0||270<n-this.pRotationY)&&(y="counter-clockwise"),y!==this.pRotateDirectionY&&(u=n),90<Math.abs(n-u)&&Math.abs(n-u)<270&&(u=n,this._setProperty("turnAxis","Y"),_.deviceTurned()),this.pRotateDirectionY=y,c=u-180,0<(o=this._toDegrees(this.rotationZ))-(n=this._toDegrees(this.pRotationZ))&&o-n<270||o-n<-270?r="clockwise":(o-n<0||270<o-n)&&(r="counter-clockwise"),r!==this.pRotateDirectionZ&&(h=o),90<Math.abs(o-h)&&Math.abs(o-h)<270&&(h=o,this._setProperty("turnAxis","Z"),_.deviceTurned()),this.pRotateDirectionZ=r,this._setProperty("turnAxis",void 0)),typeof _.deviceShaken=="function"&&(this.pAccelerationX!==null&&(p=Math.abs(this.accelerationX-this.pAccelerationX),d=Math.abs(this.accelerationY-this.pAccelerationY)),i<p+d&&_.deviceShaken())},m.default);A.default=l},{"../core/main":283}],301:[function(t,q,A){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype.isKeyPressed=!1,m.default.prototype.keyIsPressed=!1,m.default.prototype.key="",m.default.prototype.keyCode=0,m.default.prototype._onkeydown=function(g){var c;g.repeat?this._setProperty("isKeyRepeated",!0):(this._setProperty("isKeyRepeated",!1),this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",g.which),this._downKeys[g.which]=!0,this._setProperty("key",g.key||String.fromCharCode(g.which)||g.which),g.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(g.which)),typeof(c=this._isGlobal?window:this).keyPressed!="function"||g.charCode||c.keyPressed(g)===!1&&g.preventDefault())},m.default.prototype._onkeyup=function(g){var c=this,h=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[g.which]=!1,g.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(b){c._downKeys[b]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof h.keyReleased=="function"&&h.keyReleased(g)===!1&&g.preventDefault()},m.default.prototype._onkeypress=function(g){var c;g.which===this._lastKeyCodeTyped&&this.isKeyRepeated||(this._setProperty("_lastKeyCodeTyped",g.which),this._setProperty("key",g.key||String.fromCharCode(g.which)||g.which),typeof(c=this._isGlobal?window:this).keyTyped=="function"&&c.keyTyped(g)===!1&&g.preventDefault())},m.default.prototype._onblur=function(g){this._downKeys={}},m.default.prototype.keyIsDown=function(g){return m.default._validateParameters("keyIsDown",arguments),this._downKeys[g]||!1},m.default.prototype._areDownKeys=function(){for(var g in this._downKeys)if(this._downKeys.hasOwnProperty(g)&&this._downKeys[g]===!0)return!0;return!1},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,q,A){function m(y){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(y)}function g(y){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(r){return m(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":m(r)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(c=t("../core/main"))&&c.__esModule?c:{default:c},h=(function(y){if(y&&y.__esModule)return y;if(y===null||g(y)!=="object"&&typeof y!="function")return{default:y};var r=b();if(r&&r.has(y))return r.get(y);var s,i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in y){var u;Object.prototype.hasOwnProperty.call(y,s)&&((u=l?Object.getOwnPropertyDescriptor(y,s):null)&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=y[s])}return i.default=y,r&&r.set(y,i),i})(t("../core/constants"));function b(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,b=function(){return y},y)}c.default.prototype.movedX=0,c.default.prototype.movedY=0,c.default.prototype._hasMouseInteracted=!1,c.default.prototype.mouseX=0,c.default.prototype.mouseY=0,c.default.prototype.pmouseX=0,c.default.prototype.pmouseY=0,c.default.prototype.winMouseX=0,c.default.prototype.winMouseY=0,c.default.prototype.pwinMouseX=0,c.default.prototype.pwinMouseY=0,c.default.prototype.mouseButton=0,c.default.prototype.mouseIsPressed=!1,c.default.prototype._updateNextMouseCoords=function(y){var r,s,i,l,u;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(r=this._curElement.elt,s=this.width,i=this.height,(l=y)&&!l.clientX&&(l.touches?l=l.touches[0]:l.changedTouches&&(l=l.changedTouches[0])),u=r.getBoundingClientRect(),s=r.scrollWidth/s||1,r=r.scrollHeight/i||1,i={x:(l.clientX-u.left)/s,y:(l.clientY-u.top)/r,winX:l.clientX,winY:l.clientY,id:l.identifier},this._setProperty("mouseX",i.x),this._setProperty("mouseY",i.y),this._setProperty("winMouseX",i.winX),this._setProperty("winMouseY",i.winY),document.pointerLockElement===null?(s=this.mouseX-this.pmouseX,u=this.mouseY-this.pmouseY,this._setProperty("movedX",s),this._setProperty("movedY",u)):(this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY))),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},c.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},c.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",h.CENTER):y.button===2?this._setProperty("mouseButton",h.RIGHT):this._setProperty("mouseButton",h.LEFT)},c.default.prototype._onmousemove=function(y){var r=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof r.mouseDragged=="function"?r.mouseDragged(y)===!1&&y.preventDefault():typeof r.touchMoved=="function"&&r.touchMoved(y)===!1&&y.preventDefault():typeof r.mouseMoved=="function"&&r.mouseMoved(y)===!1&&y.preventDefault()},c.default.prototype._onmousedown=function(y){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),this.touchstart||(typeof r.mousePressed=="function"?r.mousePressed(y)===!1&&y.preventDefault():typeof r.touchStarted=="function"&&r.touchStarted(y)===!1&&y.preventDefault(),this.touchstart=!1)},c.default.prototype._onmouseup=function(y){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof r.mouseReleased=="function"?r.mouseReleased(y)===!1&&y.preventDefault():typeof r.touchEnded=="function"&&r.touchEnded(y)===!1&&y.preventDefault(),this.touchend=!1)},c.default.prototype._ondragend=c.default.prototype._onmouseup,c.default.prototype._ondragover=c.default.prototype._onmousemove,c.default.prototype._onclick=function(y){var r=this._isGlobal?window:this;typeof r.mouseClicked=="function"&&r.mouseClicked(y)===!1&&y.preventDefault()},c.default.prototype._ondblclick=function(y){var r=this._isGlobal?window:this;typeof r.doubleClicked=="function"&&r.doubleClicked(y)===!1&&y.preventDefault()},c.default.prototype._mouseWheelDeltaY=0,c.default.prototype._pmouseWheelDeltaY=0,c.default.prototype._onwheel=function(y){var r=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof r.mouseWheel=="function"&&(y.delta=y.deltaY,r.mouseWheel(y)===!1&&y.preventDefault())},c.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},c.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=c.default,A.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(m){if(this._curElement!==null){for(var g=[],c=0;c<m.touches.length;c++)g[c]=(function(u,l,o,r){var s=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,i=u.getBoundingClientRect(),l=u.scrollWidth/l||1,u=u.scrollHeight/o||1,o=r.touches[s]||r.changedTouches[s];return{x:(o.clientX-i.left)/l,y:(o.clientY-i.top)/u,winX:o.clientX,winY:o.clientY,id:o.identifier}})(this._curElement.elt,this.width,this.height,m,c);this._setProperty("touches",g)}},t.default.prototype._ontouchstart=function(m){var g=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(m),this._updateNextMouseCoords(m),this._updateMouseCoords(),typeof g.touchStarted=="function"&&(g.touchStarted(m)===!1&&m.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(m){var g=this._isGlobal?window:this;this._updateTouchCoords(m),this._updateNextMouseCoords(m),typeof g.touchMoved=="function"?g.touchMoved(m)===!1&&m.preventDefault():typeof g.mouseDragged=="function"&&g.mouseDragged(m)===!1&&m.preventDefault()},t.default.prototype._ontouchend=function(m){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(m),this._updateNextMouseCoords(m);var g=this._isGlobal?window:this;typeof g.touchEnded=="function"&&(g.touchEnded(m)===!1&&m.preventDefault(),this.touchend=!0)},t=t.default,A.default=t},{"../core/main":283}],304:[function(t,q,A){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m,g,c,h,b={_toPixels:function(y){var r,s;return y instanceof ImageData?y.data:y.getContext("2d")?y.getContext("2d").getImageData(0,0,y.width,y.height).data:y.getContext("webgl")?(s=(r=y.getContext("webgl")).drawingBufferWidth*r.drawingBufferHeight*4,s=new Uint8Array(s),r.readPixels(0,0,y.width,y.height,r.RGBA,r.UNSIGNED_BYTE,s),s):void 0},_getARGB:function(y,r){return r*=4,y[3+r]<<24&4278190080|y[r]<<16&16711680|y[1+r]<<8&65280|255&y[2+r]},_setPixels:function(y,r){for(var s,i=0,l=y.length;i<l;i++)y[0+(s=4*i)]=(16711680&r[i])>>>16,y[1+s]=(65280&r[i])>>>8,y[2+s]=255&r[i],y[3+s]=(4278190080&r[i])>>>24},_toImageData:function(y){return y instanceof ImageData?y:y.getContext("2d").getImageData(0,0,y.width,y.height)},_createImageData:function(y,r){return b._tmpCanvas=document.createElement("canvas"),b._tmpCtx=b._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(y,r)},apply:function(y,u,s){var i=y.getContext("2d"),l=i.getImageData(0,0,y.width,y.height),u=u(l,s);u instanceof ImageData?i.putImageData(u,0,0,0,0,y.width,y.height):i.putImageData(l,0,0,0,0,y.width,y.height)},threshold:function(y){for(var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,s=b._toPixels(y),i=Math.floor(255*r),l=0;l<s.length;l+=4){var u=void 0,u=i<=.2126*s[l]+.7152*s[l+1]+.0722*s[l+2]?255:0;s[l]=s[l+1]=s[l+2]=u}},gray:function(y){for(var r=b._toPixels(y),s=0;s<r.length;s+=4){var i=r[s],l=r[s+1],u=r[s+2];r[s]=r[s+1]=r[s+2]=.2126*i+.7152*l+.0722*u}},opaque:function(y){for(var r=b._toPixels(y),s=0;s<r.length;s+=4)r[s+3]=255;return r},invert:function(y){for(var r=b._toPixels(y),s=0;s<r.length;s+=4)r[s]=255-r[s],r[s+1]=255-r[s+1],r[s+2]=255-r[s+2]},posterize:function(y){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,s=b._toPixels(y);if(r<2||255<r)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var i=r-1,l=0;l<s.length;l+=4){var u=s[l],o=s[l+1],n=s[l+2];s[l]=255*(u*r>>8)/i,s[l+1]=255*(o*r>>8)/i,s[l+2]=255*(n*r>>8)/i}},dilate:function(y){for(var r,s,i,l,u,o,n,p,d,_=b._toPixels(y),S=0,j=_.length?_.length/4:0,T=new Int32Array(j);S<j;)for(s=(r=S)+y.width;S<s;)l=i=b._getARGB(_,S),(d=S-1)<r&&(d=S),s<=(p=S+1)&&(p=S),(u=S-y.width)<0&&(u=0),j<=(o=S+y.width)&&(o=S),u=b._getARGB(_,u),d=b._getARGB(_,d),o=b._getARGB(_,o),(l=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<(n=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(i=d,l=n),l<(n=77*((d=b._getARGB(_,p))>>16&255)+151*(d>>8&255)+28*(255&d))&&(i=d,l=n),l<(p=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(i=u,l=p),l<(d=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))&&(i=o,l=d),T[S++]=i;b._setPixels(_,T)},erode:function(y){for(var r,s,i,l,u,o,n,p,d,_=b._toPixels(y),S=0,j=_.length?_.length/4:0,T=new Int32Array(j);S<j;)for(s=(r=S)+y.width;S<s;)l=i=b._getARGB(_,S),(d=S-1)<r&&(d=S),s<=(p=S+1)&&(p=S),(u=S-y.width)<0&&(u=0),j<=(o=S+y.width)&&(o=S),u=b._getARGB(_,u),d=b._getARGB(_,d),o=b._getARGB(_,o),(n=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(l=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(i=d,l=n),(n=77*((d=b._getARGB(_,p))>>16&255)+151*(d>>8&255)+28*(255&d))<l&&(i=d,l=n),(p=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<l&&(i=u,l=p),(d=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))<l&&(i=o,l=d),T[S++]=i;b._setPixels(_,T)},blur:function(y,r){for(var s,i,l,u,o,n,p,d,_,S,j=b._toPixels(y),T=y.width,C=y.height,L=T*C,E=new Int32Array(L),I=0;I<L;I++)E[I]=b._getARGB(j,I);var O,U,D,B,X,H,G,Z,Q=new Int32Array(L),le=new Int32Array(L),w=new Int32Array(L),R=new Int32Array(L),N=0,W=3.5*r|0;if(m!==(W=W<1?1:W<248?W:248)){g=1+(m=W)<<1,c=new Int32Array(g),h=new Array(g);for(var J=0;J<g;J++)h[J]=new Int32Array(256);for(var re=1,ue=W-1;re<W;re++){c[W+re]=c[ue]=H=ue*ue,G=h[W+re],Z=h[ue--];for(var ge=0;ge<256;ge++)G[ge]=Z[ge]=H*ge}X=c[W]=W*W,G=h[W];for(var se=0;se<256;se++)G[se]=X*se}for(U=0;U<C;U++){for(O=0;O<T;O++){if(u=l=i=o=s=0,(n=O-m)<0)S=-n,n=0;else{if(T<=n)break;S=0}for(D=S;D<g&&!(T<=n);D++){var pe=E[n+N];B=h[D],o+=B[(-16777216&pe)>>>24],i+=B[(16711680&pe)>>16],l+=B[(65280&pe)>>8],u+=B[255&pe],s+=c[D],n++}Q[p=N+O]=o/s,le[p]=i/s,w[p]=l/s,R[p]=u/s}N+=T}for(_=(d=-m)*T,U=N=0;U<C;U++){for(O=0;O<T;O++){if(u=l=i=o=s=0,d<0)S=p=-d,n=O;else{if(C<=d)break;S=0,p=d,n=O+_}for(D=S;D<g&&!(C<=p);D++)B=h[D],o+=B[Q[n]],i+=B[le[n]],l+=B[w[n]],u+=B[R[n]],s+=c[D],p++,n+=T;E[O+N]=o/s<<24|i/s<<16|l/s<<8|u/s}N+=T,_+=T,d++}b._setPixels(j,E)}};A.default=b},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,q,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=c(t("../core/main")),g=c(t("omggif"));function c(b){return b&&b.__esModule?b:{default:b}}function h(b){return(function(y){if(Array.isArray(y)){for(var r=0,s=new Array(y.length);r<y.length;r++)s[r]=y[r];return s}})(b)||(function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)})(b)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}m.default.prototype.createImage=function(b,y){return m.default._validateParameters("createImage",arguments),new m.default.Image(b,y)},m.default.prototype.saveCanvas=function(){for(var b,y,r,s,i,l,u=arguments.length,o=new Array(u),n=0;n<u;n++)o[n]=arguments[n];switch(m.default._validateParameters("saveCanvas",o),o[0]instanceof HTMLCanvasElement?(b=o[0],o.shift()):o[0]instanceof m.default.Element?(b=o[0].elt,o.shift()):o[0]instanceof m.default.Framebuffer?(s=o[0],(i=this.createGraphics(s.width,s.height)).pixelDensity(pixelDensity()),s.loadPixels(),i.loadPixels(),i.pixels.set(s.pixels),i.updatePixels(),b=i.elt,o.shift()):b=this._curElement&&this._curElement.elt,1<=o.length&&(y=o[0]),r=(r=2<=o.length?o[1]:r)||m.default.prototype._checkFileExtension(y,r)[1]||"png"){default:l="image/png";break;case"webp":l="image/webp";break;case"jpeg":case"jpg":l="image/jpeg"}b.toBlob(function(p){m.default.prototype.downloadFile(p,y,r),i&&i.remove()},l)},m.default.prototype.encodeAndDownloadGif=function(b,y){for(var r=b.gifProperties,s=r.loopLimit,i=(s===1?s=null:s===null&&(s=0),new Uint8Array(b.width*b.height*r.numFrames)),l=[],u={},o=0;o<r.numFrames;o++){for(var n=new Set,p=r.frames[o].image.data,d=p.length,_=new Uint32Array(b.width*b.height),S=0,j=0;S<d;S+=4,j++){var T=p[S+0]<<16|p[S+1]<<8|p[S+2]<<0;n.add(T),_[j]=T}var C=h(n).sort().toString();u[C]===void 0?u[C]={freq:1,frames:[o]}:(u[C].freq+=1,u[C].frames.push(o)),l.push(_)}for(var I=[],L=Object.keys(u).sort(function(w,R){return u[R].freq-u[w].freq}),E=L[0].split(",").map(function(w){return parseInt(w)}),I=I.concat(u[E].frames),O=new Set(E),U=1;U<L.length;U++){var D=L[U].split(",").map(function(w){return parseInt(w)}).filter(function(w){return!O.has(w)});if(E.length+D.length<=256){for(var B=0;B<D.length;B++)E.push(D[B]),O.add(D[B]);I=I.concat(u[L[U]].frames)}}I=new Set(I);for(var X={},H=0;H<E.length;H++)X[E[H]]||(X[E[H]]=H);for(var G=1;G<E.length;)G<<=1;E.length=G;for(var s={loop:s,palette:new Uint32Array(E)},Z=new g.default.GifWriter(i,b.width,b.height,s),Q={},le=0;le<r.numFrames;le++)(function(R){var N=!I.has(R),W=N?[]:E,J=new Uint8Array(b.width*b.height),re={},ue=new Set,ge=(l[R].forEach(function(me,we){N?(re[me]===void 0&&(re[me]=W.length,W.push(me)),J[we]=re[me]):J[we]=X[me],0<R&&l[R-1][we]!==me&&ue.add(me)}),{}),se=W.filter(function(me){return!ue.has(me)});if(0<se.length){var se=se[0],pe=(N?re:X)[se];if(0<R){for(var ye=0;ye<l[R].length;ye++)l[R-1][ye]===l[R][ye]&&(J[ye]=pe);ge.transparent=pe,Q.frameOpts.disposal=1}}if(ge.delay=r.frames[R].delay/10,N){for(var te=1;te<W.length;)te<<=1;W.length=te,ge.palette=new Uint32Array(W)}0<R&&Z.addFrame(0,0,b.width,b.height,Q.pixelPaletteIndex,Q.frameOpts),Q={pixelPaletteIndex:J,frameOpts:ge}})(le);Q.frameOpts.disposal=1,Z.addFrame(0,0,b.width,b.height,Q.pixelPaletteIndex,Q.frameOpts),s=new Blob([i.slice(0,Z.end())],{type:"image/gif"}),m.default.prototype.downloadFile(s,y,"gif")},m.default.prototype.saveFrames=function(b,y,r,l,i){m.default._validateParameters("saveFrames",arguments),r=m.default.prototype.constrain(r=r||3,0,15),r*=1e3;var l=m.default.prototype.constrain(l||15,0,22),u=0,o=m.default.prototype._makeFrame,n=this._curElement.elt,p=[],d=setInterval(function(){p.push(o(b+u,y,n)),u++},1e3/l);setTimeout(function(){if(clearInterval(d),i)i(p);else for(var _=0,S=p;_<S.length;_++){var j=S[_];m.default.prototype.downloadFile(j.imageData,j.filename,j.ext)}p=[]},.01+r)},m.default.prototype._makeFrame=function(b,y,i){var s,i=this?this._curElement.elt:i;if(y)switch(y.toLowerCase()){case"png":s="image/png";break;case"jpeg":case"jpg":s="image/jpeg";break;default:s="image/png"}else y="png",s="image/png";var i=(i=i.toDataURL(s)).replace(s,"image/octet-stream"),l={};return l.imageData=i,l.filename=b,l.ext=y,l},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,q,A){function m(n){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(n)}function g(n){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t("regenerator-runtime/runtime");var c=i(t("../core/main")),h=i(t("../core/helpers")),b=(function(n){if(n&&n.__esModule)return n;if(n===null||g(n)!=="object"&&typeof n!="function")return{default:n};var p=s();if(p&&p.has(n))return p.get(n);var d,_={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in n){var j;Object.prototype.hasOwnProperty.call(n,d)&&((j=S?Object.getOwnPropertyDescriptor(n,d):null)&&(j.get||j.set)?Object.defineProperty(_,d,j):_[d]=n[d])}return _.default=n,p&&p.set(n,_),_})(t("../core/constants")),y=i(t("omggif")),r=t("gifenc");function s(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,s=function(){return n},n)}function i(n){return n&&n.__esModule?n:{default:n}}function l(n,p,d,_,S,j,T){try{var C=n[j](T),L=C.value}catch(E){return void d(E)}C.done?p(L):Promise.resolve(L).then(_,S)}function u(n,p,d,_,S,j,T,C,L,E,I){var O,U,D,B,X,H,G,Z,Q;return n===b.COVER&&(O=p,D=d,G=j,Z=T,H=C,Q=L,U=E,B=I,X=Math.max(G/U,Z/B),G/=X,Z/=X,X=H,H=Q,O===b.CENTER?X+=(U-G)/2:O===b.RIGHT&&(X+=U-G),D===b.CENTER?H+=(B-Z)/2:D===b.BOTTOM&&(H+=B-Z),C=(Q={x:X,y:H,w:G,h:Z}).x,L=Q.y,E=Q.w,I=Q.h),n===b.CONTAIN&&(O=p,U=d,D=_,B=S,X=j,H=T,G=E,Z=I,Q=Math.max(G/X,Z/H),G/=Q,Z/=Q,Q=D,D=B,O===b.CENTER?Q+=(X-G)/2:O===b.RIGHT&&(Q+=X-G),U===b.CENTER?D+=(H-Z)/2:U===b.BOTTOM&&(D+=H-Z),_=(n={x:Q,y:D,w:G,h:Z}).x,S=n.y,j=n.w,T=n.h),{sx:C,sy:L,sw:E,sh:I,dx:_,dy:S,dw:j,dh:T}}function o(n,p){return 0<n&&n<p?n:p}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.loadImage=function(n,p,d){c.default._validateParameters("loadImage",arguments);var _=new c.default.Image(1,1,this),S=this,j=new Request(n,{method:"GET",mode:"cors"});return fetch(n,j).then(function(T){var C,L=T.headers.get("content-type");L===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),L&&L.includes("image/gif")?T.arrayBuffer().then(function(E){if(E){for(var E=new Uint8Array(E),I=_,O=p,U=d,D=(function(N){S._decrementPreload()}).bind(S),B=new y.default.GifReader(E),X=(I.width=I.canvas.width=B.width,I.height=I.canvas.height=B.height,[]),H=B.numFrames(),G=new Uint8ClampedArray(I.width*I.height*4),Z=0;Z<H;Z++){var Q=B.frameInfo(Z),le=I.drawingContext.getImageData(0,0,I.width,I.height),w=(G=le.data.slice(),(function(N,W){try{W.decodeAndBlitFrameRGBA(N,G)}catch(J){c.default._friendlyFileLoadError(8,I.src),typeof U=="function"?U(J):console.error(J)}})(Z,B),new ImageData(G,I.width,I.height)),w=(I.drawingContext.putImageData(w,0,0),Q.delay);w===0&&(w=10),X.push({image:I.drawingContext.getImageData(0,0,I.width,I.height),delay:10*w}),Q.disposal===2?I.drawingContext.clearRect(Q.x,Q.y,Q.width,Q.height):Q.disposal===3&&I.drawingContext.putImageData(le,0,0,Q.x,Q.y,Q.width,Q.height)}(E=B.loopCount())===null?E=1:E===0&&(E=null),I.drawingContext.putImageData(X[0].image,0,0),1<X.length&&(I.gifProperties={displayIndex:0,loopLimit:E,loopCount:0,frames:X,numFrames:H,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof O=="function"&&O(I),D()}},function(E){typeof d=="function"?(d(E),S._decrementPreload()):console.error(E)}):((C=new Image).onload=function(){_.width=_.canvas.width=C.width,_.height=_.canvas.height=C.height,_.drawingContext.drawImage(C,0,0),_.modified=!0,typeof p=="function"&&p(_),S._decrementPreload()},C.onerror=function(E){c.default._friendlyFileLoadError(0,C.src),typeof d=="function"?(d(E),S._decrementPreload()):console.error(E)},n.indexOf("data:image/")!==0&&(C.crossOrigin="Anonymous"),C.src=n),_.modified=!0}).catch(function(T){c.default._friendlyFileLoadError(0,n),typeof d=="function"?(d(T),S._decrementPreload()):console.error(T)}),_},c.default.prototype.saveGif=(function(){n=regeneratorRuntime.mark(function d(_,S){var j,T,C,L,E,I,O,U,D,B,X,H,G,Z,Q,le,w,R,N,W,J,re,ue,ge,se,pe,ye=arguments;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(j=2<ye.length&&ye[2]!==void 0?ye[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof _!="string")throw TypeError("fileName parameter must be a string");te.next=3;break;case 3:if(typeof S!="number")throw TypeError("Duration parameter must be a number");te.next=5;break;case 5:if(T=j&&j.delay||0,C=j&&j.units||"seconds",L=j&&j.silent||!1,E=j&&j.notificationDuration||0,I=j&&j.notificationID||"progressBar",typeof T!="number")throw TypeError("Delay parameter must be a number");te.next=12;break;case 12:if(C!=="seconds"&&C!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');te.next=14;break;case 14:if(typeof L!="boolean")throw TypeError("Silent parameter must be a boolean");te.next=16;break;case 16:if(typeof E!="number")throw TypeError("Notification duration parameter must be a number");te.next=18;break;case 18:if(typeof I!="string")throw TypeError("Notification ID parameter must be a string");te.next=20;break;case 20:return this._recording=!0,B=this._targetFrameRate,O=(O=1/(B=B!==1/0&&B!==void 0&&B!==0?B:60)*1e3)<20?20:O,D=(U=C==="seconds"?S*B:S)+(B=C==="seconds"?T*B:T),B=B,this.frameCount=B,X=this._pixelDensity,this.pixelDensity(1),H=[],document.getElementById(I)!==null&&document.getElementById(I).remove(),L||((G=this.createP("")).id(I),G.style("font-size","16px"),G.style("font-family","Montserrat"),G.style("background-color","#ffffffa0"),G.style("padding","8px"),G.style("border-radius","10px"),G.position(0,0)),this._renderer instanceof c.default.RendererGL&&(Q=this.drawingContext,Z=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4)),this.noLoop(),te.next=39,Promise.resolve();case 39:if(B<D)return this.redraw(),ge=void 0,ge=this._renderer instanceof c.default.RendererGL?(Z=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4),Q.readPixels(0,0,Q.drawingBufferWidth,Q.drawingBufferHeight,Q.RGBA,Q.UNSIGNED_BYTE,Z),(function(me,we,Ee){for(var xe=parseInt(Ee/2),Te=4*we,Pe=new Uint8Array(4*we),We=0;We<xe;++We){var Re=We*Te,ft=(Ee-We-1)*Te;Pe.set(me.subarray(Re,Re+Te)),me.copyWithin(Re,ft,ft+Te),me.set(Pe,ft)}return me})(Z,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,H.push(ge),B++,L||G.html("Saved frame <b>"+H.length.toString()+"</b> out of "+U.toString()),te.next=48,new Promise(function(me){return setTimeout(me,0)});te.next=50;break;case 48:te.next=39;break;case 50:L||G.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(X),le=(0,r.GIFEncoder)(),w=(function(me){for(var we=new Uint8Array(me.length*me[0].length),Ee=0;Ee<me.length;Ee++)we.set(me[Ee],Ee*me[0].length);var xe=(0,r.quantize)(we,256,{format:"rgba4444",oneBitAlpha:!0});return xe.length===256?xe[xe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:xe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),xe})(H),R={},N=function(me){for(var we=me.length/4,Ee=new Uint8Array(we),xe=0;xe<we;xe++){var Te=me[4*xe]<<24|me[4*xe+1]<<16|me[4*xe+2]<<8|me[4*xe+3];R[Te]===void 0&&(R[Te]=(0,r.nearestColorIndex)(w,me.slice(4*xe,4*(xe+1)))),Ee[xe]=R[Te]}return Ee},W=w.length-1,J=[],re=0;case 60:if(!(re<H.length)){te.next=71;break}if(ue=N(H[re]),ge=ue.slice(),re===0)le.writeFrame(ue,this.width,this.height,{palette:w,delay:O,dispose:1});else{for(se=0;se<ue.length;se++)ue[se]===J[se]&&(ue[se]=W);le.writeFrame(ue,this.width,this.height,{delay:O,transparent:!0,transparentIndex:W,dispose:1})}return J=ge,L||G.html("Rendered frame <b>"+re.toString()+"</b> out of "+U.toString()),te.next=68,new Promise(function(me){return setTimeout(me,0)});case 68:re++,te.next=60;break;case 71:le.finish(),pe=le.bytesView(),pe=new Blob([pe],{type:"image/gif"}),H=[],this._recording=!1,this.loop(),L||(G.html("Done. Downloading your gif!"),0<E&&setTimeout(function(){return G.remove()},1e3*E)),c.default.prototype.downloadFile(pe,_,"gif");case 80:case"end":return te.stop()}},d,this)});var n,p=function(){var d=this,_=arguments;return new Promise(function(S,j){var T=n.apply(d,_);function C(E){l(T,S,j,C,L,"next",E)}function L(E){l(T,S,j,C,L,"throw",E)}C(void 0)})};return function(d,_){return p.apply(this,arguments)}})(),c.default.prototype.image=function(n,p,d,_,B,X,H,G,Q,E,I,O){c.default._validateParameters("image",arguments);var Z=n.width,U=n.height,D=(O=O||b.CENTER,I=I||b.CENTER,n.elt&&(Z=Z!==void 0?Z:n.elt.width,U=U!==void 0?U:n.elt.height),n.elt&&n.elt.videoWidth&&!n.canvas&&(Z=Z!==void 0?Z:n.elt.videoWidth,U=U!==void 0?U:n.elt.videoHeight),_||Z),B=B||U,X=X||0,H=H||0,G=o(G!==void 0?G:Z,Z),Z=o(Q!==void 0?Q:U,U),Q=1;n.elt&&!n.canvas&&n.elt.style.width&&(Q=n.elt.videoWidth&&!_?n.elt.videoWidth:n.elt.width,Q/=parseInt(n.elt.style.width,10)),X*=Q,H*=Q,Z*=Q,G*=Q,U=u(E,I,O,(U=h.default.modeAdjust(p,d,D,B,this._renderer._imageMode)).x,U.y,U.w,U.h,X,H,G,Z),this._renderer.image(n,U.sx,U.sy,U.sw,U.sh,U.dx,U.dy,U.dw,U.dh)},c.default.prototype.tint=function(){for(var n=arguments.length,p=new Array(n),d=0;d<n;d++)p[d]=arguments[d];c.default._validateParameters("tint",p);var _=this.color.apply(this,p);this._renderer._tint=_.levels},c.default.prototype.noTint=function(){this._renderer._tint=null},c.default.prototype._getTintedImageCanvas=c.default.Renderer2D.prototype._getTintedImageCanvas,c.default.prototype.imageMode=function(n){c.default._validateParameters("imageMode",arguments),n!==b.CORNER&&n!==b.CORNERS&&n!==b.CENTER||(this._renderer._imageMode=n)},t=c.default,A.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,q,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=c(t("../core/main")),g=c(t("./filters"));function c(b){return b&&b.__esModule?b:{default:b}}function h(b,y){for(var r=0;r<y.length;r++){var s=y[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(b,s.key,s)}}m.default.Image=(function(){function b(s,i){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.width=s,this.height=i,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var y,r;return y=b,(r=[{key:"pixelDensity",value:function(s){return s!==void 0?(s<=0&&(m.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),s=1),this._pixelDensity=s,this.width/=s,this.height/=s,this):this._pixelDensity}},{key:"_animateGif",value:function(u){var i,l=this.gifProperties,u=u._lastRealFrameTime||window.performance.now();l.lastChangeTime===0&&(l.lastChangeTime=u),l.playing&&(l.timeDisplayed=u-l.lastChangeTime,i=l.frames[l.displayIndex].delay,l.timeDisplayed>=i&&(i=Math.floor(l.timeDisplayed/i),l.timeDisplayed=0,l.lastChangeTime=u,l.displayIndex+=i,l.loopCount=Math.floor(l.displayIndex/l.numFrames),l.loopLimit!==null&&l.loopCount>=l.loopLimit?l.playing=!1:(u=l.displayIndex%l.numFrames,this.drawingContext.putImageData(l.frames[u].image,0,0),l.displayIndex=u,this.setModified(!0))))}},{key:"_setProperty",value:function(s,i){this[s]=i,this.setModified(!0)}},{key:"loadPixels",value:function(){m.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(s,i,l,u){m.default.Renderer2D.prototype.updatePixels.call(this,s,i,l,u),this.setModified(!0)}},{key:"get",value:function(s,i,l,u){return m.default._validateParameters("p5.Image.get",arguments),m.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return m.default.Renderer2D.prototype._getPixel.apply(this,i)}},{key:"set",value:function(s,i,l){m.default.Renderer2D.prototype.set.call(this,s,i,l),this.setModified(!0)}},{key:"resize",value:function(s,i){s===0&&i===0?(s=this.canvas.width,i=this.canvas.height):s===0?s=this.canvas.width*i/this.canvas.height:i===0&&(i=this.canvas.height*s/this.canvas.width),s=Math.floor(s),i=Math.floor(i);var l=document.createElement("canvas");if(l.width=s,l.height=i,this.gifProperties)for(var u=this.gifProperties,o=0;o<u.numFrames;o++){for(var n=this.drawingContext.createImageData(s,i),p=(T=T=j=S=_=void 0,u.frames[o].image),d=n,_=0,S=0;S<d.height;S++)for(var j=0;j<d.width;j++){var T=Math.floor(j*p.width/d.width),T=4*(Math.floor(S*p.height/d.height)*p.width+T);d.data[_++]=p.data[T++],d.data[_++]=p.data[T++],d.data[_++]=p.data[T++],d.data[_++]=p.data[+T]}u.frames[o].image=n}l.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,l.width,l.height),this.canvas.width=this.width=s,this.canvas.height=this.height=i,this.drawingContext.drawImage(l,0,0,s,i,0,0,s,i),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];m.default.prototype.copy.apply(this,i)}},{key:"mask",value:function(s){var i=this.drawingContext.globalCompositeOperation,l=this._pixelDensity,u=1,o=[s=s===void 0?this:s,0,0,(u=s instanceof m.default.Renderer?s._pInst._pixelDensity:u)*s.width,u*s.height,0,0,l*this.width,l*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var n=0;n<this.gifProperties.frames.length;n++)this.drawingContext.putImageData(this.gifProperties.frames[n].image,0,0),this.copy.apply(this,o),this.gifProperties.frames[n].image=this.drawingContext.getImageData(0,0,l*this.width,l*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,o);this.drawingContext.globalCompositeOperation=i,this.setModified(!0)}},{key:"filter",value:function(s,i){g.default.apply(this.canvas,g.default[s],i),this.setModified(!0)}},{key:"blend",value:function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];m.default._validateParameters("p5.Image.blend",arguments),m.default.prototype.blend.apply(this,i),this.setModified(!0)}},{key:"setModified",value:function(s){this._modified=s}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(s,i){this.gifProperties?m.default.prototype.encodeAndDownloadGif(this,s):m.default.prototype.saveCanvas(this.canvas,s,i)}},{key:"reset",value:function(){var s;this.gifProperties&&((s=this.gifProperties).playing=!0,s.timeSinceStart=0,s.timeDisplayed=0,s.lastChangeTime=0,s.loopCount=0,s.displayIndex=0,this.drawingContext.putImageData(s.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var s;if(this.gifProperties)return(s=this.gifProperties).displayIndex%s.numFrames}},{key:"setFrame",value:function(s){var i;this.gifProperties&&(s<(i=this.gifProperties).numFrames&&0<=s?(i.timeDisplayed=0,i.lastChangeTime=0,i.displayIndex=s,this.drawingContext.putImageData(i.frames[s].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(s,i){if(this.gifProperties){var l=this.gifProperties;if(i<l.numFrames&&0<=i)l.frames[i].delay=s;else{var u=!0,i=!1,o=void 0;try{for(var n,p=l.frames[Symbol.iterator]();!(u=(n=p.next()).done);u=!0)n.value.delay=s}catch(_){i=!0,o=_}finally{try{u||p.return==null||p.return()}finally{if(i)throw o}}}}}}])&&h(y.prototype,r),b})(),t=m.default.Image,A.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,q,A){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=c(t("../core/main")),g=c(t("./filters"));function c(h){return h&&h.__esModule?h:{default:h}}t("../color/p5.Color"),m.default.prototype.pixels=[],m.default.prototype.blend=function(){for(var h,b=arguments.length,y=new Array(b),r=0;r<b;r++)y[r]=arguments[r];m.default._validateParameters("blend",y),this._renderer?(h=this._renderer).blend.apply(h,y):m.default.Renderer2D.prototype.blend.apply(this,y)},m.default.prototype.copy=function(){for(var h,b,y,r,s,i,l,u,o,n=arguments.length,p=new Array(n),d=0;d<n;d++)p[d]=arguments[d];if(m.default._validateParameters("copy",p),p.length===9)h=p[0],b=p[1],y=p[2],r=p[3],s=p[4],i=p[5],l=p[6],u=p[7],o=p[8];else{if(p.length!==8)throw new Error("Signature not supported");h=this,b=p[0],y=p[1],r=p[2],s=p[3],i=p[4],l=p[5],u=p[6],o=p[7]}m.default.prototype._copyHelper(this,h,b,y,r,s,i,l,u,o)},m.default.prototype._copyHelper=function(h,b,y,r,s,i,l,u,o,n){var p=b.canvas.width/b.width,d=0,_=0;b._renderer&&b._renderer.isP3D&&(d=b.width/2,_=b.height/2),h._renderer&&h._renderer.isP3D?(h.push(),h.resetMatrix(),h.noLights(),h.blendMode(h.BLEND),h.imageMode(h.CORNER),m.default.RendererGL.prototype.image.call(h._renderer,b,y+d,r+_,s,i,l,u,o,n),h.pop()):h.drawingContext.drawImage(b.canvas,p*(y+d),p*(r+_),p*s,p*i,l,u,o,n)},m.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},m.default.prototype.filter=function(){for(var h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];m.default._validateParameters("filter",b);var l=(function(){var u,o={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof m.default.Shader?o.shader=arguments.length<=0?void 0:arguments[0]:(o.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(o.value=arguments.length<=1?void 0:arguments[1]),((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])===!1&&(o.useWebGL=!1)),o}).apply(void 0,b),r=l.shader,s=l.operation,i=l.value,l=l.useWebGL;this._renderer.isP3D&&r?m.default.RendererGL.prototype.filter.call(this._renderer,r):l||this._renderer.isP3D?(!l&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?m.default.RendererGL.prototype.filter.call(this._renderer,s,i):((r=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),r.filter.apply(r,b),this.copy(r._renderer,0,0,this.width,this.height,0,0,this.width,this.height),r.clear())):this.canvas!==void 0?g.default.apply(this.canvas,g.default[s],i):g.default.apply(this.elt,g.default[s],i)},m.default.prototype.get=function(h,b,y,r){var s;return m.default._validateParameters("get",arguments),(s=this._renderer).get.apply(s,arguments)},m.default.prototype.loadPixels=function(){for(var h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];m.default._validateParameters("loadPixels",b),this._renderer.loadPixels()},m.default.prototype.set=function(h,b,y){this._renderer.set(h,b,y)},m.default.prototype.updatePixels=function(h,b,y,r){m.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(h,b,y,r)},t=m.default,A.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,q,A){function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=b(t("../core/main")),c=(t("whatwg-fetch"),t("es6-promise/auto"),b(t("fetch-jsonp"))),h=b(t("file-saver"));function b(i){return i&&i.__esModule?i:{default:i}}function y(i){return(y=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(l){return m(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":m(l)})(i)}function r(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function s(i,l){l&&l!==!0&&l!=="true"||(l="");var u="";return(i=i||"untitled")&&i.includes(".")&&(u=i.split(".").pop()),l&&u!==l&&(u=l,i="".concat(i,".").concat(u)),[i,u]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),g.default.prototype.loadJSON=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];g.default._validateParameters("loadJSON",l);for(var o,n,p,d=l[0],_={},S="json",j=1;j<l.length;j++){var T=l[j];typeof T=="string"?T!=="jsonp"&&T!=="json"||(S=T):typeof T=="function"?o?n=T:o=T:y(T)==="object"&&(T.hasOwnProperty("jsonpCallback")||T.hasOwnProperty("jsonpCallbackFunction"))&&(S="jsonp",p=T)}var C=this;return this.httpDo(d,"GET",p,S,function(L){for(var E in L)_[E]=L[E];o!==void 0&&o(L),C._decrementPreload()},function(L){if(g.default._friendlyFileLoadError(5,d),!n)throw L;n(L)}),_},g.default.prototype.loadStrings=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];g.default._validateParameters("loadStrings",l);for(var o,n,p=[],d=1;d<l.length;d++){var _=l[d];typeof _=="function"&&(o===void 0?o=_:n===void 0&&(n=_))}var S=this;return g.default.prototype.httpDo.call(this,l[0],"GET","text",function(j){for(var T=j.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),C=0,L=T.length;C<L;C+=32768)Array.prototype.push.apply(p,T.slice(C,Math.min(C+32768,L)));o!==void 0&&o(p),S._decrementPreload()},function(j){if(g.default._friendlyFileLoadError(3,j),!n)throw j;n(j)}),p},g.default.prototype.loadTable=function(i){var l,u,o,n=!1,p=i.substring(i.lastIndexOf(".")+1,i.length);p==="csv"?o=",":p==="ssv"?o=";":p==="tsv"&&(o="	");for(var d=1;d<arguments.length;d++)typeof arguments[d]=="function"?l===void 0?l=arguments[d]:u===void 0&&(u=arguments[d]):typeof arguments[d]=="string"&&(arguments[d]==="header"&&(n=!0),arguments[d]==="csv"?o=",":arguments[d]==="ssv"?o=";":arguments[d]==="tsv"&&(o="	"));var _=new g.default.Table,S=this;return this.httpDo(i,"GET","table",function(j){for(var T,C,L={},E=0,I=[],O=0,U=null,D=function(){L.currentState=E,L.token=""},B=function(){U.push(L.token),D()},X=function(){L.currentState=4,I.push(U),U=null};;){if((T=j[O++])==null){if(L.escaped)throw new Error("Unclosed quote in file.");if(U){B(),X();break}}if(U===null&&(L.escaped=!1,U=[],D()),L.currentState===E){if(T==='"'){L.escaped=!0,L.currentState=1;continue}L.currentState=1}if(L.currentState===1&&L.escaped)if(T==='"')j[O]==='"'?(L.token+='"',O++):(L.escaped=!1,L.currentState=2);else{if(T==="\r")continue;L.token+=T}else T==="\r"?(j[O]===`
`&&O++,B(),X()):T===`
`?(B(),X()):T===o?B():L.currentState===1&&(L.token+=T)}if(n)_.columns=I.shift();else for(var H=0;H<I[0].length;H++)_.columns[H]="null";for(var G=0;G<I.length;G++)(I[G].length!==1||I[G][0]!=="undefined"&&I[G][0]!=="")&&((C=new g.default.TableRow).arr=I[G],C.obj=(function(Z,Q){if((Q=Q||[])===void 0)for(var le=0;le<Z.length;le++)Q[le.toString()]=le;return Object.fromEntries(Q.map(function(w,R){return[w,Z[R]]}))})(I[G],_.columns),_.addRow(C));typeof l=="function"&&l(_),S._decrementPreload()},function(j){g.default._friendlyFileLoadError(2,i),u?u(j):console.error(j)}),_},g.default.prototype.loadXML=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];for(var o,n,p=new g.default.XML,d=1;d<l.length;d++){var _=l[d];typeof _=="function"&&(o===void 0?o=_:n===void 0&&(n=_))}var S=this;return this.httpDo(l[0],"GET","xml",function(j){for(var T in j)p[T]=j[T];o!==void 0&&o(p),S._decrementPreload()},function(j){if(g.default._friendlyFileLoadError(1,j),!n)throw j;n(j)}),p},g.default.prototype.loadBytes=function(i,l,u){var o={},n=this;return this.httpDo(i,"GET","arrayBuffer",function(p){o.bytes=new Uint8Array(p),typeof l=="function"&&l(o),n._decrementPreload()},function(p){if(g.default._friendlyFileLoadError(6,i),!u)throw p;u(p)}),o},g.default.prototype.httpGet=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return g.default._validateParameters("httpGet",l),l.splice(1,0,"GET"),g.default.prototype.httpDo.apply(this,l)},g.default.prototype.httpPost=function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return g.default._validateParameters("httpPost",l),l.splice(1,0,"POST"),g.default.prototype.httpDo.apply(this,l)},g.default.prototype.httpDo=function(){for(var i,l,u,o={},n=0,p="text/plain",d=arguments.length-1;0<d&&typeof(d<0||arguments.length<=d?void 0:arguments[d])=="function";d--)n++;var _=arguments.length-n,S=arguments.length<=0?void 0:arguments[0];if(_==2&&typeof S=="string"&&y(arguments.length<=1?void 0:arguments[1])==="object")I=new Request(S,arguments.length<=1?void 0:arguments[1]),l=arguments.length<=2?void 0:arguments[2],u=arguments.length<=3?void 0:arguments[3];else{for(var j,T="GET",C=1;C<arguments.length;C++){var L=C<0||arguments.length<=C?void 0:arguments[C];if(typeof L=="string")L==="GET"||L==="POST"||L==="PUT"||L==="DELETE"?T=L:L==="json"||L==="jsonp"||L==="binary"||L==="arrayBuffer"||L==="xml"||L==="text"||L==="table"?i=L:j=L;else if(typeof L=="number")j=L.toString();else if(y(L)==="object")if(L.hasOwnProperty("jsonpCallback")||L.hasOwnProperty("jsonpCallbackFunction"))for(var E in L)o[E]=L[E];else p=L instanceof g.default.XML?(j=L.serialize(),"application/xml"):(j=JSON.stringify(L),"application/json");else typeof L=="function"&&(l?u=L:l=L)}var _=T==="GET"?new Headers:new Headers({"Content-Type":p}),I=new Request(S,{method:T,mode:"cors",body:j,headers:_})}return(_=(_=(i=i||(S.includes("json")?"json":S.includes("xml")?"xml":"text"))==="jsonp"?(0,c.default)(S,o):fetch(I)).then(function(O){if(!O.ok)throw(U=new Error(O.body)).status=O.status,U.ok=!1,U;var U=0;switch((U=i!=="jsonp"?O.headers.get("content-length"):U)&&64e6<U&&g.default._friendlyFileLoadError(7,S),i){case"json":case"jsonp":return O.json();case"binary":return O.blob();case"arrayBuffer":return O.arrayBuffer();case"xml":return O.text().then(function(D){return D=new DOMParser().parseFromString(D,"text/xml"),new g.default.XML(D.documentElement)});default:return O.text()}})).then(l||function(){}),_.catch(u||console.error),_},window.URL=window.URL||window.webkitURL,g.default.prototype._pWriters=[],g.default.prototype.createWriter=function(i,l){var u,o;for(o in g.default.prototype._pWriters)if(g.default.prototype._pWriters[o].name===i)return u=new g.default.PrintWriter(i+this.millis(),l),g.default.prototype._pWriters.push(u),u;return u=new g.default.PrintWriter(i,l),g.default.prototype._pWriters.push(u),u},g.default.PrintWriter=function(i,l){var u=this;this.name=i,this.content="",this.write=function(o){this.content+=o},this.print=function(o){this.content+="".concat(o,`
`)},this.clear=function(){this.content=""},this.close=function(){var o,n=[];for(o in n.push(this.content),g.default.prototype.writeFile(n,i,l),g.default.prototype._pWriters)g.default.prototype._pWriters[o].name===this.name&&g.default.prototype._pWriters.splice(o,1);u.clear(),u={}}},g.default.prototype.save=function(i,l,u){var o=arguments,n=(this._curElement||this).elt;if(o.length===0)g.default.prototype.saveCanvas(n);else if(o[0]instanceof g.default.Renderer||o[0]instanceof g.default.Graphics)g.default.prototype.saveCanvas(o[0].elt,o[1],o[2]);else if(o.length===1&&typeof o[0]=="string")g.default.prototype.saveCanvas(n,o[0]);else switch(s(o[1],o[2])[1]){case"json":return void g.default.prototype.saveJSON(o[0],o[1],o[2]);case"txt":return void g.default.prototype.saveStrings(o[0],o[1],o[2]);default:o[0]instanceof Array?g.default.prototype.saveStrings(o[0],o[1],o[2]):o[0]instanceof g.default.Table?g.default.prototype.saveTable(o[0],o[1],o[2]):o[0]instanceof g.default.Image?g.default.prototype.saveCanvas(o[0].canvas,o[1]):o[0]instanceof g.default.SoundFile&&g.default.prototype.saveSound(o[0],o[1],o[2],o[3])}},g.default.prototype.saveJSON=function(i,l,u){g.default._validateParameters("saveJSON",arguments),u=u?JSON.stringify(i):JSON.stringify(i,void 0,2),this.saveStrings(u.split(`
`),l,"json")},g.default.prototype.saveJSONObject=g.default.prototype.saveJSON,g.default.prototype.saveJSONArray=g.default.prototype.saveJSON,g.default.prototype.saveStrings=function(i,l,u,o){g.default._validateParameters("saveStrings",arguments);for(var n=this.createWriter(l,u||"txt"),p=0;p<i.length;p++)o?n.write(i[p]+`\r
`):n.write(i[p]+`
`);n.close(),n.clear()},g.default.prototype.saveTable=function(i,l,u){g.default._validateParameters("saveTable",arguments),o=u===void 0?l.substring(l.lastIndexOf(".")+1,l.length):u;var o,n=this.createWriter(l,o),p=i.columns,d=o==="tsv"?"	":",";if(o!=="html"){if(p[0]!=="0"){for(var _=0;_<p.length;_++)_<p.length-1?n.write(p[_]+d):n.write(p[_]);n.write(`
`)}for(var S=0;S<i.rows.length;S++){for(var j=void 0,j=0;j<i.rows[S].arr.length;j++)j<i.rows[S].arr.length-1?o==="csv"&&String(i.rows[S].arr[j]).includes(",")?n.write('"'+i.rows[S].arr[j]+'"'+d):n.write(i.rows[S].arr[j]+d):o==="csv"&&String(i.rows[S].arr[j]).includes(",")?n.write('"'+i.rows[S].arr[j]+'"'):n.write(i.rows[S].arr[j]);n.write(`
`)}}else{if(n.print("<html>"),n.print("<head>"),n.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),n.print("</head>"),n.print("<body>"),n.print("  <table>"),p[0]!=="0"){n.print("    <tr>");for(var T=0;T<p.length;T++){var C=r(p[T]);n.print("      <td>".concat(C)),n.print("      </td>")}n.print("    </tr>")}for(var L=0;L<i.rows.length;L++){n.print("    <tr>");for(var E=0;E<i.columns.length;E++){var I=r(i.rows[L].getString(E));n.print("      <td>".concat(I)),n.print("      </td>")}n.print("    </tr>")}n.print("  </table>"),n.print("</body>"),n.print("</html>")}n.close(),n.clear()},g.default.prototype.writeFile=function(n,l,u){var o="application/octet-stream",n=(g.default.prototype._isSafari()&&(o="text/plain"),new Blob(n,{type:o}));g.default.prototype.downloadFile(n,l,u)},g.default.prototype.downloadFile=function(i,n,p){var o,n=s(n,p),p=n[0];i instanceof Blob?h.default.saveAs(i,p):((o=document.createElement("a")).href=i,o.download=p,o.onclick=function(d){document.body.removeChild(d.target),d.stopPropagation()},o.style.display="none",document.body.appendChild(o),g.default.prototype._isSafari()&&(i=(i=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(n[1],'"'),alert(i)),o.click())},g.default.prototype._checkFileExtension=s,g.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=g.default,A.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,q,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(c,h){for(var b=0;b<h.length;b++){var y=h[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}m.default.Table=(function(){function c(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],r=this,s=c;if(!(r instanceof s))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=y}var h,b;return h=c,(b=[{key:"addRow",value:function(y){if(y=y||new m.default.TableRow,y.arr===void 0||y.obj===void 0)throw new Error("invalid TableRow: ".concat(y));return(y.table=this).rows.push(y),y}},{key:"removeRow",value:function(y){this.rows[y].table=null,y=this.rows.splice(y+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(y)}},{key:"getRow",value:function(y){return this.rows[y]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(y,r){if(typeof r=="string"){for(var s=0;s<this.rows.length;s++)if(this.rows[s].obj[r]===y)return this.rows[s]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[r]===y)return this.rows[i];return null}},{key:"findRows",value:function(y,r){var s=[];if(typeof r=="string")for(var i=0;i<this.rows.length;i++)this.rows[i].obj[r]===y&&s.push(this.rows[i]);else for(var l=0;l<this.rows.length;l++)this.rows[l].arr[r]===y&&s.push(this.rows[l]);return s}},{key:"matchRow",value:function(y,r){if(typeof r=="number"){for(var s=0;s<this.rows.length;s++)if(this.rows[s].arr[r].match(y))return this.rows[s]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[r].match(y))return this.rows[i];return null}},{key:"matchRows",value:function(y,r){var s=[];if(typeof r=="number")for(var i=0;i<this.rows.length;i++)this.rows[i].arr[r].match(y)&&s.push(this.rows[i]);else for(var l=0;l<this.rows.length;l++)this.rows[l].obj[r].match(y)&&s.push(this.rows[l]);return s}},{key:"getColumn",value:function(y){var r=[];if(typeof y=="string")for(var s=0;s<this.rows.length;s++)r.push(this.rows[s].obj[y]);else for(var i=0;i<this.rows.length;i++)r.push(this.rows[i].arr[y]);return r}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(y){this.columns.push(y||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(y,r){for(var s=[],i=0;i<y.length;i++)s.push(y.charAt(i).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var l=new RegExp(s.join("|"),"g");if(r===void 0)for(var u=0;u<this.columns.length;u++)for(var o=0;o<this.rows.length;o++){var n=(n=this.rows[o].arr[u]).replace(l,"");this.rows[o].arr[u]=n,this.rows[o].obj[this.columns[u]]=n}else if(typeof r=="string")for(var p=0;p<this.rows.length;p++){var d=(d=this.rows[p].obj[r]).replace(l,""),_=(this.rows[p].obj[r]=d,this.columns.indexOf(r));this.rows[p].arr[_]=d}else for(var S=0;S<this.rows.length;S++){var j=(j=this.rows[S].arr[r]).replace(l,"");this.rows[S].arr[r]=j,this.rows[S].obj[this.columns[r]]=j}}},{key:"trim",value:function(y){var r=new RegExp(" ","g");if(y===void 0)for(var s=0;s<this.columns.length;s++)for(var i=0;i<this.rows.length;i++){var l=(l=this.rows[i].arr[s]).replace(r,"");this.rows[i].arr[s]=l,this.rows[i].obj[this.columns[s]]=l}else if(typeof y=="string")for(var u=0;u<this.rows.length;u++){var o=(o=this.rows[u].obj[y]).replace(r,""),n=(this.rows[u].obj[y]=o,this.columns.indexOf(y));this.rows[u].arr[n]=o}else for(var p=0;p<this.rows.length;p++){var d=(d=this.rows[p].arr[y]).replace(r,"");this.rows[p].arr[y]=d,this.rows[p].obj[this.columns[y]]=d}}},{key:"removeColumn",value:function(i){typeof i=="string"?s=this.columns.indexOf(r=i):r=this.columns[s=i];var r,s,i=this.columns.splice(s+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(i);for(var l=0;l<this.rows.length;l++){var u=this.rows[l].arr,o=u.splice(s+1,u.length);u.pop(),this.rows[l].arr=u.concat(o),delete this.rows[l].obj[r]}}},{key:"set",value:function(y,r,s){this.rows[y].set(r,s)}},{key:"setNum",value:function(y,r,s){this.rows[y].setNum(r,s)}},{key:"setString",value:function(y,r,s){this.rows[y].setString(r,s)}},{key:"get",value:function(y,r){return this.rows[y].get(r)}},{key:"getNum",value:function(y,r){return this.rows[y].getNum(r)}},{key:"getString",value:function(y,r){return this.rows[y].getString(r)}},{key:"getObject",value:function(y){for(var r,s={},i=0;i<this.rows.length;i++)if(r=this.rows[i].obj,typeof y=="string"){if(!(0<=this.columns.indexOf(y)))throw new Error('This table has no column named "'.concat(y,'"'));s[r[y]]=r}else s[i]=this.rows[i].obj;return s}},{key:"getArray",value:function(){for(var y=[],r=0;r<this.rows.length;r++)y.push(this.rows[r].arr);return y}}])&&g(h.prototype,b),c})(),t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,q,A){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function m(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}t.default.TableRow=(function(){function g(b,y){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var r=[];b&&(r=b.split(y=y||",")),this.arr=r,this.obj=Object.fromEntries(r.entries()),this.table=null}var c,h;return c=g,(h=[{key:"set",value:function(b,y){if(typeof b=="string"){var r=this.table.columns.indexOf(b);if(!(0<=r))throw new Error('This table has no column named "'.concat(b,'"'));this.obj[b]=y,this.arr[r]=y}else{if(!(b<this.table.columns.length))throw new Error("Column #".concat(b," is out of the range of this table"));this.arr[b]=y,r=this.table.columns[b],this.obj[r]=y}}},{key:"setNum",value:function(b,y){y=parseFloat(y),this.set(b,y)}},{key:"setString",value:function(b,y){y=y.toString(),this.set(b,y)}},{key:"get",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b]}},{key:"getNum",value:function(b){var y=parseFloat(typeof b=="string"?this.obj[b]:this.arr[b]);if(y.toString()==="NaN")throw"Error: ".concat(this.obj[b]," is NaN (Not a Number)");return y}},{key:"getString",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b].toString()}}])&&m(c.prototype,h),g})(),t=t.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,q,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(h,b){for(var y=0;y<b.length;y++){var r=b[y];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(h,r.key,r)}}function c(h){for(var b=[],y=0;y<h.length;y++)b.push(new m.default.XML(h[y]));return b}m.default.XML=(function(){function h(r){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");r?this.DOM=r:(r=document.implementation.createDocument(null,"doc"),this.DOM=r.createElement("root"))}var b,y;return b=h,(y=[{key:"getParent",value:function(){return new m.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(r){var s=this.DOM.innerHTML,i=this.DOM.attributes,l=document.implementation.createDocument(null,"default").createElement(r);l.innerHTML=s;for(var u=0;u<i.length;u++)l.setAttribute(i[u].nodeName,i[u].nodeValue);this.DOM=l}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var r=[],s=0;s<this.DOM.childNodes.length;s++)r.push(this.DOM.childNodes[s].nodeName);return r}},{key:"getChildren",value:function(r){return c(r?this.DOM.getElementsByTagName(r):this.DOM.children)}},{key:"getChild",value:function(r){if(typeof r!="string")return new m.default.XML(this.DOM.children[r]);var s=!0,i=!1,l=void 0;try{for(var u,o=this.DOM.children[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var n=u.value;if(n.tagName===r)return new m.default.XML(n)}}catch(p){i=!0,l=p}finally{try{s||o.return==null||o.return()}finally{if(i)throw l}}}},{key:"addChild",value:function(r){r instanceof m.default.XML&&this.DOM.appendChild(r.DOM)}},{key:"removeChild",value:function(r){var s=-1;if(typeof r=="string"){for(var i=0;i<this.DOM.children.length;i++)if(this.DOM.children[i].tagName===r){s=i;break}}else s=r;s!==-1&&this.DOM.removeChild(this.DOM.children[s])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var r=[],s=!0,i=!1,l=void 0;try{for(var u,o=this.DOM.attributes[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var n=u.value;r.push(n.nodeName)}}catch(p){i=!0,l=p}finally{try{s||o.return==null||o.return()}finally{if(i)throw l}}return r}},{key:"hasAttribute",value:function(r){var s={},i=!0,l=!1,u=void 0;try{for(var o,n=this.DOM.attributes[Symbol.iterator]();!(i=(o=n.next()).done);i=!0){var p=o.value;s[p.nodeName]=p.nodeValue}}catch(d){l=!0,u=d}finally{try{i||n.return==null||n.return()}finally{if(l)throw u}}return!!s[r]}},{key:"getNum",value:function(r,s){var i={},l=!0,u=!1,o=void 0;try{for(var n,p=this.DOM.attributes[Symbol.iterator]();!(l=(n=p.next()).done);l=!0){var d=n.value;i[d.nodeName]=d.nodeValue}}catch(_){u=!0,o=_}finally{try{l||p.return==null||p.return()}finally{if(u)throw o}}return Number(i[r])||s||0}},{key:"getString",value:function(r,s){var i={},l=!0,u=!1,o=void 0;try{for(var n,p=this.DOM.attributes[Symbol.iterator]();!(l=(n=p.next()).done);l=!0){var d=n.value;i[d.nodeName]=d.nodeValue}}catch(_){u=!0,o=_}finally{try{l||p.return==null||p.return()}finally{if(u)throw o}}return i[r]?String(i[r]):s||null}},{key:"setAttribute",value:function(r,s){this.DOM.setAttribute(r,s)}},{key:"getContent",value:function(r){var s=this.DOM.textContent;return(s=s.replace(/\s\s+/g,","))||r||null}},{key:"setContent",value:function(r){this.DOM.children.length||(this.DOM.textContent=r)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&g(b.prototype,y),h})(),t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,q,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(c){return(function(h){if(Array.isArray(h)){for(var b=0,y=new Array(h.length);b<h.length;b++)y[b]=h[b];return y}})(c)||(function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)})(c)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}m.default.prototype.abs=Math.abs,m.default.prototype.ceil=Math.ceil,m.default.prototype.constrain=function(c,h,b){return m.default._validateParameters("constrain",arguments),Math.max(Math.min(c,b),h)},m.default.prototype.dist=function(){for(var c=arguments.length,h=new Array(c),b=0;b<c;b++)h[b]=arguments[b];return m.default._validateParameters("dist",h),h.length===4?Math.hypot(h[2]-h[0],h[3]-h[1]):h.length===6?Math.hypot(h[3]-h[0],h[4]-h[1],h[5]-h[2]):void 0},m.default.prototype.exp=Math.exp,m.default.prototype.floor=Math.floor,m.default.prototype.lerp=function(c,h,b){return m.default._validateParameters("lerp",arguments),b*(h-c)+c},m.default.prototype.log=Math.log,m.default.prototype.mag=function(c,h){return m.default._validateParameters("mag",arguments),Math.hypot(c,h)},m.default.prototype.map=function(c,h,b,y,r,s){return m.default._validateParameters("map",arguments),c=(c-h)/(b-h)*(r-y)+y,s?y<r?this.constrain(c,y,r):this.constrain(c,r,y):c},m.default.prototype.max=function(){for(var c=function(r){return Math.max.apply(Math,g(r))},h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];return Array.isArray(b[0])?c(b[0]):c(b)},m.default.prototype.min=function(){for(var c=function(r){return Math.min.apply(Math,g(r))},h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];return Array.isArray(b[0])?c(b[0]):c(b)},m.default.prototype.norm=function(c,h,b){return m.default._validateParameters("norm",arguments),this.map(c,h,b,0,1)},m.default.prototype.pow=Math.pow,m.default.prototype.round=function(c,h){return h?(h=Math.pow(10,h),Math.round(c*h)/h):Math.round(c)},m.default.prototype.sq=function(c){return c*c},m.default.prototype.sqrt=Math.sqrt,m.default.prototype.fract=function(y){m.default._validateParameters("fract",arguments);var h,b=0,y=Number(y);return isNaN(y)||Math.abs(y)===1/0?y:(y<0&&(y=-y,b=1),String(y).includes(".")&&!String(y).includes("e")?(h=String(y),h=+("0"+h.slice(h.indexOf("."))),Math.abs(b-h)):y<1?Math.abs(b-y):0)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,q,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(h,b,y){return(g=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?Reflect.construct:function(r,s,i){var l=[null];return l.push.apply(l,s),s=new(Function.bind.apply(r,l)),i&&c(s,i.prototype),s}).apply(null,arguments)}function c(h,b){return(c=Object.setPrototypeOf||function(y,r){return y.__proto__=r,y})(h,b)}m.default.prototype.createVector=function(h,b,y){return this instanceof m.default?g(m.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new m.default.Vector(h,b,y)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(y,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,y=(y=y("../core/main"))&&y.__esModule?y:{default:y};function m(r){return .5*(1-Math.cos(r*Math.PI))}var g,c=4095,h=4,b=.5,y=(y.default.prototype.noise=function(r){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(g==null){g=new Array(4096);for(var l=0;l<4096;l++)g[l]=Math.random()}r<0&&(r=-r),s<0&&(s=-s),i<0&&(i=-i);for(var u,o,n=Math.floor(r),p=Math.floor(s),d=Math.floor(i),_=r-n,S=s-p,j=i-d,T=0,C=.5,L=0;L<h;L++){var E=n+(p<<4)+(d<<8),I=m(_),O=m(S),U=g[E&c];U+=I*(g[E+1&c]-U),u=g[E+16&c],U+=O*((u+=I*(g[E+16+1&c]-u))-U),u=g[(E+=256)&c],u+=I*(g[E+1&c]-u),o=g[E+16&c],u+=O*((o+=I*(g[E+16+1&c]-o))-u),T+=(U+=m(j)*(u-U))*C,C*=b,n<<=1,p<<=1,d<<=1,1<=(_*=2)&&(n++,_--),1<=(S*=2)&&(p++,S--),1<=(j*=2)&&(d++,j--)}return T},y.default.prototype.noiseDetail=function(r,s){0<r&&(h=r),0<s&&(b=s)},y.default.prototype.noiseSeed=function(r){l=4294967296;var s,i,l,u={setSeed:function(n){i=s=(n??Math.random()*l)>>>0},getSeed:function(){return s},rand:function(){return(i=(1664525*i+1013904223)%l)/l}};u.setSeed(r),g=new Array(4096);for(var o=0;o<4096;o++)g[o]=u.rand()},y.default);A.default=y},{"../core/main":283}],316:[function(t,q,A){function m(s){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function g(s){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(i){return m(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":m(i)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(r=t("../core/main"))&&r.__esModule?r:{default:r},h=(function(s){if(s&&s.__esModule)return s;if(s===null||g(s)!=="object"&&typeof s!="function")return{default:s};var i=b();if(i&&i.has(s))return i.get(s);var l,u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in s){var n;Object.prototype.hasOwnProperty.call(s,l)&&((n=o?Object.getOwnPropertyDescriptor(s,l):null)&&(n.get||n.set)?Object.defineProperty(u,l,n):u[l]=s[l])}return u.default=s,i&&i.set(s,u),u})(t("../core/constants"));function b(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,b=function(){return s},s)}function y(s,i){for(var l=0;l<i.length;l++){var u=i[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}c.default.Vector=(function(){function s(){var d=this,o=s;if(!(d instanceof o))throw new TypeError("Cannot call a class as a function");var n,p,d=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],n=(arguments.length<=2?void 0:arguments[2])||0,p=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(n=(arguments.length<=0?void 0:arguments[0])||0,p=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=n,this.y=p,this.z=d}var i,l,u;return i=s,u=[{key:"fromAngle",value:function(o){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new c.default.Vector(n*Math.cos(o),n*Math.sin(o),0)}},{key:"fromAngles",value:function(j,_){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,d=Math.cos(_),_=Math.sin(_),S=Math.cos(j),j=Math.sin(j);return new c.default.Vector(p*j*_,-p*S,p*j*d)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*h.TWO_PI)}},{key:"random3D",value:function(){var o=Math.random()*h.TWO_PI,n=2*Math.random()-1,d=Math.sqrt(1-n*n),p=d*Math.cos(o),d=d*Math.sin(o);return new c.default.Vector(p,d,n)}},{key:"copy",value:function(o){return o.copy(o)}},{key:"add",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2];return S?S.set(d):(S=d.copy(),n.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),S.add(_),S}},{key:"rem",value:function(o,n){if(o instanceof c.default.Vector&&n instanceof c.default.Vector)return(o=o.copy()).rem(n),o}},{key:"sub",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2];return S?S.set(d):(S=d.copy(),n.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),S.sub(_),S}},{key:"mult",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2];return S?S.set(d):(S=d.copy(),n.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),S.mult(_),S}},{key:"rotate",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2];return n.length===2?S=d.copy():(S instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),S.set(d)),S.rotate(_),S}},{key:"div",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2];return S?S.set(d):(S=d.copy(),n.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),S.div(_),S}},{key:"dot",value:function(o,n){return o.dot(n)}},{key:"cross",value:function(o,n){return o.cross(n)}},{key:"dist",value:function(o,n){return o.dist(n)}},{key:"lerp",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2],j=n[3];return j?j.set(d):(j=d.copy(),n.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),j.lerp(_,S),j}},{key:"slerp",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2],j=n[3];return j?j.set(d):(j=d.copy(),n.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),j.slerp(_,S),j}},{key:"mag",value:function(o){return o.mag()}},{key:"magSq",value:function(o){return o.magSq()}},{key:"normalize",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1];return n.length<2?_=d.copy():(_ instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),_.set(d)),_.normalize()}},{key:"limit",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2];return n.length<3?S=d.copy():(S instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),S.set(d)),S.limit(_)}},{key:"setMag",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2];return n.length<3?S=d.copy():(S instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),S.set(d)),S.setMag(_)}},{key:"heading",value:function(o){return o.heading()}},{key:"angleBetween",value:function(o,n){return o.angleBetween(n)}},{key:"reflect",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2];return n.length<3?S=d.copy():(S instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),S.set(d)),S.reflect(_)}},{key:"array",value:function(o){return o.array()}},{key:"equals",value:function(o,n){var p;return o instanceof c.default.Vector?p=o:Array.isArray(o)?p=new c.default.Vector().set(o):c.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),p.equals(n)}}],(l=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(o,n,p){return o instanceof c.default.Vector?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):Array.isArray(o)?(this.x=o[0]||0,this.y=o[1]||0,this.z=o[2]||0):(this.x=o||0,this.y=n||0,this.z=p||0),this}},{key:"copy",value:function(){return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new c.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(o,n,p){return o instanceof c.default.Vector?(this.x+=o.x||0,this.y+=o.y||0,this.z+=o.z||0):Array.isArray(o)?(this.x+=o[0]||0,this.y+=o[1]||0,this.z+=o[2]||0):(this.x+=o||0,this.y+=n||0,this.z+=p||0),this}},{key:"calculateRemainder2D",value:function(o,n){return o!==0&&(this.x=this.x%o),n!==0&&(this.y=this.y%n),this}},{key:"calculateRemainder3D",value:function(o,n,p){return o!==0&&(this.x=this.x%o),n!==0&&(this.y=this.y%n),p!==0&&(this.z=this.z%p),this}},{key:"rem",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d,_,S,j=n[0],T=n[1],C=n[2];if(j instanceof c.default.Vector){if([j.x,j.y,j.z].every(Number.isFinite))return d=parseFloat(j.x),_=parseFloat(j.y),S=parseFloat(j.z),this.calculateRemainder3D(d,_,S)}else if(Array.isArray(j)){if(j.every(Number.isFinite))return j.length===2?this.calculateRemainder2D(j[0],j[1]):j.length===3?this.calculateRemainder3D(j[0],j[1],j[2]):void 0}else if(n.length===1){if(Number.isFinite(j)&&j!==0)return this.x=this.x%j,this.y=this.y%j,this.z=this.z%j,this}else if(n.length===2){if(n.every(Number.isFinite))return this.calculateRemainder2D(j,T)}else if(n.length===3&&n.every(Number.isFinite))return this.calculateRemainder3D(j,T,C)}},{key:"sub",value:function(o,n,p){return o instanceof c.default.Vector?(this.x-=o.x||0,this.y-=o.y||0,this.z-=o.z||0):Array.isArray(o)?(this.x-=o[0]||0,this.y-=o[1]||0,this.z-=o[2]||0):(this.x-=o||0,this.y-=n||0,this.z-=p||0),this}},{key:"mult",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d,_=n[0],S=n[1],j=n[2];return _ instanceof c.default.Vector?Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"?(this.x*=_.x,this.y*=_.y,this.z*=_.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(_)?_.every(function(T){return Number.isFinite(T)})&&_.every(function(T){return typeof T=="number"})?_.length===1?(this.x*=_[0],this.y*=_[0],this.z*=_[0]):_.length===2?(this.x*=_[0],this.y*=_[1]):_.length===3&&(this.x*=_[0],this.y*=_[1],this.z*=_[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(d=n).every(function(T){return Number.isFinite(T)})&&d.every(function(T){return typeof T=="number"})?(n.length===1&&(this.x*=_,this.y*=_,this.z*=_),n.length===2&&(this.x*=_,this.y*=S),n.length===3&&(this.x*=_,this.y*=S,this.z*=j)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];var d=n[0],_=n[1],S=n[2];if(d instanceof c.default.Vector)if(Number.isFinite(d.x)&&Number.isFinite(d.y)&&Number.isFinite(d.z)&&typeof d.x=="number"&&typeof d.y=="number"&&typeof d.z=="number"){var j=d.z===0&&this.z===0;if(d.x===0||d.y===0||!j&&d.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=d.x,this.y/=d.y,j||(this.z/=d.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(d))if(d.every(Number.isFinite)&&d.every(function(T){return typeof T=="number"})){if(d.some(function(T){return T===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;d.length===1?(this.x/=d[0],this.y/=d[0],this.z/=d[0]):d.length===2?(this.x/=d[0],this.y/=d[1]):d.length===3&&(this.x/=d[0],this.y/=d[1],this.z/=d[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(n.every(Number.isFinite)&&n.every(function(T){return typeof T=="number"})){if(n.some(function(T){return T===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;n.length===1&&(this.x/=d,this.y/=d,this.z/=d),n.length===2&&(this.x/=d,this.y/=_),n.length===3&&(this.x/=d,this.y/=_,this.z/=S)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var o=this.x,n=this.y,p=this.z;return o*o+n*n+p*p}},{key:"dot",value:function(o,n,p){return o instanceof c.default.Vector?this.dot(o.x,o.y,o.z):this.x*(o||0)+this.y*(n||0)+this.z*(p||0)}},{key:"cross",value:function(d){var n=this.y*d.z-this.z*d.y,p=this.z*d.x-this.x*d.z,d=this.x*d.y-this.y*d.x;return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,n,p,d):new c.default.Vector(n,p,d)}},{key:"dist",value:function(o){return o.copy().sub(this).mag()}},{key:"normalize",value:function(){var o=this.mag();return o!==0&&this.mult(1/o),this}},{key:"limit",value:function(o){var n=this.magSq();return o*o<n&&this.div(Math.sqrt(n)).mult(o),this}},{key:"setMag",value:function(o){return this.normalize().mult(o)}},{key:"heading",value:function(){var o=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(o):o}},{key:"setHeading",value:function(o){this.isPInst&&(o=this._toRadians(o));var n=this.mag();return this.x=n*Math.cos(o),this.y=n*Math.sin(o),this}},{key:"rotate",value:function(n){var n=this.heading()+n,p=(this.isPInst&&(n=this._toRadians(n)),this.mag());return this.x=Math.cos(n)*p,this.y=Math.sin(n)*p,this}},{key:"angleBetween",value:function(o){var n;return this.magSq()*o.magSq()==0?NaN:(n=this.cross(o),o=Math.atan2(n.mag(),this.dot(o))*Math.sign(n.z||1),this.isPInst?this._fromRadians(o):o)}},{key:"lerp",value:function(o,n,p,d){return o instanceof c.default.Vector?this.lerp(o.x,o.y,o.z,n):(this.x+=(o-this.x)*d||0,this.y+=(n-this.y)*d||0,this.z+=(p-this.z)*d||0,this)}},{key:"slerp",value:function(o,n){if(n!==0){if(n===1)return this.set(o);var p=this.mag(),d=o.mag();if(p*d==0)this.mult(1-n).add(o.x*n,o.y*n,o.z*n);else{var _=this.cross(o),S=_.mag(),j=Math.atan2(S,this.dot(o));if(0<S)_.x/=S,_.y/=S,_.z/=S;else{if(j<.5*Math.PI)return this.mult(1-n).add(o.x*n,o.y*n,o.z*n),this;this.z===0&&o.z===0?_.set(0,0,1):this.x!==0?_.set(this.y,-this.x,0).normalize():_.set(1,0,0)}S=_.cross(this),o=1-n+n*d/p,_=o*Math.cos(n*j),d=o*Math.sin(n*j),this.x=this.x*_+S.x*d,this.y=this.y*_+S.y*d,this.z=this.z*_+S.z*d}}return this}},{key:"reflect",value:function(o){return o=c.default.Vector.normalize(o),this.sub(o.mult(2*this.dot(o)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(S,n,p){var d,_,S=S instanceof c.default.Vector?(d=S.x||0,_=S.y||0,S.z||0):Array.isArray(S)?(d=S[0]||0,_=S[1]||0,S[2]||0):(d=S||0,_=n||0,p||0);return this.x===d&&this.y===_&&this.z===S}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(o){return Math.abs(+(o||0))<=Number.EPSILON?0:o}}])&&y(i.prototype,l),u&&y(i,u),s})();var r=c.default.Vector;A.default=r},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(b,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(b=b("../core/main"))&&b.__esModule?b:{default:b},g="_lcg_random_state",c=4294967296,h=0,b=(m.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%c,this[y]/c},m.default.prototype._lcgSetSeed=function(y,r){this[y]=(r??Math.random()*c)>>>0},m.default.prototype.randomSeed=function(y){this._lcgSetSeed(g,y),this._gaussian_previous=!1},m.default.prototype.random=function(y,r){var s,i;return m.default._validateParameters("random",arguments),s=this[g]!=null?this._lcg(g):Math.random(),y===void 0?s:r===void 0?Array.isArray(y)?y[Math.floor(s*y.length)]:s*y:(r<y&&(i=y,y=r,r=i),s*(r-y)+y)},m.default.prototype.randomGaussian=function(y){var r,s,i,l,u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)r=h,this._gaussian_previous=!1;else{for(;1<=(l=(s=this.random(2)-1)*s+(i=this.random(2)-1)*i););r=s*(l=Math.sqrt(-2*Math.log(l)/l)),h=i*l,this._gaussian_previous=!0}return r*u+(y||0)},m.default);A.default=b},{"../core/main":283}],318:[function(t,q,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(s){return m(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":m(s)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},h=(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var s=b();if(s&&s.has(r))return s.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var o;Object.prototype.hasOwnProperty.call(r,i)&&((o=u?Object.getOwnPropertyDescriptor(r,i):null)&&(o.get||o.set)?Object.defineProperty(l,i,o):l[i]=r[i])}return l.default=r,s&&s.set(r,l),l})(t("../core/constants"));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}c.default.prototype._angleMode=h.RADIANS,c.default.prototype.acos=function(r){return this._fromRadians(Math.acos(r))},c.default.prototype.asin=function(r){return this._fromRadians(Math.asin(r))},c.default.prototype.atan=function(r){return this._fromRadians(Math.atan(r))},c.default.prototype.atan2=function(r,s){return this._fromRadians(Math.atan2(r,s))},c.default.prototype.cos=function(r){return Math.cos(this._toRadians(r))},c.default.prototype.sin=function(r){return Math.sin(this._toRadians(r))},c.default.prototype.tan=function(r){return Math.tan(this._toRadians(r))},c.default.prototype.degrees=function(r){return r*h.RAD_TO_DEG},c.default.prototype.radians=function(r){return r*h.DEG_TO_RAD},c.default.prototype.angleMode=function(r){if(c.default._validateParameters("angleMode",arguments),r===void 0)return this._angleMode;r!==h.DEGREES&&r!==h.RADIANS||r!==this._angleMode&&(r===h.RADIANS?(this._setProperty("pRotationX",this.pRotationX*h.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*h.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*h.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*h.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*h.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*h.RAD_TO_DEG)),this._angleMode=r)},c.default.prototype._toRadians=function(r){return this._angleMode===h.DEGREES?r*h.DEG_TO_RAD:r},c.default.prototype._toDegrees=function(r){return this._angleMode===h.RADIANS?r*h.RAD_TO_DEG:r},c.default.prototype._fromRadians=function(r){return this._angleMode===h.DEGREES?r*h.RAD_TO_DEG:r},c.default.prototype._fromDegrees=function(r){return this._angleMode===h.RADIANS?r*h.DEG_TO_RAD:r};var y=c.default;A.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,q,A){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype.textAlign=function(g,c){var h;return m.default._validateParameters("textAlign",arguments),(h=this._renderer).textAlign.apply(h,arguments)},m.default.prototype.textLeading=function(g){var c;return m.default._validateParameters("textLeading",arguments),(c=this._renderer).textLeading.apply(c,arguments)},m.default.prototype.textSize=function(g){var c;return m.default._validateParameters("textSize",arguments),(c=this._renderer).textSize.apply(c,arguments)},m.default.prototype.textStyle=function(g){var c;return m.default._validateParameters("textStyle",arguments),(c=this._renderer).textStyle.apply(c,arguments)},m.default.prototype.textWidth=function(){for(var g=arguments.length,c=new Array(g),h=0;h<g;h++)c[h]=arguments[h];if(c[0]+="",m.default._validateParameters("textWidth",c),c[0].length===0)return 0;for(var b=c[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),y=[],r=0;r<b.length;r++)y.push(this._renderer.textWidth(b[r]));return Math.max.apply(Math,y)},m.default.prototype.textAscent=function(){for(var g=arguments.length,c=new Array(g),h=0;h<g;h++)c[h]=arguments[h];return m.default._validateParameters("textAscent",c),this._renderer.textAscent()},m.default.prototype.textDescent=function(){for(var g=arguments.length,c=new Array(g),h=0;h<g;h++)c[h]=arguments[h];return m.default._validateParameters("textDescent",c),this._renderer.textDescent()},m.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},m.default.prototype.textWrap=function(g){return m.default._validateParameters("textWrap",[g]),this._renderer.textWrap(g)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,q,A){function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function g(i){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(l){return m(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":m(l)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(s=t("../core/main"))&&s.__esModule?s:{default:s},h=r(t("../core/constants")),b=r(t("opentype.js"));function y(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,y=function(){return i},i)}function r(i){if(i&&i.__esModule)return i;if(i===null||g(i)!=="object"&&typeof i!="function")return{default:i};var l=y();if(l&&l.has(i))return l.get(i);var u,o,n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&((o=p?Object.getOwnPropertyDescriptor(i,u):null)&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=i[u]);return n.default=i,l&&l.set(i,n),n}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.loadFont=function(i,l,u){c.default._validateParameters("loadFont",arguments);var o=new c.default.Font(this),n=this;return b.load(i,function(_,S){if(_)return c.default._friendlyFileLoadError(4,i),u!==void 0?u(_):void console.error(_,i);o.font=S,l!==void 0&&l(o),n._decrementPreload();var _=i.split("\\").pop().split("/").pop(),S=_.lastIndexOf("."),j=S<1?null:_.slice(S+1);["ttf","otf","woff","woff2"].includes(j)&&(j=_.slice(0,S!==-1?S:0),(_=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(j,`;
src: url(`).concat(i,`);
}
`))),document.head.appendChild(_))}),o},c.default.prototype.text=function(i,l,u,o,n){var p;return c.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},c.default.prototype.textFont=function(i,l){if(c.default._validateParameters("textFont",arguments),arguments.length){if(i)return this._renderer._setProperty("_textFont",i),l&&(this._renderer._setProperty("_textSize",l),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",l*h._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var s=c.default;A.default=s},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,q,A){function m(T){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(T)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(g=t("../core/main"))&&g.__esModule?g:{default:g},c=(function(T){if(T&&T.__esModule)return T;if(T===null||b(T)!=="object"&&typeof T!="function")return{default:T};var C=h();if(C&&C.has(T))return C.get(T);var L,E={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in T){var O;Object.prototype.hasOwnProperty.call(T,L)&&((O=I?Object.getOwnPropertyDescriptor(T,L):null)&&(O.get||O.set)?Object.defineProperty(E,L,O):E[L]=T[L])}return E.default=T,C&&C.set(T,E),E})(t("../core/constants"));function h(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,h=function(){return T},T)}function b(T){return(b=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(C){return m(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":m(C)})(T)}function y(T,C){for(var L=0;L<C.length;L++){var E=C[L];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(T,E.key,E)}}function r(T,C){var L=T.length;return T[C<0?C%L+L:C%L]}function s(T,C,L,E){var I,O,U;return E?(s.tmpPoint1===void 0&&(s.tmpPoint1=[],s.tmpPoint2=[]),O=s.tmpPoint1,U=s.tmpPoint2,O.x=C.x-T.x,O.y=C.y-T.y,U.x=L.x-C.x,U.y=L.y-C.y,I=O.x*U.x+O.y*U.y,O=Math.sqrt(O.x*O.x+O.y*O.y),U=Math.sqrt(U.x*U.x+U.y*U.y),Math.acos(I/(O*U))<E):(C[0]-T[0])*(L[1]-T[1])-(L[0]-T[0])*(C[1]-T[1])==0}function i(R,W,N,J,re,O,U,D,B){var X=1-B,G=Math.pow(X,3),Z=Math.pow(X,2),w=B*B,Q=w*B,H=G*R+3*Z*B*N+3*X*B*B*re+Q*U,G=G*W+3*Z*B*J+3*X*B*B*O+Q*D,Z=R+2*B*(N-R)+w*(re-2*N+R),Q=W+2*B*(J-W)+w*(O-2*J+W),le=N+2*B*(re-N)+w*(U-2*re+N),w=J+2*B*(O-J)+w*(D-2*O+J),R=X*R+B*N,N=X*W+B*J,W=X*re+B*U,J=X*O+B*D,re=90-180*Math.atan2(Z-le,Q-w)/Math.PI;return(le<Z||Q<w)&&(re+=180),{x:H,y:G,m:{x:Z,y:Q},n:{x:le,y:w},start:{x:R,y:N},end:{x:W,y:J},alpha:re}}function l(T,C,L,E,I,O,U,D,B){return B==null?S(T,C,L,E,I,O,U,D):i(T,C,L,E,I,O,U,D,(function(X,H,G,Z,Q,le,w,R,N){if(!(N<0||S(X,H,G,Z,Q,le,w,R)<N)){var W,J=.5,re=1-J;for(W=S(X,H,G,Z,Q,le,w,R,re);.01<Math.abs(W-N);)W=S(X,H,G,Z,Q,le,w,R,re+=(W<N?1:-1)*(J/=2));return re}})(T,C,L,E,I,O,U,D,B))}function u(T,C,L){for(var E,I,O,U,D,B=0,X=0,H=(T=(function(G,Z){function Q(xe,Te,Pe){var We,Re;if(!xe)return["C",Te.x,Te.y,Te.x,Te.y,Te.x,Te.y];switch(xe[0]in{T:1,Q:1}||(Te.qx=Te.qy=null),xe[0]){case"M":Te.X=xe[1],Te.Y=xe[2];break;case"A":xe=["C"].concat(n.apply(0,[Te.x,Te.y].concat(xe.slice(1))));break;case"S":Re=Pe==="C"||Pe==="S"?(We=2*Te.x-Te.bx,2*Te.y-Te.by):(We=Te.x,Te.y),xe=["C",We,Re].concat(xe.slice(1));break;case"T":Pe==="Q"||Pe==="T"?(Te.qx=2*Te.x-Te.qx,Te.qy=2*Te.y-Te.qy):(Te.qx=Te.x,Te.qy=Te.y),xe=["C"].concat(_(Te.x,Te.y,Te.qx,Te.qy,xe[1],xe[2]));break;case"Q":Te.qx=xe[1],Te.qy=xe[2],xe=["C"].concat(_(Te.x,Te.y,xe[1],xe[2],xe[3],xe[4]));break;case"L":xe=["C"].concat(d(Te.x,Te.y,xe[1],xe[2]));break;case"H":xe=["C"].concat(d(Te.x,Te.y,xe[1],Te.y));break;case"V":xe=["C"].concat(d(Te.x,Te.y,Te.x,xe[1]));break;case"Z":xe=["C"].concat(d(Te.x,Te.y,Te.X,Te.Y))}return xe}function le(xe,Te){if(7<xe[Te].length){xe[Te].shift();for(var Pe=xe[Te];Pe.length;)ue[Te]="A",W&&(ge[Te]="A"),xe.splice(Te++,0,["C"].concat(Pe.splice(0,6)));xe.splice(Te,1),R=Math.max(N.length,W&&W.length||0)}}function w(xe,Te,Pe,We,Re){xe&&Te&&xe[Re][0]==="M"&&Te[Re][0]!=="M"&&(Te.splice(Re,0,["M",We.x,We.y]),Pe.bx=0,Pe.by=0,Pe.x=xe[Re][1],Pe.y=xe[Re][2],R=Math.max(N.length,W&&W.length||0))}var R,N=o(G),W=Z&&o(Z),J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},re={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ue=[],ge=[],se="",pe="";R=Math.max(N.length,W&&W.length||0);for(var ye=0;ye<R;ye++){(se=N[ye]?N[ye][0]:se)!=="C"&&(ue[ye]=se,ye&&(pe=ue[ye-1])),N[ye]=Q(N[ye],J,pe),ue[ye]!=="A"&&se==="C"&&(ue[ye]="C"),le(N,ye),W&&((se=W[ye]?W[ye][0]:se)!=="C"&&(ge[ye]=se,ye&&(pe=ge[ye-1])),W[ye]=Q(W[ye],re,pe),ge[ye]!=="A"&&se==="C"&&(ge[ye]="C"),le(W,ye)),w(N,W,J,re,ye),w(W,N,re,J,ye);var te=N[ye],me=W&&W[ye],we=te.length,Ee=W&&me.length;J.x=te[we-2],J.y=te[we-1],J.bx=parseFloat(te[we-4])||J.x,J.by=parseFloat(te[we-3])||J.y,re.bx=W&&(parseFloat(me[Ee-4])||re.x),re.by=W&&(parseFloat(me[Ee-3])||re.y),re.x=W&&me[Ee-2],re.y=W&&me[Ee-1]}return W?[N,W]:N})(T)).length;X<H;X++){if((O=T[X])[0]==="M")E=+O[1],I=+O[2];else{if(C<B+(U=l(E,I,O[1],O[2],O[3],O[4],O[5],O[6]))&&!L)return{x:(D=l(E,I,O[1],O[2],O[3],O[4],O[5],O[6],C-B)).x,y:D.y,alpha:D.alpha};B+=U,E=+O[5],I=+O[6]}O.shift()}return D=(D=L?B:i(E,I,O[0],O[1],O[2],O[3],O[4],O[5],1)).alpha?{x:D.x,y:D.y,alpha:D.alpha}:D}function o(T){var C=[],L=0,E=0,I=0,O=0,U=0;if(T){T[0][0]==="M"&&(I=L=+T[0][1],O=E=+T[0][2],U++,C[0]=["M",L,E]);for(var D,B,X=T.length===3&&T[0][0]==="M"&&T[1][0].toUpperCase()==="R"&&T[2][0].toUpperCase()==="Z",H=U,G=T.length;H<G;H++){if(C.push(D=[]),(B=T[H])[0]!==B[0].toUpperCase())switch(D[0]=B[0].toUpperCase(),D[0]){case"A":D[1]=B[1],D[2]=B[2],D[3]=B[3],D[4]=B[4],D[5]=B[5],D[6]=+(B[6]+L),D[7]=+(B[7]+E);break;case"V":D[1]=+B[1]+E;break;case"H":D[1]=+B[1]+L;break;case"R":for(var Z,Q=2,le=(Z=[L,E].concat(B.slice(1))).length;Q<le;Q++)Z[Q]=+Z[Q]+L,Z[++Q]=+Z[Q]+E;C.pop(),C=C.concat(p(Z,X));break;case"M":I=+B[1]+L,O=+B[2]+E;break;default:for(var w=1,R=B.length;w<R;w++)D[w]=+B[w]+(w%2?L:E)}else if(B[0]==="R")Z=[L,E].concat(B.slice(1)),C.pop(),C=C.concat(p(Z,X)),D=["R"].concat(B.slice(-2));else for(var N=0,W=B.length;N<W;N++)D[N]=B[N];switch(D[0]){case"Z":L=I,E=O;break;case"H":L=D[1];break;case"V":E=D[1];break;case"M":I=D[D.length-2],O=D[D.length-1];break;default:L=D[D.length-2],E=D[D.length-1]}}}return C}function n(T,C,L,E,W,ue,J,D,B,X){function H(Ee,xe,Te){return{x:Ee*Math.cos(Te)-xe*Math.sin(Te),y:Ee*Math.sin(Te)+xe*Math.cos(Te)}}var G,R=Math.PI,N=120*R/180,Z=R/180*(+W||0),Q=[],le=(X?(ye=X[0],G=X[1],se=X[2],pe=X[3]):(T=(re=H(T,C,-Z)).x,C=re.y,1<(le=(w=(T-(D=(re=H(D,B,-Z)).x))/2)*w/(L*L)+(re=(C-(B=re.y))/2)*re/(E*E))&&(L*=le=Math.sqrt(le),E*=le),le=L*L,ge=E*E,se=(ue=(ue===J?-1:1)*Math.sqrt(Math.abs((le*ge-le*re*re-ge*w*w)/(le*re*re+ge*w*w))))*L*re/E+(T+D)/2,pe=ue*-E*w/L+(C+B)/2,ye=Math.asin(((C-pe)/E).toFixed(9)),G=Math.asin(((B-pe)/E).toFixed(9)),(ye=T<se?R-ye:ye)<0&&(ye=2*R+ye),(G=D<se?R-G:G)<0&&(G=2*R+G),J&&G<ye&&(ye-=2*R),!J&&ye<G&&(G-=2*R)),G-ye),w=(Math.abs(le)>N&&(ge=G,re=D,ue=B,G=ye+N*(J&&ye<G?1:-1),Q=n(D=se+L*Math.cos(G),B=pe+E*Math.sin(G),L,E,W,0,J,re,ue,[G,ge,se,pe])),le=G-ye,Math.cos(ye)),R=Math.sin(ye),N=Math.cos(G),W=Math.sin(G),J=Math.tan(le/4),re=4/3*L*J,ue=4/3*E*J,ge=[T,C],se=[T+re*R,C-ue*w],pe=[D+re*W,B-ue*N],ye=[D,B];if(se[0]=2*ge[0]-se[0],se[1]=2*ge[1]-se[1],X)return[se,pe,ye].concat(Q);for(var te=[],me=0,we=(Q=[se,pe,ye].concat(Q).join().split(",")).length;me<we;me++)te[me]=me%2?H(Q[me-1],Q[me],Z).y:H(Q[me],Q[me+1],Z).x;return te}function p(T,C){for(var L=[],E=0,I=T.length;E<I-2*!C;E+=2){var O=[{x:+T[E-2],y:+T[E-1]},{x:+T[E],y:+T[E+1]},{x:+T[E+2],y:+T[E+3]},{x:+T[E+4],y:+T[E+5]}];C?E?I-4===E?O[3]={x:+T[0],y:+T[1]}:I-2===E&&(O[2]={x:+T[0],y:+T[1]},O[3]={x:+T[2],y:+T[3]}):O[0]={x:+T[I-2],y:+T[I-1]}:I-4===E?O[3]=O[2]:E||(O[0]={x:+T[E],y:+T[E+1]}),L.push(["C",(-O[0].x+6*O[1].x+O[2].x)/6,(-O[0].y+6*O[1].y+O[2].y)/6,(O[1].x+6*O[2].x-O[3].x)/6,(O[1].y+6*O[2].y-O[3].y)/6,O[2].x,O[2].y])}return L}function d(T,C,L,E){return[T,C,L,E,L,E]}function _(T,C,L,E,I,O){return[1/3*T+2/3*L,1/3*C+2/3*E,1/3*I+2/3*L,1/3*O+2/3*E,I,O]}function S(T,C,L,E,I,O,U,D,B){for(var X=(B=1<(B=B??1)?1:B<0?0:B)/2,H=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=0,Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Q=0;Q<12;Q++){var w=X*H[Q]+X,le=j(w,T,L,I,U),w=j(w,C,E,O,D);G+=Z[Q]*Math.sqrt(le*le+w*w)}return X*G}function j(T,C,L,E,I){return T*(T*(-3*C+9*L-9*E+3*I)+6*C-12*L+6*E)-3*C+3*L}g.default.Font=(function(){function T(E){if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");this.parent=E,this.cache={},this.font=void 0}var C,L;return C=T,(L=[{key:"textBounds",value:function(E){var I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,X=3<arguments.length?arguments[3]:void 0,U=4<arguments.length?arguments[4]:void 0,D=U&&U.renderer&&U.renderer._pInst||this.parent,B=D._renderer.drawingContext,X=(B.textAlign||c.LEFT,B.textBaseline||c.BASELINE,X||D._renderer._textSize);if(!re){for(var H=[],G=[],Z=[],Q=(Z[0]=[],[]),le=this._scale(X),w=D._renderer.textLeading(),R=0,N=(this.font.forEachGlyph(E,I,O,X,U,function(se,pe,ye,te){var me=se.getMetrics();se.index===0?Z[R+=1]=[]:(Z[R].push(pe+me.xMin*le),Z[R].push(pe+me.xMax*le),Q.push(ye+R*w+-me.yMin*le),Q.push(ye+R*w+-me.yMax*le))}),0<Z[R].length&&(H[R]=Math.min.apply(null,Z[R]),G[R]=Math.max.apply(null,Z[R])),0),W=0;W<=R;W++){H[W]=Math.min.apply(null,Z[W]),G[W]=Math.max.apply(null,Z[W]);var J=G[W]-H[W];N<J&&(N=J)}var B=Math.min.apply(null,H),re={x:B,y:O=Math.min.apply(null,Q),h:Math.max.apply(null,Q)-O,w:N,advance:B-I},X=this._handleAlignment(D._renderer,E,re.x,re.y,re.w+re.advance);re.x=X.x,re.y=X.y}return re}},{key:"textToPoints",value:function(E,I,O,U,D){var B,X=I,H=[],G=this.parent,Z=E.split(/\r?\n|\r|\n/g);U=U||this.parent._renderer._textSize;for(var Q,le,w,R=0;R<Z.length;R++){var N=0;I=X;for(var W=(W=Z[R]).replace(/\t/g,"  "),J=this._getGlyphs(W),re=0;re<J.length;re++){if(le=W,!((w=J)[Q=re].name&&w[Q].name==="space"||le.length===w.length&&le[Q]===" "))for(var ue=(function(ye){for(var te,me=[],we=0;we<ye.length;we++)ye[we].type==="M"&&(te&&me.push(te),te=[]),te.push((function(Ee){var xe=[Ee.type];return Ee.type==="M"||Ee.type==="L"?xe.push(Ee.x,Ee.y):Ee.type==="C"?xe.push(Ee.x1,Ee.y1,Ee.x2,Ee.y2,Ee.x,Ee.y):Ee.type==="Q"&&xe.push(Ee.x1,Ee.y1,Ee.x,Ee.y),xe})(ye[we]));return me.push(te),me})(J[re].getPath(I,O,U).commands),ge=0;ge<ue.length;ge++)for(var se=(function(ye,te){for(var te=(function(Pe,We){if(b(Pe)!=="object")Pe=We;else for(var Re in We)Pe[Re]===void 0&&(Pe[Re]=We[Re]);return Pe})(te,{sampleFactor:.1,simplifyThreshold:0}),me=u(ye,0,1),we=me/(me*te.sampleFactor),Ee=[],xe=0;xe<me;xe+=we)Ee.push(u(ye,xe));return te.simplifyThreshold&&(function(Te){for(var Pe=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,We=0,Re=Te.length-1;3<Te.length&&0<=Re;--Re)s(r(Te,Re-1),r(Te,Re),r(Te,Re+1),Pe)&&(Te.splice(Re%Te.length,1),We++)})(Ee,te.simplifyThreshold),Ee})(ue[ge],D),pe=0;pe<se.length;pe++)se[pe].x+=N,B=this._handleAlignment(G._renderer,W,se[pe].x,se[pe].y),se[pe].x=B.x,se[pe].y=B.y,H.push(se[pe]);N+=J[re].advanceWidth*this._scale(U)}O+=this.parent._renderer._textLeading}return H}},{key:"_getGlyphs",value:function(E){return this.font.stringToGlyphs(E)}},{key:"_getPath",value:function(E,B,O,U){var D=(U&&U.renderer&&U.renderer._pInst||this.parent)._renderer,B=this._handleAlignment(D,E,B,O);return this.font.getPath(E,B.x,B.y,D._textSize,U)}},{key:"_getPathData",value:function(E,I,O,U){var D=3;return typeof E=="string"&&2<arguments.length?E=this._getPath(E,I,O,U):b(I)==="object"&&(U=I),U&&typeof U.decimals=="number"&&(D=U.decimals),E.toPathData(D)}},{key:"_getSVG",value:function(E,I,O,U){var D=3;return typeof E=="string"&&2<arguments.length?E=this._getPath(E,I,O,U):b(I)==="object"&&(U=I),U&&(typeof U.decimals=="number"&&(D=U.decimals),typeof U.strokeWidth=="number"&&(E.strokeWidth=U.strokeWidth),U.fill!==void 0&&(E.fill=U.fill),U.stroke!==void 0&&(E.stroke=U.stroke)),E.toSVG(D)}},{key:"_renderPath",value:function(X,G,Z,U){var D=U&&U.renderer||this.parent._renderer,B=D.drawingContext,X=(b(X)==="object"&&X.commands?X:this._getPath(X,G,Z,U)).commands,H=(D._clipping||B.beginPath(),!0),G=!1,Z=void 0;try{for(var Q,le=X[Symbol.iterator]();!(H=(Q=le.next()).done);H=!0){var w=Q.value;w.type==="M"?B.moveTo(w.x,w.y):w.type==="L"?B.lineTo(w.x,w.y):w.type==="C"?B.bezierCurveTo(w.x1,w.y1,w.x2,w.y2,w.x,w.y):w.type==="Q"?B.quadraticCurveTo(w.x1,w.y1,w.x,w.y):w.type==="Z"&&B.closePath()}}catch(R){G=!0,Z=R}finally{try{H||le.return==null||le.return()}finally{if(G)throw Z}}return D._doStroke&&D._strokeSet&&!D._clipping&&B.stroke(),D._doFill&&!D._clipping&&(D._fillSet||D._setFill(c._DEFAULT_TEXT_FILL),B.fill()),this}},{key:"_textWidth",value:function(E,I){return this.font.getAdvanceWidth(E,I)}},{key:"_textAscent",value:function(E){return this.font.ascender*this._scale(E)}},{key:"_textDescent",value:function(E){return-this.font.descender*this._scale(E)}},{key:"_scale",value:function(E){return 1/this.font.unitsPerEm*(E||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(E,I,O,U,D){var B=E._textSize;switch(D===void 0&&(D=this._textWidth(I,B)),E._textAlign){case c.CENTER:O-=D/2;break;case c.RIGHT:O-=D}switch(E._textBaseline){case c.TOP:U+=this._textAscent(B);break;case c.CENTER:U+=this._textAscent(B)/2;break;case c.BOTTOM:U-=this._textDescent(B)}return{x:O,y:U}}}])&&y(C.prototype,L),T})(),t=g.default,A.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,q,A){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(m,g){return m.push(g),m},t.default.prototype.arrayCopy=function(m,g,c,h,b){var y,r;m=b!==void 0?(r=Math.min(b,m.length),y=h,m.slice(g,r+g)):(r=c!==void 0?(r=c,Math.min(r,m.length)):m.length,c=g,m.slice(y=0,r)),Array.prototype.splice.apply(c,[y,r].concat(m))},t.default.prototype.concat=function(m,g){return m.concat(g)},t.default.prototype.reverse=function(m){return m.reverse()},t.default.prototype.shorten=function(m){return m.pop(),m},t.default.prototype.shuffle=function(m,g){for(var c,h,b=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(m),y=(m=g||b?m:m.slice()).length;1<y;)c=this.random(0,1)*y|0,h=m[--y],m[y]=m[c],m[c]=h;return m},t.default.prototype.sort=function(m,h){var c=h?m.slice(0,Math.min(h,m.length)):m,h=h?m.slice(Math.min(h,m.length)):[];return(c=typeof c[0]=="string"?c.sort():c.sort(function(b,y){return b-y})).concat(h)},t.default.prototype.splice=function(m,g,c){return Array.prototype.splice.apply(m,[c,0].concat(g)),m},t.default.prototype.subset=function(m,g,c){return c!==void 0?m.slice(g,g+c):m.slice(g,m.length)},t=t.default,A.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,q,A){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype.float=function(g){return g instanceof Array?g.map(parseFloat):parseFloat(g)},m.default.prototype.int=function(g){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return g===1/0||g==="Infinity"?1/0:g===-1/0||g==="-Infinity"?-1/0:typeof g=="string"?parseInt(g,c):typeof g=="number"?0|g:typeof g=="boolean"?g?1:0:g instanceof Array?g.map(function(h){return m.default.prototype.int(h,c)}):void 0},m.default.prototype.str=function(g){return g instanceof Array?g.map(m.default.prototype.str):String(g)},m.default.prototype.boolean=function(g){return typeof g=="number"?g!==0:typeof g=="string"?g.toLowerCase()==="true":typeof g=="boolean"?g:g instanceof Array?g.map(m.default.prototype.boolean):void 0},m.default.prototype.byte=function(g){return g=m.default.prototype.int(g,10),typeof g=="number"?(g+128)%256-128:g instanceof Array?g.map(m.default.prototype.byte):void 0},m.default.prototype.char=function(g){return typeof g!="number"||isNaN(g)?g instanceof Array?g.map(m.default.prototype.char):typeof g=="string"?m.default.prototype.char(parseInt(g,10)):void 0:String.fromCharCode(g)},m.default.prototype.unchar=function(g){return typeof g=="string"&&g.length===1?g.charCodeAt(0):g instanceof Array?g.map(m.default.prototype.unchar):void 0},m.default.prototype.hex=function(g,c){if(c=c??8,g instanceof Array)return g.map(function(b){return m.default.prototype.hex(b,c)});if(g===1/0||g===-1/0)return(g===1/0?"F":"0").repeat(c);if(typeof g=="number"){g<0&&(g=4294967295+g+1);for(var h=Number(g).toString(16).toUpperCase();h.length<c;)h="0".concat(h);return h=h.length>=c?h.substring(h.length-c,h.length):h}},m.default.prototype.unhex=function(g){return g instanceof Array?g.map(m.default.prototype.unhex):parseInt("0x".concat(g),16)},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,q,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(r=t("../core/main"))&&r.__esModule?r:{default:r};function g(s,i){return(function(l){if(Array.isArray(l))return l})(s)||(function(l,u){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]"){var o=[],n=!0,p=!1,d=void 0;try{for(var _,S=l[Symbol.iterator]();!(n=(_=S.next()).done)&&(o.push(_.value),!u||o.length!==u);n=!0);}catch(j){p=!0,d=j}finally{try{n||S.return==null||S.return()}finally{if(p)throw d}}return o}})(s,i)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function c(s,i,l){var u,o=s<0,p=g((s=Math.abs(s)).toString().split("."),2),n=p[0],p=p[1];return l===void 0?(n=n.padStart(i,"0"),u=p?n+"."+p:n,o?"-"+u:u):(n=(u=g(s.toFixed(l).toString().split("."),2))[0],p=u[1],n=n.padStart(i,"0"),s=p===void 0?n:n+"."+p,o?"-"+s:s)}function h(o,i){var l=(o=o.toString()).indexOf("."),u=l!==-1?o.substring(l):"",o=(o=l!==-1?o.substring(0,l):o).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(i===0)u="";else if(i!==void 0)if(i>u.length)for(var n=i-(u+=l===-1?".":"").length+1,p=0;p<n;p++)u+="0";else u=u.substring(0,i+1);return o+u}function b(s){return 0<parseFloat(s)?"+".concat(s.toString()):s.toString()}function y(s){return 0<=parseFloat(s)?" ".concat(s.toString()):s.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),m.default.prototype.join=function(s,i){return m.default._validateParameters("join",arguments),s.join(i)},m.default.prototype.match=function(s,i){return m.default._validateParameters("match",arguments),s.match(i)},m.default.prototype.matchAll=function(s,i){m.default._validateParameters("matchAll",arguments);for(var l=new RegExp(i,"g"),u=l.exec(s),o=[];u!==null;)o.push(u),u=l.exec(s);return o},m.default.prototype.nf=function(s,i,l){return m.default._validateParameters("nf",arguments),s instanceof Array?s.map(function(u){return c(u,i,l)}):Object.prototype.toString.call(s)==="[object Arguments]"?s.length===3?this.nf(s[0],s[1],s[2]):s.length===2?this.nf(s[0],s[1]):this.nf(s[0]):c(s,i,l)},m.default.prototype.nfc=function(s,i){return m.default._validateParameters("nfc",arguments),s instanceof Array?s.map(function(l){return h(l,i)}):h(s,i)},m.default.prototype.nfp=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];m.default._validateParameters("nfp",i);var u=m.default.prototype.nf.apply(this,i);return u instanceof Array?u.map(b):b(u)},m.default.prototype.nfs=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];m.default._validateParameters("nfs",i);var u=m.default.prototype.nf.apply(this,i);return u instanceof Array?u.map(y):y(u)},m.default.prototype.split=function(s,i){return m.default._validateParameters("split",arguments),s.split(i)},m.default.prototype.splitTokens=function(s,i){var l,u;return m.default._validateParameters("splitTokens",arguments),u=i!==void 0?(u=/\]/g.exec(i=i),(l=/\[/g.exec(i))&&u?(i=i.slice(0,u.index)+i.slice(u.index+1),l=/\[/g.exec(i),i=i.slice(0,l.index)+i.slice(l.index+1),new RegExp("[\\[".concat(i,"\\]]"),"g")):u?(i=i.slice(0,u.index)+i.slice(u.index+1),new RegExp("[".concat(i,"\\]]"),"g")):l?(i=i.slice(0,l.index)+i.slice(l.index+1),new RegExp("[".concat(i,"\\[]"),"g")):new RegExp("[".concat(i,"]"),"g")):/\s/g,s.split(u).filter(function(o){return o})},m.default.prototype.trim=function(s){return m.default._validateParameters("trim",arguments),s instanceof Array?s.map(this.trim):s.trim()};var r=m.default;A.default=r},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,A.default=t},{"../core/main":283}],326:[function(t,q,A){function m(s){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function g(s){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(i){return m(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":m(i)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(r=t("../core/main"))&&r.__esModule?r:{default:r},h=(t("./p5.Geometry"),(function(s){if(s&&s.__esModule)return s;if(s===null||g(s)!=="object"&&typeof s!="function")return{default:s};var i=b();if(i&&i.has(s))return i.get(s);var l,u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in s){var n;Object.prototype.hasOwnProperty.call(s,l)&&((n=o?Object.getOwnPropertyDescriptor(s,l):null)&&(n.get||n.set)?Object.defineProperty(u,l,n):u[l]=s[l])}return u.default=s,i&&i.set(s,u),u})(t("../core/constants")));function b(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,b=function(){return s},s)}c.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},c.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},c.default.prototype.buildGeometry=function(s){return this._renderer.buildGeometry(s)},c.default.prototype.freeGeometry=function(s){this._renderer._freeBuffers(s.gid)},c.default.prototype.plane=function(){var s,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,n=(this._assert3d("plane"),c.default._validateParameters("plane",arguments),"plane|".concat(u,"|").concat(o));return this._renderer.geometryInHash(n)||((s=new c.default.Geometry(u,o,function(){for(var p,d,_=0;_<=this.detailY;_++)for(var S=_/this.detailY,j=0;j<=this.detailX;j++)p=j/this.detailX,d=new c.default.Vector(p-.5,S-.5,0),this.vertices.push(d),this.uvs.push(p,S)})).computeFaces().computeNormals(),u<=1&&o<=1?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(n,s)),this._renderer.drawBuffersScaled(n,i,l,1),this},c.default.prototype.box=function(s,i,l,u,o){this._assert3d("box"),c.default._validateParameters("box",arguments),s===void 0&&(s=50),i===void 0&&(i=s),l===void 0&&(l=i);var n,p=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,p=(o===void 0&&(o=p?1:4),"box|".concat(u=u===void 0?p?1:4:u,"|").concat(o));return this._renderer.geometryInHash(p)||((n=new c.default.Geometry(u,o,function(){var d=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(_,S){for(var S=4*S,j=0;j<4;j++){var T=_[j],T=new c.default.Vector((2*(1&T)-1)/2,((2&T)-1)/2,((4&T)/2-1)/2);d.vertices.push(T),d.uvs.push(1&j,(2&j)/2)}d.faces.push([S,1+S,2+S]),d.faces.push([2+S,1+S,3+S])})})).computeNormals(),u<=4&&o<=4?n._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(p,n)),this._renderer.drawBuffersScaled(p,s,i,l),this},c.default.prototype.sphere=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),c.default._validateParameters("sphere",arguments),this.ellipsoid(s,s,s,i,l),this};function y(s,i,l,u,o,n,p){s=s<=0?1:s,i=i<0?0:i,l=l<=0?s:l,u=u<3?3:u;for(var d,_,S=(n=n===void 0||n)?-2:0,j=(o=o<1?1:o)+((p=p===void 0?i!==0:p)?2:0),T=Math.atan2(s-i,l),C=Math.sin(T),L=Math.cos(T),E=S;E<=j;++E){var I=E/o,O=l*I,U=void 0,U=E<0?(I=O=0,s):o<E?(O=l,I=1,i):s+(i-s)*I;for(E!==-2&&E!==o+2||(U=0),O-=l/2,d=0;d<u;++d){var D=d/(u-1),X=2*Math.PI*D,B=Math.sin(X),X=Math.cos(X),H=(this.vertices.push(new c.default.Vector(B*U,O,X*U)),void 0),H=E<0?new c.default.Vector(0,-1,0):o<E&&i?new c.default.Vector(0,1,0):new c.default.Vector(B*L,C,X*L);this.vertexNormals.push(H),this.uvs.push(D,I)}}var G=0;if(n){for(_=0;_<u;++_)this.faces.push([G+_,G+u+(_+1)%u,G+u+_]);G+=2*u}for(E=0;E<o;++E){for(d=0;d<u;++d){var Z=(d+1)%u;this.faces.push([G+d,G+Z,G+u+Z]),this.faces.push([G+d,G+u+Z,G+u+d])}G+=u}if(p)for(G+=u,d=0;d<u;++d)this.faces.push([G+d,G+(d+1)%u,G+u])}c.default.prototype.cylinder=function(){var s,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,n=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],p=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],d=(this._assert3d("cylinder"),c.default._validateParameters("cylinder",arguments),"cylinder|".concat(u,"|").concat(o,"|").concat(n,"|").concat(p));return this._renderer.geometryInHash(d)||(s=new c.default.Geometry(u,o),y.call(s,1,1,1,u,o,n,p),u<=24&&o<=16?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(d,s)),this._renderer.drawBuffersScaled(d,i,l,i),this},c.default.prototype.cone=function(){var s,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,n=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],p=(this._assert3d("cone"),c.default._validateParameters("cone",arguments),"cone|".concat(u,"|").concat(o,"|").concat(n));return this._renderer.geometryInHash(p)||(s=new c.default.Geometry(u,o),y.call(s,1,0,1,u,o,n,!1),u<=24&&o<=16?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,s)),this._renderer.drawBuffersScaled(p,i,l,i),this},c.default.prototype.ellipsoid=function(){var s,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:i,o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,n=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,p=(this._assert3d("ellipsoid"),c.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(o,"|").concat(n));return this._renderer.geometryInHash(p)||((s=new c.default.Geometry(o,n,function(){for(var d=0;d<=this.detailY;d++)for(var _=d/this.detailY,S=Math.PI*_-Math.PI/2,j=Math.cos(S),T=Math.sin(S),C=0;C<=this.detailX;C++){var L=C/this.detailX,I=2*Math.PI*L,E=Math.cos(I),I=Math.sin(I),I=new c.default.Vector(j*I,T,j*E);this.vertices.push(I),this.vertexNormals.push(I),this.uvs.push(L,_)}})).computeFaces(),o<=24&&n<=24?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(p,s)),this._renderer.drawBuffersScaled(p,i,l,u),this},c.default.prototype.torus=function(s,p,l,u){if(this._assert3d("torus"),c.default._validateParameters("torus",arguments),s===void 0)s=50;else if(!s)return;if(p===void 0)p=10;else if(!p)return;l===void 0&&(l=24),u===void 0&&(u=16);var o,n=(p/s).toPrecision(4),p="torus|".concat(n,"|").concat(l,"|").concat(u);return this._renderer.geometryInHash(p)||((o=new c.default.Geometry(l,u,function(){for(var d=0;d<=this.detailY;d++)for(var _=d/this.detailY,S=2*Math.PI*_,j=Math.cos(S),T=Math.sin(S),C=1+n*j,L=0;L<=this.detailX;L++){var E=L/this.detailX,I=2*Math.PI*E,U=Math.cos(I),I=Math.sin(I),O=new c.default.Vector(C*U,C*I,n*T),U=new c.default.Vector(j*U,j*I,T);this.vertices.push(O),this.vertexNormals.push(U),this.uvs.push(E,_)}})).computeFaces(),l<=24&&u<=16?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,o)),this._renderer.drawBuffersScaled(p,s,s,s),this},c.default.RendererGL.prototype.point=function(s,i){var l=[];return l.push(new c.default.Vector(s,i,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(l,this.immediateMode.buffers.point),this},c.default.RendererGL.prototype.triangle=function(p){var i=p[0],l=p[1],u=p[2],o=p[3],n=p[4],p=p[5],d=(this.geometryInHash("tri")||((d=new c.default.Geometry(1,1,function(){var j=[];j.push(new c.default.Vector(0,0,0)),j.push(new c.default.Vector(1,0,0)),j.push(new c.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=j,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),d.computeNormals(),this.createBuffers("tri",d)),this.uModelMatrix.copy());try{var _=Math.sign(i*o-u*l+u*p-n*o+n*l-i*p),S=new c.default.Matrix([u-i,o-l,0,0,n-i,p-l,0,0,0,0,_,0,i,l,0,1]).mult(this.uModelMatrix);this.uModelMatrix=S,this.drawBuffers("tri")}finally{this.uModelMatrix=d}return this},c.default.RendererGL.prototype.ellipse=function(s){this.arc(s[0],s[1],s[2],s[3],0,h.TWO_PI,h.OPEN,s[4])},c.default.RendererGL.prototype.arc=function(){var s,i=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1],u=arguments.length<=2?void 0:arguments[2],o=arguments.length<=3?void 0:arguments[3],n=arguments.length<=4?void 0:arguments[4],p=arguments.length<=5?void 0:arguments[5],d=arguments.length<=6?void 0:arguments[6],_=(arguments.length<=7?void 0:arguments[7])||25,S=(Math.abs(p-n)>=h.TWO_PI?"".concat(j="ellipse","|"):"".concat(j="arc","|").concat(n,"|").concat(p,"|").concat(d,"|")).concat(_,"|"),j=(this.geometryInHash(S)||((s=new c.default.Geometry(_,1,function(){if(n.toFixed(10)!==p.toFixed(10)){d!==h.PIE&&d!==void 0||(this.vertices.push(new c.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var T=0;T<=_;T++){var L=(p-n)*(T/_)+n,C=.5+Math.cos(L)/2,L=.5+Math.sin(L)/2;this.vertices.push(new c.default.Vector(C,L,0)),this.uvs.push([C,L]),T<_-1&&(this.faces.push([0,T+1,T+2]),this.edges.push([T+1,T+2]))}switch(d){case h.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case h.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case h.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),_<=50?s._edgesToVertices(s):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(j," with more than 50 detail")),this.createBuffers(S,s)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([i,l,0]),this.uModelMatrix.scale(u,o,1),this.drawBuffers(S)}finally{this.uModelMatrix=j}return this},c.default.RendererGL.prototype.rect=function(s){var i=s[0],l=s[1],u=s[2],o=s[3];if(s[4]===void 0){var d=this._pInst._glAttributes.perPixelLighting,n=s[4]||(d?1:24),p=s[5]||(d?1:16),d="rect|".concat(n,"|").concat(p),_=(this.geometryInHash(d)||((_=new c.default.Geometry(n,p,function(){for(var H=0;H<=this.detailY;H++)for(var G=H/this.detailY,Z=0;Z<=this.detailX;Z++){var Q=Z/this.detailX,le=new c.default.Vector(Q,G,0);this.vertices.push(le),this.uvs.push(Q,G)}0<n&&0<p&&(this.edges=[[0,n],[n,(n+1)*(p+1)-1],[(n+1)*(p+1)-1,(n+1)*p],[(n+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(d,_)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([i,l,0]),this.uModelMatrix.scale(u,o,1),this.drawBuffers(d)}finally{this.uModelMatrix=_}}else{var d=s[4],_=s[5]===void 0?d:s[5],S=s[6]===void 0?_:s[6],s=s[7]===void 0?S:s[7],I=u,j=o,L=((I+=i)<i&&(L=i,i=I,I=L),(j+=l)<l&&(L=l,l=j,j=L),Math.min((I-i)/2,(j-l)/2)),T=(L<d&&(d=L),L<_&&(_=L),L<S&&(S=L),L<s&&(s=L),i),C=l,L=I,i=j,E=(this.beginShape(),_!==0?(this.vertex(L-_,C),this.quadraticVertex(L,C,L,C+_)):this.vertex(L,C),S!==0?(this.vertex(L,i-S),this.quadraticVertex(L,i,L-S,i)):this.vertex(L,i),s!==0?(this.vertex(T+s,i),this.quadraticVertex(T,i,T,i-s)):this.vertex(T,i),d!==0?(this.vertex(T,C+d),this.quadraticVertex(T,C,T+d,C)):this.vertex(T,C),!(this.immediateMode.geometry.uvs.length=0)),l=!1,I=void 0;try{for(var O,U=this.immediateMode.geometry.vertices[Symbol.iterator]();!(E=(O=U.next()).done);E=!0){var D=O.value,B=(D.x-T)/u,X=(D.y-C)/o;this.immediateMode.geometry.uvs.push(B,X)}}catch(w){l=!0,I=w}finally{try{E||U.return==null||U.return()}finally{if(l)throw I}}this.endShape(h.CLOSE)}return this},c.default.RendererGL.prototype.quad=function(s,i,l,u,o,n,p,d,_,S,j,T){var C=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,L=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,E="quad|".concat(s,"|").concat(i,"|").concat(l,"|").concat(u,"|").concat(o,"|").concat(n,"|").concat(p,"|").concat(d,"|").concat(_,"|").concat(S,"|").concat(j,"|").concat(T,"|").concat(C,"|").concat(L);if(!this.geometryInHash(E)){var I=new c.default.Geometry(C,L,function(){for(var Z=1/(this.detailX-1),Q=1/(this.detailY-1),le=0;le<this.detailY;le++)for(var w=0;w<this.detailX;w++){var R=w*Z,N=le*Q;this.vertices.push(new c.default.Vector((1-R)*((1-N)*s+N*S)+R*((1-N)*u+N*p),(1-R)*((1-N)*i+N*j)+R*((1-N)*o+N*d),(1-R)*((1-N)*l+N*T)+R*((1-N)*n+N*_))),this.uvs.push([R,N])}});I.faces=[];for(var O=0;O<L-1;O++)for(var U=0;U<C-1;U++){var D=U+O*C,B=U+1+(O+1)*C,X=U+(O+1)*C;I.faces.push([D,U+1+O*C,B]),I.faces.push([D,B,X])}I.computeNormals();for(var H=[I.edges.length=0,2,3,1],G=0;G<H.length;G++)I.edges.push([H[G],H[(G+1)%H.length]]);I._edgesToVertices(),this.createBuffers(E,I)}return this.drawBuffers(E),this},c.default.RendererGL.prototype.bezier=function(s,i,l,u,o,n,p,d,_,S,j,T){arguments.length===8&&(j=d,S=p,d=n,p=o,o=u,u=l,l=n=_=T=0);var C=this._pInst._bezierDetail||20;this.beginShape();for(var L=0;L<=C;L++){var E=Math.pow(1-L/C,3),I=L/C*3*Math.pow(1-L/C,2),O=3*Math.pow(L/C,2)*(1-L/C),U=Math.pow(L/C,3);this.vertex(s*E+u*I+p*O+S*U,i*E+o*I+d*O+j*U,l*E+n*I+_*O+T*U)}return this.endShape(),this},c.default.RendererGL.prototype.curve=function(s,i,l,u,o,n,p,d,_,S,j,T){arguments.length===8&&(S=p,j=d,p=o,d=u,o=u=l,l=n=_=T=0);var C=this._pInst._curveDetail;this.beginShape();for(var L=0;L<=C;L++){var E=.5*Math.pow(L/C,3),I=.5*Math.pow(L/C,2),O=L/C*.5;this.vertex(E*(3*u-s-3*p+S)+I*(2*s-5*u+4*p-S)+O*(-s+p)+2*u*.5,E*(3*o-i-3*d+j)+I*(2*i-5*o+4*d-j)+O*(-i+d)+2*o*.5,E*(3*n-l-3*_+T)+I*(2*l-5*n+4*_-T)+O*(-l+_)+2*n*.5)}return this.endShape(),this},c.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},c.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var s,i,l,u,o,n,p=[],d=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var S=1/this._lutBezierDetail,j=S,T=1,C=0;j<1;){if(n=parseFloat(j.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(n),T.toFixed(6)===S.toFixed(6)){n=parseFloat(T.toFixed(6))+parseFloat(j.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(n);break}j+=S,T-=S,++C}}for(var L=this._lookUpTableBezier.length,E=[],I=0;I<4;I++)E.push([]);E[0]=this.immediateMode.geometry.vertexColors.slice(-4),E[3]=this.curFillColor.slice();var O=[];for(I=0;I<4;I++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[3]=this.curStrokeColor.slice(),_===6){this.isBezier=!0;var p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],d=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],U=Math.hypot(p[0]-p[1],d[0]-d[1]),B=Math.hypot(p[1]-p[2],d[1]-d[2]),D=Math.hypot(p[2]-p[3],d[2]-d[3]),B=U+B+D;for(U/=B,D/=B,o=0;o<4;o++)E[1].push(E[0][o]*(1-U)+E[3][o]*U),E[2].push(E[0][o]*D+E[3][o]*(1-D)),O[1].push(O[0][o]*(1-U)+O[3][o]*U),O[2].push(O[0][o]*D+O[3][o]*(1-D));for(u=0;u<L;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=s=i=0;I<4;I++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableBezier[u][I]*E[I][o],this.curStrokeColor[o]+=this._lookUpTableBezier[u][I]*O[I][o];s+=p[I]*this._lookUpTableBezier[u][I],i+=d[I]*this._lookUpTableBezier[u][I]}this.vertex(s,i)}this.curFillColor=E[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(_===9){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],d=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var X=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],H=Math.hypot(p[0]-p[1],d[0]-d[1],X[0]-X[1]),B=Math.hypot(p[1]-p[2],d[1]-d[2],X[1]-X[2]),G=Math.hypot(p[2]-p[3],d[2]-d[3],X[2]-X[3]),_=H+B+G;for(H/=_,G/=_,o=0;o<4;o++)E[1].push(E[0][o]*(1-H)+E[3][o]*H),E[2].push(E[0][o]*G+E[3][o]*(1-G)),O[1].push(O[0][o]*(1-H)+O[3][o]*H),O[2].push(O[0][o]*G+O[3][o]*(1-G));for(u=0;u<L;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=s=i=l=0;I<4;I++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableBezier[u][I]*E[I][o],this.curStrokeColor[o]+=this._lookUpTableBezier[u][I]*O[I][o];s+=p[I]*this._lookUpTableBezier[u][I],i+=d[I]*this._lookUpTableBezier[u][I],l+=X[I]*this._lookUpTableBezier[u][I]}this.vertex(s,i,l)}this.curFillColor=E[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},c.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var s,i,l,u,o,n,p=[],d=[],_=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var S=1/this._lutQuadraticDetail,j=S,T=1,C=0;j<1;){if(n=parseFloat(j.toFixed(6)),this._lookUpTableQuadratic[C]=this._quadraticCoefficients(n),T.toFixed(6)===S.toFixed(6)){n=parseFloat(T.toFixed(6))+parseFloat(j.toFixed(6)),++C,this._lookUpTableQuadratic[C]=this._quadraticCoefficients(n);break}j+=S,T-=S,++C}}for(var L=this._lookUpTableQuadratic.length,E=[],I=0;I<3;I++)E.push([]);E[0]=this.immediateMode.geometry.vertexColors.slice(-4),E[2]=this.curFillColor.slice();var O=[];for(I=0;I<3;I++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[2]=this.curStrokeColor.slice(),_===4){this.isQuadratic=!0;var p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],d=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],U=Math.hypot(p[0]-p[1],d[0]-d[1]);for(U/=U+Math.hypot(p[1]-p[2],d[1]-d[2]),o=0;o<4;o++)E[1].push(E[0][o]*(1-U)+E[2][o]*U),O[1].push(O[0][o]*(1-U)+O[2][o]*U);for(u=0;u<L;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=s=i=0;I<3;I++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableQuadratic[u][I]*E[I][o],this.curStrokeColor[o]+=this._lookUpTableQuadratic[u][I]*O[I][o];s+=p[I]*this._lookUpTableQuadratic[u][I],i+=d[I]*this._lookUpTableQuadratic[u][I]}this.vertex(s,i)}this.curFillColor=E[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(_===6){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],d=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var D=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(p[0]-p[1],d[0]-d[1],D[0]-D[1]);for(B/=B+Math.hypot(p[1]-p[2],d[1]-d[2],D[1]-D[2]),o=0;o<4;o++)E[1].push(E[0][o]*(1-B)+E[2][o]*B),O[1].push(O[0][o]*(1-B)+O[2][o]*B);for(u=0;u<L;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=s=i=l=0;I<3;I++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableQuadratic[u][I]*E[I][o],this.curStrokeColor[o]+=this._lookUpTableQuadratic[u][I]*O[I][o];s+=p[I]*this._lookUpTableQuadratic[u][I],i+=d[I]*this._lookUpTableQuadratic[u][I],l+=D[I]*this._lookUpTableQuadratic[u][I]}this.vertex(s,i,l)}this.curFillColor=E[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},c.default.RendererGL.prototype.curveVertex=function(){var s,i,l,u,o,n,p=[],d=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var S=1/this._lutBezierDetail,j=S,T=1,C=0;j<1;){if(n=parseFloat(j.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(n),T.toFixed(6)===S.toFixed(6)){n=parseFloat(T.toFixed(6))+parseFloat(j.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(n);break}j+=S,T-=S,++C}}var L=this._lookUpTableBezier.length;if(_===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),d=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),o=0;o<L;o++)i=p[0]*this._lookUpTableBezier[o][0]+p[1]*this._lookUpTableBezier[o][1]+p[2]*this._lookUpTableBezier[o][2]+p[3]*this._lookUpTableBezier[o][3],l=d[0]*this._lookUpTableBezier[o][0]+d[1]*this._lookUpTableBezier[o][1]+d[2]*this._lookUpTableBezier[o][2]+d[3]*this._lookUpTableBezier[o][3],this.vertex(i,l);for(o=0;o<_;o++)this.immediateMode._curveVertex.shift()}}else if(_===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),d=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),o=0;o<L;o++)i=p[0]*this._lookUpTableBezier[o][0]+p[1]*this._lookUpTableBezier[o][1]+p[2]*this._lookUpTableBezier[o][2]+p[3]*this._lookUpTableBezier[o][3],l=d[0]*this._lookUpTableBezier[o][0]+d[1]*this._lookUpTableBezier[o][1]+d[2]*this._lookUpTableBezier[o][2]+d[3]*this._lookUpTableBezier[o][3],u=s[0]*this._lookUpTableBezier[o][0]+s[1]*this._lookUpTableBezier[o][1]+s[2]*this._lookUpTableBezier[o][2]+s[3]*this._lookUpTableBezier[o][3],this.vertex(i,l,u);for(o=0;o<_;o++)this.immediateMode._curveVertex.shift()}},c.default.RendererGL.prototype.image=function(s,T,l,C,o,n,p,d,_){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(s),this._pInst.textureMode(h.NORMAL);var S=0,j=(T<=s.width&&(S=T/s.width),1),T=(T+C<=s.width&&(j=(T+C)/s.width),0),C=(l<=s.height&&(T=l/s.height),1);l+o<=s.height&&(C=(l+o)/s.height),this.beginShape(),this.vertex(n,p,0,S,T),this.vertex(n+d,p,0,j,T),this.vertex(n+d,p+_,0,j,C),this.vertex(n,p+_,0,S,C),this.endShape(h.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(h.REMOVE)};var r=c.default;A.default=r},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,q,A){function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function g(i){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(l){return m(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":m(l)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(s=t("../core/main"))&&s.__esModule?s:{default:s},h=(function(i){if(i&&i.__esModule)return i;if(i===null||g(i)!=="object"&&typeof i!="function")return{default:i};var l=b();if(l&&l.has(i))return l.get(i);var u,o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var p;Object.prototype.hasOwnProperty.call(i,u)&&((p=n?Object.getOwnPropertyDescriptor(i,u):null)&&(p.get||p.set)?Object.defineProperty(o,u,p):o[u]=i[u])}return o.default=i,l&&l.set(i,o),o})(t("../core/constants"));function b(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,b=function(){return i},i)}function y(i){return(function(l){if(Array.isArray(l)){for(var u=0,o=new Array(l.length);u<l.length;u++)o[u]=l[u];return o}})(i)||(function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)})(i)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function r(i,l){for(var u=0;u<l.length;u++){var o=l[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}var s=(function(){function i(o){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");(this.renderer=o)._pInst.push(),this.identityMatrix=new c.default.Matrix,o.uModelMatrix=new c.default.Matrix,this.geometry=new c.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(i.nextGeometryId),i.nextGeometryId++,this.hasTransform=!1}var l,u;return l=i,(u=[{key:"transformVertices",value:function(o){var n=this;return this.hasTransform?o.map(function(p){return n.renderer.uModelMatrix.multiplyPoint(p)}):o}},{key:"transformNormals",value:function(o){var n=this;return this.hasTransform?o.map(function(p){return n.renderer.uNMatrix.multiplyVec3(p)}):o}},{key:"addGeometry",value:function(o){for(var n,p=this,d=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(S,j){return S===p.identityMatrix.mat4[j]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),_=((n=this.geometry.vertices).push.apply(n,y(this.transformVertices(o.vertices))),(n=this.geometry.vertexNormals).push.apply(n,y(this.transformNormals(o.vertexNormals))),(n=this.geometry.uvs).push.apply(n,y(o.uvs)),this.renderer._doFill&&(n=this.geometry.faces).push.apply(n,y(o.faces.map(function(S){return S.map(function(j){return j+d})}))),this.renderer._doStroke&&(n=this.geometry.edges).push.apply(n,y(o.edges.map(function(S){return S.map(function(j){return j+d})}))),y(o.vertexColors));_.length<4*o.vertices.length;)_.push.apply(_,y(this.renderer.curFillColor));(n=this.geometry.vertexColors).push.apply(n,y(_))}},{key:"addImmediate",value:function(){var o=this.renderer.immediateMode.geometry,n=this.renderer.immediateMode.shapeMode,p=[];if(this.renderer._doFill)if(n===h.TRIANGLE_STRIP||n===h.QUAD_STRIP)for(var d=2;d<o.vertices.length;d++)d%2==0?p.push([d,d-1,d-2]):p.push([d,d-2,d-1]);else if(n===h.TRIANGLE_FAN)for(var _=2;_<o.vertices.length;_++)p.push([0,_-1,_]);else for(var S=0;S<o.vertices.length;S+=3)p.push([S,S+1,S+2]);this.addGeometry(Object.assign({},o,{faces:p}))}},{key:"addRetained",value:function(o){this.addGeometry(o.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&r(l.prototype,u),i})();s.nextGeometryId=0,A.default=s},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,q,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var g=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=(function(r){if(r&&r.__esModule)return r;if(r===null||b(r)!=="object"&&typeof r!="function")return{default:r};var s=h();if(s&&s.has(r))return s.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var o;Object.prototype.hasOwnProperty.call(r,i)&&((o=u?Object.getOwnPropertyDescriptor(r,i):null)&&(o.get||o.set)?Object.defineProperty(l,i,o):l[i]=r[i])}return l.default=r,s&&s.set(r,l),l})(t("../core/constants"));function h(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,h=function(){return r},r)}function b(r){return(b=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(s){return m(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":m(s)})(r)}g.default.prototype.orbitControl=function(r,s,i,_){var u=this,o=(this._assert3d("orbitControl"),g.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);r===void 0&&(r=1),s===void 0&&(s=r),i===void 0&&(i=1),b(_)!=="object"&&(_={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var j=_.disableTouchActions;this.touchActionsDisabled===!0||j!==void 0&&!j||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var n,p,d,j=_.freeRotation,_=j!==void 0&&j,S=[],j=(this.touches.forEach(function(U){u._renderer.prevTouches.forEach(function(D){U.id===D.id&&(D={x:U.x,y:U.y,px:D.x,py:D.y},S.push(D))})}),this._renderer.prevTouches=this.touches,0),T=0,C=0,L=0,E=0,I=this.height<this.width?this.height:this.width,O=!1;return 0<S.length?(O=0<S[0].x&&S[0].x<this.width&&0<S[0].y&&S[0].y<this.height,S.length===1?(T=-r*((n=S[0]).x-n.px)/I,C=s*(n.y-n.py)/I):(n=S[0],p=S[1],j=-(Math.hypot(n.x-p.x,n.y-p.y)-Math.hypot(n.px-p.px,n.py-p.py))*i*4e-4,L=.5*(n.x+p.x)-.5*(n.px+p.px),E=.5*(n.y+p.y)-.5*(n.py+p.py)),0<this.touches.length?O&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(O=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(j=Math.sign(this._mouseWheelDeltaY)*i,j*=.01,this._mouseWheelDeltaY=0,O&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(T=-r*this.movedX/I,C=s*this.movedY/I):this.mouseButton===this.RIGHT&&(L=this.movedX,E=this.movedY*o.yScale),O&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),j!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=j),.001<Math.abs(this._renderer.zoomVelocity)?(_?o._orbitFree(0,0,this._renderer.zoomVelocity):o._orbit(0,0,this._renderer.zoomVelocity),o.projMatrix.mat4[15]!==0&&(o.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),o.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=o.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=o.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,T===0&&C===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*T,.6*C),1e-6<this._renderer.rotateVelocity.magSq()?(_?o._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):o._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),L===0&&E===0||!this._renderer.executeRotateAndMove||(n=2*L/this.width,p=2*-E/this.height,this._renderer.moveVelocity.add(.15*n,.15*p)),1e-6<this._renderer.moveVelocity.magSq()?(i=o._getLocalAxes(),r=o.eyeX-o.centerX,s=o.eyeY-o.centerY,I=o.eyeZ-o.centerZ,O=Math.sqrt(r*r+s*s+I*I),j=new g.default.Vector(o.centerX,o.centerY,o.centerZ),j=o.cameraMatrix.multiplyPoint(j),(j=this._renderer.uPMatrix.multiplyAndNormalizePoint(j)).x-=this._renderer.moveVelocity.x,j.y-=this._renderer.moveVelocity.y,C=(T=this._renderer.uPMatrix.mat4)[15]===0?(d=(T[8]+j.x)/T[0]*O,(T[9]+j.y)/T[5]*O):(d=(j.x-T[12])/T[0],(j.y-T[13])/T[5]),o.setPosition(o.eyeX+d*i.x[0]+C*i.y[0],o.eyeY+d*i.x[1]+C*i.y[1],o.eyeZ+d*i.x[2]+C*i.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},g.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];g.default._validateParameters("debugMode",s);for(var l=this._registeredMethods.post.length-1;0<=l;l--)this._registeredMethods.post[l].toString()!==this._grid().toString()&&this._registeredMethods.post[l].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(l,1);s[0]===c.GRID?this.registerMethod("post",this._grid(s[1],s[2],s[3],s[4],s[5])):s[0]===c.AXES?this.registerMethod("post",this._axesIcon(s[1],s[2],s[3],s[4])):(this.registerMethod("post",this._grid(s[0],s[1],s[2],s[3],s[4])),this.registerMethod("post",this._axesIcon(s[5],s[6],s[7],s[8])))},g.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var r=this._registeredMethods.post.length-1;0<=r;r--)this._registeredMethods.post[r].toString()!==this._grid().toString()&&this._registeredMethods.post[r].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(r,1)},g.default.prototype._grid=function(r,s,i,l,u){r===void 0&&(r=this.width/2),s===void 0&&(s=Math.round(r/30)<4?4:Math.round(r/30)),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0);var o=r/s,n=r/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var p=0;p<=s;p++)this.beginShape(this.LINES),this.vertex(-n+i,l,p*o-n+u),this.vertex(n+i,l,p*o-n+u),this.endShape();for(var d=0;d<=s;d++)this.beginShape(this.LINES),this.vertex(d*o-n+i,l,-n+u),this.vertex(d*o-n+i,l,n+u),this.endShape();this.pop()}},g.default.prototype._axesIcon=function(r,s,i,l){return r===void 0&&(r=40<this.width/20?this.width/20:40),s===void 0&&(s=-this.width/4),i===void 0&&(i=s),l===void 0&&(l=s),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(s,i,l),this.vertex(s+r,i,l),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(s,i,l),this.vertex(s,i+r,l),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(s,i,l),this.vertex(s,i,l+r),this.endShape(),this.pop()}};var y=g.default;A.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,q,A){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};m.default.prototype.ambientLight=function(g,c,h,b){this._assert3d("ambientLight"),m.default._validateParameters("ambientLight",arguments);var y=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(y._array[0],y._array[1],y._array[2]),this._renderer._enableLighting=!0,this},m.default.prototype.specularColor=function(g,c,h){this._assert3d("specularColor"),m.default._validateParameters("specularColor",arguments);var b=this.color.apply(this,arguments);return this._renderer.specularColors=[b._array[0],b._array[1],b._array[2]],this},m.default.prototype.directionalLight=function(g,u,l,b,y,r){this._assert3d("directionalLight"),m.default._validateParameters("directionalLight",arguments),g=g instanceof m.default.Color?g:this.color(g,u,l);var s,i,u=arguments[arguments.length-1],l=typeof u=="number"?(s=arguments[arguments.length-3],i=arguments[arguments.length-2],arguments[arguments.length-1]):(s=u.x,i=u.y,u.z),u=Math.sqrt(s*s+i*i+l*l);return this._renderer.directionalLightDirections.push(s/u,i/u,l/u),this._renderer.directionalLightDiffuseColors.push(g._array[0],g._array[1],g._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},m.default.prototype.pointLight=function(g,l,u,b,y,r){this._assert3d("pointLight"),m.default._validateParameters("pointLight",arguments),g=g instanceof m.default.Color?g:this.color(g,l,u);var s,i,l=arguments[arguments.length-1],u=typeof l=="number"?(s=arguments[arguments.length-3],i=arguments[arguments.length-2],arguments[arguments.length-1]):(s=l.x,i=l.y,l.z);return this._renderer.pointLightPositions.push(s,i,u),this._renderer.pointLightDiffuseColors.push(g._array[0],g._array[1],g._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},m.default.prototype.imageLight=function(g){this._renderer.activeImageLight=g,this._renderer._enableLighting=!0},m.default.prototype.panorama=function(g){this.filter(this._renderer._getSphereMapping(g))},m.default.prototype.lights=function(){this._assert3d("lights");var g=this.color("rgb(128,128,128)");return this.ambientLight(g),this.directionalLight(g,0,0,-1),this},m.default.prototype.lightFalloff=function(g,c,h){return this._assert3d("lightFalloff"),m.default._validateParameters("lightFalloff",arguments),g<0&&(g=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),h<0&&(h=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),g===0&&c===0&&h===0&&(g=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=g,this._renderer.linearAttenuation=c,this._renderer.quadraticAttenuation=h,this},m.default.prototype.spotLight=function(g,c,h,b,y,r,s,i,l,u,o){this._assert3d("spotLight"),m.default._validateParameters("spotLight",arguments);var n,p,d,_=arguments.length;switch(_){case 11:case 10:n=this.color(g,c,h),p=new m.default.Vector(b,y,r),d=new m.default.Vector(s,i,l);break;case 9:g instanceof m.default.Color?(n=g,p=new m.default.Vector(c,h,b),d=new m.default.Vector(y,r,s),u=i,o=l):b instanceof m.default.Vector?(n=this.color(g,c,h),p=b,d=new m.default.Vector(y,r,s),u=i,o=l):s instanceof m.default.Vector?(n=this.color(g,c,h),p=new m.default.Vector(b,y,r),d=s,u=i,o=l):(n=this.color(g,c,h),p=new m.default.Vector(b,y,r),d=new m.default.Vector(s,i,l));break;case 8:u=(d=g instanceof m.default.Color?(n=g,p=new m.default.Vector(c,h,b),new m.default.Vector(y,r,s)):b instanceof m.default.Vector?(n=this.color(g,c,h),p=b,new m.default.Vector(y,r,s)):(n=this.color(g,c,h),p=new m.default.Vector(b,y,r),s),i);break;case 7:g instanceof m.default.Color&&c instanceof m.default.Vector?(n=g,p=c,d=new m.default.Vector(h,b,y),u=r,o=s):g instanceof m.default.Color&&y instanceof m.default.Vector?(n=g,p=new m.default.Vector(c,h,b),d=y,u=r,o=s):b instanceof m.default.Vector&&y instanceof m.default.Vector?(n=this.color(g,c,h),p=b,d=y,u=r,o=s):d=g instanceof m.default.Color?(n=g,p=new m.default.Vector(c,h,b),new m.default.Vector(y,r,s)):b instanceof m.default.Vector?(n=this.color(g,c,h),p=b,new m.default.Vector(y,r,s)):(n=this.color(g,c,h),p=new m.default.Vector(b,y,r),s);break;case 6:b instanceof m.default.Vector&&y instanceof m.default.Vector?(n=this.color(g,c,h),p=b,d=y,u=r):g instanceof m.default.Color&&y instanceof m.default.Vector?(n=g,p=new m.default.Vector(c,h,b),d=y,u=r):g instanceof m.default.Color&&c instanceof m.default.Vector&&(n=g,p=c,d=new m.default.Vector(h,b,y),u=r);break;case 5:g instanceof m.default.Color&&c instanceof m.default.Vector&&h instanceof m.default.Vector?(n=g,p=c,d=h,u=b,o=y):b instanceof m.default.Vector&&y instanceof m.default.Vector?(n=this.color(g,c,h),p=b,d=y):g instanceof m.default.Color&&y instanceof m.default.Vector?(n=g,p=new m.default.Vector(c,h,b),d=y):g instanceof m.default.Color&&c instanceof m.default.Vector&&(n=g,p=c,d=new m.default.Vector(h,b,y));break;case 4:n=g,p=c,d=h,u=b;break;case 3:n=g,p=c,d=h;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(_<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(n._array[0],n._array[1],n._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),d.normalize(),this._renderer.spotLightDirections.push(d.x,d.y,d.z),u===void 0&&(u=Math.PI/3),o!==void 0&&o<1?(o=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):o===void 0&&(o=100),u=this._renderer._pInst._toRadians(u),this._renderer.spotLightAngle.push(Math.cos(u)),this._renderer.spotLightConc.push(o),this._renderer._enableLighting=!0,this},m.default.prototype.noLights=function(){this._assert3d("noLights");for(var g=arguments.length,c=new Array(g),h=0;h<g;h++)c[h]=arguments[h];return m.default._validateParameters("noLights",c),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=m.default,A.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,q,A){function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t("regenerator-runtime/runtime");var g=(l=t("../core/main"))&&l.__esModule?l:{default:l};function c(u){return(function(o){if(Array.isArray(o)){for(var n=0,p=new Array(o.length);n<o.length;n++)p[n]=o[n];return p}})(u)||(function(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)})(u)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function h(u,o,n,p,d,_,S){try{var j=u[_](S),T=j.value}catch(C){return void n(C)}j.done?o(T):Promise.resolve(T).then(p,d)}function b(u){return function(){var o=this,n=arguments;return new Promise(function(p,d){var _=u.apply(o,n);function S(T){h(_,p,d,S,j,"next",T)}function j(T){h(_,p,d,S,j,"throw",T)}S(void 0)})}}function y(u){return(y=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(o){return m(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":m(o)})(u)}function r(u,o,n){for(var p=2<arguments.length&&n!==void 0?n:{},d={v:[],vt:[],vn:[]},_={},S=null,j=new Set,T=!1,C=!1,L=0;L<o.length;++L){var E=o[L].trim().split(/\b\s+/);if(0<E.length){if(E[0]==="usemtl")S=E[1];else if(E[0]==="v"||E[0]==="vn"){var I=new g.default.Vector(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3]));d[E[0]].push(I)}else if(E[0]==="vt")I=[parseFloat(E[1]),1-parseFloat(E[2])],d[E[0]].push(I);else if(E[0]==="f")for(var O=3;O<E.length;++O){for(var U=[],D=[1,O-1,O],B=0;B<D.length;++B){for(var X,H=E[D[B]],G=H.split("/"),Z=0;Z<G.length;Z++)G[Z]=parseInt(G[Z])-1;_[H]||(_[H]={}),_[H][S]===void 0?(X=u.vertices.length,u.vertices.push(d.v[G[0]].copy()),u.uvs.push(d.vt[G[1]]?d.vt[G[1]].slice():[0,0]),u.vertexNormals.push(d.vn[G[2]]?d.vn[G[2]].copy():new g.default.Vector),_[H][S]=X,U.push(X),S&&p[S]&&p[S].diffuseColor&&j.add(d.v[G[0]])):U.push(_[H][S])}if(U[0]!==U[1]&&U[0]!==U[2]&&U[1]!==U[2])if(u.faces.push(U),S&&p[S]&&p[S].diffuseColor)for(var T=T=!0,Q=p[S].diffuseColor,le=0;le<U.length;le++)u.vertexColors.push(Q[0]),u.vertexColors.push(Q[1]),u.vertexColors.push(Q[2]);else C=!0}}}if(u.vertexNormals.length===0&&u.computeNormals(),T===C)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function s(u,o){if((function(ye){for(var te=new DataView(ye),me=[115,111,108,105,100],we=0;we<5;we++)if((function(Ee,xe,Te){for(var Pe=0,We=Ee.length;Pe<We;Pe++)if(Ee[Pe]!==xe.getUint8(Te+Pe,!1))return;return 1})(me,te,we))return;return 1})(o)){for(var n,p,d,_,S,j,T,C=u,L=new DataView(o),E=L.getUint32(80,!0),I=!1,O=0;O<70;O++)L.getUint32(O,!1)===1129270351&&L.getUint8(O+4)===82&&L.getUint8(O+5)===61&&(I=!0,_=[],S=L.getUint8(O+6)/255,j=L.getUint8(O+7)/255,T=L.getUint8(O+8)/255);for(var U=0;U<E;U++){for(var D,B=84+50*U,X=L.getFloat32(B,!0),H=L.getFloat32(4+B,!0),G=L.getFloat32(8+B,!0),Z=(I&&(D=L.getUint16(48+B,!0),d=(32768&D)==0?(n=(31&D)/31,p=(D>>5&31)/31,(D>>10&31)/31):(n=S,p=j,T)),new g.default.Vector(X,H,G)),Q=1;Q<=3;Q++){var le=B+12*Q,le=new g.default.Vector(L.getFloat32(le,!0),L.getFloat32(4+le,!0),L.getFloat32(8+le,!0));C.vertices.push(le),C.vertexNormals.push(Z),I&&_.push(n,p,d)}C.faces.push([3*U,3*U+1,3*U+2]),C.uvs.push([0,0],[0,0],[0,0])}}else if(o=new DataView(o),"TextDecoder"in window)for(var w,R,N=u,W=new TextDecoder("utf-8").decode(o).split(`
`),J="",re=[],ue=0;ue<W.length;++ue){for(var ge=W[ue].trim(),se=ge.split(" "),pe=0;pe<se.length;++pe)se[pe]===""&&se.splice(pe,1);if(se.length!==0)switch(J){case"":if(se[0]!=="solid")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "solid"'));J="solid";break;case"solid":if(se[0]!=="facet"||se[1]!=="normal")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "facet normal"'));w=new g.default.Vector(parseFloat(se[2]),parseFloat(se[3]),parseFloat(se[4])),N.vertexNormals.push(w,w,w),J="facet normal";break;case"facet normal":if(se[0]!=="outer"||se[1]!=="loop")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "outer loop"'));J="vertex";break;case"vertex":if(se[0]==="vertex")R=new g.default.Vector(parseFloat(se[1]),parseFloat(se[2]),parseFloat(se[3])),N.vertices.push(R),N.uvs.push([0,0]),re.push(N.vertices.indexOf(R));else{if(se[0]!=="endloop")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "vertex" or "endloop"'));N.faces.push(re),re=[],J="endloop"}break;case"endloop":if(se[0]!=="endfacet")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "endfacet"'));J="endfacet";break;case"endfacet":if(se[0]!=="endsolid"){if(se[0]!=="facet"||se[1]!=="normal")return console.error(ge),void console.error('Invalid state "'.concat(se[0],'", should be "endsolid" or "facet normal"'));w=new g.default.Vector(parseFloat(se[2]),parseFloat(se[3]),parseFloat(se[4])),N.vertexNormals.push(w,w,w),J="facet normal"}break;default:console.error('Invalid state "'.concat(J,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),g.default.prototype.loadModel=function(u,o){g.default._validateParameters("loadModel",arguments);var n,p,d=!1,_=!1,S=!1,j=u.slice(-4),T=(o&&y(o)==="object"?(d=o.normalize||!1,n=o.successCallback,p=o.failureCallback,j=o.fileType||j,_=o.flipU||!1,S=o.flipV||!1):typeof o=="boolean"?(d=o,n=arguments[2],p=arguments[3],arguments[4]!==void 0&&(j=arguments[4])):(n=typeof o=="function"?o:void 0,p=arguments[2],arguments[3]!==void 0&&(j=arguments[3])),new g.default.Geometry),C=(T.gid="".concat(u,"|").concat(d),this);function L(){return(L=b(regeneratorRuntime.mark(function I(O){var U,D,B,X;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:for(U=[],D=0;D<O.length;D++)(B=O[D].match(/^mtllib (.+)/))&&(function(){var G="",Z=B[1],Q=u.split("/");G=1<Q.length?(Q.pop(),Q.join("/")+"/"+Z):Z,U.push((function(){return E.apply(this,arguments)})(G).then(function(le){return le?(w=C,R=G,new Promise(function(N,W){var J=null,re={};w.loadStrings(R,function(ue){for(var ge=0;ge<ue.length;++ge){var se,pe=ue[ge].trim().split(/\s+/);pe[0]==="newmtl"?(se=pe[1],re[J=se]={}):pe[0]==="Kd"?re[J].diffuseColor=[parseFloat(pe[1]),parseFloat(pe[2]),parseFloat(pe[3])]:pe[0]==="Ka"?re[J].ambientColor=[parseFloat(pe[1]),parseFloat(pe[2]),parseFloat(pe[3])]:pe[0]==="Ks"?re[J].specularColor=[parseFloat(pe[1]),parseFloat(pe[2]),parseFloat(pe[3])]:pe[0]==="map_Kd"&&(re[J].texturePath=pe[1])}N(re)},W)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(G)),{});var w,R}).catch(function(le){return console.warn("Error loading MTL file: ".concat(G),le),{}}))})();return H.prev=2,H.next=5,Promise.all(U);case 5:return X=H.sent,X=Object.assign.apply(Object,[{}].concat(c(X))),H.abrupt("return",X);case 10:return H.prev=10,H.t0=H.catch(2),H.abrupt("return",{});case 13:case"end":return H.stop()}},I,null,[[2,10]])}))).apply(this,arguments)}function E(){return(E=b(regeneratorRuntime.mark(function I(O){var U;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,fetch(O,{method:"HEAD"});case 3:return U=D.sent,D.abrupt("return",U.ok);case 7:return D.prev=7,D.t0=D.catch(0),D.abrupt("return",!1);case 10:case"end":return D.stop()}},I,null,[[0,7]])}))).apply(this,arguments)}return j.match(/\.stl$/i)?this.httpDo(u,"GET","arrayBuffer",function(I){s(T,I),d&&T.normalize(),_&&T.flipU(),S&&T.flipV(),C._decrementPreload(),typeof n=="function"&&n(T)},p):j.match(/\.obj$/i)?this.loadStrings(u,(function(){var I=b(regeneratorRuntime.mark(function O(U){var D;return regeneratorRuntime.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,(function(){return L.apply(this,arguments)})(U);case 3:D=B.sent,r(T,U,D),B.next=11;break;case 7:return B.prev=7,B.t0=B.catch(0),p?p(B.t0):g.default._friendlyError("Error during parsing: "+B.t0.message),B.abrupt("return");case 11:return B.prev=11,d&&T.normalize(),_&&T.flipU(),S&&T.flipV(),T._makeTriangleEdges(),C._decrementPreload(),typeof n=="function"&&n(T),B.finish(11);case 19:case"end":return B.stop()}},O,null,[[0,7,11,19]])}));return function(O){return I.apply(this,arguments)}})(),p):(g.default._friendlyFileLoadError(3,u),p?p():g.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),T},g.default.prototype.model=function(u){this._assert3d("model"),g.default._validateParameters("model",arguments),0<u.vertices.length&&(this._renderer.geometryInHash(u.gid)||(u._edgesToVertices(),this._renderer.createBuffers(u.gid,u)),this._renderer.drawBuffers(u.gid))};var i=0,l=(g.default.prototype.createModel=function(u){var o,n,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",j=2<arguments.length?arguments[2]:void 0,d=(g.default._validateParameters("createModel",arguments),!1),_=!1,S=!1,j=(j&&y(j)==="object"?(d=j.normalize||!1,o=j.successCallback,n=j.failureCallback,_=j.flipU||!1,S=j.flipV||!1):n=typeof j=="boolean"?(d=j,o=arguments[3],arguments[4]):(o=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new g.default.Geometry);if(j.gid="".concat(p,"|").concat(d,"|").concat(i++),p.match(/\.stl$/i))try{s(j,new TextEncoder().encode(u).buffer)}catch(T){return void(n?n(T):g.default._friendlyError("Error during parsing: "+T.message))}else if(p.match(/\.obj$/i))try{r(j,u.split(`
`))}catch(T){return void(n?n(T):g.default._friendlyError("Error during parsing: "+T.message))}else g.default._friendlyFileLoadError(3,u),n?n():g.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return d&&j.normalize(),_&&j.flipU(),S&&j.flipV(),j._makeTriangleEdges(),typeof o=="function"&&o(j),j},g.default);A.default=l},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,q,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(s){return m(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":m(s)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},h=(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var s=b();if(s&&s.has(r))return s.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var o;Object.prototype.hasOwnProperty.call(r,i)&&((o=u?Object.getOwnPropertyDescriptor(r,i):null)&&(o.get||o.set)?Object.defineProperty(l,i,o):l[i]=r[i])}return l.default=r,s&&s.set(r,l),l})(t("../core/constants"));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}t("./p5.Texture"),c.default.prototype.loadShader=function(r,s,i,l){c.default._validateParameters("loadShader",arguments),l=l||console.error;function u(){n._decrementPreload(),i&&i(o)}var o=new c.default.Shader,n=this,p=!1,d=!1;return this.loadStrings(r,function(_){o._vertSrc=_.join(`
`),d=!0,p&&u()},l),this.loadStrings(s,function(_){o._fragSrc=_.join(`
`),p=!0,d&&u()},l),o},c.default.prototype.createShader=function(r,s,i){return c.default._validateParameters("createShader",arguments),new c.default.Shader(this._renderer,r,s,i)},c.default.prototype.createFilterShader=function(r){c.default._validateParameters("createFilterShader",arguments);var s=r.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,s=new c.default.Shader(this._renderer,s,r);return this._renderer.GL?s.ensureCompiledOnContext(this):s.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),s},c.default.prototype.shader=function(r){return this._assert3d("shader"),c.default._validateParameters("shader",arguments),r.ensureCompiledOnContext(this),r.isStrokeShader()?this._renderer.userStrokeShader=r:(this._renderer.userFillShader=r,this._renderer._useNormalMaterial=!1),r.setDefaultUniforms(),this},c.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},c.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},c.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},c.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},c.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},c.default.prototype.texture=function(r){return this._assert3d("texture"),c.default._validateParameters("texture",arguments),r.gifProperties&&r._animateGif(this),this._renderer.drawMode=h.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=r,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.textureMode=function(r){r!==h.IMAGE&&r!==h.NORMAL?console.warn("You tried to set ".concat(r," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=r},c.default.prototype.textureWrap=function(r){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r,i=(this._renderer.textureWrapX=r,this._renderer.textureWrapY=s,!0),l=!1,u=void 0;try{for(var o,n=this._renderer.textures.values()[Symbol.iterator]();!(i=(o=n.next()).done);i=!0)o.value.setWrapMode(r,s)}catch(p){l=!0,u=p}finally{try{i||n.return==null||n.return()}finally{if(l)throw u}}},c.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return c.default._validateParameters("normalMaterial",s),this._renderer.drawMode=h.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},c.default.prototype.ambientMaterial=function(r,s,i){this._assert3d("ambientMaterial"),c.default._validateParameters("ambientMaterial",arguments);var l=c.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=l._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.emissiveMaterial=function(r,s,i,l){this._assert3d("emissiveMaterial"),c.default._validateParameters("emissiveMaterial",arguments);var u=c.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=u._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},c.default.prototype.specularMaterial=function(r,s,i,l){this._assert3d("specularMaterial"),c.default._validateParameters("specularMaterial",arguments);var u=c.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=u._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},c.default.prototype.shininess=function(r){return this._assert3d("shininess"),c.default._validateParameters("shininess",arguments),this._renderer._useShininess=r=r<1?1:r,this},c.default.prototype.metalness=function(r){return this._assert3d("metalness"),r=1-Math.exp(-r/100),this._renderer._useMetalness=r,this},c.default.RendererGL.prototype._applyColorBlend=function(r,u){var i=this.GL,l=this.drawMode===h.TEXTURE,u=u||this.userFillShader||this.userStrokeShader||this.userPointShader||l||this.curBlendMode!==h.BLEND||r[r.length-1]<1||this._isErasing;return u!==this._isBlending&&(u||this.curBlendMode!==h.BLEND&&this.curBlendMode!==h.ADD?i.enable(i.BLEND):i.disable(i.BLEND),i.depthMask(!0),this._isBlending=u),this._applyBlendMode(),r},c.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var r=this.GL;switch(this.curBlendMode){case h.BLEND:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case h.ADD:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case h.REMOVE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case h.MULTIPLY:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case h.SCREEN:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case h.EXCLUSION:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case h.REPLACE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case h.SUBTRACT:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case h.DARKEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case h.LIGHTEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=c.default;A.default=y},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,q,A){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(c,h){for(var b=0;b<h.length;b++){var y=h[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}m.default.prototype.camera=function(){var c;this._assert3d("camera");for(var h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];return m.default._validateParameters("camera",b),(c=this._renderer._curCamera).camera.apply(c,b),this},m.default.prototype.perspective=function(){var c;this._assert3d("perspective");for(var h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];return m.default._validateParameters("perspective",b),(c=this._renderer._curCamera).perspective.apply(c,b),this},m.default.prototype.linePerspective=function(c){if(m.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof m.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(c===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=c},m.default.prototype.ortho=function(){var c;this._assert3d("ortho");for(var h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];return m.default._validateParameters("ortho",b),(c=this._renderer._curCamera).ortho.apply(c,b),this},m.default.prototype.frustum=function(){var c;this._assert3d("frustum");for(var h=arguments.length,b=new Array(h),y=0;y<h;y++)b[y]=arguments[y];return m.default._validateParameters("frustum",b),(c=this._renderer._curCamera).frustum.apply(c,b),this},m.default.prototype.createCamera=function(){this._assert3d("createCamera");var c=new m.default.Camera(this._renderer);return c._computeCameraDefaultSettings(),c._setDefaultCamera(),this._renderer._curCamera=c},m.default.Camera=(function(){function c(y){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._renderer=y,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new m.default.Matrix,this.projMatrix=new m.default.Matrix,this.yScale=1}var h,b;return h=c,(b=[{key:"perspective",value:function(l,r,s,i){this.cameraType=0<arguments.length?"custom":"default",l===void 0?(l=this.defaultCameraFOV,this.cameraFOV=l):this.cameraFOV=this._renderer._pInst._toRadians(l),r===void 0&&(r=this.defaultAspectRatio),s===void 0&&(s=this.defaultCameraNear),i===void 0&&(i=this.defaultCameraFar),s<=1e-4&&(s=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<s&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=r,this.cameraNear=s,this.cameraFar=i,this.projMatrix=m.default.Matrix.identity();var l=1/Math.tan(this.cameraFOV/2),u=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(l/r,0,0,0,0,-l*this.yScale,0,0,0,0,(i+s)*u,-1,0,0,2*i*s*u,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(j,S,s,i,l,u){var T=this.fbo||this._renderer,T=(j===void 0&&(j=-T.width/2),S===void 0&&(S=+T.width/2),s===void 0&&(s=-T.height/2),i===void 0&&(i=+T.height/2),l===void 0&&(l=0),u===void 0&&(u=Math.max(T.width,T.height)+800),this.cameraNear=l,S-j),o=i-s,n=(this.cameraFar=u)-l,p=2/T,d=2/o*this.yScale,_=-2/n,S=-(S+j)/T,j=-(i+s)/o,T=-(u+l)/n;this.projMatrix=m.default.Matrix.identity(),this.projMatrix.set(p,0,0,0,0,-d,0,0,0,0,_,0,S,j,T,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(j,S,s,i,l,u){j===void 0&&(j=.05*-this._renderer.width),S===void 0&&(S=.05*+this._renderer.width),s===void 0&&(s=.05*+this._renderer.height),i===void 0&&(i=.05*-this._renderer.height),l===void 0&&(l=this.defaultCameraNear),u===void 0&&(u=this.defaultCameraFar),this.cameraNear=l;var T=S-j,o=i-s,n=(this.cameraFar=u)-l,p=2*l/T,d=2*l/o*this.yScale,_=-2*u*l/n,S=(S+j)/T,j=(i+s)/o,T=-(u+l)/n;this.projMatrix=m.default.Matrix.identity(),this.projMatrix.set(p,0,0,0,0,-d,0,0,S,j,T,-1,0,0,_,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(p,d,_,S){var l=this.centerX,u=this.centerY,o=this.centerZ,n=(l-=this.eyeX,u-=this.eyeY,o-=this.eyeZ,m.default.Matrix.identity(this._renderer._pInst)),p=(n.rotate(this._renderer._pInst._toRadians(p),d,_,S),[l*n.mat4[0]+u*n.mat4[4]+o*n.mat4[8],l*n.mat4[1]+u*n.mat4[5]+o*n.mat4[9],l*n.mat4[2]+u*n.mat4[6]+o*n.mat4[10]]),d=(p[0]+=this.eyeX,p[1]+=this.eyeY,p[2]+=this.eyeZ,this.upX*n.mat4[0]+this.upY*n.mat4[4]+this.upZ*n.mat4[8]),_=this.upX*n.mat4[1]+this.upY*n.mat4[5]+this.upZ*n.mat4[9],S=this.upX*n.mat4[2]+this.upY*n.mat4[6]+this.upZ*n.mat4[10];this.camera(this.eyeX,this.eyeY,this.eyeZ,p[0],p[1],p[2],d,_,S)}},{key:"roll",value:function(s){var r=this._getLocalAxes(),s=m.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(s),r.z[0],r.z[1],r.z[2]).rotateVector(new m.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,s.x,s.y,s.z)}},{key:"pan",value:function(y){var r=this._getLocalAxes();this._rotateView(y,r.y[0],r.y[1],r.y[2])}},{key:"tilt",value:function(y){var r=this._getLocalAxes();this._rotateView(y,r.x[0],r.x[1],r.x[2])}},{key:"lookAt",value:function(y,r,s){this.camera(this.eyeX,this.eyeY,this.eyeZ,y,r,s,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(y,r,s,i,l,u,o,n,p){return y===void 0&&(y=this.defaultEyeX,r=this.defaultEyeY,s=this.defaultEyeZ,i=y,l=r,n=1,p=o=u=0),this.eyeX=y,this.eyeY=r,this.eyeZ=s,i!==void 0&&(this.centerX=i,this.centerY=l,this.centerZ=u),o!==void 0&&(this.upX=o,this.upY=n,this.upZ=p),i=this._getLocalAxes(),this.cameraMatrix.set(i.x[0],i.y[0],i.z[0],0,i.x[1],i.y[1],i.z[1],0,i.x[2],i.y[2],i.z[2],0,0,0,0,1),l=-y,this.cameraMatrix.translate([l,-r,-s]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(i,l,s){var u=this._getLocalAxes(),i=[u.x[0]*i,u.x[1]*i,u.x[2]*i],l=[u.y[0]*l,u.y[1]*l,u.y[2]*l],u=[u.z[0]*s,u.z[1]*s,u.z[2]*s];this.camera(this.eyeX+i[0]+l[0]+u[0],this.eyeY+i[1]+l[1]+u[1],this.eyeZ+i[2]+l[2]+u[2],this.centerX+i[0]+l[0]+u[0],this.centerY+i[1]+l[1]+u[1],this.centerZ+i[2]+l[2]+u[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(y,r,s){var i=y-this.eyeX,l=r-this.eyeY,u=s-this.eyeZ;this.camera(y,r,s,this.centerX+i,this.centerY+l,this.centerZ+u,this.upX,this.upY,this.upZ)}},{key:"set",value:function(y){for(var r=0,s=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];r<s.length;r++){var i=s[r];this[i]=y[i]}this.cameraMatrix=y.cameraMatrix.copy(),this.projMatrix=y.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(y,r,s){var i,l,u,o,n,p,d,_,S,j,T,C,L,E,I,O,U,D;s===0?this.set(y):s===1?this.set(r):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=y.projMatrix.mat4[0]*Math.pow(r.projMatrix.mat4[0]/y.projMatrix.mat4[0],s),this.projMatrix.mat4[5]=y.projMatrix.mat4[5]*Math.pow(r.projMatrix.mat4[5]/y.projMatrix.mat4[5],s),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),o=new m.default.Vector(y.eyeX,y.eyeY,y.eyeZ),n=new m.default.Vector(r.eyeX,r.eyeY,r.eyeZ),O=new m.default.Vector(y.centerX,y.centerY,y.centerZ),D=new m.default.Vector(r.centerX,r.centerY,r.centerZ),u=m.default.Vector.dist(o,O),i=m.default.Vector.dist(n,D),i=u*Math.pow(i/u,s),u=m.default.Vector.sub(o,n),l=1,1e-6<(U=(E=o.copy().sub(n).sub(O).add(D)).magSq())&&(l=m.default.Vector.dot(u,E)/U,l=Math.max(0,Math.min(l,1))),u=m.default.Vector.lerp(m.default.Vector.lerp(o,O,l),m.default.Vector.lerp(n,D,l),s),E=y.cameraMatrix.createSubMatrix3x3(),U=r.cameraMatrix.createSubMatrix3x3(),o=E.row(2),O=U.row(2),n=E.row(1),D=U.row(1),y=new m.default.Vector,r=new m.default.Vector,p=new m.default.Vector,d=new m.default.Vector,1-(_=.5*((E=(U=U.mult3x3(E.copy().transpose3x3())).diagonal())[0]+E[1]+E[2]-1))<1e-7?(y.set(m.default.Vector.lerp(o,O,s)).normalize(),p.set(y).mult(l*i).add(u),d.set(y).mult((l-1)*i).add(u),r.set(m.default.Vector.lerp(n,D,s)).normalize()):(O=1/(1-_),D=Math.max(E[0],E[1],E[2]),C=U.mat3[1]+U.mat3[3],L=U.mat3[2]+U.mat3[6],I=U.mat3[5]+U.mat3[7],D=D===E[0]?(j=.5*C*(O/=S=Math.sqrt((E[0]-_)*O)),T=.5*L*O,.5*(U.mat3[7]-U.mat3[5])/S):D===E[1]?(T=.5*I*(O/=j=Math.sqrt((E[1]-_)*O)),S=.5*C*O,.5*(U.mat3[2]-U.mat3[6])/j):(S=.5*L*(O/=T=Math.sqrt((E[2]-_)*O)),j=.5*I*O,.5*(U.mat3[3]-U.mat3[1])/T),C=s*Math.atan2(D,_),L=Math.cos(C),E=Math.sin(C),(D=new m.default.Matrix("mat3",[L+(I=1-L)*S*S,I*(O=S*j)+E*T,I*(U=T*S)-E*j,I*O-E*T,L+I*j*j,I*(s=j*T)+E*S,I*U+E*j,I*s-E*S,L+I*T*T])).multiplyVec3(o,y),p.set(y).mult(l*i).add(u),d.set(y).mult((l-1)*i).add(u),D.multiplyVec3(n,r)),this.camera(p.x,p.y,p.z,d.x,d.y,d.z,r.x,r.y,r.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var y=new m.default.Camera(this._renderer);return y.cameraFOV=this.cameraFOV,y.aspectRatio=this.aspectRatio,y.eyeX=this.eyeX,y.eyeY=this.eyeY,y.eyeZ=this.eyeZ,y.centerX=this.centerX,y.centerY=this.centerY,y.centerZ=this.centerZ,y.upX=this.upX,y.upY=this.upY,y.upZ=this.upZ,y.cameraNear=this.cameraNear,y.cameraFar=this.cameraFar,y.cameraType=this.cameraType,y.useLinePerspective=this.useLinePerspective,y.cameraMatrix=this.cameraMatrix.copy(),y.projMatrix=this.projMatrix.copy(),y.yScale=this.yScale,y}},{key:"_getLocalAxes",value:function(){var y=this.eyeX-this.centerX,r=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,o=Math.sqrt(y*y+r*r+s*s),o=(o!==0&&(y/=o,r/=o,s/=o),this.upX),i=(n=this.upY)*s-(p=this.upZ)*r,l=-o*s+p*y,u=o*r-n*y,o=r*u-s*l,n=-y*u+s*i,p=y*l-r*i,d=Math.sqrt(i*i+l*l+u*u),d=(d!==0&&(i/=d,l/=d,u/=d),Math.sqrt(o*o+n*n+p*p));return d!==0&&(o/=d,n/=d,p/=d),{x:[i,l,u],y:[o,n,p],z:[y,r,s]}}},{key:"_orbit",value:function(y,d,p){var l=this.eyeX-this.centerX,u=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,i=Math.hypot(l,u,o),l=new m.default.Vector(l,u,o).normalize(),u=new m.default.Vector(this.upX,this.upY,this.upZ).normalize(),o=m.default.Vector.cross(u,l).normalize(),n=m.default.Vector.cross(o,u),p=((i=(i*=Math.pow(10,p))<this.cameraNear?this.cameraNear:i)>this.cameraFar&&(i=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,m.default.Vector.dot(l,u))))+d),d=y;(p<=0||p>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),u.mult(Math.cos(p)),n.mult(Math.cos(d)*Math.sin(p)),o.mult(Math.sin(d)*Math.sin(p)),l.set(u).add(n).add(o),this.eyeX=i*l.x+this.centerX,this.eyeY=i*l.y+this.centerY,this.eyeZ=i*l.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(p,d,S){var l=this.eyeX-this.centerX,u=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,i=Math.hypot(l,u,o),l=new m.default.Vector(l,u,o).normalize(),u=new m.default.Vector(this.upX,this.upY,this.upZ),o=m.default.Vector.cross(u,l).normalize(),n=m.default.Vector.cross(l,o),j=Math.atan2(d,p),j=(n.mult(Math.sin(j)),o.mult(Math.cos(j)).add(n),Math.sqrt(p*p+d*d)),n=m.default.Vector.cross(l,o),p=((i=(i*=Math.pow(10,S))<this.cameraNear?this.cameraNear:i)>this.cameraFar&&(i=this.cameraFar),Math.cos(j)),d=Math.sin(j),S=u.dot(l),j=u.dot(o),_=S*p+j*d,S=-S*d+j*p,j=u.dot(n);u.x=_*l.x+S*o.x+j*n.x,u.y=_*l.y+S*o.y+j*n.y,u.z=_*l.z+S*o.z+j*n.z,o.mult(-d),l.mult(p).add(o).mult(i),this.camera(l.x+this.centerX,l.y+this.centerY,l.z+this.centerZ,this.centerX,this.centerY,this.centerZ,u.x,u.y,u.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&g(h.prototype,b),c})(),m.default.prototype.setCamera=function(c){this._renderer._curCamera=c,this._renderer.uPMatrix.set(c.projMatrix),this._renderer.uViewMatrix.set(c.cameraMatrix)},t=m.default.Camera,A.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,q,A){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function m(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}t.default.DataArray=(function(){function g(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,y=this,r=g;if(!(y instanceof r))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(b),this.initialLength=b}var c,h;return c=g,(h=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var b;this.length<this.data.length/2&&(b=1<<Math.ceil(Math.log2(this.length)),(b=new Float32Array(b)).set(this.data.subarray(0,this.length),0),this.data=b)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var b=arguments.length,y=new Array(b),r=0;r<b;r++)y[r]=arguments[r];this.ensureLength(this.length+y.length),this.data.set(y,this.length),this.length+=y.length}},{key:"slice",value:function(b,y){return this.data.slice(b,Math.min(y,this.length))}},{key:"subArray",value:function(b,y){return this.data.subarray(b,Math.min(y,this.length))}},{key:"ensureLength",value:function(b){for(;this.data.length<b;){var y=new Float32Array(2*this.data.length);y.set(this.data,0),this.data=y}}}])&&m(c.prototype,h),g})(),t=t.default.DataArray,A.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(C,q,A){function m(L){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(L)}function g(L){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(E){return m(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":m(E)})(L)}C("core-js/modules/es.symbol"),C("core-js/modules/es.symbol.description"),C("core-js/modules/es.symbol.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-own-property-descriptor"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.reflect.construct"),C("core-js/modules/es.reflect.get"),C("core-js/modules/es.regexp.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.string.iterator"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.weak-map"),C("core-js/modules/web.dom-collections.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(T=C("../core/main"))&&T.__esModule?T:{default:T},h=(function(L){if(L&&L.__esModule)return L;if(L===null||g(L)!=="object"&&typeof L!="function")return{default:L};var E=r();if(E&&E.has(L))return E.get(L);var I,O={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in L){var D;Object.prototype.hasOwnProperty.call(L,I)&&((D=U?Object.getOwnPropertyDescriptor(L,I):null)&&(D.get||D.set)?Object.defineProperty(O,I,D):O[I]=L[I])}return O.default=L,E&&E.set(L,O),O})(C("../core/constants")),b=C("./p5.Texture"),y=C("./p5.RendererGL");function r(){var L;return typeof WeakMap!="function"?null:(L=new WeakMap,r=function(){return L},L)}function s(L,E){return(function(I){if(Array.isArray(I))return I})(L)||(function(I,O){if(Symbol.iterator in Object(I)||Object.prototype.toString.call(I)==="[object Arguments]"){var U=[],D=!0,B=!1,X=void 0;try{for(var H,G=I[Symbol.iterator]();!(D=(H=G.next()).done)&&(U.push(H.value),!O||U.length!==O);D=!0);}catch(Z){B=!0,X=Z}finally{try{D||G.return==null||G.return()}finally{if(B)throw X}}return U}})(L,E)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function i(L,E,I){return E in L?Object.defineProperty(L,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):L[E]=I,L}function l(L,E){if(!(L instanceof E))throw new TypeError("Cannot call a class as a function")}function u(L,E){for(var I=0;I<E.length;I++){var O=E[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(L,O.key,O)}}function o(L,E,I){E&&u(L.prototype,E)}function n(L,E,I){return(n=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(B,U,D){var B=(function(X,H){for(;!Object.prototype.hasOwnProperty.call(X,H)&&(X=_(X))!==null;);return X})(B,U);if(B)return(B=Object.getOwnPropertyDescriptor(B,U)).get?B.get.call(D):B.value})(L,E,I||L)}function p(L,E){return(p=Object.setPrototypeOf||function(I,O){return I.__proto__=O,I})(L,E)}function d(L){return function(){var E,I=_(L),I=(E=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(E=_(this).constructor,Reflect.construct(I,arguments,E)):I.apply(this,arguments),this);if(!E||g(E)!=="object"&&typeof E!="function"){if(I!==void 0)return I;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return E}}function _(L){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(L)}var S=(function(L){var E=O;if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),L&&p(E,L);var I=d(O);function O(U){var D;return l(this,O),(D=I.call(this,U.target._renderer)).fbo=U,D.yScale=-1,D}return o(O,[{key:"_computeCameraDefaultSettings",value:function(){n(_(O.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),O})(c.default.Camera),j=(c.default.FramebufferCamera=S,(function(){function L(E,I){l(this,L),this.framebuffer=E,this.property=I}return o(L,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),L})()),T=(c.default.FramebufferTexture=j,(function(){function L(E){var I=this,O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},U=(l(this,L),this.target=E,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=O.format||h.UNSIGNED_BYTE,this.channels=O.channels||(E._renderer._pInst._glAttributes.alpha?h.RGBA:h.RGB),this.useDepth=O.depth===void 0||O.depth,this.depthFormat=O.depthFormat||h.FLOAT,this.textureFiltering=O.textureFiltering||h.LINEAR,O.antialias===void 0?this.antialiasSamples=E._renderer._pInst._glAttributes.antialias?2:0:typeof O.antialias=="number"?this.antialiasSamples=O.antialias:this.antialiasSamples=O.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&E.webglVersion!==h.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=O.density||E.pixelDensity(),E._renderer.GL);if(this.gl=U,O.width&&O.height?(D=E._renderer._adjustDimensions(O.width,O.height),this.width=D.adjustedWidth,this.height=D.adjustedHeight,this._autoSized=!1):(O.width===void 0!=(O.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=E.width,this.height=E.height,this._autoSized=!0),this._checkIfFormatsAvailable(),O.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(O.stencil===void 0||O.stencil),this.framebuffer=U.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=U.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var D=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=D,this.draw(function(){return I.target.clear()})}return o(L,[{key:"resize",value:function(E,I){this._autoSized=!1;var O=this.target._renderer._adjustDimensions(E,I);E=O.adjustedWidth,I=O.adjustedHeight,this.width=E,this.height=I,this._handleResize()}},{key:"pixelDensity",value:function(E){if(!E)return this.density;this._autoSized=!1,this.density=E,this._handleResize()}},{key:"autoSized",value:function(E){if(E===void 0)return this._autoSized;this._autoSized=E,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var E=this.gl,E=(this.useDepth&&this.target.webglVersion===h.WEBGL&&!E.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===h.WEBGL&&this.depthFormat===h.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=h.UNSIGNED_INT),[h.UNSIGNED_BYTE,h.FLOAT,h.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.useDepth&&![h.UNSIGNED_INT,h.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=h.FLOAT),(0,b.checkWebGLCapabilities)(this.target._renderer));E.float||this.format!==h.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.useDepth&&!E.float&&this.depthFormat===h.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=h.UNSIGNED_INT),E.halfFloat||this.format!==h.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.channels===h.RGB&&[h.FLOAT,h.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=h.RGBA)}},{key:"_recreateTextures",value:function(){var E=this.gl,I=(this._updateSize(),E.getParameter(E.TEXTURE_BINDING_2D)),O=E.getParameter(E.FRAMEBUFFER_BINDING),U=E.createTexture();if(!U)throw new Error("Unable to create color texture");E.bindTexture(E.TEXTURE_2D,U);var D=this._glColorFormat();if(E.texImage2D(E.TEXTURE_2D,0,D.internalFormat,this.width*this.density,this.height*this.density,0,D.format,D.type,null),this.colorTexture=U,E.bindFramebuffer(E.FRAMEBUFFER,this.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,U,0),this.useDepth){var U=E.createTexture();if(!U)throw new Error("Unable to create depth texture");var B=this._glDepthFormat();E.bindTexture(E.TEXTURE_2D,U),E.texImage2D(E.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,null),E.framebufferTexture2D(E.FRAMEBUFFER,this.useStencil?E.DEPTH_STENCIL_ATTACHMENT:E.DEPTH_ATTACHMENT,E.TEXTURE_2D,U,0),this.depthTexture=U}this.antialias&&(this.colorRenderbuffer=E.createRenderbuffer(),E.bindRenderbuffer(E.RENDERBUFFER,this.colorRenderbuffer),E.renderbufferStorageMultisample(E.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,E.getParameter(E.MAX_SAMPLES))),D.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(B=this._glDepthFormat(),this.depthRenderbuffer=E.createRenderbuffer(),E.bindRenderbuffer(E.RENDERBUFFER,this.depthRenderbuffer),E.renderbufferStorageMultisample(E.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,E.getParameter(E.MAX_SAMPLES))),B.internalFormat,this.width*this.density,this.height*this.density)),E.bindFramebuffer(E.FRAMEBUFFER,this.aaFramebuffer),E.framebufferRenderbuffer(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&E.framebufferRenderbuffer(E.FRAMEBUFFER,this.useStencil?E.DEPTH_STENCIL_ATTACHMENT:E.DEPTH_ATTACHMENT,E.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new j(this,"depthTexture"),U=E.NEAREST,this.depthP5Texture=new c.default.Texture(this.target._renderer,this.depth,{minFilter:U,magFilter:U}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new j(this,"colorTexture"),D=this.textureFiltering===h.LINEAR?E.LINEAR:E.NEAREST,this.colorP5Texture=new c.default.Texture(this.target._renderer,this.color,{minFilter:D,magFilter:D}),this.target._renderer.textures.set(this.color,this.colorP5Texture),E.bindTexture(E.TEXTURE_2D,I),E.bindFramebuffer(E.FRAMEBUFFER,O)}},{key:"_glColorFormat",value:function(){var E,I,O=this.gl,U=this.format===h.FLOAT?O.FLOAT:this.format===h.HALF_FLOAT?this.target.webglVersion===h.WEBGL2?O.HALF_FLOAT:O.getExtension("OES_texture_half_float").HALF_FLOAT_OES:O.UNSIGNED_BYTE,D=this.channels===h.RGBA?O.RGBA:O.RGB;return{internalFormat:this.target.webglVersion===h.WEBGL2?(i(I={},O.FLOAT,i({},O.RGBA,O.RGBA32F)),i(I,O.HALF_FLOAT,i({},O.RGBA,O.RGBA16F)),i(I,O.UNSIGNED_BYTE,(i(E={},O.RGBA,O.RGBA8),i(E,O.RGB,O.RGB8),E)),I[U][D]):this.format===h.HALF_FLOAT?O.RGBA:D,format:D,type:U}}},{key:"_glDepthFormat",value:function(){var O=this.gl,E=this.useStencil?this.depthFormat===h.FLOAT?O.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===h.WEBGL2?O.UNSIGNED_INT_24_8:O.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===h.FLOAT?O.FLOAT:O.UNSIGNED_INT,I=this.useStencil?O.DEPTH_STENCIL:O.DEPTH_COMPONENT,O=this.useStencil?this.depthFormat===h.FLOAT?O.DEPTH32F_STENCIL8:this.target.webglVersion===h.WEBGL2?O.DEPTH24_STENCIL8:O.DEPTH_STENCIL:this.target.webglVersion===h.WEBGL2?this.depthFormat===h.FLOAT?O.DEPTH_COMPONENT32F:O.DEPTH_COMPONENT24:O.DEPTH_COMPONENT;return{internalFormat:O,format:I,type:E}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var U=this.color,E=this.depth,I=this.colorRenderbuffer,O=this.depthRenderbuffer,U=(this._deleteTexture(U),E&&this._deleteTexture(E),this.gl);I&&U.deleteRenderbuffer(I),O&&U.deleteRenderbuffer(O),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var E=new S(this);return E._computeCameraDefaultSettings(),E._setDefaultCamera(),this.target._renderer._curCamera=E}},{key:"_deleteTexture",value:function(E){this.gl.deleteTexture(E.rawTexture()),this.target._renderer.textures.delete(E)}},{key:"remove",value:function(){var E=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),E.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&E.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&E.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&E.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var E=this.gl,I=(E.bindFramebuffer(E.READ_FRAMEBUFFER,this.aaFramebuffer),E.bindFramebuffer(E.DRAW_FRAMEBUFFER,this.framebuffer),[[E.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&I.push([E.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var O=0,U=I;O<U.length;O++){var B=s(U[O],2),D=B[0],B=B[1];E.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,D,B)}}}},{key:"end",value:function(){var E=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(E.bindFramebuffer(E.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(E){this.begin(),E(),this.end()}},{key:"loadPixels",value:function(){var E=this.gl,I=this.target._renderer.activeFramebuffer(),O=(E.bindFramebuffer(E.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,y.readPixelsWebGL)(this.pixels,E,this.framebuffer,0,0,this.width*this.density,this.height*this.density,O.format,O.type),I?E.bindFramebuffer(E.FRAMEBUFFER,I._framebufferToBind()):E.bindFramebuffer(E.FRAMEBUFFER,null)}},{key:"get",value:function(E,I,O,U){c.default._validateParameters("p5.Framebuffer.get",arguments);var D=this._glColorFormat();if(E===void 0&&I===void 0)I=E=0,O=this.width,U=this.height;else if(O===void 0&&U===void 0)return(E<0||I<0||E>=this.width||I>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),E=this.target.constrain(E,0,this.width-1),I=this.target.constrain(I,0,this.height-1)),(0,y.readPixelWebGL)(this.gl,this.framebuffer,E*this.density,I*this.density,D.format,D.type);E=this.target.constrain(E,0,this.width-1),I=this.target.constrain(I,0,this.height-1),O=this.target.constrain(O,1,this.width-E),U=this.target.constrain(U,1,this.height-I);for(var B=(0,y.readPixelsWebGL)(void 0,this.gl,this.framebuffer,E*this.density,I*this.density,O*this.density,U*this.density,D.format,D.type),X=new Uint8ClampedArray(O*U*this.density*this.density*4),H=(X.fill(255),D.type===this.gl.RGB?3:4),G=0;G<U*this.density;G++)for(var Z=0;Z<O*this.density;Z++)for(var Q=0;Q<4;Q++){var le,w=4*(G*O*this.density+Z)+Q;Q<H&&(le=H==4?w:(G*O*this.density+Z)*H+Q,X[w]=B[le])}return E=new c.default.Image(O*this.density,U*this.density),E.imageData=E.canvas.getContext("2d").createImageData(E.width,E.height),E.imageData.data.set(X),E.pixels=E.imageData.data,E.updatePixels(),this.density!==1&&E.resize(O,U),E}},{key:"updatePixels",value:function(){var E=this.gl,I=(this.colorP5Texture.bindTexture(),this._glColorFormat()),O=I.format===E.RGBA?4:3,O=this.width*this.height*this.density*this.density*O,U=I.type===E.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof U)||this.pixels.length!==O)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");E.texImage2D(E.TEXTURE_2D,0,I.internalFormat,this.width*this.density,this.height*this.density,0,I.format,I.type,this.pixels),this.colorP5Texture.unbindTexture(),U=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(E.clearDepth(1),E.clear(E.DEPTH_BUFFER_BIT)),this.end()):(E.bindFramebuffer(E.FRAMEBUFFER,this.framebuffer),this.useDepth&&(E.clearDepth(1),E.clear(E.DEPTH_BUFFER_BIT)),U?E.bindFramebuffer(E.FRAMEBUFFER,U._framebufferToBind()):E.bindFramebuffer(E.FRAMEBUFFER,null))}}]),L})()),C=c.default.Framebuffer=T;A.default=C},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,q,A){function m(l){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function g(l){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(u){return m(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":m(u)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(i=t("../core/main"))&&i.__esModule?i:{default:i},h=(function(l){if(l&&l.__esModule)return l;if(l===null||g(l)!=="object"&&typeof l!="function")return{default:l};var u=b();if(u&&u.has(l))return u.get(l);var o,n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in l){var d;Object.prototype.hasOwnProperty.call(l,o)&&((d=p?Object.getOwnPropertyDescriptor(l,o):null)&&(d.get||d.set)?Object.defineProperty(n,o,d):n[o]=l[o])}return n.default=l,u&&u.set(l,n),n})(t("../core/constants"));function b(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,b=function(){return l},l)}function y(l){return(function(u){if(Array.isArray(u)){for(var o=0,n=new Array(u.length);o<u.length;o++)n[o]=u[o];return n}})(l)||(function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)})(l)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function r(l,u){return(function(o){if(Array.isArray(o))return o})(l)||(function(o,n){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]"){var p=[],d=!0,_=!1,S=void 0;try{for(var j,T=o[Symbol.iterator]();!(d=(j=T.next()).done)&&(p.push(j.value),!n||p.length!==n);d=!0);}catch(C){_=!0,S=C}finally{try{d||T.return==null||T.return()}finally{if(_)throw S}}return p}})(l,u)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function s(l,u){for(var o=0;o<u.length;o++){var n=u[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,n.key,n)}}c.default.Geometry=(function(){function l(n,p,d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new c.default.DataArray,this.lineTangentsIn=new c.default.DataArray,this.lineTangentsOut=new c.default.DataArray,this.lineSides=new c.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new c.default.DataArray,this.detailX=n!==void 0?n:1,this.detailY=p!==void 0?p:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,d instanceof Function&&d.call(this)}var u,o;return u=l,(o=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var n=new c.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),p=new c.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),d=0;d<this.vertices.length;d++){var _=this.vertices[d];n.x=Math.min(n.x,_.x),n.y=Math.min(n.y,_.y),n.z=Math.min(n.z,_.z),p.x=Math.max(p.x,_.x),p.y=Math.max(p.y,_.y),p.z=Math.max(p.z,_.z)}var S=new c.default.Vector(p.x-n.x,p.y-n.y,p.z-n.z),j=new c.default.Vector((n.x+p.x)/2,(n.y+p.y)/2,(n.z+p.z)/2);this.boundingBoxCache={min:n,max:p,size:S,offset:j}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var n=0;n<this.vertexColors.length;n+=4)if(this.vertexColors[n+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var n=0;n<this.lineVertexColors.length;n+=4)if(this.lineVertexColors[n+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var n=this,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",d="";if(this.vertices.forEach(function(j){d+="v ".concat(j.x," ").concat(j.y," ").concat(j.z,`
`)}),this.uvs&&0<this.uvs.length)for(var _=0;_<this.uvs.length;_+=2)d+="vt ".concat(this.uvs[_]," ").concat(this.uvs[_+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(j){d+="vn ".concat(j.x," ").concat(j.y," ").concat(j.z,`
`)}),this.faces.forEach(function(j){var T="f";j.forEach(function(C){T=T+" "+(C+1),(0<n.vertexNormals.length||0<n.uvs.length)&&(T+="/",0<n.uvs.length&&(T+=C+1),T+="/",0<n.vertexNormals.length&&(T+=C+1))}),d+=T+`
`});var S=new Blob([d],{type:"text/plain"});c.default.prototype.downloadFile(S,p,"obj")}},{key:"saveStl",value:function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",p=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,p=p!==void 0&&p,d=n.substring(0,n.lastIndexOf(".")),_=[],S=!0,j=!1,T=void 0;try{for(var C,L=this.faces[Symbol.iterator]();!(S=(C=L.next()).done);S=!0){var E=C.value,I=c.default.Vector.sub(this.vertices[E[1]],this.vertices[E[0]]),O=c.default.Vector.sub(this.vertices[E[2]],this.vertices[E[0]]),U=I.y*O.z-I.z*O.y,D=I.z*O.x-I.x*O.z,B=I.x*O.y-I.y*O.x;_.push(new c.default.Vector(U,D,B).normalize())}}catch(Te){j=!0,T=Te}finally{try{S||L.return==null||L.return()}finally{if(j)throw T}}if(p){var X,H=80,j=2*this.faces.length+3*this.faces.length*4*4+80+4,T=new ArrayBuffer(j);(X=new DataView(T)).setUint32(H,this.faces.length,!0),H+=4;for(var G=0,Z=Object.entries(this.faces);G<Z.length;G++){var Q=r(Z[G],2),w=Q[0],Q=Q[1],w=_[w],le=(X.setFloat32(H,w.x,!0),H+=4,X.setFloat32(H,w.y,!0),H+=4,X.setFloat32(H,w.z,!0),H+=4,!0),w=!1,R=void 0;try{for(var N,W=Q[Symbol.iterator]();!(le=(N=W.next()).done);le=!0){var J=N.value,re=this.vertices[J];X.setFloat32(H,re.x,!0),H+=4,X.setFloat32(H,re.y,!0),H+=4,X.setFloat32(H,re.z,!0),H+=4}}catch(We){w=!0,R=We}finally{try{le||W.return==null||W.return()}finally{if(w)throw R}}X.setUint16(H,0,!0),H+=2}}else{X="solid "+d+`
`;for(var ue=0,ge=Object.entries(this.faces);ue<ge.length;ue++){var se=r(ge[ue],2),ye=se[0],se=se[1],ye=_[ye],pe=(X=X+(" facet norm "+ye.x+" "+ye.y+" "+ye.z+`
`)+`  outer loop
`,!0),ye=!1,te=void 0;try{for(var me,we=se[Symbol.iterator]();!(pe=(me=we.next()).done);pe=!0){var Ee=me.value,xe=this.vertices[Ee];X+="   vertex "+xe.x+" "+xe.y+" "+xe.z+`
`}}catch(Te){ye=!0,te=Te}finally{try{pe||we.return==null||we.return()}finally{if(ye)throw te}}X=X+`  endloop
 endfacet
`}X+="endsolid "+d+`
`}p=new Blob([X],{type:"text/plain"}),c.default.prototype.downloadFile(p,n,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(n,p){return p%2==0?1-n:n})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(n,p){return p%2==0?n:1-n})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var n,p,d,_=this.detailX+1,S=0;S<this.detailY;S++)for(var j=0;j<this.detailX;j++)p=(S+1)*_+j+1,this.faces.push([S*_+j,n=S*_+j+1,d=(S+1)*_+j]),this.faces.push([d,n,p]);return this}},{key:"_getFaceNormal",value:function(p){var p=this.faces[p],d=this.vertices[p[0]],S=this.vertices[p[1]],p=this.vertices[p[2]],S=c.default.Vector.sub(S,d),p=c.default.Vector.sub(p,d),d=c.default.Vector.cross(S,p),_=c.default.Vector.mag(d),S=_/(c.default.Vector.mag(S)*c.default.Vector.mag(p));return S===0||isNaN(S)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),d):(1<S&&(S=1),d.mult(Math.asin(S)/_))}},{key:"computeNormals",value:function(){var n,p=this,d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:h.FLAT,_=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,S=this.vertexNormals,j=this.vertices,T=this.faces;if(d===h.SMOOTH){for(var C={},L=[],E=Math.pow(10,_===void 0?3:_),I=function(X){return Math.round(X*E)/E},O=function(X){return"".concat(I(X.x),",").concat(I(X.y),",").concat(I(X.z))},U=0;U<j.length;U++){var D=j[U],B=O(D);C[B]===void 0&&(C[B]=L.length,L.push(D))}T.forEach(function(X){for(var H=0;H<3;++H){var G=X[H],G=j[G],G=O(G);X[H]=C[G]}}),this.edges.forEach(function(X){for(var H=0;H<2;++H){var G=X[H],G=j[G],G=O(G);X[H]=C[G]}}),this.vertices=j=L}for(n=S.length=0;n<j.length;++n)S.push(new c.default.Vector);for(T.forEach(function(X,H){for(var G=p._getFaceNormal(H),Z=0;Z<3;++Z){var Q=X[Z];S[Q].add(G)}}),n=0;n<j.length;++n)S[n].normalize();return this}},{key:"averageNormals",value:function(){for(var n=0;n<=this.detailY;n++){var p=this.detailX+1,d=c.default.Vector.add(this.vertexNormals[n*p],this.vertexNormals[n*p+this.detailX]),d=c.default.Vector.div(d,2);this.vertexNormals[n*p]=d,this.vertexNormals[n*p+this.detailX]=d}return this}},{key:"averagePoleNormals",value:function(){for(var n=new c.default.Vector(0,0,0),p=0;p<this.detailX;p++)n.add(this.vertexNormals[p]);for(var n=c.default.Vector.div(n,this.detailX),d=0;d<this.detailX;d++)this.vertexNormals[d]=n;n=new c.default.Vector(0,0,0);for(var _=this.vertices.length-1;_>this.vertices.length-1-this.detailX;_--)n.add(this.vertexNormals[_]);n=c.default.Vector.div(n,this.detailX);for(var S=this.vertices.length-1;S>this.vertices.length-1-this.detailX;S--)this.vertexNormals[S]=n;return this}},{key:"_makeTriangleEdges",value:function(){for(var n=this.edges.length=0;n<this.faces.length;n++)this.edges.push([this.faces[n][0],this.faces[n][1]]),this.edges.push([this.faces[n][1],this.faces[n][2]]),this.edges.push([this.faces[n][2],this.faces[n][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var n,p=new Map,d=new Set,_=0;_<this.edges.length;_++){var S,j=this.edges[_-1],T=this.edges[_],C=this.vertices[T[0]],L=this.vertices[T[1]],E=0<this.vertexStrokeColors.length&&j?this.vertexStrokeColors.slice(4*j[1],4*(j[1]+1)):[0,0,0,0],I=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*T[0],4*(T[0]+1)):[0,0,0,0],O=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*T[1],4*(T[1]+1)):[0,0,0,0],U=L.copy().sub(C).normalize(),D=0<U.magSq();D&&this._addSegment(C,L,I,O,U),0<_&&j[1]===T[0]?d.has(T[0])||(d.add(T[0]),p.delete(T[0]),n&&D&&U.dot(n)<1-1e-8&&this._addJoin(C,n,U,I)):(D&&!d.has(T[0])&&((S=p.get(T[0]))?(this._addJoin(C,S.dir,U,I),p.delete(T[0]),d.add(T[0])):p.set(T[0],{point:C,dir:U.copy().mult(-1),color:I})),n&&!d.has(j[1])&&((S=p.get(j[1]))?(this._addJoin(this.vertices[j[1]],n,S.dir.copy().mult(-1),E),p.delete(j[1]),d.add(j[1])):p.set(j[1],{point:this.vertices[j[1]],dir:n,color:E}),n=void 0)),_!==this.edges.length-1||d.has(T[1])||((C=p.get(T[1]))?(this._addJoin(L,U,C.dir.copy().mult(-1),O),p.delete(T[1]),d.add(T[1])):p.set(T[1],{point:L,dir:U,color:O})),D&&(n=U)}var B=!0,X=!1,H=void 0;try{for(var G,Z=p.values()[Symbol.iterator]();!(B=(G=Z.next()).done);B=!0){var Q=G.value,le=Q.point,w=Q.dir,R=Q.color;this._addCap(le,w,R)}}catch(N){X=!0,H=N}finally{try{B||Z.return==null||Z.return()}finally{if(X)throw H}}return this}},{key:"_addSegment",value:function(j,T,d,_,S){var j=j.array(),T=T.array(),C=S.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var L=0,E=[this.lineTangentsIn,this.lineTangentsOut];L<E.length;L++)for(var I=E[L],O=0;O<6;O++)I.push.apply(I,y(C));return(S=this.lineVertices).push.apply(S,y(j).concat(y(T),y(j),y(T),y(T),y(j))),(S=this.lineVertexColors).push.apply(S,y(d).concat(y(_),y(d),y(_),y(_),y(d))),this}},{key:"_addCap",value:function(n,p,d){for(var _,S=n.array(),j=p.array(),T=[0,0,0],C=0;C<6;C++)(_=this.lineVertices).push.apply(_,y(S)),(_=this.lineTangentsIn).push.apply(_,y(j)),(_=this.lineTangentsOut).push.apply(_,T),(_=this.lineVertexColors).push.apply(_,y(d));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(n,p,d,_){for(var S,j=n.array(),T=p.array(),C=d.array(),L=0;L<12;L++)(S=this.lineVertices).push.apply(S,y(j)),(S=this.lineTangentsIn).push.apply(S,y(T)),(S=this.lineTangentsOut).push.apply(S,y(C)),(S=this.lineVertexColors).push.apply(S,y(_));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var n=this.vertices[0].copy(),p=this.vertices[0].copy(),d=0;d<this.vertices.length;d++)n.x=Math.max(n.x,this.vertices[d].x),p.x=Math.min(p.x,this.vertices[d].x),n.y=Math.max(n.y,this.vertices[d].y),p.y=Math.min(p.y,this.vertices[d].y),n.z=Math.max(n.z,this.vertices[d].z),p.z=Math.min(p.z,this.vertices[d].z);for(var _=c.default.Vector.lerp(n,p,.5),S=c.default.Vector.sub(n,p),j=200/Math.max(Math.max(S.x,S.y),S.z),T=0;T<this.vertices.length;T++)this.vertices[T].sub(_),this.vertices[T].mult(j)}return this}}])&&s(u.prototype,o),l})();var i=c.default.Geometry;A.default=i},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(b,q,A){b("core-js/modules/es.array.iterator"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),b("core-js/modules/es.array.iterator"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(b=b("../core/main"))&&b.__esModule?b:{default:b};function g(y,r){for(var s=0;s<r.length;s++){var i=r[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(y,i.key,i)}}var c=Array,h=function(y){return Array.isArray(y)},b=(typeof Float32Array<"u"&&(c=Float32Array,h=function(y){return Array.isArray(y)||y instanceof Float32Array}),m.default.Matrix=(function(){function y(){var l=this,u=y;if(l instanceof u)return arguments.length&&((l=arguments.length-1)<0||arguments.length<=l?void 0:arguments[l])instanceof m.default&&(this.p5=(u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new c([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new c([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var r,s,i;return r=y,i=[{key:"identity",value:function(l){return new m.default.Matrix(l)}}],(s=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(l){var u=arguments;if(l instanceof m.default.Matrix?u=l.mat4:h(l)&&(u=l),u.length!==16)m.default._friendlyError("Expected 16 values but received ".concat(u.length,"."),"p5.Matrix.set");else for(var o=0;o<16;o++)this.mat4[o]=u[o];return this}},{key:"get",value:function(){return new m.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var l;return this.mat3!==void 0?((l=new m.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],l.mat3[1]=this.mat3[1],l.mat3[2]=this.mat3[2],l.mat3[3]=this.mat3[3],l.mat3[4]=this.mat3[4],l.mat3[5]=this.mat3[5],l.mat3[6]=this.mat3[6],l.mat3[7]=this.mat3[7],l.mat3[8]=this.mat3[8]):((l=new m.default.Matrix(this.p5)).mat4[0]=this.mat4[0],l.mat4[1]=this.mat4[1],l.mat4[2]=this.mat4[2],l.mat4[3]=this.mat4[3],l.mat4[4]=this.mat4[4],l.mat4[5]=this.mat4[5],l.mat4[6]=this.mat4[6],l.mat4[7]=this.mat4[7],l.mat4[8]=this.mat4[8],l.mat4[9]=this.mat4[9],l.mat4[10]=this.mat4[10],l.mat4[11]=this.mat4[11],l.mat4[12]=this.mat4[12],l.mat4[13]=this.mat4[13],l.mat4[14]=this.mat4[14],l.mat4[15]=this.mat4[15]),l}},{key:"transpose",value:function(l){var u,o,n,p,d,_;return l instanceof m.default.Matrix?(u=l.mat4[1],o=l.mat4[2],n=l.mat4[3],p=l.mat4[6],d=l.mat4[7],_=l.mat4[11],this.mat4[0]=l.mat4[0],this.mat4[1]=l.mat4[4],this.mat4[2]=l.mat4[8],this.mat4[3]=l.mat4[12],this.mat4[4]=u,this.mat4[5]=l.mat4[5],this.mat4[6]=l.mat4[9],this.mat4[7]=l.mat4[13],this.mat4[8]=o,this.mat4[9]=p,this.mat4[10]=l.mat4[10],this.mat4[11]=l.mat4[14],this.mat4[12]=n,this.mat4[13]=d,this.mat4[14]=_,this.mat4[15]=l.mat4[15]):h(l)&&(u=l[1],o=l[2],n=l[3],p=l[6],d=l[7],_=l[11],this.mat4[0]=l[0],this.mat4[1]=l[4],this.mat4[2]=l[8],this.mat4[3]=l[12],this.mat4[4]=u,this.mat4[5]=l[5],this.mat4[6]=l[9],this.mat4[7]=l[13],this.mat4[8]=o,this.mat4[9]=p,this.mat4[10]=l[10],this.mat4[11]=l[14],this.mat4[12]=n,this.mat4[13]=d,this.mat4[14]=_,this.mat4[15]=l[15]),this}},{key:"invert",value:function(B){B instanceof m.default.Matrix?(u=B.mat4[0],o=B.mat4[1],n=B.mat4[2],p=B.mat4[3],d=B.mat4[4],_=B.mat4[5],S=B.mat4[6],j=B.mat4[7],T=B.mat4[8],C=B.mat4[9],L=B.mat4[10],E=B.mat4[11],I=B.mat4[12],O=B.mat4[13],U=B.mat4[14],D=B.mat4[15]):h(B)&&(u=B[0],o=B[1],n=B[2],p=B[3],d=B[4],_=B[5],S=B[6],j=B[7],T=B[8],C=B[9],L=B[10],E=B[11],I=B[12],O=B[13],U=B[14],D=B[15]);var u,o,n,p,d,_,S,j,T,C,L,E,I,O,U,D,B=u*_-o*d,X=u*S-n*d,H=u*j-p*d,G=o*S-n*_,Z=o*j-p*_,Q=n*j-p*S,le=T*O-C*I,w=T*U-L*I,R=T*D-E*I,N=C*U-L*O,W=C*D-E*O,J=L*D-E*U,re=B*J-X*W+H*N+G*R-Z*w+Q*le;return re?(this.mat4[0]=(_*J-S*W+j*N)*(re=1/re),this.mat4[1]=(n*W-o*J-p*N)*re,this.mat4[2]=(O*Q-U*Z+D*G)*re,this.mat4[3]=(L*Z-C*Q-E*G)*re,this.mat4[4]=(S*R-d*J-j*w)*re,this.mat4[5]=(u*J-n*R+p*w)*re,this.mat4[6]=(U*H-I*Q-D*X)*re,this.mat4[7]=(T*Q-L*H+E*X)*re,this.mat4[8]=(d*W-_*R+j*le)*re,this.mat4[9]=(o*R-u*W-p*le)*re,this.mat4[10]=(I*Z-O*H+D*B)*re,this.mat4[11]=(C*H-T*Z-E*B)*re,this.mat4[12]=(_*w-d*N-S*le)*re,this.mat4[13]=(u*N-o*w+n*le)*re,this.mat4[14]=(O*X-I*G-U*B)*re,this.mat4[15]=(T*G-C*X+L*B)*re,this):null}},{key:"invert3x3",value:function(){var l=this.mat3[0],u=this.mat3[1],o=this.mat3[2],n=this.mat3[3],p=this.mat3[4],d=this.mat3[5],_=this.mat3[6],S=this.mat3[7],j=this.mat3[8],T=j*p-d*S,C=-j*n+d*_,L=S*n-p*_,E=l*T+u*C+o*L;return E?(this.mat3[0]=T*(E=1/E),this.mat3[1]=(-j*u+o*S)*E,this.mat3[2]=(d*u-o*p)*E,this.mat3[3]=C*E,this.mat3[4]=(j*l-o*_)*E,this.mat3[5]=(-d*l+o*n)*E,this.mat3[6]=L*E,this.mat3[7]=(-S*l+u*_)*E,this.mat3[8]=(p*l-u*n)*E,this):null}},{key:"transpose3x3",value:function(l){var u=(l=l===void 0?this.mat3:l)[1],o=l[2],n=l[5];return this.mat3[0]=l[0],this.mat3[1]=l[3],this.mat3[2]=l[6],this.mat3[3]=u,this.mat3[4]=l[4],this.mat3[5]=l[7],this.mat3[6]=o,this.mat3[7]=n,this.mat3[8]=l[8],this}},{key:"inverseTranspose",value:function(l){if(l=l.mat4,this.mat3===void 0?m.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=l[0],this.mat3[1]=l[1],this.mat3[2]=l[2],this.mat3[3]=l[4],this.mat3[4]=l[5],this.mat3[5]=l[6],this.mat3[6]=l[8],this.mat3[7]=l[9],this.mat3[8]=l[10]),l=this.invert3x3(),l)l.transpose3x3(this.mat3);else for(var u=0;u<9;u++)this.mat3[u]=0;return this}},{key:"determinant",value:function(){var l=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],u=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],o=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],n=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],p=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],d=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],_=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],S=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],j=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],T=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],C=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return l*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-u*C+o*T+n*j-p*S+d*_}},{key:"mult",value:function(o){var u;if(o===this||o===this.mat4)u=this.copy().mat4;else if(o instanceof m.default.Matrix)u=o.mat4;else if(h(o))u=o;else{if(arguments.length!==16)return;u=arguments}var o=this.mat4[0],n=this.mat4[1],p=this.mat4[2],d=this.mat4[3];return this.mat4[0]=o*u[0]+n*u[4]+p*u[8]+d*u[12],this.mat4[1]=o*u[1]+n*u[5]+p*u[9]+d*u[13],this.mat4[2]=o*u[2]+n*u[6]+p*u[10]+d*u[14],this.mat4[3]=o*u[3]+n*u[7]+p*u[11]+d*u[15],o=this.mat4[4],n=this.mat4[5],p=this.mat4[6],d=this.mat4[7],this.mat4[4]=o*u[0]+n*u[4]+p*u[8]+d*u[12],this.mat4[5]=o*u[1]+n*u[5]+p*u[9]+d*u[13],this.mat4[6]=o*u[2]+n*u[6]+p*u[10]+d*u[14],this.mat4[7]=o*u[3]+n*u[7]+p*u[11]+d*u[15],o=this.mat4[8],n=this.mat4[9],p=this.mat4[10],d=this.mat4[11],this.mat4[8]=o*u[0]+n*u[4]+p*u[8]+d*u[12],this.mat4[9]=o*u[1]+n*u[5]+p*u[9]+d*u[13],this.mat4[10]=o*u[2]+n*u[6]+p*u[10]+d*u[14],this.mat4[11]=o*u[3]+n*u[7]+p*u[11]+d*u[15],o=this.mat4[12],n=this.mat4[13],p=this.mat4[14],d=this.mat4[15],this.mat4[12]=o*u[0]+n*u[4]+p*u[8]+d*u[12],this.mat4[13]=o*u[1]+n*u[5]+p*u[9]+d*u[13],this.mat4[14]=o*u[2]+n*u[6]+p*u[10]+d*u[14],this.mat4[15]=o*u[3]+n*u[7]+p*u[11]+d*u[15],this}},{key:"apply",value:function(o){var u;if(o===this||o===this.mat4)u=this.copy().mat4;else if(o instanceof m.default.Matrix)u=o.mat4;else if(h(o))u=o;else{if(arguments.length!==16)return;u=arguments}var o=this.mat4,n=o[0],p=o[4],d=o[8],_=o[12],n=(o[0]=u[0]*n+u[1]*p+u[2]*d+u[3]*_,o[4]=u[4]*n+u[5]*p+u[6]*d+u[7]*_,o[8]=u[8]*n+u[9]*p+u[10]*d+u[11]*_,o[12]=u[12]*n+u[13]*p+u[14]*d+u[15]*_,o[1]),p=o[5],d=o[9],_=o[13],n=(o[1]=u[0]*n+u[1]*p+u[2]*d+u[3]*_,o[5]=u[4]*n+u[5]*p+u[6]*d+u[7]*_,o[9]=u[8]*n+u[9]*p+u[10]*d+u[11]*_,o[13]=u[12]*n+u[13]*p+u[14]*d+u[15]*_,o[2]),p=o[6],d=o[10],_=o[14],n=(o[2]=u[0]*n+u[1]*p+u[2]*d+u[3]*_,o[6]=u[4]*n+u[5]*p+u[6]*d+u[7]*_,o[10]=u[8]*n+u[9]*p+u[10]*d+u[11]*_,o[14]=u[12]*n+u[13]*p+u[14]*d+u[15]*_,o[3]),p=o[7],d=o[11],_=o[15];return o[3]=u[0]*n+u[1]*p+u[2]*d+u[3]*_,o[7]=u[4]*n+u[5]*p+u[6]*d+u[7]*_,o[11]=u[8]*n+u[9]*p+u[10]*d+u[11]*_,o[15]=u[12]*n+u[13]*p+u[14]*d+u[15]*_,this}},{key:"scale",value:function(l,u,o){return l instanceof m.default.Vector?(u=l.y,o=l.z,l=l.x):l instanceof Array&&(u=l[1],o=l[2],l=l[0]),this.mat4[0]*=l,this.mat4[1]*=l,this.mat4[2]*=l,this.mat4[3]*=l,this.mat4[4]*=u,this.mat4[5]*=u,this.mat4[6]*=u,this.mat4[7]*=u,this.mat4[8]*=o,this.mat4[9]*=o,this.mat4[10]*=o,this.mat4[11]*=o,this}},{key:"rotate",value:function(B,W,N,n){W instanceof m.default.Vector?(N=W.y,n=W.z,W=W.x):W instanceof Array&&(N=W[1],n=W[2],W=W[0]);var p=Math.sqrt(W*W+N*N+n*n),p=(W*=1/p,N*=1/p,n*=1/p,this.mat4[0]),d=this.mat4[1],_=this.mat4[2],S=this.mat4[3],j=this.mat4[4],T=this.mat4[5],C=this.mat4[6],L=this.mat4[7],E=this.mat4[8],I=this.mat4[9],O=this.mat4[10],U=this.mat4[11],D=Math.sin(B),B=Math.cos(B),X=1-B,H=W*W*X+B,G=N*W*X+n*D,Z=n*W*X-N*D,Q=W*N*X-n*D,le=N*N*X+B,w=n*N*X+W*D,R=W*n*X+N*D,N=N*n*X-W*D,W=n*n*X+B;return this.mat4[0]=p*H+j*G+E*Z,this.mat4[1]=d*H+T*G+I*Z,this.mat4[2]=_*H+C*G+O*Z,this.mat4[3]=S*H+L*G+U*Z,this.mat4[4]=p*Q+j*le+E*w,this.mat4[5]=d*Q+T*le+I*w,this.mat4[6]=_*Q+C*le+O*w,this.mat4[7]=S*Q+L*le+U*w,this.mat4[8]=p*R+j*N+E*W,this.mat4[9]=d*R+T*N+I*W,this.mat4[10]=_*R+C*N+O*W,this.mat4[11]=S*R+L*N+U*W,this}},{key:"translate",value:function(n){var u=n[0],o=n[1],n=n[2]||0;this.mat4[12]+=this.mat4[0]*u+this.mat4[4]*o+this.mat4[8]*n,this.mat4[13]+=this.mat4[1]*u+this.mat4[5]*o+this.mat4[9]*n,this.mat4[14]+=this.mat4[2]*u+this.mat4[6]*o+this.mat4[10]*n,this.mat4[15]+=this.mat4[3]*u+this.mat4[7]*o+this.mat4[11]*n}},{key:"rotateX",value:function(l){this.rotate(l,1,0,0)}},{key:"rotateY",value:function(l){this.rotate(l,0,1,0)}},{key:"rotateZ",value:function(l){this.rotate(l,0,0,1)}},{key:"perspective",value:function(p,u,o,n){var p=1/Math.tan(p/2),d=1/(o-n);return this.mat4[0]=p/u,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(n+o)*d,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*n*o*d,this.mat4[15]=0,this}},{key:"ortho",value:function(l,u,o,n,p,d){var _=1/(l-u),S=1/(o-n),j=1/(p-d);return this.mat4[0]=-2*_,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*S,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*j,this.mat4[11]=0,this.mat4[12]=(l+u)*_,this.mat4[13]=(n+o)*S,this.mat4[14]=(d+p)*j,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(l,u,o,n){var p=new Array(4),d=this.mat4;return p[0]=d[0]*l+d[4]*u+d[8]*o+d[12]*n,p[1]=d[1]*l+d[5]*u+d[9]*o+d[13]*n,p[2]=d[2]*l+d[6]*u+d[10]*o+d[14]*n,p[3]=d[3]*l+d[7]*u+d[11]*o+d[15]*n,p}},{key:"multiplyPoint",value:function(o){var n=o.x,u=o.y,o=o.z,n=this.multiplyVec4(n,u,o,1);return new m.default.Vector(n[0],n[1],n[2])}},{key:"multiplyAndNormalizePoint",value:function(o){var n=o.x,u=o.y,o=o.z,n=this.multiplyVec4(n,u,o,1);return n[0]/=n[3],n[1]/=n[3],n[2]/=n[3],new m.default.Vector(n[0],n[1],n[2])}},{key:"multiplyDirection",value:function(o){var n=o.x,u=o.y,o=o.z,n=this.multiplyVec4(n,u,o,0);return new m.default.Vector(n[0],n[1],n[2])}},{key:"mult3x3",value:function(o){var u;if(o===this||o===this.mat3)u=this.copy().mat3;else if(o instanceof m.default.Matrix)u=o.mat3;else if(h(o))u=o;else{if(arguments.length!==9)return;u=arguments}var o=this.mat3[0],n=this.mat3[1],p=this.mat3[2];return this.mat3[0]=o*u[0]+n*u[3]+p*u[6],this.mat3[1]=o*u[1]+n*u[4]+p*u[7],this.mat3[2]=o*u[2]+n*u[5]+p*u[8],o=this.mat3[3],n=this.mat3[4],p=this.mat3[5],this.mat3[3]=o*u[0]+n*u[3]+p*u[6],this.mat3[4]=o*u[1]+n*u[4]+p*u[7],this.mat3[5]=o*u[2]+n*u[5]+p*u[8],o=this.mat3[6],n=this.mat3[7],p=this.mat3[8],this.mat3[6]=o*u[0]+n*u[3]+p*u[6],this.mat3[7]=o*u[1]+n*u[4]+p*u[7],this.mat3[8]=o*u[2]+n*u[5]+p*u[8],this}},{key:"column",value:function(l){return new m.default.Vector(this.mat3[3*l],this.mat3[3*l+1],this.mat3[3*l+2])}},{key:"row",value:function(l){return new m.default.Vector(this.mat3[l],this.mat3[l+3],this.mat3[l+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(l,u){return(u=u===void 0?l.copy():u).x=this.row(0).dot(l),u.y=this.row(1).dot(l),u.z=this.row(2).dot(l),u}},{key:"createSubMatrix3x3",value:function(){var l=new m.default.Matrix("mat3");return l.mat3[0]=this.mat4[0],l.mat3[1]=this.mat4[1],l.mat3[2]=this.mat4[2],l.mat3[3]=this.mat4[4],l.mat3[4]=this.mat4[5],l.mat3[5]=this.mat4[6],l.mat3[6]=this.mat4[8],l.mat3[7]=this.mat4[9],l.mat3[8]=this.mat4[10],l}}])&&g(r.prototype,s),i&&g(r,i),y})(),m.default.Matrix);A.default=b},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,q,A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(c,h){for(var b=0;b<h.length;b++){var y=h[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}m.default.Quat=(function(){function c(r,s,i,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.w=r,this.vec=new m.default.Vector(s,i,l)}var h,b,y;return h=c,y=[{key:"fromAxisAngle",value:function(r,o,i,l){var u=Math.cos(r/2),o=new m.default.Vector(o,i,l).normalize().mult(Math.sin(r/2));return new m.default.Quat(u,o.x,o.y,o.z)}}],(b=[{key:"conjugate",value:function(){return new m.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(r){return new m.default.Quat(this.w*r.w-this.vec.x*r.vec.x-this.vec.y*r.vec.y-this.vec.z-r.vec.z,this.w*r.vec.x+this.vec.x*r.w+this.vec.y*r.vec.z-this.vec.z*r.vec.y,this.w*r.vec.y-this.vec.x*r.vec.z+this.vec.y*r.w+this.vec.z*r.vec.x,this.w*r.vec.z+this.vec.x*r.vec.y-this.vec.y*r.vec.x+this.vec.z*r.w)}},{key:"rotateVector",value:function(r){return new m.default.Vector.mult(r,this.w*this.w-this.vec.dot(this.vec)).add(m.default.Vector.mult(this.vec,2*r.dot(this.vec))).add(m.default.Vector.mult(this.vec,2*this.w).cross(r)).clampToZero()}},{key:"rotateBy",value:function(r){return r.multiply(this).multiply(r.conjugate()).vec.clampToZero()}}])&&g(h.prototype,b),y&&g(h,y),c})(),t=m.default.Quat,A.default=t},{"../core/main":283}],338:[function(t,q,A){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function m(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}t.default.RenderBuffer=(function(){function g(b,y,r,s,i,l){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.size=b,this.src=y,this.dst=r,this.attr=s,this._renderer=i,this.map=l}var c,h;return c=g,(h=[{key:"_prepareBuffer",value:function(b,y){var r,s,i,o=y.attributes,l=this._renderer.GL,u=b.model||b,o=o[this.attr];o&&(r=b[this.dst],0<(s=u[this.src]).length?((i=!r)&&(b[this.dst]=r=l.createBuffer()),l.bindBuffer(l.ARRAY_BUFFER,r),!i&&u.dirtyFlags[this.src]===!1||(i=(b=this.map)?b(s):s,this._renderer._bindBuffer(r,l.ARRAY_BUFFER,i),u.dirtyFlags[this.src]=!1),y.enableAttrib(o,this.size)):(b=o.location)!==-1&&this._renderer.registerEnabled.has(b)&&(l.disableVertexAttribArray(b),this._renderer.registerEnabled.delete(b)))}}])&&m(c.prototype,h),g})(),t=t.default.RenderBuffer,A.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,q,A){function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function g(i){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(l){return m(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":m(l)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(s=t("../core/main"))&&s.__esModule?s:{default:s},h=(function(i){if(i&&i.__esModule)return i;if(i===null||g(i)!=="object"&&typeof i!="function")return{default:i};var l=b();if(l&&l.has(i))return l.get(i);var u,o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var p;Object.prototype.hasOwnProperty.call(i,u)&&((p=n?Object.getOwnPropertyDescriptor(i,u):null)&&(p.get||p.set)?Object.defineProperty(o,u,p):o[u]=i[u])}return o.default=i,l&&l.set(i,o),o})(t("../core/constants"));function b(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,b=function(){return i},i)}function y(i){return(function(l){if(Array.isArray(l)){for(var u=0,o=new Array(l.length);u<l.length;u++)o[u]=l[u];return o}})(i)||(function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)})(i)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}t("./p5.RenderBuffer"),c.default.RendererGL.prototype.beginShape=function(i){return this.immediateMode.shapeMode=i!==void 0?i:h.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var r={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},s=(c.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==h.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},c.default.RendererGL.prototype.vertex=function(i,l){if(this.immediateMode.shapeMode===h.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var u in r){var o=r[u],u=this.immediateMode.geometry[u];u.push.apply(u,y(u.slice(u.length-3*o,u.length-2*o)).concat(y(u.slice(u.length-o,u.length))))}var n,p,d=n=p=0,_=(arguments.length===3?d=arguments[2]:arguments.length===4?(n=arguments[2],p=arguments[3]):arguments.length===5&&(d=arguments[2],n=arguments[3],p=arguments[4]),new c.default.Vector(i,l,d)),_=(this.immediateMode.geometry.vertices.push(_),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),_=(this.immediateMode.geometry.vertexColors.push(_[0],_[1],_[2],_[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(_[0],_[1],_[2],_[3]),this.textureMode!==h.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(n/=this._tex.width,p/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(n,p),this.immediateMode._bezierVertex[0]=i,this.immediateMode._bezierVertex[1]=l,this.immediateMode._bezierVertex[2]=d,this.immediateMode._quadraticVertex[0]=i,this.immediateMode._quadraticVertex[1]=l,this.immediateMode._quadraticVertex[2]=d,this},c.default.RendererGL.prototype.normal=function(i,l,u){return i instanceof c.default.Vector?this._currentNormal=i:this._currentNormal=new c.default.Vector(i,l,u),this},c.default.RendererGL.prototype.endShape=function(i,l,u,o,n,p){var d,_=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===h.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===h.TESS&&(this.immediateMode.shapeMode=h.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),d=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==h.LINE_STRIP&&this.immediateMode.shapeMode!==h.LINES||(this.immediateMode.shapeMode=h.TRIANGLE_FAN,d=!0),this.immediateMode.shapeMode===h.QUADS?this.immediateMode.shapeMode=h.TRIANGLES:this.immediateMode.shapeMode===h.QUAD_STRIP&&(this.immediateMode.shapeMode=h.TRIANGLE_STRIP),this._doFill&&!d&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(_),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},c.default.RendererGL.prototype._processVertices=function(i){var l;this.immediateMode.geometry.vertices.length!==0&&(l=this._doStroke,i=i===h.CLOSE,l&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,i),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),l=this.immediateMode.shapeMode===h.TESS,i=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||l||i)&&this.immediateMode.shapeMode!==h.LINES&&this._tesselateShape())},c.default.RendererGL.prototype._calculateEdges=function(i,l,u){var o=[],n=0,p=this.immediateMode.contourIndices.slice(),d=0;switch(i){case h.TRIANGLE_STRIP:for(n=0;n<l.length-2;n++)o.push([n,n+1]),o.push([n,n+2]);o.push([n,n+1]);break;case h.TRIANGLE_FAN:for(n=1;n<l.length-1;n++)o.push([0,n]),o.push([n,n+1]);o.push([0,l.length-1]);break;case h.TRIANGLES:for(n=0;n<l.length-2;n+=3)o.push([n,n+1]),o.push([n+1,n+2]),o.push([n+2,n]);break;case h.LINES:for(n=0;n<l.length-1;n+=2)o.push([n,n+1]);break;case h.QUADS:for(n=0;n<l.length-5;n+=6)o.push([n,n+1]),o.push([n+1,n+2]),o.push([n+3,n+5]),o.push([n+4,n+5]);break;case h.QUAD_STRIP:for(n=0;n<l.length-2;n+=2)o.push([n,n+1]),o.push([n,n+2]),o.push([n+1,n+3]);o.push([n,n+1]);break;default:for(n=0;n<l.length;n++)n+1<l.length&&n+1!==p[0]?o.push([n,n+1]):((u||d)&&o.push([n,d]),0<p.length&&(d=p.shift()))}return i!==h.TESS&&u&&o.push([l.length-1,0]),o},c.default.RendererGL.prototype._tesselateShape=function(){for(var i=this,l=(this.immediateMode.shapeMode=h.TRIANGLES,[[]]),u=0;u<this.immediateMode.geometry.vertices.length;u++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===u&&(this.immediateMode.contourIndices.shift(),l.push([])),l[l.length-1].push(this.immediateMode.geometry.vertices[u].x,this.immediateMode.geometry.vertices[u].y,this.immediateMode.geometry.vertices[u].z,this.immediateMode.geometry.uvs[2*u],this.immediateMode.geometry.uvs[2*u+1],this.immediateMode.geometry.vertexColors[4*u],this.immediateMode.geometry.vertexColors[4*u+1],this.immediateMode.geometry.vertexColors[4*u+2],this.immediateMode.geometry.vertexColors[4*u+3],this.immediateMode.geometry.vertexNormals[u].x,this.immediateMode.geometry.vertexNormals[u].y,this.immediateMode.geometry.vertexNormals[u].z);for(var o,n=this._triangulate(l),p=this.immediateMode.geometry.vertices,d=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),_=0,S=n.length;_<S;_+=c.default.RendererGL.prototype.tessyVertexSize)d.push.apply(d,y(n.slice(_+5,_+9))),this.normal.apply(this,y(n.slice(_+9,_+12))),this.vertex.apply(this,y(n.slice(_,_+5)));this.geometryBuilder&&(o=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(j){return j.map(function(T){if(!o.has(T)){var C=p[T],L=i.immediateMode.geometry.vertices.findIndex(function(X){return C.x===X.x&&C.y===X.y&&C.z===X.z});if(L===-1){for(var E=1/0,I=0,O=0;O<i.immediateMode.geometry.vertices.length;O++){var D=i.immediateMode.geometry.vertices[O],B=C.x-D.x,U=C.y-D.y,D=C.z-D.z,B=B*B+U*U+D*D;B<E&&(E=B,I=O)}L=I}o.set(T,L)}return o.get(T)})})),this.immediateMode.geometry.vertexColors=d},c.default.RendererGL.prototype._drawImmediateFill=function(){var i,l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,u=this.GL,o=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,i=this._getImmediateFillShader(),this._setFillUniforms(i),!0),n=!1,p=void 0;try{for(var d,_=this.immediateMode.buffers.fill[Symbol.iterator]();!(o=(d=_.next()).done);o=!0)d.value._prepareBuffer(this.immediateMode.geometry,i)}catch(S){n=!0,p=S}finally{try{o||_.return==null||_.return()}finally{if(n)throw p}}if(i.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),l===1)u.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{u.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,l)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}i.unbindShader()},c.default.RendererGL.prototype._drawImmediateStroke=function(){var i=this.GL,l=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),u=(this._setStrokeUniforms(l),!0),o=!1,n=void 0;try{for(var p,d=this.immediateMode.buffers.stroke[Symbol.iterator]();!(u=(p=d.next()).done);u=!0)p.value._prepareBuffer(this.immediateMode.geometry,l)}catch(_){o=!0,n=_}finally{try{u||d.return==null||d.return()}finally{if(o)throw n}}l.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),i.drawArrays(i.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),l.unbindShader()},c.default.RendererGL);A.default=s},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,q,A){function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}function g(r){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(s){return m(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":m(s)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},h=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),(function(r){if(r&&r.__esModule)return r;if(r===null||g(r)!=="object"&&typeof r!="function")return{default:r};var s=b();if(s&&s.has(r))return s.get(r);var i,l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var o;Object.prototype.hasOwnProperty.call(r,i)&&((o=u?Object.getOwnPropertyDescriptor(r,i):null)&&(o.get||o.set)?Object.defineProperty(l,i,o):l[i]=r[i])}return l.default=r,s&&s.set(r,l),l})(t("../core/constants")));function b(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,b=function(){return r},r)}c.default.RendererGL.prototype.freeGeometry=function(r){r.gid?this._freeBuffers(r.gid):console.warn("The model you passed to freeGeometry does not have an id!")},c.default.RendererGL.prototype._initBufferDefaults=function(r){var s;return this._freeBuffers(r),1e3<Object.keys(this.retainedMode.geometry).length&&(s=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(s)),this.retainedMode.geometry[r]={}},c.default.RendererGL.prototype._freeBuffers=function(r){var s,i=this.retainedMode.geometry[r];function l(u){var o=!0,n=!1,p=void 0;try{for(var d,_=u[Symbol.iterator]();!(o=(d=_.next()).done);o=!0){var S=d.value;i[S.dst]&&(s.deleteBuffer(i[S.dst]),i[S.dst]=null)}}catch(j){n=!0,p=j}finally{try{o||_.return==null||_.return()}finally{if(n)throw p}}}i&&(delete this.retainedMode.geometry[r],s=this.GL,i.indexBuffer&&s.deleteBuffer(i.indexBuffer),l(this.retainedMode.buffers.stroke),l(this.retainedMode.buffers.fill))},c.default.RendererGL.prototype.createBuffers=function(n,s){var i,l,u,o=this.GL,n=this._initBufferDefaults(n),p=(n.model=s,n.indexBuffer);return s.faces.length?(p=p||(n.indexBuffer=o.createBuffer()),u=(l=(i=c.default.RendererGL.prototype._flatten(s.faces)).some(function(d){return 65535<d}))?Uint32Array:Uint16Array,this._bindBuffer(p,o.ELEMENT_ARRAY_BUFFER,i,u),n.indexBufferType=l?o.UNSIGNED_INT:o.UNSIGNED_SHORT,n.vertexCount=3*s.faces.length):(p&&(o.deleteBuffer(p),n.indexBuffer=null),n.vertexCount=s.vertices?s.vertices.length:0),n.lineVertexCount=s.lineVertices?s.lineVertices.length/3:0,n},c.default.RendererGL.prototype.drawBuffers=function(r){var s=this.GL,i=this.retainedMode.geometry[r];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[r].vertexCount){this._useVertexColor=0<i.model.vertexColors.length;var l=this._getRetainedFillShader(),u=(this._setFillUniforms(l),!0),o=!1,n=void 0;try{for(var p,d=this.retainedMode.buffers.fill[Symbol.iterator]();!(u=(p=d.next()).done);u=!0)p.value._prepareBuffer(i,l)}catch(C){o=!0,n=C}finally{try{u||d.return==null||d.return()}finally{if(o)throw n}}l.disableRemainingAttributes(),i.indexBuffer&&this._bindBuffer(i.indexBuffer,s.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,i.model.hasFillTransparency()),this._drawElements(s.TRIANGLES,r),l.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<i.lineVertexCount){this._useLineColor=0<i.model.vertexStrokeColors.length;var _=this._getRetainedStrokeShader(),S=(this._setStrokeUniforms(_),!0),o=!1,n=void 0;try{for(var j,T=this.retainedMode.buffers.stroke[Symbol.iterator]();!(S=(j=T.next()).done);S=!0)j.value._prepareBuffer(i,_)}catch(E){o=!0,n=E}finally{try{S||T.return==null||T.return()}finally{if(o)throw n}}_.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,i.model.hasStrokeTransparency()),this._drawArrays(s.TRIANGLES,r),_.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(i),this},c.default.RendererGL.prototype.drawBuffersScaled=function(r,s,i,l){var u=this.uModelMatrix.copy();try{this.uModelMatrix.scale(s,i,l),this.drawBuffers(r)}finally{this.uModelMatrix=u}},c.default.RendererGL.prototype._drawArrays=function(r,s){return this.GL.drawArrays(r,0,this.retainedMode.geometry[s].lineVertexCount),this},c.default.RendererGL.prototype._drawElements=function(r,i){var i=this.retainedMode.geometry[i],l=this.GL;if(i.indexBuffer){if(this._pInst.webglVersion!==h.WEBGL2&&i.indexBufferType===l.UNSIGNED_INT&&!l.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");l.drawElements(l.TRIANGLES,i.vertexCount,i.indexBufferType,0)}else l.drawArrays(r||l.TRIANGLES,0,i.vertexCount)},c.default.RendererGL.prototype._drawPoints=function(r,s){var i=this.GL,l=this._getImmediatePointShader();this._setPointUniforms(l),this._bindBuffer(s,i.ARRAY_BUFFER,this._vToNArray(r),Float32Array,i.STATIC_DRAW),l.enableAttrib(l.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),i.drawArrays(i.Points,0,r.length),l.unbindShader()};var y=c.default.RendererGL;A.default=y},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(O,q,A){function m(G){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(G)}function g(G){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(Z){return m(Z)}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":m(Z)})(G)}O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.get-own-property-descriptor"),O("core-js/modules/es.object.get-prototype-of"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.reflect.construct"),O("core-js/modules/es.reflect.get"),O("core-js/modules/es.regexp.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/es.weak-map"),O("core-js/modules/web.dom-collections.iterator"),O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.readPixelsWebGL=X,A.readPixelWebGL=H,A.default=void 0;var c=i(O("../core/main")),h=(function(G){if(G&&G.__esModule)return G;if(G===null||g(G)!=="object"&&typeof G!="function")return{default:G};var Z=s();if(Z&&Z.has(G))return Z.get(G);var Q,le={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Q in G){var R;Object.prototype.hasOwnProperty.call(G,Q)&&((R=w?Object.getOwnPropertyDescriptor(G,Q):null)&&(R.get||R.set)?Object.defineProperty(le,Q,R):le[Q]=G[Q])}return le.default=G,Z&&Z.set(G,le),le})(O("../core/constants")),b=i(O("./GeometryBuilder")),y=i(O("libtess")),r=(O("./p5.Shader"),O("./p5.Camera"),O("../core/p5.Renderer"),O("./p5.Matrix"),O("./p5.Framebuffer"),O("path"),O("./p5.Texture"));function s(){var G;return typeof WeakMap!="function"?null:(G=new WeakMap,s=function(){return G},G)}function i(G){return G&&G.__esModule?G:{default:G}}function l(G){return(function(Z){if(Array.isArray(Z)){for(var Q=0,le=new Array(Z.length);Q<Z.length;Q++)le[Q]=Z[Q];return le}})(G)||(function(Z){if(Symbol.iterator in Object(Z)||Object.prototype.toString.call(Z)==="[object Arguments]")return Array.from(Z)})(G)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function u(G,Z){for(var Q=0;Q<Z.length;Q++){var le=Z[Q];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(G,le.key,le)}}function o(G,Z,Q){return(o=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(N,w,R){var N=(function(W,J){for(;!Object.prototype.hasOwnProperty.call(W,J)&&(W=_(W))!==null;);return W})(N,w);if(N)return(N=Object.getOwnPropertyDescriptor(N,w)).get?N.get.call(R):N.value})(G,Z,Q||G)}function n(G,Z){return(n=Object.setPrototypeOf||function(Q,le){return Q.__proto__=le,Q})(G,Z)}function p(G){return function(){var Z,Q,le=_(G);return Z=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(Z=_(this).constructor,Reflect.construct(le,arguments,Z)):le.apply(this,arguments),le=this,!(Q=Z)||g(Q)!=="object"&&typeof Q!="function"?d(le):Q}}function d(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function _(G){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)})(G)}function S(G,Z,Q){Z in G?Object.defineProperty(G,Z,{value:Q,enumerable:!0,configurable:!0,writable:!0}):G[Z]=Q}function j(G,Z){I+="#define STROKE_CAP_".concat(G," ").concat(Z,`
`),L[h[G]]=Z}function T(G,Z){I+="#define STROKE_JOIN_".concat(G," ").concat(Z,`
`),E[h[G]]=Z}var C,L={},E={},I="",O=(j("ROUND",0),j("PROJECT",1),j("SQUARE",2),T("ROUND",0),T("MITER",1),T("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 separate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),U={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:O+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:O+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:I+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision highp int;
precision highp float;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(0., -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:I+`precision highp int;
precision highp float;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},D=U.sphereMappingFrag;for(C in U)U[C]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+U[C];S(O={},h.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),S(O,h.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),S(O,h.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),S(O,h.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),S(O,h.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),S(O,h.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),S(O,h.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),S(O,h.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var B=O;function X(G,Z,ge,le,w,R,N,W,J,re){var ue=Z.getParameter(Z.FRAMEBUFFER_BINDING),ge=(Z.bindFramebuffer(Z.FRAMEBUFFER,ge),W===Z.RGBA?4:3),se=R*N*ge,pe=J===Z.UNSIGNED_BYTE?Uint8Array:Float32Array;if(G instanceof pe&&G.length===se||(G=new pe(se)),Z.readPixels(le,re?re-w-N:w,R,N,W,J,G),Z.bindFramebuffer(Z.FRAMEBUFFER,ue),re)for(var ye=Math.floor(N/2),te=new pe(R*ge),me=0;me<ye;me++){var we=me*R*4,Ee=(N-me-1)*R*4;te.set(G.subarray(we,we+4*R)),G.copyWithin(we,Ee,Ee+4*R),G.set(te,Ee)}return G}function H(G,J,Q,le,w,R,N){var W=G.getParameter(G.FRAMEBUFFER_BINDING),J=(G.bindFramebuffer(G.FRAMEBUFFER,J),w===G.RGBA?4:3),J=new(R===G.UNSIGNED_BYTE?Uint8Array:Float32Array)(J);return G.readPixels(Q,N?N-le-1:le,1,1,w,R,J),G.bindFramebuffer(G.FRAMEBUFFER,W),Array.from(J)}c.default.prototype.setAttributes=function(G,Z){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Q=!0;if(Z!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[G]!==Z&&(this._glAttributes[G]=Z,Q=!1)):G instanceof Object&&this._glAttributes!==G&&(this._glAttributes=G,Q=!1),this._renderer.isP3D&&!Q){if(!this._setupDone){for(var le in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(le))return void c.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},c.default.RendererGL=(function(G){var Z=le;if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(G&&G.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),G&&n(Z,G);var Q=p(le);function le(w,R,N,W){if(this instanceof le)return(w=Q.call(this,w,R,N))._setAttributeDefaults(R),w._initContext(),w.isP3D=!0,w.geometryBuilder=void 0,w.GL=w.drawingContext,w._pInst._setProperty("drawingContext",w.drawingContext),w._isErasing=!1,w._clipDepths=[],w._isClipApplied=!1,w._stencilTestOn=!1,w._enableLighting=!1,w.ambientLightColors=[],w.mixedAmbientLight=[],w.mixedSpecularColor=[],w.specularColors=[1,1,1],w.directionalLightDirections=[],w.directionalLightDiffuseColors=[],w.directionalLightSpecularColors=[],w.pointLightPositions=[],w.pointLightDiffuseColors=[],w.pointLightSpecularColors=[],w.spotLightPositions=[],w.spotLightDirections=[],w.spotLightDiffuseColors=[],w.spotLightSpecularColors=[],w.spotLightAngle=[],w.spotLightConc=[],w.activeImageLight=null,w.diffusedTextures=new Map,w.specularTextures=new Map,w.drawMode=h.FILL,w.curFillColor=w._cachedFillStyle=[1,1,1,1],w.curAmbientColor=w._cachedFillStyle=[1,1,1,1],w.curSpecularColor=w._cachedFillStyle=[0,0,0,0],w.curEmissiveColor=w._cachedFillStyle=[0,0,0,0],w.curStrokeColor=w._cachedStrokeStyle=[0,0,0,1],w.curBlendMode=h.BLEND,w.preEraseBlend=void 0,w._cachedBlendMode=void 0,w.webglVersion===h.WEBGL2?w.blendExt=w.GL:w.blendExt=w.GL.getExtension("EXT_blend_minmax"),w._isBlending=!1,w._hasSetAmbient=!1,w._useSpecularMaterial=!1,w._useEmissiveMaterial=!1,w._useNormalMaterial=!1,w._useShininess=1,w._useMetalness=0,w._useLineColor=!1,w._useVertexColor=!1,w.registerEnabled=new Set,w._tint=[255,255,255,255],w.constantAttenuation=1,w.linearAttenuation=0,w.quadraticAttenuation=0,w.uModelMatrix=new c.default.Matrix,w.uViewMatrix=new c.default.Matrix,w.uMVMatrix=new c.default.Matrix,w.uPMatrix=new c.default.Matrix,w.uNMatrix=new c.default.Matrix("mat3"),w.curMatrix=new c.default.Matrix("mat3"),w._currentNormal=new c.default.Vector(0,0,1),w._curCamera=new c.default.Camera(d(w)),w._curCamera._computeCameraDefaultSettings(),w._curCamera._setDefaultCamera(),w.filterCamera=new c.default.Camera(d(w)),w.filterCamera._computeCameraDefaultSettings(),w.filterCamera._setDefaultCamera(),w.prevTouches=[],w.zoomVelocity=0,w.rotateVelocity=new c.default.Vector(0,0),w.moveVelocity=new c.default.Vector(0,0),w.executeZoom=!1,w.executeRotateAndMove=!1,w.specularShader=void 0,w.sphereMapping=void 0,w.diffusedShader=void 0,w._defaultLightShader=void 0,w._defaultImmediateModeShader=void 0,w._defaultNormalShader=void 0,w._defaultColorShader=void 0,w._defaultPointShader=void 0,w.userFillShader=void 0,w.userStrokeShader=void 0,w.userPointShader=void 0,w.retainedMode={geometry:{},buffers:{stroke:[new c.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",d(w)),new c.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",d(w)),new c.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",d(w)),new c.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",d(w)),new c.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",d(w))],fill:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",d(w),w._vToNArray),new c.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",d(w),w._vToNArray),new c.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",d(w)),new c.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",d(w)),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",d(w),w._flatten)],text:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",d(w),w._vToNArray),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",d(w),w._flatten)]}},w.immediateMode={geometry:new c.default.Geometry,shapeMode:h.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",d(w),w._vToNArray),new c.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",d(w),w._vToNArray),new c.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",d(w)),new c.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",d(w)),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",d(w),w._flatten)],stroke:[new c.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",d(w)),new c.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",d(w)),new c.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",d(w)),new c.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",d(w)),new c.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",d(w))],point:w.GL.createBuffer()}},w.pointSize=5,w.curStrokeWeight=1,w.curStrokeCap=h.ROUND,w.curStrokeJoin=h.ROUND,w.textures=new Map,w.framebuffers=new Set,w.activeFramebuffers=[],w.filterShader=void 0,w.filterLayer=void 0,w.filterLayerTemp=void 0,w.defaultFilterShaders={},w.textureMode=h.IMAGE,w.textureWrapX=h.CLAMP,w.textureWrapY=h.CLAMP,w._tex=null,w._curveTightness=6,w._lookUpTableBezier=[],w._lookUpTableQuadratic=[],w._lutBezierDetail=0,w._lutQuadraticDetail=0,w.isProcessingVertices=!1,w._tessy=w._initTessy(),w.fontInfos={},w._curShader=void 0,w;throw new TypeError("Cannot call a class as a function")}return Z=le,(G=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new b.default(this)}},{key:"endGeometry",value:function(){var w;if(this.geometryBuilder)return w=this.geometryBuilder.finish(),this.geometryBuilder=void 0,w;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(w){return this.beginGeometry(),w(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(w){var R={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};w._glAttributes===null?w._glAttributes=R:w._glAttributes=Object.assign(R,w._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?h.WEBGL2:h.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var w=this.drawingContext;w.enable(w.DEPTH_TEST),w.depthFunc(w.LEQUAL),w.viewport(0,0,w.drawingBufferWidth,w.drawingBufferHeight),w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var w=this.drawingContext;return w.getParameter(w.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(w,R){this._maxTextureSize||(this._maxTextureSize=this._getParam());var W=this._maxTextureSize,W=(c.default.prototype._maxAllowedPixelDimensions,Math.floor(W/this.pixelDensity())),N=Math.min(w,W),W=Math.min(R,W);return N===w&&W===R||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(N,", height: ").concat(W,".")),{adjustedWidth:N,adjustedHeight:W}}},{key:"_resetContext",value:function(w,R){var N,W=this.width,J=this.height,ue=this.canvas.id,re=this._pInst instanceof c.default.Graphics,ue=(re?((N=this._pInst).canvas.parentNode.removeChild(N.canvas),N.canvas=document.createElement("canvas"),(N._pInst._userNode||document.body).appendChild(N.canvas),c.default.Element.call(N,N.canvas,N._pInst),N.width=W,N.height=J):((N=this.canvas)&&N.parentNode.removeChild(N),(N=document.createElement("canvas")).id=ue,(this._pInst._userNode||document.body).appendChild(N),this._pInst.canvas=N,this.canvas=N),new c.default.RendererGL(this._pInst.canvas,this._pInst,!re));this._pInst._setProperty("_renderer",ue),ue.resize(W,J),ue._applyDefaults(),re||this._pInst._elements.push(ue),typeof R=="function"&&setTimeout(function(){R.apply(window._renderer,w)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var W=(W=this._pInst).color.apply(W,arguments),w=W.levels[0]/255,R=W.levels[1]/255,N=W.levels[2]/255,W=W.levels[3]/255;this.clear(w,R,N,W)}},{key:"fill",value:function(w,R,N,W){var J=c.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=J._array,this.drawMode=h.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(w,R,N,W){var J=c.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=J._array}},{key:"strokeCap",value:function(w){this.curStrokeCap=w}},{key:"strokeJoin",value:function(w){this.curStrokeJoin=w}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(w,R){w.width===R.width&&w.height===R.height||w.resize(R.width,R.height),w.pixelDensity()!==R.pixelDensity()&&w.pixelDensity(R.pixelDensity())}},{key:"filter",value:function(){var w,R,N=this,W=this.getFilterLayer(),J=void 0,re=void 0,ue=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(re=arguments.length<=0?void 0:arguments[0],S(w={},h.BLUR,3),S(w,h.POSTERIZE,4),S(w,h.THRESHOLD,.5),J=re in(w=w)&&(arguments.length<=1?void 0:arguments[1])===void 0?w[re]:arguments.length<=1?void 0:arguments[1],re in this.defaultFilterShaders||(this.defaultFilterShaders[re]=new c.default.Shader(W._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,B[re])),this.filterShader=this.defaultFilterShaders[re]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ge=(this.matchSize(W,ue),W.draw(function(){return N._pInst.clear()}),[1/(ue.width*ue.pixelDensity()),1/(ue.height*ue.pixelDensity())]);re===h.BLUR?(R=this.getFilterLayerTemp(),this.matchSize(R,ue),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(h.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ge),this.filterShader.setUniform("canvasSize",[ue.width,ue.height]),this.filterShader.setUniform("radius",Math.max(1,J)),R.draw(function(){N.filterShader.setUniform("direction",[1,0]),N.filterShader.setUniform("tex0",ue),N._pInst.clear(),N._pInst.shader(N.filterShader),N._pInst.noLights(),N._pInst.plane(ue.width,ue.height)}),W.draw(function(){N.filterShader.setUniform("direction",[0,1]),N.filterShader.setUniform("tex0",R),N._pInst.clear(),N._pInst.shader(N.filterShader),N._pInst.noLights(),N._pInst.plane(ue.width,ue.height)}),this._pInst.pop()):W.draw(function(){N._pInst.noStroke(),N._pInst.blendMode(h.BLEND),N._pInst.shader(N.filterShader),N.filterShader.setUniform("tex0",ue),N.filterShader.setUniform("texelSize",ge),N.filterShader.setUniform("canvasSize",[ue.width,ue.height]),N.filterShader.setUniform("filterParameter",J),N._pInst.noLights(),N._pInst.plane(ue.width,ue.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(h.CORNER),this._pInst.blendMode(h.BLEND),ue.filterCamera._resize(),this._pInst.setCamera(ue.filterCamera),this._pInst.resetMatrix(),this._pInst.image(W,-ue.width/2,-ue.height/2,ue.width,ue.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(w){return w?this._pInst.pixelDensity(w):this._pInst.pixelDensity()}},{key:"blendMode",value:function(w){w===h.DARKEST||w===h.LIGHTEST||w===h.ADD||w===h.BLEND||w===h.SUBTRACT||w===h.SCREEN||w===h.EXCLUSION||w===h.REPLACE||w===h.MULTIPLY||w===h.REMOVE?this.curBlendMode=w:w!==h.BURN&&w!==h.OVERLAY&&w!==h.HARD_LIGHT&&w!==h.SOFT_LIGHT&&w!==h.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(w,R){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(h.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,w/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,R/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},w=(o(_(le.prototype),"beginClip",this).call(this,w),this.drawTarget()._isClipApplied=!0,this.GL);w.clearStencil(0),w.clear(w.STENCIL_BUFFER_BIT),w.enable(w.STENCIL_TEST),this._stencilTestOn=!0,w.stencilFunc(w.ALWAYS,1,255),w.stencilOp(w.KEEP,w.KEEP,w.REPLACE),w.disable(w.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var w=this.GL;w.stencilOp(w.KEEP,w.KEEP,w.KEEP),w.stencilFunc(this._clipInvert?w.EQUAL:w.NOTEQUAL,0,255),w.enable(w.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),o(_(le.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(w){this.curStrokeWeight!==w&&(this.pointSize=w,this.curStrokeWeight=w)}},{key:"_getPixel",value:function(w,R){var N=this.GL;return H(N,null,w,R,N.RGBA,N.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var w,R,N=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(w=this._pInst._pixelDensity,R=this.GL,N._setProperty("pixels",X(N.pixels,R,null,0,0,this.width*w,this.height*w,R.RGBA,R.UNSIGNED_BYTE,this.height*w)))}},{key:"updatePixels",value:function(){var w=this._getTempFramebuffer();w.pixels=this._pixelsState.pixels,w.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(h.CENTER),this._pInst.image(w,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:h.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:h.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(w){return this.retainedMode.geometry[w]!==void 0}},{key:"viewport",value:function(w,R){this._viewport=[0,0,w,R],this.GL.viewport(0,0,w,R)}},{key:"resize",value:function(J,W){c.default.Renderer.prototype.resize.call(this,J,W),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var J=this._pixelsState,N=(J.pixels!==void 0&&J._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),W=!1,J=void 0;try{for(var re,ue=this.framebuffers[Symbol.iterator]();!(N=(re=ue.next()).done);N=!0)re.value._canvasSizeChanged()}catch(ge){W=!0,J=ge}finally{try{N||ue.return==null||ue.return()}finally{if(W)throw J}}}},{key:"clear",value:function(){var w=(arguments.length<=0?void 0:arguments[0])||0,R=(arguments.length<=1?void 0:arguments[1])||0,N=(arguments.length<=2?void 0:arguments[2])||0,W=(arguments.length<=3?void 0:arguments[3])||0,J=this.activeFramebuffer();J&&J.format===h.UNSIGNED_BYTE&&!J.antialias&&W===0&&(W=1e-10),this.GL.clearColor(w*W,R*W,N*W,W),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(w,R,N,W,J,re){arguments.length===16?c.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([w,R,0,0,N,W,0,0,0,0,1,0,J,re,0,1])}},{key:"translate",value:function(w,R,N){return w instanceof c.default.Vector&&(N=w.z,R=w.y,w=w.x),this.uModelMatrix.translate([w,R,N]),this}},{key:"scale",value:function(w,R,N){return this.uModelMatrix.scale(w,R,N),this}},{key:"rotate",value:function(w,R){return R===void 0?this.rotateZ(w):(c.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(w){return this.rotate(w,1,0,0),this}},{key:"rotateY",value:function(w){return this.rotate(w,0,1,0),this}},{key:"rotateZ",value:function(w){return this.rotate(w,0,0,1),this}},{key:"push",value:function(){var w=c.default.Renderer.prototype.push.apply(this),R=w.properties;return R.uModelMatrix=this.uModelMatrix.copy(),R.uViewMatrix=this.uViewMatrix.copy(),R.uPMatrix=this.uPMatrix.copy(),R._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),R.ambientLightColors=this.ambientLightColors.slice(),R.specularColors=this.specularColors.slice(),R.directionalLightDirections=this.directionalLightDirections.slice(),R.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),R.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),R.pointLightPositions=this.pointLightPositions.slice(),R.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),R.pointLightSpecularColors=this.pointLightSpecularColors.slice(),R.spotLightPositions=this.spotLightPositions.slice(),R.spotLightDirections=this.spotLightDirections.slice(),R.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),R.spotLightSpecularColors=this.spotLightSpecularColors.slice(),R.spotLightAngle=this.spotLightAngle.slice(),R.spotLightConc=this.spotLightConc.slice(),R.userFillShader=this.userFillShader,R.userStrokeShader=this.userStrokeShader,R.userPointShader=this.userPointShader,R.pointSize=this.pointSize,R.curStrokeWeight=this.curStrokeWeight,R.curStrokeColor=this.curStrokeColor,R.curFillColor=this.curFillColor,R.curAmbientColor=this.curAmbientColor,R.curSpecularColor=this.curSpecularColor,R.curEmissiveColor=this.curEmissiveColor,R._hasSetAmbient=this._hasSetAmbient,R._useSpecularMaterial=this._useSpecularMaterial,R._useEmissiveMaterial=this._useEmissiveMaterial,R._useShininess=this._useShininess,R._useMetalness=this._useMetalness,R.constantAttenuation=this.constantAttenuation,R.linearAttenuation=this.linearAttenuation,R.quadraticAttenuation=this.quadraticAttenuation,R._enableLighting=this._enableLighting,R._useNormalMaterial=this._useNormalMaterial,R._tex=this._tex,R.drawMode=this.drawMode,R._currentNormal=this._currentNormal,R.curBlendMode=this.curBlendMode,R.activeImageLight=this.activeImageLight,R.textureMode=this.textureMode,w}},{key:"pop",value:function(){var w;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var R=arguments.length,N=new Array(R),W=0;W<R;W++)N[W]=arguments[W];(w=o(_(le.prototype),"pop",this)).call.apply(w,[this].concat(N)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var w=this.drawTarget();w._isClipApplied!==this._stencilTestOn&&(w._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var w=this.userStrokeShader;return w&&w.isStrokeShader()?w:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(w){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(D)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",w),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var w=this.userFillShader;if(this._useNormalMaterial&&(!w||!w.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!w||!w.isLightShader())return this._getLightShader()}else if(this._tex){if(!w||!w.isTextureShader())return this._getLightShader()}else if(!w)return this._getImmediateModeShader();return w}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var w=this.userFillShader;if(this._enableLighting){if(!w||!w.isLightShader())return this._getLightShader()}else if(this._tex){if(!w||!w.isTextureShader())return this._getLightShader()}else if(!w)return this._getColorShader();return w}},{key:"_getImmediatePointShader",value:function(){var w=this.userPointShader;return w&&w.isPointShader()?w:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+U.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+U.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+U.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+U.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+U.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+U.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===h.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+U.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+U.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(w,R){var N="";return this.webglVersion===h.WEBGL2&&(N+=`#version 300 es
#define WEBGL2
`),w==="vert"?N+=`#define VERTEX_SHADER
`:w==="frag"&&(N+=`#define FRAGMENT_SHADER
`),R&&(N+="precision ".concat(R,` float;
`)),N}},{key:"_getEmptyTexture",value:function(){var w;return this._emptyTexture||((w=new c.default.Image(1,1)).set(0,0,255),this._emptyTexture=new c.default.Texture(this,w)),this._emptyTexture}},{key:"getTexture",value:function(w){w instanceof c.default.Framebuffer&&(w=w.color);var R=this.textures.get(w);return R||(R=new c.default.Texture(this,w),this.textures.set(w,R),R)}},{key:"getDiffusedTexture",value:function(w){var R,N,W=this;return this.diffusedTextures.get(w)!=null?this.diffusedTextures.get(w):(R=Math.floor(w.height/w.width*200),N=this._pInst.createFramebuffer({width:200,height:R,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(U.imageLightVert,U.imageLightDiffusedFrag)),N.draw(function(){W._pInst.shader(W.diffusedShader),W.diffusedShader.setUniform("environmentMap",w),W._pInst.noStroke(),W._pInst.rectMode(h.CENTER),W._pInst.noLights(),W._pInst.rect(0,0,200,R)}),this.diffusedTextures.set(w,N),N)}},{key:"getSpecularTexture",value:function(w){var R=this;if(this.specularTextures.get(w)!=null)return this.specularTextures.get(w);for(var N,W=[],J=this._pInst.createFramebuffer({width:512,height:512,density:1}),re=Math.log(512)/Math.log(2),ue=(this.specularShader||(this.specularShader=this._pInst.createShader(U.imageLightVert,U.imageLightSpecularFrag)),512);1<=ue;ue/=2)(function(ge){J.resize(ge,ge);var se=1-Math.log(ge)/Math.log(2)/re;J.draw(function(){R._pInst.shader(R.specularShader),R._pInst.clear(),R.specularShader.setUniform("environmentMap",w),R.specularShader.setUniform("roughness",se),R._pInst.noStroke(),R._pInst.noLights(),R._pInst.plane(ge,ge)}),W.push(J.get().drawingContext.getImageData(0,0,ge,ge))})(ue);return J.remove(),N=new r.MipmapTexture(this,W,{}),this.specularTextures.set(w,N),N}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(w){return new c.default.Framebuffer(this,w)}},{key:"_setStrokeUniforms",value:function(w){w.bindShader(),w.setUniform("uUseLineColor",this._useLineColor),w.setUniform("uMaterialColor",this.curStrokeColor),w.setUniform("uStrokeWeight",this.curStrokeWeight),w.setUniform("uStrokeCap",L[this.curStrokeCap]),w.setUniform("uStrokeJoin",E[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(w){var R=this,N=(w.bindShader(),this.mixedSpecularColor=l(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(W,J){return R.curFillColor[J]*R._useMetalness+W*(1-R._useMetalness)})),w.setUniform("uUseVertexColor",this._useVertexColor),w.setUniform("uMaterialColor",this.curFillColor),w.setUniform("isTexture",!!this._tex),this._tex&&w.setUniform("uSampler",this._tex),w.setUniform("uTint",this._tint),w.setUniform("uHasSetAmbient",this._hasSetAmbient),w.setUniform("uAmbientMatColor",this.curAmbientColor),w.setUniform("uSpecularMatColor",this.mixedSpecularColor),w.setUniform("uEmissiveMatColor",this.curEmissiveColor),w.setUniform("uSpecular",this._useSpecularMaterial),w.setUniform("uEmissive",this._useEmissiveMaterial),w.setUniform("uShininess",this._useShininess),w.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(w),w.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),N=(w.setUniform("uPointLightCount",N),w.setUniform("uPointLightLocation",this.pointLightPositions),w.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),w.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),N=(w.setUniform("uDirectionalLightCount",N),w.setUniform("uLightingDirection",this.directionalLightDirections),w.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),w.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),N=(this.mixedAmbientLight=l(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(W){return W-=R._useMetalness,Math.max(0,W)})),w.setUniform("uAmbientLightCount",N),w.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);w.setUniform("uSpotLightCount",N),w.setUniform("uSpotLightAngle",this.spotLightAngle),w.setUniform("uSpotLightConc",this.spotLightConc),w.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),w.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),w.setUniform("uSpotLightLocation",this.spotLightPositions),w.setUniform("uSpotLightDirection",this.spotLightDirections),w.setUniform("uConstantAttenuation",this.constantAttenuation),w.setUniform("uLinearAttenuation",this.linearAttenuation),w.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),w.bindTextures()}},{key:"_setImageLightUniforms",value:function(w){var R;w.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(R=this.getDiffusedTexture(this.activeImageLight),w.setUniform("environmentMapDiffused",R),R=this.getSpecularTexture(this.activeImageLight),w.setUniform("environmentMapSpecular",R))}},{key:"_setPointUniforms",value:function(w){w.bindShader(),w.setUniform("uMaterialColor",this.curStrokeColor),w.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(w,R,N,W,J){R=R||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(R,w),N!==void 0&&((w=N)instanceof c.default.DataArray?w=N.dataArray():w instanceof(W||Float32Array)||(w=new(W||Float32Array)(w)),this.GL.bufferData(R,w,J||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(w,R){return w.length===R.length&&w.every(function(N,W){return N===R[W]})}},{key:"_isTypedArray",value:function(w){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(R){return w instanceof R})}},{key:"_flatten",value:function(w){return w.flat()}},{key:"_vToNArray",value:function(w){return w.flatMap(function(R){return[R.x,R.y,R.z]})}},{key:"_bezierCoefficients",value:function(w){var R=w*w,N=1-w,W=N*N;return[W*N,3*W*w,3*N*R,R*w]}},{key:"_quadraticCoefficients",value:function(w){var R=1-w;return[R*R,2*R*w,w*w]}},{key:"_bezierToCatmull",value:function(w){return[w[1],w[1]+(w[2]-w[0])/this._curveTightness,w[2]-(w[3]-w[1])/this._curveTightness,w[2]]}},{key:"_initTessy",value:function(){var w=new y.default.GluTesselator;return w.gluTessCallback(y.default.gluEnum.GLU_TESS_VERTEX_DATA,function(R,N){var W=!0,J=!1,re=void 0;try{for(var ue,ge=R[Symbol.iterator]();!(W=(ue=ge.next()).done);W=!0){var se=ue.value;N.push(se)}}catch(pe){J=!0,re=pe}finally{try{W||ge.return==null||ge.return()}finally{if(J)throw re}}}),w.gluTessCallback(y.default.gluEnum.GLU_TESS_BEGIN,function(R){R!==y.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(R))}),w.gluTessCallback(y.default.gluEnum.GLU_TESS_ERROR,function(R){console.log("error callback"),console.log("error number: ".concat(R))}),w.gluTessCallback(y.default.gluEnum.GLU_TESS_COMBINE,function(R,N,W){for(var J=new Array(c.default.RendererGL.prototype.tessyVertexSize).fill(0),re=0;re<W.length;re++)for(var ue=0;ue<J.length;ue++)W[re]!==0&&N[re]&&(J[ue]+=N[re][ue]*W[re]);return J}),w.gluTessCallback(y.default.gluEnum.GLU_TESS_EDGE_FLAG,function(R){}),w.gluTessProperty(y.default.gluEnum.GLU_TESS_WINDING_RULE,y.default.windingRule.GLU_TESS_WINDING_NONZERO),w}},{key:"_triangulate",value:function(w){var R=w[0]?w[0][2]:void 0,N=!0,W=!0,se=!1,ye=void 0;try{for(var J,re=w[Symbol.iterator]();!(W=(J=re.next()).done);W=!0)for(var ue=J.value,ge=0;ge<ue.length;ge+=c.default.RendererGL.prototype.tessyVertexSize)if(ue[ge+2]!==R){N=!1;break}}catch(Pe){se=!0,ye=Pe}finally{try{W||re.return==null||re.return()}finally{if(se)throw ye}}N?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var se=[],pe=(this._tessy.gluTessBeginPolygon(se),!0),ye=!1,te=void 0;try{for(var me,we=w[Symbol.iterator]();!(pe=(me=we.next()).done);pe=!0){var Ee=me.value;this._tessy.gluTessBeginContour();for(var xe=0;xe<Ee.length;xe+=c.default.RendererGL.prototype.tessyVertexSize){var Te=Ee.slice(xe,xe+c.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Te,Te)}this._tessy.gluTessEndContour()}}catch(Pe){ye=!0,te=Pe}finally{try{pe||we.return==null||we.return()}finally{if(ye)throw te}}return this._tessy.gluTessEndPolygon(),se}}])&&u(Z.prototype,G),le})(c.default.Renderer),c.default.prototype._assert3d=function(G){if(!this._renderer.isP3D)throw new Error("".concat(G,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see https://p5js.org/examples/3d-geometries/ for more information."))},c.default.RendererGL.prototype.tessyVertexSize=12,O=c.default.RendererGL,A.default=O},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,q,A){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var m=(t=t("../core/main"))&&t.__esModule?t:{default:t};function g(h,b){return(function(y){if(Array.isArray(y))return y})(h)||(function(y,r){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var s=[],i=!0,l=!1,u=void 0;try{for(var o,n=y[Symbol.iterator]();!(i=(o=n.next()).done)&&(s.push(o.value),!r||s.length!==r);i=!0);}catch(p){l=!0,u=p}finally{try{i||n.return==null||n.return()}finally{if(l)throw u}}return s}})(h,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function c(h,b){for(var y=0;y<b.length;y++){var r=b[y];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(h,r.key,r)}}m.default.Shader=(function(){function h(r,s,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},u=this,o=h;if(!(u instanceof o))throw new TypeError("Cannot call a class as a function");this._renderer=r,this._vertSrc=s,this._fragSrc=i,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:l.uniforms||{},declarations:l.declarations,helpers:l.helpers||{},vertex:l.vertex||{},fragment:l.fragment||{},modified:{vertex:l.modified&&l.modified.vertex||{},fragment:l.modified&&l.modified.fragment||{}}}}var b,y;return b=h,(y=[{key:"shaderSrc",value:function(d,s){var i,l,u,o,n,d=g(d.split("void main"),2),p=d[0],d=d[1],_="";for(i in this.hooks.uniforms)_+="uniform ".concat(i,`;
`);for(l in this.hooks.declarations&&(_+=this.hooks.declarations+`
`),this.hooks[s].declarations&&(_+=this.hooks[s].declarations+`
`),this.hooks.helpers)_+="".concat(l).concat(this.hooks.helpers[l],`
`);for(u in this.hooks[s])u!=="declarations"&&(o=(n=g(u.split(" "),2))[0],n=n[1],this.hooks.modified[s][u]&&(_+="#define AUGMENTED_HOOK_"+n+`
`),_+=o+" HOOK_"+n+this.hooks[s][u]+`
`);return p+_+"void main"+d}},{key:"version",value:function(){var r=/#version (.+)$/.exec(this.vertSrc());return r?r[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var r in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[r]?"[MODIFIED] ":"")+r+this.hooks.vertex[r]);for(var s in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[s]?"[MODIFIED] ":"")+s+this.hooks.fragment[s]);for(var i in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(i+this.hooks.helpers[i])}},{key:"modify",value:function(r){m.default._validateParameters("p5.Shader.modify",arguments);var s,i={vertex:{},fragment:{},helpers:{}};for(s in r)s!=="declarations"&&s!=="uniforms"&&(s==="vertexDeclarations"?i.vertex.declarations=(i.vertex.declarations||"")+`
`+r[s]:s==="fragmentDeclarations"?i.fragment.declarations=(i.fragment.declarations||"")+`
`+r[s]:this.hooks.vertex[s]?i.vertex[s]=r[s]:this.hooks.fragment[s]?i.fragment[s]=r[s]:i.helpers[s]=r[s]);var l,u,o=Object.assign({},this.hooks.modified.vertex),n=Object.assign({},this.hooks.modified.fragment);for(l in i.vertex||{})l!=="declarations"&&(o[l]=!0);for(u in i.fragment||{})u!=="declarations"&&(n[u]=!0);return new m.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(r.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,r.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,i.fragment||{}),vertex:Object.assign({},this.hooks.vertex,i.vertex||{}),helpers:Object.assign({},this.hooks.helpers,i.helpers||{}),modified:{vertex:o,fragment:n}})}},{key:"init",value:function(){if(this._glProgram===0){var r,s=this._renderer.GL;if(this._vertShader=s.createShader(s.VERTEX_SHADER),s.shaderSource(this._vertShader,this.vertSrc()),s.compileShader(this._vertShader),!s.getShaderParameter(this._vertShader,s.COMPILE_STATUS))return r=s.getShaderInfoLog(this._vertShader),console.error(r),null;if(this._fragShader=s.createShader(s.FRAGMENT_SHADER),s.shaderSource(this._fragShader,this.fragSrc()),s.compileShader(this._fragShader),!s.getShaderParameter(this._fragShader,s.COMPILE_STATUS))return r=s.getShaderInfoLog(this._fragShader),console.error(r),null;this._glProgram=s.createProgram(),s.attachShader(this._glProgram,this._vertShader),s.attachShader(this._glProgram,this._fragShader),s.linkProgram(this._glProgram),s.getProgramParameter(this._glProgram,s.LINK_STATUS)||m.default._friendlyError("Snap! Error linking shader program: ".concat(s.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var r in this.hooks.uniforms){var s=g(r.split(" "),2)[1],r=this.hooks.uniforms[r],i=void 0;(i=r instanceof Function?r():r)!=null&&this.setUniform(s,i)}}},{key:"copyToContext",value:function(r){var s=new m.default.Shader(r._renderer,this._vertSrc,this._fragSrc);return s.ensureCompiledOnContext(r),s}},{key:"ensureCompiledOnContext",value:function(r){if(this._glProgram!==0&&this._renderer!==r._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=r._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var r=this._renderer.GL,s=r.getProgramParameter(this._glProgram,r.ACTIVE_ATTRIBUTES),i=0;i<s;++i){var l=r.getActiveAttrib(this._glProgram,i),u=l.name,o=r.getAttribLocation(this._glProgram,u),n={};n.name=u,n.location=o,n.index=i,n.type=l.type,n.size=l.size,this.attributes[u]=n}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var r=this._renderer.GL,s=r.getProgramParameter(this._glProgram,r.ACTIVE_UNIFORMS),i=0,l=0;l<s;++l){var u=r.getActiveUniform(this._glProgram,l),o={},n=(o.location=r.getUniformLocation(this._glProgram,u.name),o.size=u.size,u.name);1<u.size&&(n=n.substring(0,n.indexOf("[0]"))),o.name=n,o.type=u.type,o._cachedData=void 0,o.type===r.SAMPLER_2D&&(o.samplerIndex=i,i++,this.samplers.push(o)),o.isArray=1<u.size||o.type===r.FLOAT_MAT3||o.type===r.FLOAT_MAT4||o.type===r.FLOAT_VEC2||o.type===r.FLOAT_VEC3||o.type===r.FLOAT_VEC4||o.type===r.INT_VEC2||o.type===r.INT_VEC4||o.type===r.INT_VEC3,this.uniforms[n]=o}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var r=this._renderer.GL,s=!0,i=!1,l=void 0;try{for(var u,o=this.samplers[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var n=u.value,p=n.texture;p===void 0&&(p=this._renderer._getEmptyTexture()),r.activeTexture(r.TEXTURE0+n.samplerIndex),p.bindTexture(),p.update(),r.uniform1i(n.location,n.samplerIndex)}}catch(d){i=!0,l=d}finally{try{s||o.return==null||o.return()}finally{if(i)throw l}}}},{key:"updateTextures",value:function(){var r=!0,s=!1,i=void 0;try{for(var l,u=this.samplers[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var o=l.value.texture;o&&o.update()}}catch(n){s=!0,i=n}finally{try{r||u.return==null||u.return()}finally{if(s)throw i}}}},{key:"unbindTextures",value:function(){var r=!0,s=!1,i=void 0;try{for(var l,u=this.samplers[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var o=l.value;this.setUniform(o.name,this._renderer._getEmptyTexture())}}catch(n){s=!0,i=n}finally{try{r||u.return==null||u.return()}finally{if(s)throw i}}}},{key:"_setMatrixUniforms",value:function(){var r=this._renderer.uModelMatrix,s=this._renderer.uViewMatrix,i=this._renderer.uPMatrix,l=r.copy().mult(s),u=(this._renderer.uMVMatrix=l).copy();u.mult(i),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",s.mat4),this.setUniform("uProjectionMatrix",i.mat4),this.setUniform("uModelMatrix",r.mat4),this.setUniform("uModelViewMatrix",l.mat4),this.setUniform("uModelViewProjectionMatrix",u.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var r=this._renderer.GL;return this._renderer._curShader!==this&&(r.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(r,s){var i=this.uniforms[r];if(i){var l=this._renderer.GL;if(i.isArray){if(i._cachedData&&this._renderer._arraysEqual(i._cachedData,s))return;i._cachedData=s.slice(0)}else{if(i._cachedData&&i._cachedData===s)return;Array.isArray(s)?i._cachedData=s.slice(0):i._cachedData=s}var u=i.location;switch(this.useProgram(),i.type){case l.BOOL:s===!0?l.uniform1i(u,1):l.uniform1i(u,0);break;case l.INT:1<i.size?s.length&&l.uniform1iv(u,s):l.uniform1i(u,s);break;case l.FLOAT:1<i.size?s.length&&l.uniform1fv(u,s):l.uniform1f(u,s);break;case l.FLOAT_MAT3:l.uniformMatrix3fv(u,!1,s);break;case l.FLOAT_MAT4:l.uniformMatrix4fv(u,!1,s);break;case l.FLOAT_VEC2:1<i.size?s.length&&l.uniform2fv(u,s):l.uniform2f(u,s[0],s[1]);break;case l.FLOAT_VEC3:1<i.size?s.length&&l.uniform3fv(u,s):l.uniform3f(u,s[0],s[1],s[2]);break;case l.FLOAT_VEC4:1<i.size?s.length&&l.uniform4fv(u,s):l.uniform4f(u,s[0],s[1],s[2],s[3]);break;case l.INT_VEC2:1<i.size?s.length&&l.uniform2iv(u,s):l.uniform2i(u,s[0],s[1]);break;case l.INT_VEC3:1<i.size?s.length&&l.uniform3iv(u,s):l.uniform3i(u,s[0],s[1],s[2]);break;case l.INT_VEC4:1<i.size?s.length&&l.uniform4iv(u,s):l.uniform4i(u,s[0],s[1],s[2],s[3]);break;case l.SAMPLER_2D:if(typeof s=="number"){if(s<l.TEXTURE0||s>l.TEXTURE31||s!==Math.ceil(s))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;l.activeTexture(s),l.uniform1i(u,s)}else l.activeTexture(l.TEXTURE0+i.samplerIndex),i.texture=s instanceof m.default.Texture?s:this._renderer.getTexture(s),l.uniform1i(u,i.samplerIndex),i.texture.src.gifProperties&&i.texture.src._animateGif(this._renderer._pInst);break;case l.SAMPLER_CUBE:case l.SAMPLER_3D:case l.SAMPLER_2D_SHADOW:case l.SAMPLER_2D_ARRAY:case l.SAMPLER_2D_ARRAY_SHADOW:case l.SAMPLER_CUBE_SHADOW:case l.INT_SAMPLER_2D:case l.INT_SAMPLER_3D:case l.INT_SAMPLER_CUBE:case l.INT_SAMPLER_2D_ARRAY:case l.UNSIGNED_INT_SAMPLER_2D:case l.UNSIGNED_INT_SAMPLER_3D:case l.UNSIGNED_INT_SAMPLER_CUBE:case l.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof s=="number"&&(s<l.TEXTURE0||s>l.TEXTURE31||s!==Math.ceil(s)?console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(l.activeTexture(s),l.uniform1i(u,s)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(r){return r!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(r,s,i,l,u,o){var n;return r&&(r=r.location)!==-1&&(n=this._renderer.GL,this._renderer.registerEnabled.has(r)||(n.enableVertexAttribArray(r),this._renderer.registerEnabled.add(r)),this._renderer.GL.vertexAttribPointer(r,s,i||n.FLOAT,l||!1,u||0,o||0)),this}},{key:"disableRemainingAttributes",value:function(){var r=this,s=!0,i=!1,l=void 0;try{for(var u,o=this._renderer.registerEnabled.values()[Symbol.iterator]();!(s=(u=o.next()).done);s=!0)(function(){var n=u.value;Object.keys(r.attributes).some(function(p){return r.attributes[p].location===n})||(r._renderer.GL.disableVertexAttribArray(n),r._renderer.registerEnabled.delete(n))})()}catch(n){i=!0,l=n}finally{try{s||o.return==null||o.return()}finally{if(i)throw l}}}}])&&c(b.prototype,y),h})(),t=m.default.Shader,A.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,q,A){function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(p)}function g(p){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(d){return m(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":m(d)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(A,"__esModule",{value:!0}),A.checkWebGLCapabilities=n,A.default=A.MipmapTexture=void 0;var c=(o=t("../core/main"))&&o.__esModule?o:{default:o},h=(function(p){if(p&&p.__esModule)return p;if(p===null||g(p)!=="object"&&typeof p!="function")return{default:p};var d=b();if(d&&d.has(p))return d.get(p);var _,S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in p){var T;Object.prototype.hasOwnProperty.call(p,_)&&((T=j?Object.getOwnPropertyDescriptor(p,_):null)&&(T.get||T.set)?Object.defineProperty(S,_,T):S[_]=p[_])}return S.default=p,d&&d.set(p,S),S})(t("../core/constants"));function b(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,b=function(){return p},p)}function y(p,d){return(y=Object.setPrototypeOf||function(_,S){return _.__proto__=S,_})(p,d)}function r(p){return function(){var d,_=s(p),_=(d=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}})()?(d=s(this).constructor,Reflect.construct(_,arguments,d)):_.apply(this,arguments),this);if(!d||g(d)!=="object"&&typeof d!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return d}}function s(p){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(p)}function i(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function l(p,d){for(var _=0;_<d.length;_++){var S=d[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}function u(p,d,_){d&&l(p.prototype,d)}c.default.Texture=(function(){function p(C,_,T){i(this,p),this._renderer=C;var j=this._renderer.GL,T=(T=T||{},this.src=_,this.glTex=void 0,this.glTarget=j.TEXTURE_2D,this.glFormat=T.format||j.RGBA,this.mipmaps=!1,this.glMinFilter=T.minFilter||j.LINEAR,this.glMagFilter=T.magFilter||j.LINEAR,this.glWrapS=T.wrapS||j.CLAMP_TO_EDGE,this.glWrapT=T.wrapT||j.CLAMP_TO_EDGE,this.glDataType=T.dataType||j.UNSIGNED_BYTE,n(C)),C=(this.glFormat!==j.HALF_FLOAT||T.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=j.FLOAT),this.glFormat!==j.HALF_FLOAT||this.glMinFilter!==j.LINEAR&&this.glMagFilter!==j.LINEAR||T.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===j.LINEAR&&(this.glMinFilter=j.NEAREST),this.glMagFilter===j.LINEAR&&(this.glMagFilter=j.NEAREST)),this.glFormat!==j.FLOAT||T.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=j.UNSIGNED_BYTE),this.glFormat!==j.FLOAT||this.glMinFilter!==j.LINEAR&&this.glMagFilter!==j.LINEAR||T.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===j.LINEAR&&(this.glMinFilter=j.NEAREST),this.glMagFilter===j.LINEAR&&(this.glMagFilter=j.NEAREST)),this.isSrcMediaElement=c.default.MediaElement!==void 0&&_ instanceof c.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=c.default.Element!==void 0&&_ instanceof c.default.Element&&!(_ instanceof c.default.Graphics)&&!(_ instanceof c.default.Renderer),this.isSrcP5Image=_ instanceof c.default.Image,this.isSrcP5Graphics=_ instanceof c.default.Graphics,this.isSrcP5Renderer=_ instanceof c.default.Renderer,this.isImageData=typeof ImageData<"u"&&_ instanceof ImageData,this.isFramebufferTexture=_ instanceof c.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=C.width,this.height=C.height,this.init(C),this}return u(p,[{key:"_getTextureDataFromSource",value:function(){var d;return this.isFramebufferTexture?d=this.src.rawTexture():this.isSrcP5Image?d=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),d=this.src.canvas||this.src.elt):this.isImageData&&(d=this.src),d}},{key:"init",value:function(d){var _,S=this._renderer.GL;this.isFramebufferTexture||(this.glTex=S.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,this.glMagFilter),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(_=new Uint8Array([1,1,1,1]),S.texImage2D(this.glTarget,0,S.RGBA,1,1,0,this.glFormat,this.glDataType,_)):S.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,d))}},{key:"update",value:function(){var d,_,S,j=this.src;return j.width!==0&&j.height!==0&&!this.isFramebufferTexture&&(d=this._getTextureDataFromSource(),_=!1,S=this._renderer.GL,d.width!==this.width||d.height!==this.height?(_=!0,this.width=d.width||j.width,this.height=d.height||j.height,this.isSrcP5Image?j.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&j.setModified(!0)):this.isSrcP5Image?j.isModified()&&j.setModified(!(_=!0)):this.isSrcMediaElement?j.isModified()?j.setModified(!(_=!0)):j.loadedmetadata&&this._videoPrevUpdateTime!==j.time()&&(this._videoPrevUpdateTime=j.time(),_=!0):this.isImageData?j._dirty&&(_=!(j._dirty=!1)):_=!0,_&&(this.bindTexture(),S.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,d)),_)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(d,_){var S=this._renderer.GL;this.glMinFilter=this.glFilter(d),this.glMagFilter=this.glFilter(_),this.bindTexture(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,this.glMinFilter),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(d){var _=this._renderer.GL;return d===h.NEAREST?_.NEAREST:_.LINEAR}},{key:"setWrapMode",value:function(d,_){function S(L){return(L&L-1)==0}var j=this._renderer.GL,C=this._getTextureDataFromSource(),C=C.naturalWidth&&C.naturalHeight?(T=C.naturalWidth,C.naturalHeight):(T=this.width,this.height),T=S(T),C=S(C);d===h.REPEAT?this._renderer.webglVersion===h.WEBGL2||T&&C?this.glWrapS=j.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=j.CLAMP_TO_EDGE):d===h.MIRROR?this._renderer.webglVersion===h.WEBGL2||T&&C?this.glWrapS=j.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=j.CLAMP_TO_EDGE):this.glWrapS=j.CLAMP_TO_EDGE,_===h.REPEAT?this._renderer.webglVersion===h.WEBGL2||T&&C?this.glWrapT=j.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=j.CLAMP_TO_EDGE):_===h.MIRROR?this._renderer.webglVersion===h.WEBGL2||T&&C?this.glWrapT=j.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=j.CLAMP_TO_EDGE):this.glWrapT=j.CLAMP_TO_EDGE,this.bindTexture(),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,this.glWrapS),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),p})();var o=(function(p){var d=S;if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),p&&y(d,p);var _=r(S);function S(j,T,C){return i(this,S),T=(j=_.call(this,j,T,C))._renderer.GL,j.glMinFilter===T.LINEAR&&(j.glMinFilter=T.LINEAR_MIPMAP_LINEAR),j}return u(S,[{key:"glFilter",value:function(j){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(j){var T=this._renderer.GL;this.glTex=T.createTexture(),this.bindTexture();for(var C=0;C<j.length;C++)T.texImage2D(this.glTarget,C,this.glFormat,this.glFormat,this.glDataType,j[C]);this.glMinFilter=T.LINEAR_MIPMAP_LINEAR,T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,this.glMagFilter),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),S})(c.default.Texture);function n(j){var d=j.GL,j=j.webglVersion,_=j===h.WEBGL2?d.getExtension("EXT_color_buffer_float")&&d.getExtension("EXT_float_blend"):d.getExtension("OES_texture_float"),S=_&&d.getExtension("OES_texture_float_linear"),j=j===h.WEBGL2?d.getExtension("EXT_color_buffer_float"):d.getExtension("OES_texture_half_float");return{float:_,floatLinear:S,halfFloat:j,halfFloatLinear:j&&d.getExtension("OES_texture_half_float_linear")}}A.MipmapTexture=o,t=c.default.Texture,A.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,q,A){function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(p)}function g(p){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(d){return m(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":m(d)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var c,h=(c=t("../core/main"))&&c.__esModule?c:{default:c},b=(function(p){if(p&&p.__esModule)return p;if(p===null||g(p)!=="object"&&typeof p!="function")return{default:p};var d=y();if(d&&d.has(p))return d.get(p);var _,S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in p){var T;Object.prototype.hasOwnProperty.call(p,_)&&((T=j?Object.getOwnPropertyDescriptor(p,_):null)&&(T.get||T.set)?Object.defineProperty(S,_,T):S[_]=p[_])}return S.default=p,d&&d.set(p,S),S})(t("../core/constants"));function y(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,y=function(){return p},p)}function r(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function s(p,d){for(var _=0;_<d.length;_++){var S=d[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}function i(p,d,_){d&&s(p.prototype,d)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),h.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},h.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var l=(function(){function p(d,_){r(this,p),this.width=d,this.height=_,this.infos=[]}return i(p,[{key:"findImage",value:function(d){var _,S,j=this.width*this.height;if(j<d)throw new Error("font is too complex to render in 3D");for(var T=this.infos.length-1;0<=T;--T){var C=this.infos[T];if(C.index+d<j){S=(_=C).imageData;break}}if(!_){try{S=new ImageData(this.width,this.height)}catch{var L=document.getElementsByTagName("canvas")[0],E=!L,I=(L||((L=document.createElement("canvas")).style.display="none",document.body.appendChild(L)),L.getContext("2d"));I&&(S=I.createImageData(this.width,this.height)),E&&document.body.removeChild(L)}this.infos.push(_={index:0,imageData:S})}return I=_.index,_.index+=d,S._dirty=!0,{imageData:S,index:I}}}]),p})();function u(C,d,_,S,j){var T=C.imageData.data,C=4*C.index++;T[C++]=d,T[C++]=_,T[C++]=S,T[+C]=j}var o=Math.sqrt(3),n=(function(){function p(d){r(this,p),this.font=d,this.strokeImageInfos=new l(64,64),this.colDimImageInfos=new l(64,64),this.rowDimImageInfos=new l(64,64),this.colCellImageInfos=new l(64,64),this.rowCellImageInfos=new l(64,64),this.glyphInfos={}}return i(p,[{key:"getGlyphInfo",value:function(d){var _=this.glyphInfos[d.index];if(!_){var S=d.getBoundingBox(),j=S.x1,T=S.y1,C=S.x2-j,L=S.y2-T,E=d.path.commands;if(C==0||L==0||!E.length)return this.glyphInfos[d.index]={};for(var I=[],O=[],U=[],D=8;0<=D;--D)U.push([]);for(D=8;0<=D;--D)O.push([]);var B,X,H,G,Z=(function(){function ot(rt,ut,it,Oe){r(this,ot),this.p0=rt,this.c0=ut,this.c1=it,this.p1=Oe}return i(ot,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return h.default.Vector.sub(h.default.Vector.sub(this.p1,this.p0),h.default.Vector.mult(h.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(qe){var ut=h.default.Vector.lerp(this.p0,this.c0,qe),Oe=h.default.Vector.lerp(this.c0,this.c1,qe),it=h.default.Vector.lerp(ut,Oe,qe),Oe=(this.c1=h.default.Vector.lerp(this.c1,this.p1,qe),this.c0=h.default.Vector.lerp(Oe,this.c1,qe),h.default.Vector.lerp(it,this.c0,qe)),qe=new ot(this.p0,ut,it,Oe);return this.p0=Oe,qe}},{key:"splitInflections",value:function(){var rt=h.default.Vector.sub(this.c0,this.p0),ut=h.default.Vector.sub(h.default.Vector.sub(this.c1,this.c0),rt),it=h.default.Vector.sub(h.default.Vector.sub(h.default.Vector.sub(this.p1,this.c1),rt),h.default.Vector.mult(ut,2)),Oe=[],qe=ut.x*it.y-ut.y*it.x;return qe!==0&&0<=(rt=(it=rt.x*it.y-rt.y*it.x)*it-4*qe*(rt.x*ut.y-rt.y*ut.x))&&(qe<0&&(qe=-qe,it=-it),rt=(-it+(ut=Math.sqrt(rt)))/(2*qe),0<(it=(-it-ut)/(2*qe))&&it<1&&(Oe.push(this.split(it)),rt=1-(1-rt)/(1-it)),0<rt&&rt<1&&Oe.push(this.split(rt))),Oe.push(this),Oe}}]),ot})(),Q=!0,le=!1,w=void 0;try{for(var R,N=E[Symbol.iterator]();!(Q=(R=N.next()).done);Q=!0){var W=R.value,J=(W.x-j)/C,re=(W.y-T)/L;if(!Re(B,X,J,re)){switch(W.type){case"M":H=J,G=re;break;case"L":We(B,X,J,re);break;case"Q":var ue=(W.x1-j)/C,ge=(W.y1-T)/L;Te([B,J,ue],[X,re,ge],{x:B,y:X,cx:ue,cy:ge});break;case"Z":Re(B,X,H,G)?I.push({x:B,y:X}):(We(B,X,H,G),I.push({x:H,y:G}));break;case"C":for(var se=(function(oe,Ae,Ve,it,Oe,qe,Le,ee){var oe=new Z(new h.default.Vector(oe,Ae),new h.default.Vector(Ve,it),new h.default.Vector(Oe,qe),new h.default.Vector(Le,ee)).splitInflections(),K=[],ie=30/o,je=!0,Ae=!1,Ve=void 0;try{for(var Je,tt=oe[Symbol.iterator]();!(je=(Je=tt.next()).done);je=!0){for(var nt=Je.value,lt=[],Et=void 0;!(.125<=(Et=ie/nt.quadError()));){var wt=Math.pow(Et,.3333333333333333),gt=nt.split(wt),jt=nt.split(1-wt/(1-wt));K.push(gt),lt.push(nt),nt=jt}Et<1&&K.push(nt.split(.5)),K.push(nt),Array.prototype.push.apply(K,lt.reverse())}}catch(xt){Ae=!0,Ve=xt}finally{try{je||tt.return==null||tt.return()}finally{if(Ae)throw Ve}}return K})(B,X,(W.x1-j)/C,(W.y1-T)/L,(W.x2-j)/C,(W.y2-T)/L,J,re),pe=0;pe<se.length;pe++){var ye=se[pe].toQuadratic();Te([ye.x,ye.x1,ye.cx],[ye.y,ye.y1,ye.cy],ye)}break;default:throw new Error("unknown command type: ".concat(W.type))}B=J,X=re}}}catch(ot){le=!0,w=ot}finally{try{Q||N.return==null||N.return()}finally{if(le)throw w}}for(var te=I.length,me=this.strokeImageInfos.findImage(te),we=me.index,Ee=0;Ee<te;++Ee){var xe=I[Ee];u(me,Pe(xe.x),Pe(xe.y),Pe(xe.cx),Pe(xe.cy))}(_=this.glyphInfos[d.index]={glyph:d,uGlyphRect:[S.x1,-S.y1,S.x2,-S.y2],strokeImageInfo:me,strokes:I,colInfo:ft(U,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ft(O,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[_.colInfo.dimOffset,_.rowInfo.dimOffset]}return _;function Te(ot,rt,ut){var it=I.length;function Oe(K,ie,je){for(var Ae=K.length;0<Ae--;){var Ve=K[Ae];Ve<ie&&(ie=Ve),je<Ve&&(je=Ve)}return{min:ie,max:je}}I.push(ut);for(var ut=Oe(ot,1,0),ot=Math.max(Math.floor(9*ut.min-.5),0),qe=Math.min(Math.ceil(9*ut.max+.5),9),Le=ot;Le<qe;++Le)U[Le].push(it);for(var ut=Oe(rt,1,0),ot=Math.max(Math.floor(9*ut.min-.5),0),ee=Math.min(Math.ceil(9*ut.max+.5),9),oe=ot;oe<ee;++oe)O[oe].push(it)}function Pe(ot){return(ot=(ut=255)*ot)<(rt=0)?rt:ut<ot?ut:ot;var rt,ut}function We(ot,rt,ut,it){Te([ot,ut],[rt,it],{x:ot,y:rt,cx:(ot+ut)/2,cy:(rt+it)/2})}function Re(ot,rt,ut,it){return Math.abs(ut-ot)<1e-5&&Math.abs(it-rt)<1e-5}function ft(ot,rt,ut){for(var it=ot.length,Oe=rt.findImage(it),rt=Oe.index,qe=0,Le=0;Le<it;++Le)qe+=ot[Le].length;for(var ee=ut.findImage(qe),oe=0;oe<it;++oe){var K=ot[oe],ie=K.length,je=ee.index;u(Oe,je>>7,127&je,ie>>7,127&ie);for(var Ae=0;Ae<ie;++Ae){var Ve=K[Ae]+we;u(ee,Ve>>7,127&Ve,0,0)}}return{cellImageInfo:ee,dimOffset:rt,dimImageInfo:Oe}}}}]),p})();h.default.RendererGL.prototype._renderText=function(p,d,_,S,j){if(this._textFont&&typeof this._textFont!="string"){if(!(j<=S)&&this._doFill){if(this._isOpenType()){p.push();var j=this._doStroke,T=this.drawMode,C=(this._doStroke=!1,this.drawMode=b.TEXTURE,this._textFont.font),L=(L=this._textFont._fontInfo)||(this._textFont._fontInfo=new n(C)),_=this._textFont._handleAlignment(this,d,_,S),S=this._textSize/C.unitsPerEm,E=(this.translate(_.x,_.y,0),this.scale(S,S,1),this.GL),_=!this._defaultFontShader,I=this._getFontShader(),O=(I.init(),I.bindShader(),_&&(I.setUniform("uGridImageSize",[64,64]),I.setUniform("uCellsImageSize",[64,64]),I.setUniform("uStrokeImageSize",[64,64]),I.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),U=(O||((S=this._textGeom=new h.default.Geometry(1,1,function(){for(var pe=0;pe<=1;pe++)for(var ye=0;ye<=1;ye++)this.vertices.push(new h.default.Vector(ye,pe,0)),this.uvs.push(ye,pe)})).computeFaces().computeNormals(),O=this.createBuffers("glyph",S)),!0),_=!1,S=void 0;try{for(var D,B=this.retainedMode.buffers.text[Symbol.iterator]();!(U=(D=B.next()).done);U=!0)D.value._prepareBuffer(O,I)}catch(pe){_=!0,S=pe}finally{try{U||B.return==null||B.return()}finally{if(_)throw S}}this._bindBuffer(O.indexBuffer,E.ELEMENT_ARRAY_BUFFER),I.setUniform("uMaterialColor",this.curFillColor),E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var X=0,H=null,G=C.stringToGlyphs(d),Z=!0,Q=!1,le=void 0;try{for(var w,R=G[Symbol.iterator]();!(Z=(w=R.next()).done);Z=!0){var N,W,J=w.value,re=(H&&(X+=C.getKerningValue(H,J)),L.getGlyphInfo(J));re.uGlyphRect&&(N=re.rowInfo,W=re.colInfo,I.setUniform("uSamplerStrokes",re.strokeImageInfo.imageData),I.setUniform("uSamplerRowStrokes",N.cellImageInfo.imageData),I.setUniform("uSamplerRows",N.dimImageInfo.imageData),I.setUniform("uSamplerColStrokes",W.cellImageInfo.imageData),I.setUniform("uSamplerCols",W.dimImageInfo.imageData),I.setUniform("uGridOffset",re.uGridOffset),I.setUniform("uGlyphRect",re.uGlyphRect),I.setUniform("uGlyphOffset",X),I.bindTextures(),E.drawElements(E.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),X+=J.advanceWidth,H=J}}catch(pe){Q=!0,le=pe}finally{try{Z||R.return==null||R.return()}finally{if(Q)throw le}}}finally{I.unbindShader(),this._doStroke=j,this.drawMode=T,E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})})(ca)),ca.exports}var xm=_m();const wm=lu(xm);var is={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var jm=is.exports,nu;function Sm(){return nu||(nu=1,(function(De,st){(function(){var he,t="4.17.21",q=200,A="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",m="Expected a function",g="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,b="__lodash_placeholder__",y=1,r=2,s=4,i=1,l=2,u=1,o=2,n=4,p=8,d=16,_=32,S=64,j=128,T=256,C=512,L=30,E="...",I=800,O=16,U=1,D=2,B=3,X=1/0,H=9007199254740991,G=17976931348623157e292,Z=NaN,Q=4294967295,le=Q-1,w=Q>>>1,R=[["ary",j],["bind",u],["bindKey",o],["curry",p],["curryRight",d],["flip",C],["partial",_],["partialRight",S],["rearg",T]],N="[object Arguments]",W="[object Array]",J="[object AsyncFunction]",re="[object Boolean]",ue="[object Date]",ge="[object DOMException]",se="[object Error]",pe="[object Function]",ye="[object GeneratorFunction]",te="[object Map]",me="[object Number]",we="[object Null]",Ee="[object Object]",xe="[object Promise]",Te="[object Proxy]",Pe="[object RegExp]",We="[object Set]",Re="[object String]",ft="[object Symbol]",ot="[object Undefined]",rt="[object WeakMap]",ut="[object WeakSet]",it="[object ArrayBuffer]",Oe="[object DataView]",qe="[object Float32Array]",Le="[object Float64Array]",ee="[object Int8Array]",oe="[object Int16Array]",K="[object Int32Array]",ie="[object Uint8Array]",je="[object Uint8ClampedArray]",Ae="[object Uint16Array]",Ve="[object Uint32Array]",Je=/\b__p \+= '';/g,tt=/\b(__p \+=) '' \+/g,nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lt=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>"']/g,wt=RegExp(lt.source),gt=RegExp(Et.source),jt=/<%-([\s\S]+?)%>/g,xt=/<%([\s\S]+?)%>/g,Jt=/<%=([\s\S]+?)%>/g,Mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hr=/^\w*$/,Ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$t=/[\\^$.*+?()[\]{}|]/g,Bt=RegExp($t.source),mr=/^\s+/,_r=/\s/,Zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jr=/\{\n\/\* \[wrapped with (.+)\] \*/,zn=/,? & /,Hn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wn=/[()=,{}\[\]\/\s]/,ao=/\\(\\)?/g,qn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,be=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,Qe=/^0o[0-7]+$/i,It=/^(?:0|[1-9]\d*)$/,Ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ft=/($^)/,at=/['\n\r\u2028\u2029\\]/g,Lt="\\ud800-\\udfff",ct="\\u0300-\\u036f",dr="\\ufe20-\\ufe2f",yr="\\u20d0-\\u20ff",lr=ct+dr+yr,gr="\\u2700-\\u27bf",qr="a-z\\xdf-\\xf6\\xf8-\\xff",Ir="\\xac\\xb1\\xd7\\xf7",$r="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xr="\\u2000-\\u206f",as=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gr="A-Z\\xc0-\\xd6\\xd8-\\xde",_n="\\ufe0e\\ufe0f",Xn=Ir+$r+xr+as,lo="[']",ls="["+Lt+"]",Mo="["+Xn+"]",An="["+lr+"]",Oo="\\d+",us="["+gr+"]",ko="["+qr+"]",cs="[^"+Lt+Xn+Oo+gr+qr+Gr+"]",Yn="\\ud83c[\\udffb-\\udfff]",ds="(?:"+An+"|"+Yn+")",Co="[^"+Lt+"]",Pn="(?:\\ud83c[\\udde6-\\uddff]){2}",Ln="[\\ud800-\\udbff][\\udc00-\\udfff]",Ar="["+Gr+"]",Ao="\\u200d",Po="(?:"+ko+"|"+cs+")",Rn="(?:"+Ar+"|"+cs+")",Lo="(?:"+lo+"(?:d|ll|m|re|s|t|ve))?",fs="(?:"+lo+"(?:D|LL|M|RE|S|T|VE))?",uo=ds+"?",Ro="["+_n+"]?",li="(?:"+Ao+"(?:"+[Co,Pn,Ln].join("|")+")"+Ro+uo+")*",hs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ps="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ms=Ro+uo+li,ys="(?:"+[us,Pn,Ln].join("|")+")"+ms,ui="(?:"+[Co+An+"?",An,Pn,Ln,ls].join("|")+")",ci=RegExp(lo,"g"),di=RegExp(An,"g"),Io=RegExp(Yn+"(?="+Yn+")|"+ui+ms,"g"),gs=RegExp([Ar+"?"+ko+"+"+Lo+"(?="+[Mo,Ar,"$"].join("|")+")",Rn+"+"+fs+"(?="+[Mo,Ar+Po,"$"].join("|")+")",Ar+"?"+Po+"+"+Lo,Ar+"+"+fs,ps,hs,Oo,ys].join("|"),"g"),en=RegExp("["+Ao+Lt+lr+_n+"]"),ln=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kn=-1,Gt={};Gt[qe]=Gt[Le]=Gt[ee]=Gt[oe]=Gt[K]=Gt[ie]=Gt[je]=Gt[Ae]=Gt[Ve]=!0,Gt[N]=Gt[W]=Gt[it]=Gt[re]=Gt[Oe]=Gt[ue]=Gt[se]=Gt[pe]=Gt[te]=Gt[me]=Gt[Ee]=Gt[Pe]=Gt[We]=Gt[Re]=Gt[rt]=!1;var Wt={};Wt[N]=Wt[W]=Wt[it]=Wt[Oe]=Wt[re]=Wt[ue]=Wt[qe]=Wt[Le]=Wt[ee]=Wt[oe]=Wt[K]=Wt[te]=Wt[me]=Wt[Ee]=Wt[Pe]=Wt[We]=Wt[Re]=Wt[ft]=Wt[ie]=Wt[je]=Wt[Ae]=Wt[Ve]=!0,Wt[se]=Wt[pe]=Wt[rt]=!1;var fi={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},hn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},co={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},vs={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bs=parseFloat,_s=parseInt,Do=typeof Vn=="object"&&Vn&&Vn.Object===Object&&Vn,xs=typeof self=="object"&&self&&self.Object===Object&&self,wr=Do||xs||Function("return this")(),Qn=st&&!st.nodeType&&st,pn=Qn&&!0&&De&&!De.nodeType&&De,Fo=pn&&pn.exports===Qn,fo=Fo&&Do.process,Dr=(function(){try{var ke=pn&&pn.require&&pn.require("util").types;return ke||fo&&fo.binding&&fo.binding("util")}catch{}})(),Uo=Dr&&Dr.isArrayBuffer,No=Dr&&Dr.isDate,Bo=Dr&&Dr.isMap,Go=Dr&&Dr.isRegExp,Vo=Dr&&Dr.isSet,ho=Dr&&Dr.isTypedArray;function Or(ke,ze,Be){switch(Be.length){case 0:return ke.call(ze);case 1:return ke.call(ze,Be[0]);case 2:return ke.call(ze,Be[0],Be[1]);case 3:return ke.call(ze,Be[0],Be[1],Be[2])}return ke.apply(ze,Be)}function zo(ke,ze,Be,mt){for(var St=-1,zt=ke==null?0:ke.length;++St<zt;){var Tr=ke[St];ze(mt,Tr,Be(Tr),ke)}return mt}function Fr(ke,ze){for(var Be=-1,mt=ke==null?0:ke.length;++Be<mt&&ze(ke[Be],Be,ke)!==!1;);return ke}function mn(ke,ze){for(var Be=ke==null?0:ke.length;Be--&&ze(ke[Be],Be,ke)!==!1;);return ke}function un(ke,ze){for(var Be=-1,mt=ke==null?0:ke.length;++Be<mt;)if(!ze(ke[Be],Be,ke))return!1;return!0}function pt(ke,ze){for(var Be=-1,mt=ke==null?0:ke.length,St=0,zt=[];++Be<mt;){var Tr=ke[Be];ze(Tr,Be,ke)&&(zt[St++]=Tr)}return zt}function po(ke,ze){var Be=ke==null?0:ke.length;return!!Be&&In(ke,ze,0)>-1}function mo(ke,ze,Be){for(var mt=-1,St=ke==null?0:ke.length;++mt<St;)if(Be(ze,ke[mt]))return!0;return!1}function qt(ke,ze){for(var Be=-1,mt=ke==null?0:ke.length,St=Array(mt);++Be<mt;)St[Be]=ze(ke[Be],Be,ke);return St}function yn(ke,ze){for(var Be=-1,mt=ze.length,St=ke.length;++Be<mt;)ke[St+Be]=ze[Be];return ke}function Ho(ke,ze,Be,mt){var St=-1,zt=ke==null?0:ke.length;for(mt&&zt&&(Be=ke[++St]);++St<zt;)Be=ze(Be,ke[St],St,ke);return Be}function er(ke,ze,Be,mt){var St=ke==null?0:ke.length;for(mt&&St&&(Be=ke[--St]);St--;)Be=ze(Be,ke[St],St,ke);return Be}function yo(ke,ze){for(var Be=-1,mt=ke==null?0:ke.length;++Be<mt;)if(ze(ke[Be],Be,ke))return!0;return!1}var hi=ur("length");function Xr(ke){return ke.split("")}function pi(ke){return ke.match(Hn)||[]}function ws(ke,ze,Be){var mt;return Be(ke,function(St,zt,Tr){if(ze(St,zt,Tr))return mt=zt,!1}),mt}function go(ke,ze,Be,mt){for(var St=ke.length,zt=Be+(mt?1:-1);mt?zt--:++zt<St;)if(ze(ke[zt],zt,ke))return zt;return-1}function In(ke,ze,Be){return ze===ze?nr(ke,ze,Be):go(ke,js,Be)}function mi(ke,ze,Be,mt){for(var St=Be-1,zt=ke.length;++St<zt;)if(mt(ke[St],ze))return St;return-1}function js(ke){return ke!==ke}function Wo(ke,ze){var Be=ke==null?0:ke.length;return Be?M(ke,ze)/Be:Z}function ur(ke){return function(ze){return ze==null?he:ze[ke]}}function Jn(ke){return function(ze){return ke==null?he:ke[ze]}}function f(ke,ze,Be,mt,St){return St(ke,function(zt,Tr,ar){Be=mt?(mt=!1,zt):ze(Be,zt,Tr,ar)}),Be}function x(ke,ze){var Be=ke.length;for(ke.sort(ze);Be--;)ke[Be]=ke[Be].value;return ke}function M(ke,ze){for(var Be,mt=-1,St=ke.length;++mt<St;){var zt=ze(ke[mt]);zt!==he&&(Be=Be===he?zt:Be+zt)}return Be}function k(ke,ze){for(var Be=-1,mt=Array(ke);++Be<ke;)mt[Be]=ze(Be);return mt}function F(ke,ze){return qt(ze,function(Be){return[Be,ke[Be]]})}function z(ke){return ke&&ke.slice(0,Sr(ke)+1).replace(mr,"")}function Y(ke){return function(ze){return ke(ze)}}function ne(ke,ze){return qt(ze,function(Be){return ke[Be]})}function de(ke,ze){return ke.has(ze)}function fe(ke,ze){for(var Be=-1,mt=ke.length;++Be<mt&&In(ze,ke[Be],0)>-1;);return Be}function Se(ke,ze){for(var Be=ke.length;Be--&&In(ze,ke[Be],0)>-1;);return Be}function Ie(ke,ze){for(var Be=ke.length,mt=0;Be--;)ke[Be]===ze&&++mt;return mt}var Ce=Jn(fi),ve=Jn(hn);function Xe(ke){return"\\"+vs[ke]}function Ge(ke,ze){return ke==null?he:ke[ze]}function He(ke){return en.test(ke)}function Ue(ke){return ln.test(ke)}function Ne(ke){for(var ze,Be=[];!(ze=ke.next()).done;)Be.push(ze.value);return Be}function vt(ke){var ze=-1,Be=Array(ke.size);return ke.forEach(function(mt,St){Be[++ze]=[St,mt]}),Be}function kt(ke,ze){return function(Be){return ke(ze(Be))}}function yt(ke,ze){for(var Be=-1,mt=ke.length,St=0,zt=[];++Be<mt;){var Tr=ke[Be];(Tr===ze||Tr===b)&&(ke[Be]=b,zt[St++]=Be)}return zt}function bt(ke){var ze=-1,Be=Array(ke.size);return ke.forEach(function(mt){Be[++ze]=mt}),Be}function At(ke){var ze=-1,Be=Array(ke.size);return ke.forEach(function(mt){Be[++ze]=[mt,mt]}),Be}function nr(ke,ze,Be){for(var mt=Be-1,St=ke.length;++mt<St;)if(ke[mt]===ze)return mt;return-1}function cr(ke,ze,Be){for(var mt=Be+1;mt--;)if(ke[mt]===ze)return mt;return mt}function sr(ke){return He(ke)?tr(ke):hi(ke)}function or(ke){return He(ke)?ir(ke):Xr(ke)}function Sr(ke){for(var ze=ke.length;ze--&&_r.test(ke.charAt(ze)););return ze}var Yr=Jn(co);function tr(ke){for(var ze=Io.lastIndex=0;Io.test(ke);)++ze;return ze}function ir(ke){return ke.match(Io)||[]}function Xt(ke){return ke.match(gs)||[]}var kr=(function ke(ze){ze=ze==null?wr:Kt.defaults(wr.Object(),ze,Kt.pick(wr,Zn));var Be=ze.Array,mt=ze.Date,St=ze.Error,zt=ze.Function,Tr=ze.Math,ar=ze.Object,yi=ze.RegExp,cu=ze.String,tn=ze.TypeError,Ss=Be.prototype,du=zt.prototype,vo=ar.prototype,Ts=ze["__core-js_shared__"],Es=du.toString,rr=vo.hasOwnProperty,fu=0,ha=(function(){var a=/[^.]+$/.exec(Ts&&Ts.keys&&Ts.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})(),Ms=vo.toString,hu=Es.call(ar),pu=wr._,mu=yi("^"+Es.call(rr).replace($t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Os=Fo?ze.Buffer:he,Dn=ze.Symbol,ks=ze.Uint8Array,pa=Os?Os.allocUnsafe:he,Cs=kt(ar.getPrototypeOf,ar),ma=ar.create,ya=vo.propertyIsEnumerable,As=Ss.splice,ga=Dn?Dn.isConcatSpreadable:he,qo=Dn?Dn.iterator:he,$n=Dn?Dn.toStringTag:he,Ps=(function(){try{var a=oo(ar,"defineProperty");return a({},"",{}),a}catch{}})(),yu=ze.clearTimeout!==wr.clearTimeout&&ze.clearTimeout,gu=mt&&mt.now!==wr.Date.now&&mt.now,vu=ze.setTimeout!==wr.setTimeout&&ze.setTimeout,Ls=Tr.ceil,Rs=Tr.floor,gi=ar.getOwnPropertySymbols,bu=Os?Os.isBuffer:he,va=ze.isFinite,_u=Ss.join,xu=kt(ar.keys,ar),Er=Tr.max,Lr=Tr.min,wu=mt.now,ju=ze.parseInt,ba=Tr.random,Su=Ss.reverse,vi=oo(ze,"DataView"),Xo=oo(ze,"Map"),bi=oo(ze,"Promise"),bo=oo(ze,"Set"),Yo=oo(ze,"WeakMap"),Zo=oo(ar,"create"),Is=Yo&&new Yo,_o={},Tu=so(vi),Eu=so(Xo),Mu=so(bi),Ou=so(bo),ku=so(Yo),Ds=Dn?Dn.prototype:he,Ko=Ds?Ds.valueOf:he,_a=Ds?Ds.toString:he;function ae(a){if(pr(a)&&!Ct(a)&&!(a instanceof Nt)){if(a instanceof rn)return a;if(rr.call(a,"__wrapped__"))return xl(a)}return new rn(a)}var xo=(function(){function a(){}return function(v){if(!fr(v))return{};if(ma)return ma(v);a.prototype=v;var P=new a;return a.prototype=he,P}})();function Fs(){}function rn(a,v){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=he}ae.templateSettings={escape:jt,evaluate:xt,interpolate:Jt,variable:"",imports:{_:ae}},ae.prototype=Fs.prototype,ae.prototype.constructor=ae,rn.prototype=xo(Fs.prototype),rn.prototype.constructor=rn;function Nt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function Cu(){var a=new Nt(this.__wrapped__);return a.__actions__=Vr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Vr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Vr(this.__views__),a}function Au(){if(this.__filtered__){var a=new Nt(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Pu(){var a=this.__wrapped__.value(),v=this.__dir__,P=Ct(a),V=v<0,$=P?a.length:0,ce=Hc(0,$,this.__views__),_e=ce.start,Me=ce.end,Fe=Me-_e,Ze=V?Me:_e-1,Ke=this.__iteratees__,et=Ke.length,ht=0,_t=Lr(Fe,this.__takeCount__);if(!P||!V&&$==Fe&&_t==Fe)return Ha(a,this.__actions__);var Mt=[];e:for(;Fe--&&ht<_t;){Ze+=v;for(var Rt=-1,Ot=a[Ze];++Rt<et;){var Ut=Ke[Rt],Vt=Ut.iteratee,Qr=Ut.type,Br=Vt(Ot);if(Qr==D)Ot=Br;else if(!Br){if(Qr==U)continue e;break e}}Mt[ht++]=Ot}return Mt}Nt.prototype=xo(Fs.prototype),Nt.prototype.constructor=Nt;function eo(a){var v=-1,P=a==null?0:a.length;for(this.clear();++v<P;){var V=a[v];this.set(V[0],V[1])}}function Lu(){this.__data__=Zo?Zo(null):{},this.size=0}function Ru(a){var v=this.has(a)&&delete this.__data__[a];return this.size-=v?1:0,v}function Iu(a){var v=this.__data__;if(Zo){var P=v[a];return P===c?he:P}return rr.call(v,a)?v[a]:he}function Du(a){var v=this.__data__;return Zo?v[a]!==he:rr.call(v,a)}function Fu(a,v){var P=this.__data__;return this.size+=this.has(a)?0:1,P[a]=Zo&&v===he?c:v,this}eo.prototype.clear=Lu,eo.prototype.delete=Ru,eo.prototype.get=Iu,eo.prototype.has=Du,eo.prototype.set=Fu;function xn(a){var v=-1,P=a==null?0:a.length;for(this.clear();++v<P;){var V=a[v];this.set(V[0],V[1])}}function Uu(){this.__data__=[],this.size=0}function Nu(a){var v=this.__data__,P=Us(v,a);if(P<0)return!1;var V=v.length-1;return P==V?v.pop():As.call(v,P,1),--this.size,!0}function Bu(a){var v=this.__data__,P=Us(v,a);return P<0?he:v[P][1]}function Gu(a){return Us(this.__data__,a)>-1}function Vu(a,v){var P=this.__data__,V=Us(P,a);return V<0?(++this.size,P.push([a,v])):P[V][1]=v,this}xn.prototype.clear=Uu,xn.prototype.delete=Nu,xn.prototype.get=Bu,xn.prototype.has=Gu,xn.prototype.set=Vu;function wn(a){var v=-1,P=a==null?0:a.length;for(this.clear();++v<P;){var V=a[v];this.set(V[0],V[1])}}function zu(){this.size=0,this.__data__={hash:new eo,map:new(Xo||xn),string:new eo}}function Hu(a){var v=Ks(this,a).delete(a);return this.size-=v?1:0,v}function Wu(a){return Ks(this,a).get(a)}function qu(a){return Ks(this,a).has(a)}function Xu(a,v){var P=Ks(this,a),V=P.size;return P.set(a,v),this.size+=P.size==V?0:1,this}wn.prototype.clear=zu,wn.prototype.delete=Hu,wn.prototype.get=Wu,wn.prototype.has=qu,wn.prototype.set=Xu;function to(a){var v=-1,P=a==null?0:a.length;for(this.__data__=new wn;++v<P;)this.add(a[v])}function Yu(a){return this.__data__.set(a,c),this}function Zu(a){return this.__data__.has(a)}to.prototype.add=to.prototype.push=Yu,to.prototype.has=Zu;function cn(a){var v=this.__data__=new xn(a);this.size=v.size}function Ku(){this.__data__=new xn,this.size=0}function Qu(a){var v=this.__data__,P=v.delete(a);return this.size=v.size,P}function Ju(a){return this.__data__.get(a)}function $u(a){return this.__data__.has(a)}function ec(a,v){var P=this.__data__;if(P instanceof xn){var V=P.__data__;if(!Xo||V.length<q-1)return V.push([a,v]),this.size=++P.size,this;P=this.__data__=new wn(V)}return P.set(a,v),this.size=P.size,this}cn.prototype.clear=Ku,cn.prototype.delete=Qu,cn.prototype.get=Ju,cn.prototype.has=$u,cn.prototype.set=ec;function xa(a,v){var P=Ct(a),V=!P&&io(a),$=!P&&!V&&Gn(a),ce=!P&&!V&&!$&&To(a),_e=P||V||$||ce,Me=_e?k(a.length,cu):[],Fe=Me.length;for(var Ze in a)(v||rr.call(a,Ze))&&!(_e&&(Ze=="length"||$&&(Ze=="offset"||Ze=="parent")||ce&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||En(Ze,Fe)))&&Me.push(Ze);return Me}function wa(a){var v=a.length;return v?a[Ci(0,v-1)]:he}function tc(a,v){return Qs(Vr(a),ro(v,0,a.length))}function rc(a){return Qs(Vr(a))}function _i(a,v,P){(P!==he&&!dn(a[v],P)||P===he&&!(v in a))&&jn(a,v,P)}function Qo(a,v,P){var V=a[v];(!(rr.call(a,v)&&dn(V,P))||P===he&&!(v in a))&&jn(a,v,P)}function Us(a,v){for(var P=a.length;P--;)if(dn(a[P][0],v))return P;return-1}function nc(a,v,P,V){return Fn(a,function($,ce,_e){v(V,$,P($),_e)}),V}function ja(a,v){return a&&vn(v,Cr(v),a)}function oc(a,v){return a&&vn(v,Hr(v),a)}function jn(a,v,P){v=="__proto__"&&Ps?Ps(a,v,{configurable:!0,enumerable:!0,value:P,writable:!0}):a[v]=P}function xi(a,v){for(var P=-1,V=v.length,$=Be(V),ce=a==null;++P<V;)$[P]=ce?he:ta(a,v[P]);return $}function ro(a,v,P){return a===a&&(P!==he&&(a=a<=P?a:P),v!==he&&(a=a>=v?a:v)),a}function nn(a,v,P,V,$,ce){var _e,Me=v&y,Fe=v&r,Ze=v&s;if(P&&(_e=$?P(a,V,$,ce):P(a)),_e!==he)return _e;if(!fr(a))return a;var Ke=Ct(a);if(Ke){if(_e=qc(a),!Me)return Vr(a,_e)}else{var et=Rr(a),ht=et==pe||et==ye;if(Gn(a))return Xa(a,Me);if(et==Ee||et==N||ht&&!$){if(_e=Fe||ht?{}:fl(a),!Me)return Fe?Ic(a,oc(_e,a)):Rc(a,ja(_e,a))}else{if(!Wt[et])return $?a:{};_e=Xc(a,et,Me)}}ce||(ce=new cn);var _t=ce.get(a);if(_t)return _t;ce.set(a,_e),Gl(a)?a.forEach(function(Ot){_e.add(nn(Ot,v,P,Ot,a,ce))}):Nl(a)&&a.forEach(function(Ot,Ut){_e.set(Ut,nn(Ot,v,P,Ut,a,ce))});var Mt=Ze?Fe?Gi:Bi:Fe?Hr:Cr,Rt=Ke?he:Mt(a);return Fr(Rt||a,function(Ot,Ut){Rt&&(Ut=Ot,Ot=a[Ut]),Qo(_e,Ut,nn(Ot,v,P,Ut,a,ce))}),_e}function sc(a){var v=Cr(a);return function(P){return Sa(P,a,v)}}function Sa(a,v,P){var V=P.length;if(a==null)return!V;for(a=ar(a);V--;){var $=P[V],ce=v[$],_e=a[$];if(_e===he&&!($ in a)||!ce(_e))return!1}return!0}function Ta(a,v,P){if(typeof a!="function")throw new tn(m);return os(function(){a.apply(he,P)},v)}function Jo(a,v,P,V){var $=-1,ce=po,_e=!0,Me=a.length,Fe=[],Ze=v.length;if(!Me)return Fe;P&&(v=qt(v,Y(P))),V?(ce=mo,_e=!1):v.length>=q&&(ce=de,_e=!1,v=new to(v));e:for(;++$<Me;){var Ke=a[$],et=P==null?Ke:P(Ke);if(Ke=V||Ke!==0?Ke:0,_e&&et===et){for(var ht=Ze;ht--;)if(v[ht]===et)continue e;Fe.push(Ke)}else ce(v,et,V)||Fe.push(Ke)}return Fe}var Fn=Ja(gn),Ea=Ja(ji,!0);function ic(a,v){var P=!0;return Fn(a,function(V,$,ce){return P=!!v(V,$,ce),P}),P}function Ns(a,v,P){for(var V=-1,$=a.length;++V<$;){var ce=a[V],_e=v(ce);if(_e!=null&&(Me===he?_e===_e&&!Kr(_e):P(_e,Me)))var Me=_e,Fe=ce}return Fe}function ac(a,v,P,V){var $=a.length;for(P=Pt(P),P<0&&(P=-P>$?0:$+P),V=V===he||V>$?$:Pt(V),V<0&&(V+=$),V=P>V?0:zl(V);P<V;)a[P++]=v;return a}function Ma(a,v){var P=[];return Fn(a,function(V,$,ce){v(V,$,ce)&&P.push(V)}),P}function Pr(a,v,P,V,$){var ce=-1,_e=a.length;for(P||(P=Zc),$||($=[]);++ce<_e;){var Me=a[ce];v>0&&P(Me)?v>1?Pr(Me,v-1,P,V,$):yn($,Me):V||($[$.length]=Me)}return $}var wi=$a(),Oa=$a(!0);function gn(a,v){return a&&wi(a,v,Cr)}function ji(a,v){return a&&Oa(a,v,Cr)}function Bs(a,v){return pt(v,function(P){return Mn(a[P])})}function no(a,v){v=Nn(v,a);for(var P=0,V=v.length;a!=null&&P<V;)a=a[bn(v[P++])];return P&&P==V?a:he}function ka(a,v,P){var V=v(a);return Ct(a)?V:yn(V,P(a))}function Ur(a){return a==null?a===he?ot:we:$n&&$n in ar(a)?zc(a):rd(a)}function Si(a,v){return a>v}function lc(a,v){return a!=null&&rr.call(a,v)}function uc(a,v){return a!=null&&v in ar(a)}function cc(a,v,P){return a>=Lr(v,P)&&a<Er(v,P)}function Ti(a,v,P){for(var V=P?mo:po,$=a[0].length,ce=a.length,_e=ce,Me=Be(ce),Fe=1/0,Ze=[];_e--;){var Ke=a[_e];_e&&v&&(Ke=qt(Ke,Y(v))),Fe=Lr(Ke.length,Fe),Me[_e]=!P&&(v||$>=120&&Ke.length>=120)?new to(_e&&Ke):he}Ke=a[0];var et=-1,ht=Me[0];e:for(;++et<$&&Ze.length<Fe;){var _t=Ke[et],Mt=v?v(_t):_t;if(_t=P||_t!==0?_t:0,!(ht?de(ht,Mt):V(Ze,Mt,P))){for(_e=ce;--_e;){var Rt=Me[_e];if(!(Rt?de(Rt,Mt):V(a[_e],Mt,P)))continue e}ht&&ht.push(Mt),Ze.push(_t)}}return Ze}function dc(a,v,P,V){return gn(a,function($,ce,_e){v(V,P($),ce,_e)}),V}function $o(a,v,P){v=Nn(v,a),a=yl(a,v);var V=a==null?a:a[bn(sn(v))];return V==null?he:Or(V,a,P)}function Ca(a){return pr(a)&&Ur(a)==N}function fc(a){return pr(a)&&Ur(a)==it}function hc(a){return pr(a)&&Ur(a)==ue}function es(a,v,P,V,$){return a===v?!0:a==null||v==null||!pr(a)&&!pr(v)?a!==a&&v!==v:pc(a,v,P,V,es,$)}function pc(a,v,P,V,$,ce){var _e=Ct(a),Me=Ct(v),Fe=_e?W:Rr(a),Ze=Me?W:Rr(v);Fe=Fe==N?Ee:Fe,Ze=Ze==N?Ee:Ze;var Ke=Fe==Ee,et=Ze==Ee,ht=Fe==Ze;if(ht&&Gn(a)){if(!Gn(v))return!1;_e=!0,Ke=!1}if(ht&&!Ke)return ce||(ce=new cn),_e||To(a)?ul(a,v,P,V,$,ce):Gc(a,v,Fe,P,V,$,ce);if(!(P&i)){var _t=Ke&&rr.call(a,"__wrapped__"),Mt=et&&rr.call(v,"__wrapped__");if(_t||Mt){var Rt=_t?a.value():a,Ot=Mt?v.value():v;return ce||(ce=new cn),$(Rt,Ot,P,V,ce)}}return ht?(ce||(ce=new cn),Vc(a,v,P,V,$,ce)):!1}function mc(a){return pr(a)&&Rr(a)==te}function Ei(a,v,P,V){var $=P.length,ce=$,_e=!V;if(a==null)return!ce;for(a=ar(a);$--;){var Me=P[$];if(_e&&Me[2]?Me[1]!==a[Me[0]]:!(Me[0]in a))return!1}for(;++$<ce;){Me=P[$];var Fe=Me[0],Ze=a[Fe],Ke=Me[1];if(_e&&Me[2]){if(Ze===he&&!(Fe in a))return!1}else{var et=new cn;if(V)var ht=V(Ze,Ke,Fe,a,v,et);if(!(ht===he?es(Ke,Ze,i|l,V,et):ht))return!1}}return!0}function Aa(a){if(!fr(a)||Qc(a))return!1;var v=Mn(a)?mu:dt;return v.test(so(a))}function yc(a){return pr(a)&&Ur(a)==Pe}function gc(a){return pr(a)&&Rr(a)==We}function vc(a){return pr(a)&&ni(a.length)&&!!Gt[Ur(a)]}function Pa(a){return typeof a=="function"?a:a==null?Wr:typeof a=="object"?Ct(a)?Ia(a[0],a[1]):Ra(a):eu(a)}function Mi(a){if(!ns(a))return xu(a);var v=[];for(var P in ar(a))rr.call(a,P)&&P!="constructor"&&v.push(P);return v}function bc(a){if(!fr(a))return td(a);var v=ns(a),P=[];for(var V in a)V=="constructor"&&(v||!rr.call(a,V))||P.push(V);return P}function Oi(a,v){return a<v}function La(a,v){var P=-1,V=zr(a)?Be(a.length):[];return Fn(a,function($,ce,_e){V[++P]=v($,ce,_e)}),V}function Ra(a){var v=zi(a);return v.length==1&&v[0][2]?pl(v[0][0],v[0][1]):function(P){return P===a||Ei(P,a,v)}}function Ia(a,v){return Wi(a)&&hl(v)?pl(bn(a),v):function(P){var V=ta(P,a);return V===he&&V===v?ra(P,a):es(v,V,i|l)}}function Gs(a,v,P,V,$){a!==v&&wi(v,function(ce,_e){if($||($=new cn),fr(ce))_c(a,v,_e,P,Gs,V,$);else{var Me=V?V(Xi(a,_e),ce,_e+"",a,v,$):he;Me===he&&(Me=ce),_i(a,_e,Me)}},Hr)}function _c(a,v,P,V,$,ce,_e){var Me=Xi(a,P),Fe=Xi(v,P),Ze=_e.get(Fe);if(Ze){_i(a,P,Ze);return}var Ke=ce?ce(Me,Fe,P+"",a,v,_e):he,et=Ke===he;if(et){var ht=Ct(Fe),_t=!ht&&Gn(Fe),Mt=!ht&&!_t&&To(Fe);Ke=Fe,ht||_t||Mt?Ct(Me)?Ke=Me:vr(Me)?Ke=Vr(Me):_t?(et=!1,Ke=Xa(Fe,!0)):Mt?(et=!1,Ke=Ya(Fe,!0)):Ke=[]:ss(Fe)||io(Fe)?(Ke=Me,io(Me)?Ke=Hl(Me):(!fr(Me)||Mn(Me))&&(Ke=fl(Fe))):et=!1}et&&(_e.set(Fe,Ke),$(Ke,Fe,V,ce,_e),_e.delete(Fe)),_i(a,P,Ke)}function Da(a,v){var P=a.length;if(P)return v+=v<0?P:0,En(v,P)?a[v]:he}function Fa(a,v,P){v.length?v=qt(v,function(ce){return Ct(ce)?function(_e){return no(_e,ce.length===1?ce[0]:ce)}:ce}):v=[Wr];var V=-1;v=qt(v,Y(Tt()));var $=La(a,function(ce,_e,Me){var Fe=qt(v,function(Ze){return Ze(ce)});return{criteria:Fe,index:++V,value:ce}});return x($,function(ce,_e){return Lc(ce,_e,P)})}function xc(a,v){return Ua(a,v,function(P,V){return ra(a,V)})}function Ua(a,v,P){for(var V=-1,$=v.length,ce={};++V<$;){var _e=v[V],Me=no(a,_e);P(Me,_e)&&ts(ce,Nn(_e,a),Me)}return ce}function wc(a){return function(v){return no(v,a)}}function ki(a,v,P,V){var $=V?mi:In,ce=-1,_e=v.length,Me=a;for(a===v&&(v=Vr(v)),P&&(Me=qt(a,Y(P)));++ce<_e;)for(var Fe=0,Ze=v[ce],Ke=P?P(Ze):Ze;(Fe=$(Me,Ke,Fe,V))>-1;)Me!==a&&As.call(Me,Fe,1),As.call(a,Fe,1);return a}function Na(a,v){for(var P=a?v.length:0,V=P-1;P--;){var $=v[P];if(P==V||$!==ce){var ce=$;En($)?As.call(a,$,1):Li(a,$)}}return a}function Ci(a,v){return a+Rs(ba()*(v-a+1))}function jc(a,v,P,V){for(var $=-1,ce=Er(Ls((v-a)/(P||1)),0),_e=Be(ce);ce--;)_e[V?ce:++$]=a,a+=P;return _e}function Ai(a,v){var P="";if(!a||v<1||v>H)return P;do v%2&&(P+=a),v=Rs(v/2),v&&(a+=a);while(v);return P}function Dt(a,v){return Yi(ml(a,v,Wr),a+"")}function Sc(a){return wa(Eo(a))}function Tc(a,v){var P=Eo(a);return Qs(P,ro(v,0,P.length))}function ts(a,v,P,V){if(!fr(a))return a;v=Nn(v,a);for(var $=-1,ce=v.length,_e=ce-1,Me=a;Me!=null&&++$<ce;){var Fe=bn(v[$]),Ze=P;if(Fe==="__proto__"||Fe==="constructor"||Fe==="prototype")return a;if($!=_e){var Ke=Me[Fe];Ze=V?V(Ke,Fe,Me):he,Ze===he&&(Ze=fr(Ke)?Ke:En(v[$+1])?[]:{})}Qo(Me,Fe,Ze),Me=Me[Fe]}return a}var Ba=Is?function(a,v){return Is.set(a,v),a}:Wr,Ec=Ps?function(a,v){return Ps(a,"toString",{configurable:!0,enumerable:!1,value:oa(v),writable:!0})}:Wr;function Mc(a){return Qs(Eo(a))}function on(a,v,P){var V=-1,$=a.length;v<0&&(v=-v>$?0:$+v),P=P>$?$:P,P<0&&(P+=$),$=v>P?0:P-v>>>0,v>>>=0;for(var ce=Be($);++V<$;)ce[V]=a[V+v];return ce}function Oc(a,v){var P;return Fn(a,function(V,$,ce){return P=v(V,$,ce),!P}),!!P}function Vs(a,v,P){var V=0,$=a==null?V:a.length;if(typeof v=="number"&&v===v&&$<=w){for(;V<$;){var ce=V+$>>>1,_e=a[ce];_e!==null&&!Kr(_e)&&(P?_e<=v:_e<v)?V=ce+1:$=ce}return $}return Pi(a,v,Wr,P)}function Pi(a,v,P,V){var $=0,ce=a==null?0:a.length;if(ce===0)return 0;v=P(v);for(var _e=v!==v,Me=v===null,Fe=Kr(v),Ze=v===he;$<ce;){var Ke=Rs(($+ce)/2),et=P(a[Ke]),ht=et!==he,_t=et===null,Mt=et===et,Rt=Kr(et);if(_e)var Ot=V||Mt;else Ze?Ot=Mt&&(V||ht):Me?Ot=Mt&&ht&&(V||!_t):Fe?Ot=Mt&&ht&&!_t&&(V||!Rt):_t||Rt?Ot=!1:Ot=V?et<=v:et<v;Ot?$=Ke+1:ce=Ke}return Lr(ce,le)}function Ga(a,v){for(var P=-1,V=a.length,$=0,ce=[];++P<V;){var _e=a[P],Me=v?v(_e):_e;if(!P||!dn(Me,Fe)){var Fe=Me;ce[$++]=_e===0?0:_e}}return ce}function Va(a){return typeof a=="number"?a:Kr(a)?Z:+a}function Zr(a){if(typeof a=="string")return a;if(Ct(a))return qt(a,Zr)+"";if(Kr(a))return _a?_a.call(a):"";var v=a+"";return v=="0"&&1/a==-X?"-0":v}function Un(a,v,P){var V=-1,$=po,ce=a.length,_e=!0,Me=[],Fe=Me;if(P)_e=!1,$=mo;else if(ce>=q){var Ze=v?null:Nc(a);if(Ze)return bt(Ze);_e=!1,$=de,Fe=new to}else Fe=v?[]:Me;e:for(;++V<ce;){var Ke=a[V],et=v?v(Ke):Ke;if(Ke=P||Ke!==0?Ke:0,_e&&et===et){for(var ht=Fe.length;ht--;)if(Fe[ht]===et)continue e;v&&Fe.push(et),Me.push(Ke)}else $(Fe,et,P)||(Fe!==Me&&Fe.push(et),Me.push(Ke))}return Me}function Li(a,v){return v=Nn(v,a),a=yl(a,v),a==null||delete a[bn(sn(v))]}function za(a,v,P,V){return ts(a,v,P(no(a,v)),V)}function zs(a,v,P,V){for(var $=a.length,ce=V?$:-1;(V?ce--:++ce<$)&&v(a[ce],ce,a););return P?on(a,V?0:ce,V?ce+1:$):on(a,V?ce+1:0,V?$:ce)}function Ha(a,v){var P=a;return P instanceof Nt&&(P=P.value()),Ho(v,function(V,$){return $.func.apply($.thisArg,yn([V],$.args))},P)}function Ri(a,v,P){var V=a.length;if(V<2)return V?Un(a[0]):[];for(var $=-1,ce=Be(V);++$<V;)for(var _e=a[$],Me=-1;++Me<V;)Me!=$&&(ce[$]=Jo(ce[$]||_e,a[Me],v,P));return Un(Pr(ce,1),v,P)}function Wa(a,v,P){for(var V=-1,$=a.length,ce=v.length,_e={};++V<$;){var Me=V<ce?v[V]:he;P(_e,a[V],Me)}return _e}function Ii(a){return vr(a)?a:[]}function Di(a){return typeof a=="function"?a:Wr}function Nn(a,v){return Ct(a)?a:Wi(a,v)?[a]:_l(Qt(a))}var kc=Dt;function Bn(a,v,P){var V=a.length;return P=P===he?V:P,!v&&P>=V?a:on(a,v,P)}var qa=yu||function(a){return wr.clearTimeout(a)};function Xa(a,v){if(v)return a.slice();var P=a.length,V=pa?pa(P):new a.constructor(P);return a.copy(V),V}function Fi(a){var v=new a.constructor(a.byteLength);return new ks(v).set(new ks(a)),v}function Cc(a,v){var P=v?Fi(a.buffer):a.buffer;return new a.constructor(P,a.byteOffset,a.byteLength)}function Ac(a){var v=new a.constructor(a.source,Cn.exec(a));return v.lastIndex=a.lastIndex,v}function Pc(a){return Ko?ar(Ko.call(a)):{}}function Ya(a,v){var P=v?Fi(a.buffer):a.buffer;return new a.constructor(P,a.byteOffset,a.length)}function Za(a,v){if(a!==v){var P=a!==he,V=a===null,$=a===a,ce=Kr(a),_e=v!==he,Me=v===null,Fe=v===v,Ze=Kr(v);if(!Me&&!Ze&&!ce&&a>v||ce&&_e&&Fe&&!Me&&!Ze||V&&_e&&Fe||!P&&Fe||!$)return 1;if(!V&&!ce&&!Ze&&a<v||Ze&&P&&$&&!V&&!ce||Me&&P&&$||!_e&&$||!Fe)return-1}return 0}function Lc(a,v,P){for(var V=-1,$=a.criteria,ce=v.criteria,_e=$.length,Me=P.length;++V<_e;){var Fe=Za($[V],ce[V]);if(Fe){if(V>=Me)return Fe;var Ze=P[V];return Fe*(Ze=="desc"?-1:1)}}return a.index-v.index}function Ka(a,v,P,V){for(var $=-1,ce=a.length,_e=P.length,Me=-1,Fe=v.length,Ze=Er(ce-_e,0),Ke=Be(Fe+Ze),et=!V;++Me<Fe;)Ke[Me]=v[Me];for(;++$<_e;)(et||$<ce)&&(Ke[P[$]]=a[$]);for(;Ze--;)Ke[Me++]=a[$++];return Ke}function Qa(a,v,P,V){for(var $=-1,ce=a.length,_e=-1,Me=P.length,Fe=-1,Ze=v.length,Ke=Er(ce-Me,0),et=Be(Ke+Ze),ht=!V;++$<Ke;)et[$]=a[$];for(var _t=$;++Fe<Ze;)et[_t+Fe]=v[Fe];for(;++_e<Me;)(ht||$<ce)&&(et[_t+P[_e]]=a[$++]);return et}function Vr(a,v){var P=-1,V=a.length;for(v||(v=Be(V));++P<V;)v[P]=a[P];return v}function vn(a,v,P,V){var $=!P;P||(P={});for(var ce=-1,_e=v.length;++ce<_e;){var Me=v[ce],Fe=V?V(P[Me],a[Me],Me,P,a):he;Fe===he&&(Fe=a[Me]),$?jn(P,Me,Fe):Qo(P,Me,Fe)}return P}function Rc(a,v){return vn(a,Hi(a),v)}function Ic(a,v){return vn(a,cl(a),v)}function Hs(a,v){return function(P,V){var $=Ct(P)?zo:nc,ce=v?v():{};return $(P,a,Tt(V,2),ce)}}function wo(a){return Dt(function(v,P){var V=-1,$=P.length,ce=$>1?P[$-1]:he,_e=$>2?P[2]:he;for(ce=a.length>3&&typeof ce=="function"?($--,ce):he,_e&&Nr(P[0],P[1],_e)&&(ce=$<3?he:ce,$=1),v=ar(v);++V<$;){var Me=P[V];Me&&a(v,Me,V,ce)}return v})}function Ja(a,v){return function(P,V){if(P==null)return P;if(!zr(P))return a(P,V);for(var $=P.length,ce=v?$:-1,_e=ar(P);(v?ce--:++ce<$)&&V(_e[ce],ce,_e)!==!1;);return P}}function $a(a){return function(v,P,V){for(var $=-1,ce=ar(v),_e=V(v),Me=_e.length;Me--;){var Fe=_e[a?Me:++$];if(P(ce[Fe],Fe,ce)===!1)break}return v}}function Dc(a,v,P){var V=v&u,$=rs(a);function ce(){var _e=this&&this!==wr&&this instanceof ce?$:a;return _e.apply(V?P:this,arguments)}return ce}function el(a){return function(v){v=Qt(v);var P=He(v)?or(v):he,V=P?P[0]:v.charAt(0),$=P?Bn(P,1).join(""):v.slice(1);return V[a]()+$}}function jo(a){return function(v){return Ho(Jl(Ql(v).replace(ci,"")),a,"")}}function rs(a){return function(){var v=arguments;switch(v.length){case 0:return new a;case 1:return new a(v[0]);case 2:return new a(v[0],v[1]);case 3:return new a(v[0],v[1],v[2]);case 4:return new a(v[0],v[1],v[2],v[3]);case 5:return new a(v[0],v[1],v[2],v[3],v[4]);case 6:return new a(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new a(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var P=xo(a.prototype),V=a.apply(P,v);return fr(V)?V:P}}function Fc(a,v,P){var V=rs(a);function $(){for(var ce=arguments.length,_e=Be(ce),Me=ce,Fe=So($);Me--;)_e[Me]=arguments[Me];var Ze=ce<3&&_e[0]!==Fe&&_e[ce-1]!==Fe?[]:yt(_e,Fe);if(ce-=Ze.length,ce<P)return sl(a,v,Ws,$.placeholder,he,_e,Ze,he,he,P-ce);var Ke=this&&this!==wr&&this instanceof $?V:a;return Or(Ke,this,_e)}return $}function tl(a){return function(v,P,V){var $=ar(v);if(!zr(v)){var ce=Tt(P,3);v=Cr(v),P=function(Me){return ce($[Me],Me,$)}}var _e=a(v,P,V);return _e>-1?$[ce?v[_e]:_e]:he}}function rl(a){return Tn(function(v){var P=v.length,V=P,$=rn.prototype.thru;for(a&&v.reverse();V--;){var ce=v[V];if(typeof ce!="function")throw new tn(m);if($&&!_e&&Zs(ce)=="wrapper")var _e=new rn([],!0)}for(V=_e?V:P;++V<P;){ce=v[V];var Me=Zs(ce),Fe=Me=="wrapper"?Vi(ce):he;Fe&&qi(Fe[0])&&Fe[1]==(j|p|_|T)&&!Fe[4].length&&Fe[9]==1?_e=_e[Zs(Fe[0])].apply(_e,Fe[3]):_e=ce.length==1&&qi(ce)?_e[Me]():_e.thru(ce)}return function(){var Ze=arguments,Ke=Ze[0];if(_e&&Ze.length==1&&Ct(Ke))return _e.plant(Ke).value();for(var et=0,ht=P?v[et].apply(this,Ze):Ke;++et<P;)ht=v[et].call(this,ht);return ht}})}function Ws(a,v,P,V,$,ce,_e,Me,Fe,Ze){var Ke=v&j,et=v&u,ht=v&o,_t=v&(p|d),Mt=v&C,Rt=ht?he:rs(a);function Ot(){for(var Ut=arguments.length,Vt=Be(Ut),Qr=Ut;Qr--;)Vt[Qr]=arguments[Qr];if(_t)var Br=So(Ot),Jr=Ie(Vt,Br);if(V&&(Vt=Ka(Vt,V,$,_t)),ce&&(Vt=Qa(Vt,ce,_e,_t)),Ut-=Jr,_t&&Ut<Ze){var br=yt(Vt,Br);return sl(a,v,Ws,Ot.placeholder,P,Vt,br,Me,Fe,Ze-Ut)}var fn=et?P:this,kn=ht?fn[a]:a;return Ut=Vt.length,Me?Vt=nd(Vt,Me):Mt&&Ut>1&&Vt.reverse(),Ke&&Fe<Ut&&(Vt.length=Fe),this&&this!==wr&&this instanceof Ot&&(kn=Rt||rs(kn)),kn.apply(fn,Vt)}return Ot}function nl(a,v){return function(P,V){return dc(P,a,v(V),{})}}function qs(a,v){return function(P,V){var $;if(P===he&&V===he)return v;if(P!==he&&($=P),V!==he){if($===he)return V;typeof P=="string"||typeof V=="string"?(P=Zr(P),V=Zr(V)):(P=Va(P),V=Va(V)),$=a(P,V)}return $}}function Ui(a){return Tn(function(v){return v=qt(v,Y(Tt())),Dt(function(P){var V=this;return a(v,function($){return Or($,V,P)})})})}function Xs(a,v){v=v===he?" ":Zr(v);var P=v.length;if(P<2)return P?Ai(v,a):v;var V=Ai(v,Ls(a/sr(v)));return He(v)?Bn(or(V),0,a).join(""):V.slice(0,a)}function Uc(a,v,P,V){var $=v&u,ce=rs(a);function _e(){for(var Me=-1,Fe=arguments.length,Ze=-1,Ke=V.length,et=Be(Ke+Fe),ht=this&&this!==wr&&this instanceof _e?ce:a;++Ze<Ke;)et[Ze]=V[Ze];for(;Fe--;)et[Ze++]=arguments[++Me];return Or(ht,$?P:this,et)}return _e}function ol(a){return function(v,P,V){return V&&typeof V!="number"&&Nr(v,P,V)&&(P=V=he),v=On(v),P===he?(P=v,v=0):P=On(P),V=V===he?v<P?1:-1:On(V),jc(v,P,V,a)}}function Ys(a){return function(v,P){return typeof v=="string"&&typeof P=="string"||(v=an(v),P=an(P)),a(v,P)}}function sl(a,v,P,V,$,ce,_e,Me,Fe,Ze){var Ke=v&p,et=Ke?_e:he,ht=Ke?he:_e,_t=Ke?ce:he,Mt=Ke?he:ce;v|=Ke?_:S,v&=~(Ke?S:_),v&n||(v&=-4);var Rt=[a,v,$,_t,et,Mt,ht,Me,Fe,Ze],Ot=P.apply(he,Rt);return qi(a)&&gl(Ot,Rt),Ot.placeholder=V,vl(Ot,a,v)}function Ni(a){var v=Tr[a];return function(P,V){if(P=an(P),V=V==null?0:Lr(Pt(V),292),V&&va(P)){var $=(Qt(P)+"e").split("e"),ce=v($[0]+"e"+(+$[1]+V));return $=(Qt(ce)+"e").split("e"),+($[0]+"e"+(+$[1]-V))}return v(P)}}var Nc=bo&&1/bt(new bo([,-0]))[1]==X?function(a){return new bo(a)}:aa;function il(a){return function(v){var P=Rr(v);return P==te?vt(v):P==We?At(v):F(v,a(v))}}function Sn(a,v,P,V,$,ce,_e,Me){var Fe=v&o;if(!Fe&&typeof a!="function")throw new tn(m);var Ze=V?V.length:0;if(Ze||(v&=-97,V=$=he),_e=_e===he?_e:Er(Pt(_e),0),Me=Me===he?Me:Pt(Me),Ze-=$?$.length:0,v&S){var Ke=V,et=$;V=$=he}var ht=Fe?he:Vi(a),_t=[a,v,P,V,$,Ke,et,ce,_e,Me];if(ht&&ed(_t,ht),a=_t[0],v=_t[1],P=_t[2],V=_t[3],$=_t[4],Me=_t[9]=_t[9]===he?Fe?0:a.length:Er(_t[9]-Ze,0),!Me&&v&(p|d)&&(v&=-25),!v||v==u)var Mt=Dc(a,v,P);else v==p||v==d?Mt=Fc(a,v,Me):(v==_||v==(u|_))&&!$.length?Mt=Uc(a,v,P,V):Mt=Ws.apply(he,_t);var Rt=ht?Ba:gl;return vl(Rt(Mt,_t),a,v)}function al(a,v,P,V){return a===he||dn(a,vo[P])&&!rr.call(V,P)?v:a}function ll(a,v,P,V,$,ce){return fr(a)&&fr(v)&&(ce.set(v,a),Gs(a,v,he,ll,ce),ce.delete(v)),a}function Bc(a){return ss(a)?he:a}function ul(a,v,P,V,$,ce){var _e=P&i,Me=a.length,Fe=v.length;if(Me!=Fe&&!(_e&&Fe>Me))return!1;var Ze=ce.get(a),Ke=ce.get(v);if(Ze&&Ke)return Ze==v&&Ke==a;var et=-1,ht=!0,_t=P&l?new to:he;for(ce.set(a,v),ce.set(v,a);++et<Me;){var Mt=a[et],Rt=v[et];if(V)var Ot=_e?V(Rt,Mt,et,v,a,ce):V(Mt,Rt,et,a,v,ce);if(Ot!==he){if(Ot)continue;ht=!1;break}if(_t){if(!yo(v,function(Ut,Vt){if(!de(_t,Vt)&&(Mt===Ut||$(Mt,Ut,P,V,ce)))return _t.push(Vt)})){ht=!1;break}}else if(!(Mt===Rt||$(Mt,Rt,P,V,ce))){ht=!1;break}}return ce.delete(a),ce.delete(v),ht}function Gc(a,v,P,V,$,ce,_e){switch(P){case Oe:if(a.byteLength!=v.byteLength||a.byteOffset!=v.byteOffset)return!1;a=a.buffer,v=v.buffer;case it:return!(a.byteLength!=v.byteLength||!ce(new ks(a),new ks(v)));case re:case ue:case me:return dn(+a,+v);case se:return a.name==v.name&&a.message==v.message;case Pe:case Re:return a==v+"";case te:var Me=vt;case We:var Fe=V&i;if(Me||(Me=bt),a.size!=v.size&&!Fe)return!1;var Ze=_e.get(a);if(Ze)return Ze==v;V|=l,_e.set(a,v);var Ke=ul(Me(a),Me(v),V,$,ce,_e);return _e.delete(a),Ke;case ft:if(Ko)return Ko.call(a)==Ko.call(v)}return!1}function Vc(a,v,P,V,$,ce){var _e=P&i,Me=Bi(a),Fe=Me.length,Ze=Bi(v),Ke=Ze.length;if(Fe!=Ke&&!_e)return!1;for(var et=Fe;et--;){var ht=Me[et];if(!(_e?ht in v:rr.call(v,ht)))return!1}var _t=ce.get(a),Mt=ce.get(v);if(_t&&Mt)return _t==v&&Mt==a;var Rt=!0;ce.set(a,v),ce.set(v,a);for(var Ot=_e;++et<Fe;){ht=Me[et];var Ut=a[ht],Vt=v[ht];if(V)var Qr=_e?V(Vt,Ut,ht,v,a,ce):V(Ut,Vt,ht,a,v,ce);if(!(Qr===he?Ut===Vt||$(Ut,Vt,P,V,ce):Qr)){Rt=!1;break}Ot||(Ot=ht=="constructor")}if(Rt&&!Ot){var Br=a.constructor,Jr=v.constructor;Br!=Jr&&"constructor"in a&&"constructor"in v&&!(typeof Br=="function"&&Br instanceof Br&&typeof Jr=="function"&&Jr instanceof Jr)&&(Rt=!1)}return ce.delete(a),ce.delete(v),Rt}function Tn(a){return Yi(ml(a,he,Sl),a+"")}function Bi(a){return ka(a,Cr,Hi)}function Gi(a){return ka(a,Hr,cl)}var Vi=Is?function(a){return Is.get(a)}:aa;function Zs(a){for(var v=a.name+"",P=_o[v],V=rr.call(_o,v)?P.length:0;V--;){var $=P[V],ce=$.func;if(ce==null||ce==a)return $.name}return v}function So(a){var v=rr.call(ae,"placeholder")?ae:a;return v.placeholder}function Tt(){var a=ae.iteratee||sa;return a=a===sa?Pa:a,arguments.length?a(arguments[0],arguments[1]):a}function Ks(a,v){var P=a.__data__;return Kc(v)?P[typeof v=="string"?"string":"hash"]:P.map}function zi(a){for(var v=Cr(a),P=v.length;P--;){var V=v[P],$=a[V];v[P]=[V,$,hl($)]}return v}function oo(a,v){var P=Ge(a,v);return Aa(P)?P:he}function zc(a){var v=rr.call(a,$n),P=a[$n];try{a[$n]=he;var V=!0}catch{}var $=Ms.call(a);return V&&(v?a[$n]=P:delete a[$n]),$}var Hi=gi?function(a){return a==null?[]:(a=ar(a),pt(gi(a),function(v){return ya.call(a,v)}))}:la,cl=gi?function(a){for(var v=[];a;)yn(v,Hi(a)),a=Cs(a);return v}:la,Rr=Ur;(vi&&Rr(new vi(new ArrayBuffer(1)))!=Oe||Xo&&Rr(new Xo)!=te||bi&&Rr(bi.resolve())!=xe||bo&&Rr(new bo)!=We||Yo&&Rr(new Yo)!=rt)&&(Rr=function(a){var v=Ur(a),P=v==Ee?a.constructor:he,V=P?so(P):"";if(V)switch(V){case Tu:return Oe;case Eu:return te;case Mu:return xe;case Ou:return We;case ku:return rt}return v});function Hc(a,v,P){for(var V=-1,$=P.length;++V<$;){var ce=P[V],_e=ce.size;switch(ce.type){case"drop":a+=_e;break;case"dropRight":v-=_e;break;case"take":v=Lr(v,a+_e);break;case"takeRight":a=Er(a,v-_e);break}}return{start:a,end:v}}function Wc(a){var v=a.match(jr);return v?v[1].split(zn):[]}function dl(a,v,P){v=Nn(v,a);for(var V=-1,$=v.length,ce=!1;++V<$;){var _e=bn(v[V]);if(!(ce=a!=null&&P(a,_e)))break;a=a[_e]}return ce||++V!=$?ce:($=a==null?0:a.length,!!$&&ni($)&&En(_e,$)&&(Ct(a)||io(a)))}function qc(a){var v=a.length,P=new a.constructor(v);return v&&typeof a[0]=="string"&&rr.call(a,"index")&&(P.index=a.index,P.input=a.input),P}function fl(a){return typeof a.constructor=="function"&&!ns(a)?xo(Cs(a)):{}}function Xc(a,v,P){var V=a.constructor;switch(v){case it:return Fi(a);case re:case ue:return new V(+a);case Oe:return Cc(a,P);case qe:case Le:case ee:case oe:case K:case ie:case je:case Ae:case Ve:return Ya(a,P);case te:return new V;case me:case Re:return new V(a);case Pe:return Ac(a);case We:return new V;case ft:return Pc(a)}}function Yc(a,v){var P=v.length;if(!P)return a;var V=P-1;return v[V]=(P>1?"& ":"")+v[V],v=v.join(P>2?", ":" "),a.replace(Zt,`{
/* [wrapped with `+v+`] */
`)}function Zc(a){return Ct(a)||io(a)||!!(ga&&a&&a[ga])}function En(a,v){var P=typeof a;return v=v??H,!!v&&(P=="number"||P!="symbol"&&It.test(a))&&a>-1&&a%1==0&&a<v}function Nr(a,v,P){if(!fr(P))return!1;var V=typeof v;return(V=="number"?zr(P)&&En(v,P.length):V=="string"&&v in P)?dn(P[v],a):!1}function Wi(a,v){if(Ct(a))return!1;var P=typeof a;return P=="number"||P=="symbol"||P=="boolean"||a==null||Kr(a)?!0:hr.test(a)||!Mr.test(a)||v!=null&&a in ar(v)}function Kc(a){var v=typeof a;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?a!=="__proto__":a===null}function qi(a){var v=Zs(a),P=ae[v];if(typeof P!="function"||!(v in Nt.prototype))return!1;if(a===P)return!0;var V=Vi(P);return!!V&&a===V[0]}function Qc(a){return!!ha&&ha in a}var Jc=Ts?Mn:ua;function ns(a){var v=a&&a.constructor,P=typeof v=="function"&&v.prototype||vo;return a===P}function hl(a){return a===a&&!fr(a)}function pl(a,v){return function(P){return P==null?!1:P[a]===v&&(v!==he||a in ar(P))}}function $c(a){var v=ti(a,function(V){return P.size===h&&P.clear(),V}),P=v.cache;return v}function ed(a,v){var P=a[1],V=v[1],$=P|V,ce=$<(u|o|j),_e=V==j&&P==p||V==j&&P==T&&a[7].length<=v[8]||V==(j|T)&&v[7].length<=v[8]&&P==p;if(!(ce||_e))return a;V&u&&(a[2]=v[2],$|=P&u?0:n);var Me=v[3];if(Me){var Fe=a[3];a[3]=Fe?Ka(Fe,Me,v[4]):Me,a[4]=Fe?yt(a[3],b):v[4]}return Me=v[5],Me&&(Fe=a[5],a[5]=Fe?Qa(Fe,Me,v[6]):Me,a[6]=Fe?yt(a[5],b):v[6]),Me=v[7],Me&&(a[7]=Me),V&j&&(a[8]=a[8]==null?v[8]:Lr(a[8],v[8])),a[9]==null&&(a[9]=v[9]),a[0]=v[0],a[1]=$,a}function td(a){var v=[];if(a!=null)for(var P in ar(a))v.push(P);return v}function rd(a){return Ms.call(a)}function ml(a,v,P){return v=Er(v===he?a.length-1:v,0),function(){for(var V=arguments,$=-1,ce=Er(V.length-v,0),_e=Be(ce);++$<ce;)_e[$]=V[v+$];$=-1;for(var Me=Be(v+1);++$<v;)Me[$]=V[$];return Me[v]=P(_e),Or(a,this,Me)}}function yl(a,v){return v.length<2?a:no(a,on(v,0,-1))}function nd(a,v){for(var P=a.length,V=Lr(v.length,P),$=Vr(a);V--;){var ce=v[V];a[V]=En(ce,P)?$[ce]:he}return a}function Xi(a,v){if(!(v==="constructor"&&typeof a[v]=="function")&&v!="__proto__")return a[v]}var gl=bl(Ba),os=vu||function(a,v){return wr.setTimeout(a,v)},Yi=bl(Ec);function vl(a,v,P){var V=v+"";return Yi(a,Yc(V,od(Wc(V),P)))}function bl(a){var v=0,P=0;return function(){var V=wu(),$=O-(V-P);if(P=V,$>0){if(++v>=I)return arguments[0]}else v=0;return a.apply(he,arguments)}}function Qs(a,v){var P=-1,V=a.length,$=V-1;for(v=v===he?V:v;++P<v;){var ce=Ci(P,$),_e=a[ce];a[ce]=a[P],a[P]=_e}return a.length=v,a}var _l=$c(function(a){var v=[];return a.charCodeAt(0)===46&&v.push(""),a.replace(Ht,function(P,V,$,ce){v.push($?ce.replace(ao,"$1"):V||P)}),v});function bn(a){if(typeof a=="string"||Kr(a))return a;var v=a+"";return v=="0"&&1/a==-X?"-0":v}function so(a){if(a!=null){try{return Es.call(a)}catch{}try{return a+""}catch{}}return""}function od(a,v){return Fr(R,function(P){var V="_."+P[0];v&P[1]&&!po(a,V)&&a.push(V)}),a.sort()}function xl(a){if(a instanceof Nt)return a.clone();var v=new rn(a.__wrapped__,a.__chain__);return v.__actions__=Vr(a.__actions__),v.__index__=a.__index__,v.__values__=a.__values__,v}function sd(a,v,P){(P?Nr(a,v,P):v===he)?v=1:v=Er(Pt(v),0);var V=a==null?0:a.length;if(!V||v<1)return[];for(var $=0,ce=0,_e=Be(Ls(V/v));$<V;)_e[ce++]=on(a,$,$+=v);return _e}function id(a){for(var v=-1,P=a==null?0:a.length,V=0,$=[];++v<P;){var ce=a[v];ce&&($[V++]=ce)}return $}function ad(){var a=arguments.length;if(!a)return[];for(var v=Be(a-1),P=arguments[0],V=a;V--;)v[V-1]=arguments[V];return yn(Ct(P)?Vr(P):[P],Pr(v,1))}var ld=Dt(function(a,v){return vr(a)?Jo(a,Pr(v,1,vr,!0)):[]}),ud=Dt(function(a,v){var P=sn(v);return vr(P)&&(P=he),vr(a)?Jo(a,Pr(v,1,vr,!0),Tt(P,2)):[]}),cd=Dt(function(a,v){var P=sn(v);return vr(P)&&(P=he),vr(a)?Jo(a,Pr(v,1,vr,!0),he,P):[]});function dd(a,v,P){var V=a==null?0:a.length;return V?(v=P||v===he?1:Pt(v),on(a,v<0?0:v,V)):[]}function fd(a,v,P){var V=a==null?0:a.length;return V?(v=P||v===he?1:Pt(v),v=V-v,on(a,0,v<0?0:v)):[]}function hd(a,v){return a&&a.length?zs(a,Tt(v,3),!0,!0):[]}function pd(a,v){return a&&a.length?zs(a,Tt(v,3),!0):[]}function md(a,v,P,V){var $=a==null?0:a.length;return $?(P&&typeof P!="number"&&Nr(a,v,P)&&(P=0,V=$),ac(a,v,P,V)):[]}function wl(a,v,P){var V=a==null?0:a.length;if(!V)return-1;var $=P==null?0:Pt(P);return $<0&&($=Er(V+$,0)),go(a,Tt(v,3),$)}function jl(a,v,P){var V=a==null?0:a.length;if(!V)return-1;var $=V-1;return P!==he&&($=Pt(P),$=P<0?Er(V+$,0):Lr($,V-1)),go(a,Tt(v,3),$,!0)}function Sl(a){var v=a==null?0:a.length;return v?Pr(a,1):[]}function yd(a){var v=a==null?0:a.length;return v?Pr(a,X):[]}function gd(a,v){var P=a==null?0:a.length;return P?(v=v===he?1:Pt(v),Pr(a,v)):[]}function vd(a){for(var v=-1,P=a==null?0:a.length,V={};++v<P;){var $=a[v];V[$[0]]=$[1]}return V}function Tl(a){return a&&a.length?a[0]:he}function bd(a,v,P){var V=a==null?0:a.length;if(!V)return-1;var $=P==null?0:Pt(P);return $<0&&($=Er(V+$,0)),In(a,v,$)}function _d(a){var v=a==null?0:a.length;return v?on(a,0,-1):[]}var xd=Dt(function(a){var v=qt(a,Ii);return v.length&&v[0]===a[0]?Ti(v):[]}),wd=Dt(function(a){var v=sn(a),P=qt(a,Ii);return v===sn(P)?v=he:P.pop(),P.length&&P[0]===a[0]?Ti(P,Tt(v,2)):[]}),jd=Dt(function(a){var v=sn(a),P=qt(a,Ii);return v=typeof v=="function"?v:he,v&&P.pop(),P.length&&P[0]===a[0]?Ti(P,he,v):[]});function Sd(a,v){return a==null?"":_u.call(a,v)}function sn(a){var v=a==null?0:a.length;return v?a[v-1]:he}function Td(a,v,P){var V=a==null?0:a.length;if(!V)return-1;var $=V;return P!==he&&($=Pt(P),$=$<0?Er(V+$,0):Lr($,V-1)),v===v?cr(a,v,$):go(a,js,$,!0)}function Ed(a,v){return a&&a.length?Da(a,Pt(v)):he}var Md=Dt(El);function El(a,v){return a&&a.length&&v&&v.length?ki(a,v):a}function Od(a,v,P){return a&&a.length&&v&&v.length?ki(a,v,Tt(P,2)):a}function kd(a,v,P){return a&&a.length&&v&&v.length?ki(a,v,he,P):a}var Cd=Tn(function(a,v){var P=a==null?0:a.length,V=xi(a,v);return Na(a,qt(v,function($){return En($,P)?+$:$}).sort(Za)),V});function Ad(a,v){var P=[];if(!(a&&a.length))return P;var V=-1,$=[],ce=a.length;for(v=Tt(v,3);++V<ce;){var _e=a[V];v(_e,V,a)&&(P.push(_e),$.push(V))}return Na(a,$),P}function Zi(a){return a==null?a:Su.call(a)}function Pd(a,v,P){var V=a==null?0:a.length;return V?(P&&typeof P!="number"&&Nr(a,v,P)?(v=0,P=V):(v=v==null?0:Pt(v),P=P===he?V:Pt(P)),on(a,v,P)):[]}function Ld(a,v){return Vs(a,v)}function Rd(a,v,P){return Pi(a,v,Tt(P,2))}function Id(a,v){var P=a==null?0:a.length;if(P){var V=Vs(a,v);if(V<P&&dn(a[V],v))return V}return-1}function Dd(a,v){return Vs(a,v,!0)}function Fd(a,v,P){return Pi(a,v,Tt(P,2),!0)}function Ud(a,v){var P=a==null?0:a.length;if(P){var V=Vs(a,v,!0)-1;if(dn(a[V],v))return V}return-1}function Nd(a){return a&&a.length?Ga(a):[]}function Bd(a,v){return a&&a.length?Ga(a,Tt(v,2)):[]}function Gd(a){var v=a==null?0:a.length;return v?on(a,1,v):[]}function Vd(a,v,P){return a&&a.length?(v=P||v===he?1:Pt(v),on(a,0,v<0?0:v)):[]}function zd(a,v,P){var V=a==null?0:a.length;return V?(v=P||v===he?1:Pt(v),v=V-v,on(a,v<0?0:v,V)):[]}function Hd(a,v){return a&&a.length?zs(a,Tt(v,3),!1,!0):[]}function Wd(a,v){return a&&a.length?zs(a,Tt(v,3)):[]}var qd=Dt(function(a){return Un(Pr(a,1,vr,!0))}),Xd=Dt(function(a){var v=sn(a);return vr(v)&&(v=he),Un(Pr(a,1,vr,!0),Tt(v,2))}),Yd=Dt(function(a){var v=sn(a);return v=typeof v=="function"?v:he,Un(Pr(a,1,vr,!0),he,v)});function Zd(a){return a&&a.length?Un(a):[]}function Kd(a,v){return a&&a.length?Un(a,Tt(v,2)):[]}function Qd(a,v){return v=typeof v=="function"?v:he,a&&a.length?Un(a,he,v):[]}function Ki(a){if(!(a&&a.length))return[];var v=0;return a=pt(a,function(P){if(vr(P))return v=Er(P.length,v),!0}),k(v,function(P){return qt(a,ur(P))})}function Ml(a,v){if(!(a&&a.length))return[];var P=Ki(a);return v==null?P:qt(P,function(V){return Or(v,he,V)})}var Jd=Dt(function(a,v){return vr(a)?Jo(a,v):[]}),$d=Dt(function(a){return Ri(pt(a,vr))}),ef=Dt(function(a){var v=sn(a);return vr(v)&&(v=he),Ri(pt(a,vr),Tt(v,2))}),tf=Dt(function(a){var v=sn(a);return v=typeof v=="function"?v:he,Ri(pt(a,vr),he,v)}),rf=Dt(Ki);function nf(a,v){return Wa(a||[],v||[],Qo)}function of(a,v){return Wa(a||[],v||[],ts)}var sf=Dt(function(a){var v=a.length,P=v>1?a[v-1]:he;return P=typeof P=="function"?(a.pop(),P):he,Ml(a,P)});function Ol(a){var v=ae(a);return v.__chain__=!0,v}function af(a,v){return v(a),a}function Js(a,v){return v(a)}var lf=Tn(function(a){var v=a.length,P=v?a[0]:0,V=this.__wrapped__,$=function(ce){return xi(ce,a)};return v>1||this.__actions__.length||!(V instanceof Nt)||!En(P)?this.thru($):(V=V.slice(P,+P+(v?1:0)),V.__actions__.push({func:Js,args:[$],thisArg:he}),new rn(V,this.__chain__).thru(function(ce){return v&&!ce.length&&ce.push(he),ce}))});function uf(){return Ol(this)}function cf(){return new rn(this.value(),this.__chain__)}function df(){this.__values__===he&&(this.__values__=Vl(this.value()));var a=this.__index__>=this.__values__.length,v=a?he:this.__values__[this.__index__++];return{done:a,value:v}}function ff(){return this}function hf(a){for(var v,P=this;P instanceof Fs;){var V=xl(P);V.__index__=0,V.__values__=he,v?$.__wrapped__=V:v=V;var $=V;P=P.__wrapped__}return $.__wrapped__=a,v}function pf(){var a=this.__wrapped__;if(a instanceof Nt){var v=a;return this.__actions__.length&&(v=new Nt(this)),v=v.reverse(),v.__actions__.push({func:Js,args:[Zi],thisArg:he}),new rn(v,this.__chain__)}return this.thru(Zi)}function mf(){return Ha(this.__wrapped__,this.__actions__)}var yf=Hs(function(a,v,P){rr.call(a,P)?++a[P]:jn(a,P,1)});function gf(a,v,P){var V=Ct(a)?un:ic;return P&&Nr(a,v,P)&&(v=he),V(a,Tt(v,3))}function vf(a,v){var P=Ct(a)?pt:Ma;return P(a,Tt(v,3))}var bf=tl(wl),_f=tl(jl);function xf(a,v){return Pr($s(a,v),1)}function wf(a,v){return Pr($s(a,v),X)}function jf(a,v,P){return P=P===he?1:Pt(P),Pr($s(a,v),P)}function kl(a,v){var P=Ct(a)?Fr:Fn;return P(a,Tt(v,3))}function Cl(a,v){var P=Ct(a)?mn:Ea;return P(a,Tt(v,3))}var Sf=Hs(function(a,v,P){rr.call(a,P)?a[P].push(v):jn(a,P,[v])});function Tf(a,v,P,V){a=zr(a)?a:Eo(a),P=P&&!V?Pt(P):0;var $=a.length;return P<0&&(P=Er($+P,0)),oi(a)?P<=$&&a.indexOf(v,P)>-1:!!$&&In(a,v,P)>-1}var Ef=Dt(function(a,v,P){var V=-1,$=typeof v=="function",ce=zr(a)?Be(a.length):[];return Fn(a,function(_e){ce[++V]=$?Or(v,_e,P):$o(_e,v,P)}),ce}),Mf=Hs(function(a,v,P){jn(a,P,v)});function $s(a,v){var P=Ct(a)?qt:La;return P(a,Tt(v,3))}function Of(a,v,P,V){return a==null?[]:(Ct(v)||(v=v==null?[]:[v]),P=V?he:P,Ct(P)||(P=P==null?[]:[P]),Fa(a,v,P))}var kf=Hs(function(a,v,P){a[P?0:1].push(v)},function(){return[[],[]]});function Cf(a,v,P){var V=Ct(a)?Ho:f,$=arguments.length<3;return V(a,Tt(v,4),P,$,Fn)}function Af(a,v,P){var V=Ct(a)?er:f,$=arguments.length<3;return V(a,Tt(v,4),P,$,Ea)}function Pf(a,v){var P=Ct(a)?pt:Ma;return P(a,ri(Tt(v,3)))}function Lf(a){var v=Ct(a)?wa:Sc;return v(a)}function Rf(a,v,P){(P?Nr(a,v,P):v===he)?v=1:v=Pt(v);var V=Ct(a)?tc:Tc;return V(a,v)}function If(a){var v=Ct(a)?rc:Mc;return v(a)}function Df(a){if(a==null)return 0;if(zr(a))return oi(a)?sr(a):a.length;var v=Rr(a);return v==te||v==We?a.size:Mi(a).length}function Ff(a,v,P){var V=Ct(a)?yo:Oc;return P&&Nr(a,v,P)&&(v=he),V(a,Tt(v,3))}var Uf=Dt(function(a,v){if(a==null)return[];var P=v.length;return P>1&&Nr(a,v[0],v[1])?v=[]:P>2&&Nr(v[0],v[1],v[2])&&(v=[v[0]]),Fa(a,Pr(v,1),[])}),ei=gu||function(){return wr.Date.now()};function Nf(a,v){if(typeof v!="function")throw new tn(m);return a=Pt(a),function(){if(--a<1)return v.apply(this,arguments)}}function Al(a,v,P){return v=P?he:v,v=a&&v==null?a.length:v,Sn(a,j,he,he,he,he,v)}function Pl(a,v){var P;if(typeof v!="function")throw new tn(m);return a=Pt(a),function(){return--a>0&&(P=v.apply(this,arguments)),a<=1&&(v=he),P}}var Qi=Dt(function(a,v,P){var V=u;if(P.length){var $=yt(P,So(Qi));V|=_}return Sn(a,V,v,P,$)}),Ll=Dt(function(a,v,P){var V=u|o;if(P.length){var $=yt(P,So(Ll));V|=_}return Sn(v,V,a,P,$)});function Rl(a,v,P){v=P?he:v;var V=Sn(a,p,he,he,he,he,he,v);return V.placeholder=Rl.placeholder,V}function Il(a,v,P){v=P?he:v;var V=Sn(a,d,he,he,he,he,he,v);return V.placeholder=Il.placeholder,V}function Dl(a,v,P){var V,$,ce,_e,Me,Fe,Ze=0,Ke=!1,et=!1,ht=!0;if(typeof a!="function")throw new tn(m);v=an(v)||0,fr(P)&&(Ke=!!P.leading,et="maxWait"in P,ce=et?Er(an(P.maxWait)||0,v):ce,ht="trailing"in P?!!P.trailing:ht);function _t(br){var fn=V,kn=$;return V=$=he,Ze=br,_e=a.apply(kn,fn),_e}function Mt(br){return Ze=br,Me=os(Ut,v),Ke?_t(br):_e}function Rt(br){var fn=br-Fe,kn=br-Ze,tu=v-fn;return et?Lr(tu,ce-kn):tu}function Ot(br){var fn=br-Fe,kn=br-Ze;return Fe===he||fn>=v||fn<0||et&&kn>=ce}function Ut(){var br=ei();if(Ot(br))return Vt(br);Me=os(Ut,Rt(br))}function Vt(br){return Me=he,ht&&V?_t(br):(V=$=he,_e)}function Qr(){Me!==he&&qa(Me),Ze=0,V=Fe=$=Me=he}function Br(){return Me===he?_e:Vt(ei())}function Jr(){var br=ei(),fn=Ot(br);if(V=arguments,$=this,Fe=br,fn){if(Me===he)return Mt(Fe);if(et)return qa(Me),Me=os(Ut,v),_t(Fe)}return Me===he&&(Me=os(Ut,v)),_e}return Jr.cancel=Qr,Jr.flush=Br,Jr}var Bf=Dt(function(a,v){return Ta(a,1,v)}),Gf=Dt(function(a,v,P){return Ta(a,an(v)||0,P)});function Vf(a){return Sn(a,C)}function ti(a,v){if(typeof a!="function"||v!=null&&typeof v!="function")throw new tn(m);var P=function(){var V=arguments,$=v?v.apply(this,V):V[0],ce=P.cache;if(ce.has($))return ce.get($);var _e=a.apply(this,V);return P.cache=ce.set($,_e)||ce,_e};return P.cache=new(ti.Cache||wn),P}ti.Cache=wn;function ri(a){if(typeof a!="function")throw new tn(m);return function(){var v=arguments;switch(v.length){case 0:return!a.call(this);case 1:return!a.call(this,v[0]);case 2:return!a.call(this,v[0],v[1]);case 3:return!a.call(this,v[0],v[1],v[2])}return!a.apply(this,v)}}function zf(a){return Pl(2,a)}var Hf=kc(function(a,v){v=v.length==1&&Ct(v[0])?qt(v[0],Y(Tt())):qt(Pr(v,1),Y(Tt()));var P=v.length;return Dt(function(V){for(var $=-1,ce=Lr(V.length,P);++$<ce;)V[$]=v[$].call(this,V[$]);return Or(a,this,V)})}),Ji=Dt(function(a,v){var P=yt(v,So(Ji));return Sn(a,_,he,v,P)}),Fl=Dt(function(a,v){var P=yt(v,So(Fl));return Sn(a,S,he,v,P)}),Wf=Tn(function(a,v){return Sn(a,T,he,he,he,v)});function qf(a,v){if(typeof a!="function")throw new tn(m);return v=v===he?v:Pt(v),Dt(a,v)}function Xf(a,v){if(typeof a!="function")throw new tn(m);return v=v==null?0:Er(Pt(v),0),Dt(function(P){var V=P[v],$=Bn(P,0,v);return V&&yn($,V),Or(a,this,$)})}function Yf(a,v,P){var V=!0,$=!0;if(typeof a!="function")throw new tn(m);return fr(P)&&(V="leading"in P?!!P.leading:V,$="trailing"in P?!!P.trailing:$),Dl(a,v,{leading:V,maxWait:v,trailing:$})}function Zf(a){return Al(a,1)}function Kf(a,v){return Ji(Di(v),a)}function Qf(){if(!arguments.length)return[];var a=arguments[0];return Ct(a)?a:[a]}function Jf(a){return nn(a,s)}function $f(a,v){return v=typeof v=="function"?v:he,nn(a,s,v)}function eh(a){return nn(a,y|s)}function th(a,v){return v=typeof v=="function"?v:he,nn(a,y|s,v)}function rh(a,v){return v==null||Sa(a,v,Cr(v))}function dn(a,v){return a===v||a!==a&&v!==v}var nh=Ys(Si),oh=Ys(function(a,v){return a>=v}),io=Ca((function(){return arguments})())?Ca:function(a){return pr(a)&&rr.call(a,"callee")&&!ya.call(a,"callee")},Ct=Be.isArray,sh=Uo?Y(Uo):fc;function zr(a){return a!=null&&ni(a.length)&&!Mn(a)}function vr(a){return pr(a)&&zr(a)}function ih(a){return a===!0||a===!1||pr(a)&&Ur(a)==re}var Gn=bu||ua,ah=No?Y(No):hc;function lh(a){return pr(a)&&a.nodeType===1&&!ss(a)}function uh(a){if(a==null)return!0;if(zr(a)&&(Ct(a)||typeof a=="string"||typeof a.splice=="function"||Gn(a)||To(a)||io(a)))return!a.length;var v=Rr(a);if(v==te||v==We)return!a.size;if(ns(a))return!Mi(a).length;for(var P in a)if(rr.call(a,P))return!1;return!0}function ch(a,v){return es(a,v)}function dh(a,v,P){P=typeof P=="function"?P:he;var V=P?P(a,v):he;return V===he?es(a,v,he,P):!!V}function $i(a){if(!pr(a))return!1;var v=Ur(a);return v==se||v==ge||typeof a.message=="string"&&typeof a.name=="string"&&!ss(a)}function fh(a){return typeof a=="number"&&va(a)}function Mn(a){if(!fr(a))return!1;var v=Ur(a);return v==pe||v==ye||v==J||v==Te}function Ul(a){return typeof a=="number"&&a==Pt(a)}function ni(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=H}function fr(a){var v=typeof a;return a!=null&&(v=="object"||v=="function")}function pr(a){return a!=null&&typeof a=="object"}var Nl=Bo?Y(Bo):mc;function hh(a,v){return a===v||Ei(a,v,zi(v))}function ph(a,v,P){return P=typeof P=="function"?P:he,Ei(a,v,zi(v),P)}function mh(a){return Bl(a)&&a!=+a}function yh(a){if(Jc(a))throw new St(A);return Aa(a)}function gh(a){return a===null}function vh(a){return a==null}function Bl(a){return typeof a=="number"||pr(a)&&Ur(a)==me}function ss(a){if(!pr(a)||Ur(a)!=Ee)return!1;var v=Cs(a);if(v===null)return!0;var P=rr.call(v,"constructor")&&v.constructor;return typeof P=="function"&&P instanceof P&&Es.call(P)==hu}var ea=Go?Y(Go):yc;function bh(a){return Ul(a)&&a>=-H&&a<=H}var Gl=Vo?Y(Vo):gc;function oi(a){return typeof a=="string"||!Ct(a)&&pr(a)&&Ur(a)==Re}function Kr(a){return typeof a=="symbol"||pr(a)&&Ur(a)==ft}var To=ho?Y(ho):vc;function _h(a){return a===he}function xh(a){return pr(a)&&Rr(a)==rt}function wh(a){return pr(a)&&Ur(a)==ut}var jh=Ys(Oi),Sh=Ys(function(a,v){return a<=v});function Vl(a){if(!a)return[];if(zr(a))return oi(a)?or(a):Vr(a);if(qo&&a[qo])return Ne(a[qo]());var v=Rr(a),P=v==te?vt:v==We?bt:Eo;return P(a)}function On(a){if(!a)return a===0?a:0;if(a=an(a),a===X||a===-X){var v=a<0?-1:1;return v*G}return a===a?a:0}function Pt(a){var v=On(a),P=v%1;return v===v?P?v-P:v:0}function zl(a){return a?ro(Pt(a),0,Q):0}function an(a){if(typeof a=="number")return a;if(Kr(a))return Z;if(fr(a)){var v=typeof a.valueOf=="function"?a.valueOf():a;a=fr(v)?v+"":v}if(typeof a!="string")return a===0?a:+a;a=z(a);var P=$e.test(a);return P||Qe.test(a)?_s(a.slice(2),P?2:8):be.test(a)?Z:+a}function Hl(a){return vn(a,Hr(a))}function Th(a){return a?ro(Pt(a),-H,H):a===0?a:0}function Qt(a){return a==null?"":Zr(a)}var Eh=wo(function(a,v){if(ns(v)||zr(v)){vn(v,Cr(v),a);return}for(var P in v)rr.call(v,P)&&Qo(a,P,v[P])}),Wl=wo(function(a,v){vn(v,Hr(v),a)}),si=wo(function(a,v,P,V){vn(v,Hr(v),a,V)}),Mh=wo(function(a,v,P,V){vn(v,Cr(v),a,V)}),Oh=Tn(xi);function kh(a,v){var P=xo(a);return v==null?P:ja(P,v)}var Ch=Dt(function(a,v){a=ar(a);var P=-1,V=v.length,$=V>2?v[2]:he;for($&&Nr(v[0],v[1],$)&&(V=1);++P<V;)for(var ce=v[P],_e=Hr(ce),Me=-1,Fe=_e.length;++Me<Fe;){var Ze=_e[Me],Ke=a[Ze];(Ke===he||dn(Ke,vo[Ze])&&!rr.call(a,Ze))&&(a[Ze]=ce[Ze])}return a}),Ah=Dt(function(a){return a.push(he,ll),Or(ql,he,a)});function Ph(a,v){return ws(a,Tt(v,3),gn)}function Lh(a,v){return ws(a,Tt(v,3),ji)}function Rh(a,v){return a==null?a:wi(a,Tt(v,3),Hr)}function Ih(a,v){return a==null?a:Oa(a,Tt(v,3),Hr)}function Dh(a,v){return a&&gn(a,Tt(v,3))}function Fh(a,v){return a&&ji(a,Tt(v,3))}function Uh(a){return a==null?[]:Bs(a,Cr(a))}function Nh(a){return a==null?[]:Bs(a,Hr(a))}function ta(a,v,P){var V=a==null?he:no(a,v);return V===he?P:V}function Bh(a,v){return a!=null&&dl(a,v,lc)}function ra(a,v){return a!=null&&dl(a,v,uc)}var Gh=nl(function(a,v,P){v!=null&&typeof v.toString!="function"&&(v=Ms.call(v)),a[v]=P},oa(Wr)),Vh=nl(function(a,v,P){v!=null&&typeof v.toString!="function"&&(v=Ms.call(v)),rr.call(a,v)?a[v].push(P):a[v]=[P]},Tt),zh=Dt($o);function Cr(a){return zr(a)?xa(a):Mi(a)}function Hr(a){return zr(a)?xa(a,!0):bc(a)}function Hh(a,v){var P={};return v=Tt(v,3),gn(a,function(V,$,ce){jn(P,v(V,$,ce),V)}),P}function Wh(a,v){var P={};return v=Tt(v,3),gn(a,function(V,$,ce){jn(P,$,v(V,$,ce))}),P}var qh=wo(function(a,v,P){Gs(a,v,P)}),ql=wo(function(a,v,P,V){Gs(a,v,P,V)}),Xh=Tn(function(a,v){var P={};if(a==null)return P;var V=!1;v=qt(v,function(ce){return ce=Nn(ce,a),V||(V=ce.length>1),ce}),vn(a,Gi(a),P),V&&(P=nn(P,y|r|s,Bc));for(var $=v.length;$--;)Li(P,v[$]);return P});function Yh(a,v){return Xl(a,ri(Tt(v)))}var Zh=Tn(function(a,v){return a==null?{}:xc(a,v)});function Xl(a,v){if(a==null)return{};var P=qt(Gi(a),function(V){return[V]});return v=Tt(v),Ua(a,P,function(V,$){return v(V,$[0])})}function Kh(a,v,P){v=Nn(v,a);var V=-1,$=v.length;for($||($=1,a=he);++V<$;){var ce=a==null?he:a[bn(v[V])];ce===he&&(V=$,ce=P),a=Mn(ce)?ce.call(a):ce}return a}function Qh(a,v,P){return a==null?a:ts(a,v,P)}function Jh(a,v,P,V){return V=typeof V=="function"?V:he,a==null?a:ts(a,v,P,V)}var Yl=il(Cr),Zl=il(Hr);function $h(a,v,P){var V=Ct(a),$=V||Gn(a)||To(a);if(v=Tt(v,4),P==null){var ce=a&&a.constructor;$?P=V?new ce:[]:fr(a)?P=Mn(ce)?xo(Cs(a)):{}:P={}}return($?Fr:gn)(a,function(_e,Me,Fe){return v(P,_e,Me,Fe)}),P}function ep(a,v){return a==null?!0:Li(a,v)}function tp(a,v,P){return a==null?a:za(a,v,Di(P))}function rp(a,v,P,V){return V=typeof V=="function"?V:he,a==null?a:za(a,v,Di(P),V)}function Eo(a){return a==null?[]:ne(a,Cr(a))}function np(a){return a==null?[]:ne(a,Hr(a))}function op(a,v,P){return P===he&&(P=v,v=he),P!==he&&(P=an(P),P=P===P?P:0),v!==he&&(v=an(v),v=v===v?v:0),ro(an(a),v,P)}function sp(a,v,P){return v=On(v),P===he?(P=v,v=0):P=On(P),a=an(a),cc(a,v,P)}function ip(a,v,P){if(P&&typeof P!="boolean"&&Nr(a,v,P)&&(v=P=he),P===he&&(typeof v=="boolean"?(P=v,v=he):typeof a=="boolean"&&(P=a,a=he)),a===he&&v===he?(a=0,v=1):(a=On(a),v===he?(v=a,a=0):v=On(v)),a>v){var V=a;a=v,v=V}if(P||a%1||v%1){var $=ba();return Lr(a+$*(v-a+bs("1e-"+(($+"").length-1))),v)}return Ci(a,v)}var ap=jo(function(a,v,P){return v=v.toLowerCase(),a+(P?Kl(v):v)});function Kl(a){return na(Qt(a).toLowerCase())}function Ql(a){return a=Qt(a),a&&a.replace(Ye,Ce).replace(di,"")}function lp(a,v,P){a=Qt(a),v=Zr(v);var V=a.length;P=P===he?V:ro(Pt(P),0,V);var $=P;return P-=v.length,P>=0&&a.slice(P,$)==v}function up(a){return a=Qt(a),a&&gt.test(a)?a.replace(Et,ve):a}function cp(a){return a=Qt(a),a&&Bt.test(a)?a.replace($t,"\\$&"):a}var dp=jo(function(a,v,P){return a+(P?"-":"")+v.toLowerCase()}),fp=jo(function(a,v,P){return a+(P?" ":"")+v.toLowerCase()}),hp=el("toLowerCase");function pp(a,v,P){a=Qt(a),v=Pt(v);var V=v?sr(a):0;if(!v||V>=v)return a;var $=(v-V)/2;return Xs(Rs($),P)+a+Xs(Ls($),P)}function mp(a,v,P){a=Qt(a),v=Pt(v);var V=v?sr(a):0;return v&&V<v?a+Xs(v-V,P):a}function yp(a,v,P){a=Qt(a),v=Pt(v);var V=v?sr(a):0;return v&&V<v?Xs(v-V,P)+a:a}function gp(a,v,P){return P||v==null?v=0:v&&(v=+v),ju(Qt(a).replace(mr,""),v||0)}function vp(a,v,P){return(P?Nr(a,v,P):v===he)?v=1:v=Pt(v),Ai(Qt(a),v)}function bp(){var a=arguments,v=Qt(a[0]);return a.length<3?v:v.replace(a[1],a[2])}var _p=jo(function(a,v,P){return a+(P?"_":"")+v.toLowerCase()});function xp(a,v,P){return P&&typeof P!="number"&&Nr(a,v,P)&&(v=P=he),P=P===he?Q:P>>>0,P?(a=Qt(a),a&&(typeof v=="string"||v!=null&&!ea(v))&&(v=Zr(v),!v&&He(a))?Bn(or(a),0,P):a.split(v,P)):[]}var wp=jo(function(a,v,P){return a+(P?" ":"")+na(v)});function jp(a,v,P){return a=Qt(a),P=P==null?0:ro(Pt(P),0,a.length),v=Zr(v),a.slice(P,P+v.length)==v}function Sp(a,v,P){var V=ae.templateSettings;P&&Nr(a,v,P)&&(v=he),a=Qt(a),v=si({},v,V,al);var $=si({},v.imports,V.imports,al),ce=Cr($),_e=ne($,ce),Me,Fe,Ze=0,Ke=v.interpolate||Ft,et="__p += '",ht=yi((v.escape||Ft).source+"|"+Ke.source+"|"+(Ke===Jt?qn:Ft).source+"|"+(v.evaluate||Ft).source+"|$","g"),_t="//# sourceURL="+(rr.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kn+"]")+`
`;a.replace(ht,function(Ot,Ut,Vt,Qr,Br,Jr){return Vt||(Vt=Qr),et+=a.slice(Ze,Jr).replace(at,Xe),Ut&&(Me=!0,et+=`' +
__e(`+Ut+`) +
'`),Br&&(Fe=!0,et+=`';
`+Br+`;
__p += '`),Vt&&(et+=`' +
((__t = (`+Vt+`)) == null ? '' : __t) +
'`),Ze=Jr+Ot.length,Ot}),et+=`';
`;var Mt=rr.call(v,"variable")&&v.variable;if(!Mt)et=`with (obj) {
`+et+`
}
`;else if(Wn.test(Mt))throw new St(g);et=(Fe?et.replace(Je,""):et).replace(tt,"$1").replace(nt,"$1;"),et="function("+(Mt||"obj")+`) {
`+(Mt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Me?", __e = _.escape":"")+(Fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var Rt=$l(function(){return zt(ce,_t+"return "+et).apply(he,_e)});if(Rt.source=et,$i(Rt))throw Rt;return Rt}function Tp(a){return Qt(a).toLowerCase()}function Ep(a){return Qt(a).toUpperCase()}function Mp(a,v,P){if(a=Qt(a),a&&(P||v===he))return z(a);if(!a||!(v=Zr(v)))return a;var V=or(a),$=or(v),ce=fe(V,$),_e=Se(V,$)+1;return Bn(V,ce,_e).join("")}function Op(a,v,P){if(a=Qt(a),a&&(P||v===he))return a.slice(0,Sr(a)+1);if(!a||!(v=Zr(v)))return a;var V=or(a),$=Se(V,or(v))+1;return Bn(V,0,$).join("")}function kp(a,v,P){if(a=Qt(a),a&&(P||v===he))return a.replace(mr,"");if(!a||!(v=Zr(v)))return a;var V=or(a),$=fe(V,or(v));return Bn(V,$).join("")}function Cp(a,v){var P=L,V=E;if(fr(v)){var $="separator"in v?v.separator:$;P="length"in v?Pt(v.length):P,V="omission"in v?Zr(v.omission):V}a=Qt(a);var ce=a.length;if(He(a)){var _e=or(a);ce=_e.length}if(P>=ce)return a;var Me=P-sr(V);if(Me<1)return V;var Fe=_e?Bn(_e,0,Me).join(""):a.slice(0,Me);if($===he)return Fe+V;if(_e&&(Me+=Fe.length-Me),ea($)){if(a.slice(Me).search($)){var Ze,Ke=Fe;for($.global||($=yi($.source,Qt(Cn.exec($))+"g")),$.lastIndex=0;Ze=$.exec(Ke);)var et=Ze.index;Fe=Fe.slice(0,et===he?Me:et)}}else if(a.indexOf(Zr($),Me)!=Me){var ht=Fe.lastIndexOf($);ht>-1&&(Fe=Fe.slice(0,ht))}return Fe+V}function Ap(a){return a=Qt(a),a&&wt.test(a)?a.replace(lt,Yr):a}var Pp=jo(function(a,v,P){return a+(P?" ":"")+v.toUpperCase()}),na=el("toUpperCase");function Jl(a,v,P){return a=Qt(a),v=P?he:v,v===he?Ue(a)?Xt(a):pi(a):a.match(v)||[]}var $l=Dt(function(a,v){try{return Or(a,he,v)}catch(P){return $i(P)?P:new St(P)}}),Lp=Tn(function(a,v){return Fr(v,function(P){P=bn(P),jn(a,P,Qi(a[P],a))}),a});function Rp(a){var v=a==null?0:a.length,P=Tt();return a=v?qt(a,function(V){if(typeof V[1]!="function")throw new tn(m);return[P(V[0]),V[1]]}):[],Dt(function(V){for(var $=-1;++$<v;){var ce=a[$];if(Or(ce[0],this,V))return Or(ce[1],this,V)}})}function Ip(a){return sc(nn(a,y))}function oa(a){return function(){return a}}function Dp(a,v){return a==null||a!==a?v:a}var Fp=rl(),Up=rl(!0);function Wr(a){return a}function sa(a){return Pa(typeof a=="function"?a:nn(a,y))}function Np(a){return Ra(nn(a,y))}function Bp(a,v){return Ia(a,nn(v,y))}var Gp=Dt(function(a,v){return function(P){return $o(P,a,v)}}),Vp=Dt(function(a,v){return function(P){return $o(a,P,v)}});function ia(a,v,P){var V=Cr(v),$=Bs(v,V);P==null&&!(fr(v)&&($.length||!V.length))&&(P=v,v=a,a=this,$=Bs(v,Cr(v)));var ce=!(fr(P)&&"chain"in P)||!!P.chain,_e=Mn(a);return Fr($,function(Me){var Fe=v[Me];a[Me]=Fe,_e&&(a.prototype[Me]=function(){var Ze=this.__chain__;if(ce||Ze){var Ke=a(this.__wrapped__),et=Ke.__actions__=Vr(this.__actions__);return et.push({func:Fe,args:arguments,thisArg:a}),Ke.__chain__=Ze,Ke}return Fe.apply(a,yn([this.value()],arguments))})}),a}function zp(){return wr._===this&&(wr._=pu),this}function aa(){}function Hp(a){return a=Pt(a),Dt(function(v){return Da(v,a)})}var Wp=Ui(qt),qp=Ui(un),Xp=Ui(yo);function eu(a){return Wi(a)?ur(bn(a)):wc(a)}function Yp(a){return function(v){return a==null?he:no(a,v)}}var Zp=ol(),Kp=ol(!0);function la(){return[]}function ua(){return!1}function Qp(){return{}}function Jp(){return""}function $p(){return!0}function em(a,v){if(a=Pt(a),a<1||a>H)return[];var P=Q,V=Lr(a,Q);v=Tt(v),a-=Q;for(var $=k(V,v);++P<a;)v(P);return $}function tm(a){return Ct(a)?qt(a,bn):Kr(a)?[a]:Vr(_l(Qt(a)))}function rm(a){var v=++fu;return Qt(a)+v}var nm=qs(function(a,v){return a+v},0),om=Ni("ceil"),sm=qs(function(a,v){return a/v},1),im=Ni("floor");function am(a){return a&&a.length?Ns(a,Wr,Si):he}function lm(a,v){return a&&a.length?Ns(a,Tt(v,2),Si):he}function um(a){return Wo(a,Wr)}function cm(a,v){return Wo(a,Tt(v,2))}function dm(a){return a&&a.length?Ns(a,Wr,Oi):he}function fm(a,v){return a&&a.length?Ns(a,Tt(v,2),Oi):he}var hm=qs(function(a,v){return a*v},1),pm=Ni("round"),mm=qs(function(a,v){return a-v},0);function ym(a){return a&&a.length?M(a,Wr):0}function gm(a,v){return a&&a.length?M(a,Tt(v,2)):0}return ae.after=Nf,ae.ary=Al,ae.assign=Eh,ae.assignIn=Wl,ae.assignInWith=si,ae.assignWith=Mh,ae.at=Oh,ae.before=Pl,ae.bind=Qi,ae.bindAll=Lp,ae.bindKey=Ll,ae.castArray=Qf,ae.chain=Ol,ae.chunk=sd,ae.compact=id,ae.concat=ad,ae.cond=Rp,ae.conforms=Ip,ae.constant=oa,ae.countBy=yf,ae.create=kh,ae.curry=Rl,ae.curryRight=Il,ae.debounce=Dl,ae.defaults=Ch,ae.defaultsDeep=Ah,ae.defer=Bf,ae.delay=Gf,ae.difference=ld,ae.differenceBy=ud,ae.differenceWith=cd,ae.drop=dd,ae.dropRight=fd,ae.dropRightWhile=hd,ae.dropWhile=pd,ae.fill=md,ae.filter=vf,ae.flatMap=xf,ae.flatMapDeep=wf,ae.flatMapDepth=jf,ae.flatten=Sl,ae.flattenDeep=yd,ae.flattenDepth=gd,ae.flip=Vf,ae.flow=Fp,ae.flowRight=Up,ae.fromPairs=vd,ae.functions=Uh,ae.functionsIn=Nh,ae.groupBy=Sf,ae.initial=_d,ae.intersection=xd,ae.intersectionBy=wd,ae.intersectionWith=jd,ae.invert=Gh,ae.invertBy=Vh,ae.invokeMap=Ef,ae.iteratee=sa,ae.keyBy=Mf,ae.keys=Cr,ae.keysIn=Hr,ae.map=$s,ae.mapKeys=Hh,ae.mapValues=Wh,ae.matches=Np,ae.matchesProperty=Bp,ae.memoize=ti,ae.merge=qh,ae.mergeWith=ql,ae.method=Gp,ae.methodOf=Vp,ae.mixin=ia,ae.negate=ri,ae.nthArg=Hp,ae.omit=Xh,ae.omitBy=Yh,ae.once=zf,ae.orderBy=Of,ae.over=Wp,ae.overArgs=Hf,ae.overEvery=qp,ae.overSome=Xp,ae.partial=Ji,ae.partialRight=Fl,ae.partition=kf,ae.pick=Zh,ae.pickBy=Xl,ae.property=eu,ae.propertyOf=Yp,ae.pull=Md,ae.pullAll=El,ae.pullAllBy=Od,ae.pullAllWith=kd,ae.pullAt=Cd,ae.range=Zp,ae.rangeRight=Kp,ae.rearg=Wf,ae.reject=Pf,ae.remove=Ad,ae.rest=qf,ae.reverse=Zi,ae.sampleSize=Rf,ae.set=Qh,ae.setWith=Jh,ae.shuffle=If,ae.slice=Pd,ae.sortBy=Uf,ae.sortedUniq=Nd,ae.sortedUniqBy=Bd,ae.split=xp,ae.spread=Xf,ae.tail=Gd,ae.take=Vd,ae.takeRight=zd,ae.takeRightWhile=Hd,ae.takeWhile=Wd,ae.tap=af,ae.throttle=Yf,ae.thru=Js,ae.toArray=Vl,ae.toPairs=Yl,ae.toPairsIn=Zl,ae.toPath=tm,ae.toPlainObject=Hl,ae.transform=$h,ae.unary=Zf,ae.union=qd,ae.unionBy=Xd,ae.unionWith=Yd,ae.uniq=Zd,ae.uniqBy=Kd,ae.uniqWith=Qd,ae.unset=ep,ae.unzip=Ki,ae.unzipWith=Ml,ae.update=tp,ae.updateWith=rp,ae.values=Eo,ae.valuesIn=np,ae.without=Jd,ae.words=Jl,ae.wrap=Kf,ae.xor=$d,ae.xorBy=ef,ae.xorWith=tf,ae.zip=rf,ae.zipObject=nf,ae.zipObjectDeep=of,ae.zipWith=sf,ae.entries=Yl,ae.entriesIn=Zl,ae.extend=Wl,ae.extendWith=si,ia(ae,ae),ae.add=nm,ae.attempt=$l,ae.camelCase=ap,ae.capitalize=Kl,ae.ceil=om,ae.clamp=op,ae.clone=Jf,ae.cloneDeep=eh,ae.cloneDeepWith=th,ae.cloneWith=$f,ae.conformsTo=rh,ae.deburr=Ql,ae.defaultTo=Dp,ae.divide=sm,ae.endsWith=lp,ae.eq=dn,ae.escape=up,ae.escapeRegExp=cp,ae.every=gf,ae.find=bf,ae.findIndex=wl,ae.findKey=Ph,ae.findLast=_f,ae.findLastIndex=jl,ae.findLastKey=Lh,ae.floor=im,ae.forEach=kl,ae.forEachRight=Cl,ae.forIn=Rh,ae.forInRight=Ih,ae.forOwn=Dh,ae.forOwnRight=Fh,ae.get=ta,ae.gt=nh,ae.gte=oh,ae.has=Bh,ae.hasIn=ra,ae.head=Tl,ae.identity=Wr,ae.includes=Tf,ae.indexOf=bd,ae.inRange=sp,ae.invoke=zh,ae.isArguments=io,ae.isArray=Ct,ae.isArrayBuffer=sh,ae.isArrayLike=zr,ae.isArrayLikeObject=vr,ae.isBoolean=ih,ae.isBuffer=Gn,ae.isDate=ah,ae.isElement=lh,ae.isEmpty=uh,ae.isEqual=ch,ae.isEqualWith=dh,ae.isError=$i,ae.isFinite=fh,ae.isFunction=Mn,ae.isInteger=Ul,ae.isLength=ni,ae.isMap=Nl,ae.isMatch=hh,ae.isMatchWith=ph,ae.isNaN=mh,ae.isNative=yh,ae.isNil=vh,ae.isNull=gh,ae.isNumber=Bl,ae.isObject=fr,ae.isObjectLike=pr,ae.isPlainObject=ss,ae.isRegExp=ea,ae.isSafeInteger=bh,ae.isSet=Gl,ae.isString=oi,ae.isSymbol=Kr,ae.isTypedArray=To,ae.isUndefined=_h,ae.isWeakMap=xh,ae.isWeakSet=wh,ae.join=Sd,ae.kebabCase=dp,ae.last=sn,ae.lastIndexOf=Td,ae.lowerCase=fp,ae.lowerFirst=hp,ae.lt=jh,ae.lte=Sh,ae.max=am,ae.maxBy=lm,ae.mean=um,ae.meanBy=cm,ae.min=dm,ae.minBy=fm,ae.stubArray=la,ae.stubFalse=ua,ae.stubObject=Qp,ae.stubString=Jp,ae.stubTrue=$p,ae.multiply=hm,ae.nth=Ed,ae.noConflict=zp,ae.noop=aa,ae.now=ei,ae.pad=pp,ae.padEnd=mp,ae.padStart=yp,ae.parseInt=gp,ae.random=ip,ae.reduce=Cf,ae.reduceRight=Af,ae.repeat=vp,ae.replace=bp,ae.result=Kh,ae.round=pm,ae.runInContext=ke,ae.sample=Lf,ae.size=Df,ae.snakeCase=_p,ae.some=Ff,ae.sortedIndex=Ld,ae.sortedIndexBy=Rd,ae.sortedIndexOf=Id,ae.sortedLastIndex=Dd,ae.sortedLastIndexBy=Fd,ae.sortedLastIndexOf=Ud,ae.startCase=wp,ae.startsWith=jp,ae.subtract=mm,ae.sum=ym,ae.sumBy=gm,ae.template=Sp,ae.times=em,ae.toFinite=On,ae.toInteger=Pt,ae.toLength=zl,ae.toLower=Tp,ae.toNumber=an,ae.toSafeInteger=Th,ae.toString=Qt,ae.toUpper=Ep,ae.trim=Mp,ae.trimEnd=Op,ae.trimStart=kp,ae.truncate=Cp,ae.unescape=Ap,ae.uniqueId=rm,ae.upperCase=Pp,ae.upperFirst=na,ae.each=kl,ae.eachRight=Cl,ae.first=Tl,ia(ae,(function(){var a={};return gn(ae,function(v,P){rr.call(ae.prototype,P)||(a[P]=v)}),a})(),{chain:!1}),ae.VERSION=t,Fr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){ae[a].placeholder=ae}),Fr(["drop","take"],function(a,v){Nt.prototype[a]=function(P){P=P===he?1:Er(Pt(P),0);var V=this.__filtered__&&!v?new Nt(this):this.clone();return V.__filtered__?V.__takeCount__=Lr(P,V.__takeCount__):V.__views__.push({size:Lr(P,Q),type:a+(V.__dir__<0?"Right":"")}),V},Nt.prototype[a+"Right"]=function(P){return this.reverse()[a](P).reverse()}}),Fr(["filter","map","takeWhile"],function(a,v){var P=v+1,V=P==U||P==B;Nt.prototype[a]=function($){var ce=this.clone();return ce.__iteratees__.push({iteratee:Tt($,3),type:P}),ce.__filtered__=ce.__filtered__||V,ce}}),Fr(["head","last"],function(a,v){var P="take"+(v?"Right":"");Nt.prototype[a]=function(){return this[P](1).value()[0]}}),Fr(["initial","tail"],function(a,v){var P="drop"+(v?"":"Right");Nt.prototype[a]=function(){return this.__filtered__?new Nt(this):this[P](1)}}),Nt.prototype.compact=function(){return this.filter(Wr)},Nt.prototype.find=function(a){return this.filter(a).head()},Nt.prototype.findLast=function(a){return this.reverse().find(a)},Nt.prototype.invokeMap=Dt(function(a,v){return typeof a=="function"?new Nt(this):this.map(function(P){return $o(P,a,v)})}),Nt.prototype.reject=function(a){return this.filter(ri(Tt(a)))},Nt.prototype.slice=function(a,v){a=Pt(a);var P=this;return P.__filtered__&&(a>0||v<0)?new Nt(P):(a<0?P=P.takeRight(-a):a&&(P=P.drop(a)),v!==he&&(v=Pt(v),P=v<0?P.dropRight(-v):P.take(v-a)),P)},Nt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Nt.prototype.toArray=function(){return this.take(Q)},gn(Nt.prototype,function(a,v){var P=/^(?:filter|find|map|reject)|While$/.test(v),V=/^(?:head|last)$/.test(v),$=ae[V?"take"+(v=="last"?"Right":""):v],ce=V||/^find/.test(v);$&&(ae.prototype[v]=function(){var _e=this.__wrapped__,Me=V?[1]:arguments,Fe=_e instanceof Nt,Ze=Me[0],Ke=Fe||Ct(_e),et=function(Ut){var Vt=$.apply(ae,yn([Ut],Me));return V&&ht?Vt[0]:Vt};Ke&&P&&typeof Ze=="function"&&Ze.length!=1&&(Fe=Ke=!1);var ht=this.__chain__,_t=!!this.__actions__.length,Mt=ce&&!ht,Rt=Fe&&!_t;if(!ce&&Ke){_e=Rt?_e:new Nt(this);var Ot=a.apply(_e,Me);return Ot.__actions__.push({func:Js,args:[et],thisArg:he}),new rn(Ot,ht)}return Mt&&Rt?a.apply(this,Me):(Ot=this.thru(et),Mt?V?Ot.value()[0]:Ot.value():Ot)})}),Fr(["pop","push","shift","sort","splice","unshift"],function(a){var v=Ss[a],P=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",V=/^(?:pop|shift)$/.test(a);ae.prototype[a]=function(){var $=arguments;if(V&&!this.__chain__){var ce=this.value();return v.apply(Ct(ce)?ce:[],$)}return this[P](function(_e){return v.apply(Ct(_e)?_e:[],$)})}}),gn(Nt.prototype,function(a,v){var P=ae[v];if(P){var V=P.name+"";rr.call(_o,V)||(_o[V]=[]),_o[V].push({name:v,func:P})}}),_o[Ws(he,o).name]=[{name:"wrapper",func:he}],Nt.prototype.clone=Cu,Nt.prototype.reverse=Au,Nt.prototype.value=Pu,ae.prototype.at=lf,ae.prototype.chain=uf,ae.prototype.commit=cf,ae.prototype.next=df,ae.prototype.plant=hf,ae.prototype.reverse=pf,ae.prototype.toJSON=ae.prototype.valueOf=ae.prototype.value=mf,ae.prototype.first=ae.prototype.head,qo&&(ae.prototype[qo]=ff),ae}),Kt=kr();pn?((pn.exports=Kt)._=Kt,Qn._=Kt):wr._=Kt}).call(jm)})(is,is.exports)),is.exports}var Tm=Sm();const ou=lu(Tm);function Em(De,st,he,t){return(De-he)*(De-he)+(st-t)*(st-t)}function su(De,st,he,t){return Math.sqrt(Em(De,st,he,t))}function Mm(De,st,he,t,q,A){const m=su(he,t,q,A);return m===0?su(De,st,he,t):Math.abs((A-t)*De-(q-he)*st+q*t-A*he)/m}function Om(De,st,he,t){const q=De.x,A=De.y,m=st.x,g=st.y,c=he.x,h=he.y,b=t.x,y=t.y,r=(q-m)*(h-y)-(A-g)*(c-b);if(Math.abs(r)<1e-10)return null;const s=((q-c)*(h-y)-(A-h)*(c-b))/r,i=-((q-m)*(A-h)-(A-g)*(q-c))/r;return s>=0&&s<=1&&i>=0&&i<=1?{x:q+s*(m-q),y:A+s*(g-A),t:s,u:i}:null}function km(De){const st=[...De];if(st.length===3)st.push(st[0]);else if(st.length<4)return null;for(let he=0;he<st.length-3;he++)for(let t=he+2;t<st.length-1;t++){if(t===he+1)continue;const q=Om(st[he],st[he+1],st[t],st[t+1]);if(q){const A=[];A.push({x:q.x,y:q.y});for(let m=he+1;m<=t;m++)A.push(st[m]);if(A.length>=3)return{vertices:A,startIndex:he,endIndex:t,intersection:q,isValid:Cm(A)}}}return null}function Cm(De){if(De.length<3)return!1;for(let st=0;st<De.length-2;st++){const he=Am(De[st],De[st+1],De[st+2]);if(Math.abs(he)>1e-10)return!0}return!1}function Am(De,st,he){return .5*Math.abs((st.x-De.x)*(he.y-De.y)-(he.x-De.x)*(st.y-De.y))}function Pm(De){if(De.length===0)return De;const st=De[0],he=De[De.length-1];return(st.x!==he.x||st.y!==he.y)&&De.push({...De[0]}),De}function Lm(De){if(De.length<2)return De;const st=De[0],he=De[De.length-1];return st.x===he.x&&st.y===he.y&&De.pop(),De}function iu(De){return uu(De)<0&&De.reverse(),De}function uu(De){let st=0;const he=De.length;for(let t=0;t<he;t++){const q=(t+1)%he;st+=De[t].x*De[q].y,st-=De[q].x*De[t].y}return st/2}function da(De){return Math.abs(uu(De))}function ai(De,st=1){if(De.length<3)return De;let he=De[0],t=De[De.length-1],q=0,A=0;for(let m=1;m<De.length-1;m++){const g=Mm(De[m].x,De[m].y,he.x,he.y,t.x,t.y);g>q&&(q=g,A=m)}if(q>st){const m=ai(De.slice(0,A+1),st),g=ai(De.slice(A),st);return[...m,...g.slice(1)]}return[he,t]}function au(De,st){const he=De.length;if(he===0)return[];const t=(st%he+he)%he;return Array.from({length:he},(q,A)=>{const m=(A+t)%he;return{x:De[m].x,y:De[m].y}})}function Rm(De,st,he=1,t=.1){let q=[...De],A=0,m=1e3,g=he,c=t;for(;q.length>st&&A<m;){const h=ai(q,g);h.length>=st?(q=au(h,1),g+=c):(q=au(q,1),g-=c,c*=.8,g+=c),A++}return console.log("points.length",q.length),console.log("n",st),console.log("iterations",A),q}function Im(De){if(De.length===0)return{minX:0,minY:0,maxX:0,maxY:0,centerX:0,centerY:0,width:0,height:0,radius:0};let st=De[0].x,he=De[0].y,t=De[0].x,q=De[0].y;for(let g=1;g<De.length;g++)st=Math.min(st,De[g].x),he=Math.min(he,De[g].y),t=Math.max(t,De[g].x),q=Math.max(q,De[g].y);const A=t-st,m=q-he;return{minX:st,minY:he,maxX:t,maxY:q,centerX:(st+t)/2,centerY:(he+q)/2,width:A,height:m,radius:Math.min(A,m)/2||1}}function Dm(De){if(!De||De.length<3)return De||[];function st(c,h,b){return(h.x-c.x)*(b.y-c.y)-(h.y-c.y)*(b.x-c.x)}function he(c,h){const b=h.x-c.x,y=h.y-c.y;return b*b+y*y}let t=De[0],q=0;for(let c=1;c<De.length;c++)(De[c].y<t.y||De[c].y===t.y&&De[c].x<t.x)&&(t=De[c],q=c);const A=De.slice();A.splice(q,1),A.sort((c,h)=>{const b=st(t,c,h);return b===0?he(t,c)-he(t,h):-b});const m=[t];for(let c=0;c<A.length;c++){const h=A[c];for(;m.length>=2&&st(m[m.length-2],m[m.length-1],h)<=0;)m.pop();m.push(h)}let g=m.length-1;for(;g>=2;){st(m[g],m[0],m[1])===0&&(he(m[0],m[1])<he(m[0],m[g])?m.splice(1,1):m.splice(g,1));break}return m}function Fm(De,st,he){let t=Math.abs(Um(De,st,he));return t>Math.PI&&(t=2*Math.PI-t),t}function Um(De,st,he){const t=st.x-De.x,q=st.y-De.y,A=he.x-De.x,m=he.y-De.y;return Math.atan2(m,A)-Math.atan2(q,t)}function Nm(De,st){return Math.atan2(st.y-De.y,st.x-De.x)}function fa(De){return De>Math.PI?fa(De-2*Math.PI):De<=-Math.PI?fa(De+2*Math.PI):De}const Bm=De=>{let t=null,q=[];class A{constructor(o,n){Yt(this,"x");Yt(this,"y");Yt(this,"radius");Yt(this,"startAngle");Yt(this,"endAngle");Yt(this,"occupiedAngle");Yt(this,"scale");Yt(this,"drawings");this.x=o,this.y=n,this.radius=0,this.startAngle=0,this.endAngle=0,this.occupiedAngle=0,this.scale=1,this.drawings=[]}canAddDrawing(o){return this.occupiedAngle+o.smallestAngle<=Math.PI*2}addDrawing(o){o.startAngle=this.occupiedAngle,this.occupiedAngle+=o.smallestAngle,this.drawings.push(o)}draw(){for(let d of this.drawings)d.rotation=De.lerp(d.rotation,fa(-d.startAngle-d.initialRotation),.05),d.scale=De.lerp(d.scale,this.scale,.2),d.shapeTranslationX=De.lerp(d.shapeTranslationX,this.x,.1),d.shapeTranslationY=De.lerp(d.shapeTranslationY,this.y,.1),d.draw()}}let m=new A(800/2,600/2),g=[],c=100,h=100;const b=1,y=.65;class r{constructor(){Yt(this,"points");Yt(this,"firstPolygonPoints");Yt(this,"simplifiedPoints");Yt(this,"simplifiedTrianglePoints");Yt(this,"fallingTranslationY");Yt(this,"fallingVelocityY");Yt(this,"fallingAccelerationY");Yt(this,"extraLinePolygonOpacity");Yt(this,"finishFrameCount");Yt(this,"shapeTranslationX");Yt(this,"shapeTranslationY");Yt(this,"rotation");Yt(this,"scale");Yt(this,"doneDrawing");Yt(this,"isTriangle");Yt(this,"triangularity");Yt(this,"areaOfFirstPolygon");Yt(this,"areadOfSimplifiedTriangle");Yt(this,"smallestAngle");Yt(this,"smallestAngleTipPoint");Yt(this,"initialRotation");Yt(this,"startAngle");this.points=[],this.firstPolygonPoints=null,this.simplifiedPoints=null,this.simplifiedTrianglePoints=null,this.fallingTranslationY=0,this.fallingVelocityY=0,this.fallingAccelerationY=b,this.extraLinePolygonOpacity=100,this.finishFrameCount=0,this.shapeTranslationX=0,this.shapeTranslationY=0,this.rotation=0,this.scale=1,this.doneDrawing=!1,this.isTriangle=!1,this.triangularity=0,this.areaOfFirstPolygon=0,this.areadOfSimplifiedTriangle=0,this.smallestAngle=0,this.smallestAngleTipPoint=null,this.initialRotation=0,this.startAngle=0}addPoint(o,n){(this.points.length===0||this.points[this.points.length-1].x!==o||this.points[this.points.length-1].y!==n)&&this.points.push({x:o,y:n})}finishDrawing(){this.finishFrameCount=De.frameCount,this.doneDrawing=!0;const o=km(this.points);let n=(o==null?void 0:o.vertices)??null;if(!n)return;n=ou.flow([iu,Pm])(n);const p=Im(n);this.firstPolygonPoints=n,this.areaOfFirstPolygon=da(n);const d=Dm(this.firstPolygonPoints);if(this.simplifiedPoints=ai(d,p.radius*.1),this.simplifiedTrianglePoints=Rm(this.simplifiedPoints,3,p.radius*.1,p.radius*.1*.1),this.simplifiedTrianglePoints=ou.flow([iu,Lm])(this.simplifiedTrianglePoints),this.simplifiedTrianglePoints.length!==3){this.triangularity=0;return}this.areadOfSimplifiedTriangle=da(this.simplifiedTrianglePoints);const _=da(d);if(this.triangularity=_/this.areadOfSimplifiedTriangle,this.triangularity>1&&(this.triangularity=1/this.triangularity),console.log("triangularity",this.triangularity),this.isTriangle=this.triangularity>y,!!this.isTriangle){this.smallestAngle=Math.PI;for(let S=0;S<this.simplifiedTrianglePoints.length;S++){const j=this.simplifiedTrianglePoints[S%this.simplifiedTrianglePoints.length],T=this.simplifiedTrianglePoints[(S+2)%this.simplifiedTrianglePoints.length],C=this.simplifiedTrianglePoints[(S+1)%this.simplifiedTrianglePoints.length],L=Fm(j,T,C);console.log("angle",L*180/Math.PI),L<this.smallestAngle&&(this.smallestAngle=L,this.smallestAngleTipPoint=j,this.initialRotation=Nm(j,T))}if(console.log("smallestAngle",this.smallestAngle*180/Math.PI),console.log("smallestAngleTipPoint",this.smallestAngleTipPoint),this.smallestAngleTipPoint){this.shapeTranslationX=this.smallestAngleTipPoint.x,this.shapeTranslationY=this.smallestAngleTipPoint.y;const S=j=>({x:j.x-this.shapeTranslationX,y:j.y-this.shapeTranslationY});this.points=this.points.map(S),this.firstPolygonPoints&&(this.firstPolygonPoints=this.firstPolygonPoints.map(S)),this.simplifiedPoints&&(this.simplifiedPoints=this.simplifiedPoints.map(S)),this.simplifiedTrianglePoints&&(this.simplifiedTrianglePoints=this.simplifiedTrianglePoints.map(S))}}}draw(){if(De.push(),this.doneDrawing&&this.isTriangle&&(De.translate(this.shapeTranslationX,this.shapeTranslationY),De.scale(this.scale),De.rotate(this.rotation),De.fill(255,0,0),De.noStroke()),(!this.firstPolygonPoints||!this.isTriangle)&&this.doneDrawing&&(this.fallingVelocityY+=this.fallingAccelerationY,this.fallingTranslationY+=this.fallingVelocityY,De.translate(0,this.fallingTranslationY)),this.extraLinePolygonOpacity>0&&this.doneDrawing&&(this.extraLinePolygonOpacity-=5),this.points){De.push(),De.noFill(),this.doneDrawing?De.stroke(255,255,255,this.extraLinePolygonOpacity):De.stroke(255),De.beginShape();for(let o=0;o<this.points.length;o++)De.vertex(this.points[o].x,this.points[o].y);De.endShape(De.OPEN),De.pop()}if(this.firstPolygonPoints){De.push(),De.noFill(),De.stroke(255),De.beginShape();for(let o=0;o<this.firstPolygonPoints.length;o++)De.vertex(this.firstPolygonPoints[o].x,this.firstPolygonPoints[o].y);De.endShape(De.CLOSE),De.pop()}De.pop()}isOffScreen(){return this.fallingTranslationY>600}}De.setup=()=>{De.createCanvas(800,600).parent("canvas-container"),De.background(0)},De.draw=()=>{De.background(0),De.cursor(De.CROSS);const u=[...g,m].filter(n=>n!==null);for(let n of u)n.draw();De.background(0,0,0,100);const o=[...q];t&&o.push(t);for(let n of o)n.draw();o.filter(n=>n.isOffScreen()).forEach(n=>{const p=q.indexOf(n);p!==-1&&q.splice(p,1)})},De.mousePressed=()=>{t?i(De.mouseX,De.mouseY):s(De.mouseX,De.mouseY)},De.mouseDragged=()=>{t&&i(De.mouseX,De.mouseY)},De.mouseReleased=()=>{l()};function s(u,o){t=new r,t.addPoint(u,o)}function i(u,o){t&&t.addPoint(u,o)}function l(){if(t){if(t.finishDrawing(),t.isTriangle)if(m.canAddDrawing(t))console.log("can"),m.addDrawing(t);else{m.scale=.3;const u=new A(m.x,m.y);m.x=c,m.y=h,c+=200,g.push(m),m=u,m.addDrawing(t)}else q.push(t);t=null,console.log(q)}}};new wm(Bm);
